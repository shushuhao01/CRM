# CRM系统消息提醒类型分析报告

> 分析日期：2025年12月13日
> 
> 本报告详细分析了系统中现有的消息类型、主要用途、提醒内容，以及建议补充的消息类型。

---

## 一、现有消息类型总览

系统目前共有 **12个消息分类**，包含 **70+种消息类型**。

| 分类 | 消息类型数量 | 主要用途 |
|------|-------------|----------|
| 订单管理 | 12种 | 订单全生命周期通知 |
| 售后服务 | 5种 | 售后申请和处理通知 |
| 客户管理 | 7种 | 客户相关操作通知 |
| 商品管理 | 4种 | 商品库存和价格通知 |
| 物流管理 | 6种 | 物流状态变更通知 |
| 财务管理 | 4种 | 付款和发票通知 |
| 审批流程 | 4种 | 审核状态通知 |
| 业绩分享 | 5种 | 业绩分享流程通知 |
| 服务管理 | 7种 | 通话和短信通知 |
| 资料管理 | 9种 | 资料操作通知 |
| 短信管理 | 8种 | 短信模板和发送通知 |
| 系统管理 | 8种 | 系统维护和用户通知 |

---

## 二、各分类消息类型详情

### 1. 订单管理（12种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `order_created` | 新建订单通知 | 有新订单创建时通知 | "客户张三创建了新订单 #20241213001" | 普通 | 销售员、经理 |
| `order_submitted` | 订单提交成功 | 订单提交成功时通知 | "订单 #20241213001 已成功提交，等待审核" | 高 | 销售员 |
| `order_paid` | 订单支付成功 | 订单支付成功时通知 | "订单 #20241213001 已支付成功，金额：¥1,280" | 高 | 销售员、财务 |
| `order_pending_shipment` | 订单待发货 | 订单待发货时通知 | "订单 #20241213001 已审核通过，请尽快安排发货" | 普通 | 客服、仓库 |
| `order_shipped` | 订单发货通知 | 订单发货时通知 | "订单 #20241213001 已发货，物流单号：SF1234567890" | 普通 | 销售员、客户 |
| `order_delivered` | 订单送达通知 | 订单送达时通知 | "订单 #20241213001 已送达目的地" | 普通 | 销售员 |
| `order_signed` | 订单签收通知 | 订单签收时通知 | "订单 #20241213001 已签收，请及时跟进后续服务" | 高 | 销售员 |
| `order_cancelled` | 订单取消通知 | 订单取消时通知 | "订单 #20241213001 已取消，原因：客户主动取消" | 普通 | 销售员、经理 |
| `order_cancel_request` | 订单取消申请 | 订单取消申请时通知 | "订单 #20241213001 申请取消，请审核" | 高 | 审核员 |
| `order_cancel_approved` | 订单取消通过 | 订单取消申请通过时通知 | "订单 #20241213001 取消申请已通过" | 高 | 销售员 |
| `order_modify_approved` | 订单修改申请通过 | 订单修改申请通过时通知 | "订单 #20241213001 修改申请已通过" | 高 | 销售员 |
| `order_refunded` | 订单退款通知 | 订单退款时通知 | "订单 #20241213001 已退款，金额：¥1,280" | 高 | 销售员、财务 |
| `payment_reminder` | 付款提醒 | 订单待付款提醒 | "订单 #20241213001 待付款，请提醒客户尽快付款" | 普通 | 销售员 |

---

### 2. 售后服务（5种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `after_sales_created` | 新售后申请 | 新售后申请时通知 | "客户张三提交了售后申请 #SH20241213001" | 高 | 客服、经理 |
| `after_sales_processing` | 售后处理中 | 售后处理中时通知 | "售后申请 #SH20241213001 正在处理中" | 普通 | 销售员 |
| `after_sales_urgent` | 紧急售后 | 紧急售后时通知 | "⚠️ 紧急售后！客户张三的售后申请需要立即处理" | 紧急 | 客服、经理 |
| `after_sales_completed` | 售后完成 | 售后完成时通知 | "售后申请 #SH20241213001 已处理完成" | 普通 | 销售员、客户 |
| `return_notification` | 退货通知 | 退货申请时通知 | "客户张三申请退货，订单 #20241213001" | 高 | 客服、仓库 |

---

### 3. 客户管理（7种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `customer_created` | 新建客户通知 | 新客户创建时通知 | "客户张三（138****5678）添加成功" | 普通 | 销售员 |
| `customer_updated` | 客户信息更新 | 客户信息更新时通知 | "客户张三的信息已更新" | 低 | 销售员 |
| `customer_call` | 客户来电 | 客户来电时通知 | "客户张三（138****5678）来电咨询" | 高 | 销售员 |
| `customer_complaint` | 客户投诉 | 客户投诉时通知 | "⚠️ 客户张三投诉，请及时处理" | 高 | 客服、经理 |
| `customer_rejected` | 客户拒收 | 客户拒收时通知 | "客户张三拒收订单 #20241213001" | 高 | 销售员、客服 |
| `customer_sharing` | 客户分享通知 | 客户分享时通知 | "销售员李四将客户张三分享给您" | 普通 | 销售员 |
| `customer_feedback` | 客户反馈 | 收到客户反馈时通知 | "收到客户张三的反馈，请查看" | 普通 | 销售员、客服 |

---

### 4. 商品管理（4种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `product_created` | 商品添加成功 | 商品添加成功时通知 | "商品"XX保健品"添加成功" | 普通 | 管理员 |
| `product_updated` | 商品信息更新 | 商品信息更新时通知 | "商品"XX保健品"信息已更新" | 低 | 管理员 |
| `product_out_of_stock` | 商品缺货 | 商品缺货时通知 | "⚠️ 商品"XX保健品"库存不足，当前库存：5" | 高 | 管理员、仓库 |
| `product_price_changed` | 商品价格变更 | 商品价格变更时通知 | "商品"XX保健品"价格已调整：¥128 → ¥138" | 普通 | 销售员 |

---

### 5. 物流管理（6种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `shipping_notification` | 发货通知 | 商品发货时通知 | "订单 #20241213001 已发货" | 普通 | 销售员 |
| `delivery_confirmation` | 签收通知 | 商品签收时通知 | "订单 #20241213001 已签收" | 普通 | 销售员 |
| `logistics_pickup` | 物流揽件 | 物流揽件时通知 | "订单 #20241213001 快递已揽收" | 普通 | 销售员 |
| `logistics_in_transit` | 物流运输中 | 物流运输中时通知 | "订单 #20241213001 正在运输中" | 低 | 销售员 |
| `logistics_delivered` | 物流已送达 | 物流已送达时通知 | "订单 #20241213001 已送达" | 普通 | 销售员 |
| `package_anomaly` | 包裹异常 | 包裹异常时通知 | "⚠️ 订单 #20241213001 包裹异常，请联系物流公司" | 高 | 客服、销售员 |

---

### 6. 财务管理（4种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `payment_notification` | 付款通知 | 付款时通知 | "订单 #20241213001 已付款，金额：¥1,280" | 普通 | 财务 |
| `payment_received` | 收款确认 | 收款确认时通知 | "已确认收到订单 #20241213001 的付款" | 普通 | 销售员 |
| `invoice_generated` | 发票生成 | 发票生成时通知 | "订单 #20241213001 的发票已生成" | 普通 | 财务、客户 |
| `refund_processed` | 退款处理 | 退款处理时通知 | "订单 #20241213001 退款已处理，金额：¥1,280" | 高 | 财务、销售员 |

---

### 7. 审批流程（4种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `audit_notification` | 审核通知 | 需要审核时通知 | "有新的订单需要您审核" | 普通 | 审核员 |
| `audit_pending` | 待审核 | 待审核时通知 | "订单 #20241213001 等待审核" | 普通 | 审核员 |
| `audit_approved` | 审核通过 | 审核通过时通知 | "订单 #20241213001 审核已通过" | 普通 | 销售员 |
| `audit_rejected` | 审核拒绝 | 审核拒绝时通知 | "订单 #20241213001 审核被拒绝，原因：信息不完整" | 高 | 销售员 |

---

### 8. 业绩分享（5种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `performance_share_created` | 业绩分享创建 | 业绩分享创建时通知 | "您创建了一条业绩分享记录" | 普通 | 销售员 |
| `performance_share_received` | 收到业绩分享 | 收到业绩分享时通知 | "销售员李四向您分享了业绩" | 高 | 销售员 |
| `performance_share_confirmed` | 业绩分享确认 | 业绩分享确认时通知 | "您的业绩分享已被确认" | 高 | 销售员 |
| `performance_share_rejected` | 业绩分享拒绝 | 业绩分享拒绝时通知 | "您的业绩分享被拒绝" | 高 | 销售员 |
| `performance_share_cancelled` | 业绩分享取消 | 业绩分享取消时通知 | "业绩分享已取消" | 普通 | 销售员 |

---

### 9. 服务管理（7种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `call_incoming` | 来电提醒 | 有新的来电时通知 | "客户张三来电" | 高 | 销售员 |
| `call_missed` | 未接来电 | 有未接来电时通知 | "您有一个未接来电：客户张三" | 高 | 销售员 |
| `call_record_created` | 通话记录创建 | 新增通话记录时通知 | "已创建与客户张三的通话记录" | 低 | 销售员 |
| `call_followup_due` | 跟进提醒 | 客户跟进到期时通知 | "客户张三的跟进时间已到，请及时联系" | 高 | 销售员 |
| `sms_sent` | 短信发送 | 短信发送成功时通知 | "短信已成功发送给客户张三" | 普通 | 销售员 |
| `sms_failed` | 短信失败 | 短信发送失败时通知 | "发送给客户张三的短信失败" | 高 | 销售员 |
| `sms_quota_low` | 短信余额不足 | 短信余额不足时通知 | "⚠️ 短信余额不足，当前剩余：50条" | 高 | 管理员 |

---

### 10. 资料管理（9种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `customer_data_created` | 客户资料创建 | 新增客户资料时通知 | "新增客户资料：张三" | 普通 | 管理员 |
| `customer_data_updated` | 客户资料更新 | 客户资料更新时通知 | "客户资料已更新：张三" | 低 | 销售员 |
| `customer_data_imported` | 客户资料导入 | 批量导入客户资料时通知 | "成功导入100条客户资料" | 普通 | 管理员 |
| `customer_query_executed` | 客户查询执行 | 执行客户查询时通知 | "客户查询已执行，找到50条记录" | 低 | 销售员 |
| `customer_data_exported` | 客户资料导出 | 导出客户资料时通知 | "客户资料导出成功" | 普通 | 管理员 |
| `data_deleted` | 资料删除 | 资料被删除移入回收站时通知 | "客户资料已移入回收站" | 普通 | 管理员 |
| `data_recovered` | 资料恢复 | 资料从回收站恢复时通知 | "客户资料已从回收站恢复" | 普通 | 管理员 |
| `data_permanently_deleted` | 资料永久删除 | 资料从回收站永久删除时通知 | "客户资料已永久删除" | 高 | 管理员 |
| `recycle_bin_cleanup` | 回收站清理 | 回收站定期清理时通知 | "回收站已自动清理30天前的数据" | 普通 | 管理员 |

---

### 11. 短信管理（8种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `sms_template_applied` | 短信模板申请 | 短信模板申请时通知 | "短信模板"订单确认"已提交申请" | 高 | 审核员 |
| `sms_template_approved` | 短信模板审核通过 | 短信模板审核通过时通知 | "短信模板"订单确认"审核通过" | 高 | 申请人 |
| `sms_template_rejected` | 短信模板审核拒绝 | 短信模板审核拒绝时通知 | "短信模板"订单确认"审核被拒绝" | 高 | 申请人 |
| `sms_send_applied` | 短信发送申请 | 短信发送申请时通知 | "批量短信发送申请已提交" | 高 | 审核员 |
| `sms_send_approved` | 短信发送审核通过 | 短信发送审核通过时通知 | "批量短信发送申请已通过" | 高 | 申请人 |
| `sms_send_rejected` | 短信发送审核拒绝 | 短信发送审核拒绝时通知 | "批量短信发送申请被拒绝" | 高 | 申请人 |
| `sms_send_success` | 短信发送成功 | 短信发送成功时通知 | "批量短信发送成功，共发送100条" | 普通 | 申请人 |
| `sms_send_failed` | 短信发送失败 | 短信发送失败时通知 | "批量短信发送失败，请检查" | 高 | 申请人 |

---

### 12. 系统管理（8种）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 | 优先级 | 接收角色 |
|-------------|----------|----------|-------------|--------|----------|
| `system_maintenance` | 系统维护通知 | 系统维护时通知 | "系统将于今晚22:00-24:00进行维护" | 普通 | 全员 |
| `system_update` | 系统更新 | 系统更新时通知 | "系统已更新至v1.8.3版本" | 低 | 全员 |
| `user_login` | 用户登录 | 用户登录时通知 | "您的账号在新设备上登录" | 低 | 用户本人 |
| `user_created` | 系统用户添加成功 | 系统用户添加成功时通知 | "新用户"李四"已添加成功" | 普通 | 管理员 |
| `permission_configured` | 权限配置成功 | 权限配置成功时通知 | "角色"销售员"权限配置已更新" | 普通 | 管理员 |
| `data_export_success` | 导出成功 | 数据导出成功时通知 | "数据导出成功，请下载" | 普通 | 操作人 |
| `data_import_completed` | 导入完成 | 数据导入完成时通知 | "数据导入完成，成功100条，失败5条" | 普通 | 操作人 |
| `system_alert` | 系统告警 | 系统异常时通知 | "⚠️ 系统异常：数据库连接超时" | 紧急 | 管理员 |

---


## 三、通知方式说明

系统支持以下5种通知方式：

| 通知方式 | 代码 | 说明 | 适用场景 |
|----------|------|------|----------|
| 钉钉 | `dingtalk` | 通过钉钉机器人推送 | 企业内部即时通知 |
| 企业微信 | `wechat_work` | 通过企业微信推送 | 企业内部即时通知 |
| 邮件 | `email` | 通过邮件发送 | 正式通知、报表 |
| 短信 | `sms` | 通过短信发送 | 紧急通知、外部客户 |
| 系统消息 | `system_message` | 系统内消息中心 | 日常通知、操作记录 |

---

## 四、建议补充的消息类型

### 🔴 高优先级（建议立即添加）

#### 1. 资料分配相关（资料管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `data_assigned` | 资料分配通知 | 资料被分配给某人时通知 | "管理员将10条客户资料分配给您" |
| `data_reassigned` | 资料重新分配 | 资料被重新分配时通知 | "您的5条客户资料已被重新分配给李四" |
| `data_batch_assigned` | 批量分配完成 | 批量分配资料完成时通知 | "批量分配完成：共分配100条资料给5个销售员" |

#### 2. 订单超时提醒（订单管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `order_audit_timeout` | 订单审核超时 | 订单审核超时时通知 | "⚠️ 订单 #20241213001 审核已超时24小时" |
| `order_shipment_timeout` | 发货超时提醒 | 订单发货超时时通知 | "⚠️ 订单 #20241213001 已超过48小时未发货" |
| `order_followup_reminder` | 订单跟进提醒 | 订单需要跟进时通知 | "订单 #20241213001 签收已3天，请跟进客户满意度" |

#### 3. 客户跟进相关（客户管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `customer_followup_due` | 客户跟进到期 | 客户跟进时间到期时通知 | "客户张三的跟进时间已到，请及时联系" |
| `customer_inactive_warning` | 客户沉默预警 | 客户长时间无互动时通知 | "⚠️ 客户张三已30天无互动，建议主动联系" |
| `customer_birthday_reminder` | 客户生日提醒 | 客户生日时通知 | "🎂 客户张三明天生日，可发送祝福" |
| `customer_assigned` | 客户分配通知 | 客户被分配给某人时通知 | "客户张三已分配给您" |

#### 4. 售后超时提醒（售后服务分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `after_sales_timeout` | 售后处理超时 | 售后处理超时时通知 | "⚠️ 售后申请 #SH20241213001 已超时48小时未处理" |
| `after_sales_escalated` | 售后升级 | 售后问题升级时通知 | "售后申请 #SH20241213001 已升级为紧急处理" |

---

### 🟡 中优先级（建议近期添加）

#### 5. 业绩目标相关（新增分类：业绩管理）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `performance_target_set` | 业绩目标设定 | 业绩目标设定时通知 | "您本月的业绩目标已设定：¥50,000" |
| `performance_target_achieved` | 业绩目标达成 | 业绩目标达成时通知 | "🎉 恭喜！您已完成本月业绩目标" |
| `performance_target_warning` | 业绩目标预警 | 业绩目标完成率低时通知 | "⚠️ 本月已过半，业绩完成率仅30%" |
| `performance_ranking_changed` | 业绩排名变化 | 业绩排名变化时通知 | "您的业绩排名上升至第3名" |

#### 6. 库存预警相关（商品管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `inventory_low_warning` | 库存预警 | 库存低于阈值时通知 | "⚠️ 商品"XX保健品"库存低于安全库存" |
| `inventory_replenished` | 库存补充 | 库存补充时通知 | "商品"XX保健品"库存已补充，当前库存：500" |
| `inventory_expired_warning` | 库存过期预警 | 库存即将过期时通知 | "⚠️ 商品"XX保健品"有50件将于30天内过期" |

#### 7. 部门管理相关（新增分类：部门管理）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `department_member_joined` | 部门成员加入 | 新成员加入部门时通知 | "新成员李四已加入您的部门" |
| `department_member_left` | 部门成员离开 | 成员离开部门时通知 | "成员李四已离开您的部门" |
| `department_target_set` | 部门目标设定 | 部门目标设定时通知 | "您的部门本月目标已设定：¥200,000" |

---

### 🟢 低优先级（可后续添加）

#### 8. 数据分析相关（新增分类：数据分析）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `daily_report_generated` | 日报生成 | 日报生成时通知 | "您的每日业绩报告已生成，请查看" |
| `weekly_report_generated` | 周报生成 | 周报生成时通知 | "您的每周业绩报告已生成，请查看" |
| `monthly_report_generated` | 月报生成 | 月报生成时通知 | "您的每月业绩报告已生成，请查看" |
| `data_anomaly_detected` | 数据异常检测 | 检测到数据异常时通知 | "⚠️ 检测到异常：今日订单量较昨日下降50%" |

#### 9. 账号安全相关（系统管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `password_expiring` | 密码即将过期 | 密码即将过期时通知 | "您的密码将于7天后过期，请及时修改" |
| `password_changed` | 密码已修改 | 密码修改成功时通知 | "您的密码已成功修改" |
| `login_failed_warning` | 登录失败预警 | 多次登录失败时通知 | "⚠️ 您的账号有5次登录失败记录" |
| `account_locked` | 账号锁定 | 账号被锁定时通知 | "您的账号已被锁定，请联系管理员" |

#### 10. 公告相关（系统管理分类）

| 消息类型代码 | 消息名称 | 主要用途 | 提醒内容示例 |
|-------------|----------|----------|-------------|
| `announcement_published` | 公告发布 | 新公告发布时通知 | "新公告：关于元旦放假安排的通知" |
| `announcement_updated` | 公告更新 | 公告更新时通知 | "公告已更新：关于元旦放假安排的通知" |

---

## 五、消息类型配置文件位置

| 文件路径 | 说明 |
|----------|------|
| `src/stores/notification.ts` | 消息类型枚举和模板配置 |
| `src/stores/message.ts` | 消息订阅和公告管理 |
| `src/views/System/components/MessageSubscription.vue` | 消息订阅管理界面 |
| `src/views/System/components/MessageConfig.vue` | 消息配置界面 |
| `src/api/message.ts` | 消息相关API |
| `backend/src/routes/message.ts` | 后端消息路由 |

---

## 六、总结

### 现有消息类型统计

| 分类 | 现有数量 | 覆盖情况 |
|------|---------|----------|
| 订单管理 | 12种 | ✅ 完善 |
| 售后服务 | 5种 | ⚠️ 缺少超时提醒 |
| 客户管理 | 7种 | ⚠️ 缺少跟进提醒 |
| 商品管理 | 4种 | ⚠️ 缺少库存预警 |
| 物流管理 | 6种 | ✅ 完善 |
| 财务管理 | 4种 | ✅ 基本完善 |
| 审批流程 | 4种 | ⚠️ 缺少超时提醒 |
| 业绩分享 | 5种 | ✅ 完善 |
| 服务管理 | 7种 | ✅ 完善 |
| 资料管理 | 9种 | ⚠️ 缺少分配通知 |
| 短信管理 | 8种 | ✅ 完善 |
| 系统管理 | 8种 | ⚠️ 缺少安全提醒 |

### 建议补充数量

| 优先级 | 建议补充数量 | 主要类型 |
|--------|-------------|----------|
| 🔴 高优先级 | 11种 | 资料分配、订单超时、客户跟进、售后超时 |
| 🟡 中优先级 | 11种 | 业绩目标、库存预警、部门管理 |
| 🟢 低优先级 | 10种 | 数据分析、账号安全、公告 |

### 下一步建议

1. **优先实现资料分配通知** - 这是资料管理的核心功能，目前缺失
2. **添加超时提醒机制** - 订单审核、发货、售后处理的超时提醒
3. **完善客户跟进提醒** - 帮助销售员及时跟进客户
4. **添加业绩目标管理** - 激励销售团队达成目标

---

> 文档版本：v1.0
> 
> 分析人员：系统管理员
> 
> 最后更新：2025年12月13日

