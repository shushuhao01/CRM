# CRM系统数据库配置模板
# 请复制此文件为 .env 并修改以下配置

# 基本服务配置
NODE_ENV=production
PORT=3000
API_PREFIX=/api/v1

# ==========================================
# 数据库配置 - 请修改以下信息
# ==========================================

# 数据库主机地址（宝塔面板通常为localhost）
DB_HOST=localhost

# 数据库端口（MySQL默认3306）
DB_PORT=3306

# 数据库用户名（请填写您的数据库用户名）
DB_USERNAME=your_db_username

# 数据库密码（请填写您的数据库密码）
DB_PASSWORD=your_db_password

# 数据库名称（请填写您创建的数据库名）
DB_DATABASE=your_database_name

# 数据库字符集（建议保持默认）
DB_CHARSET=utf8mb4
DB_TIMEZONE=+08:00

# ==========================================
# 安全配置 - 生产环境请修改
# ==========================================

# JWT密钥（请生成随机字符串）
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# 密码加密轮数
BCRYPT_ROUNDS=12

# ==========================================
# 跨域配置
# ==========================================

# 允许的前端域名（生产环境请设置具体域名）
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# ==========================================
# 文件上传配置
# ==========================================

# 最大文件大小（字节）
UPLOAD_MAX_SIZE=10485760
# 允许的文件类型
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,application/pdf

# ==========================================
# 邮件配置 - 可选
# ==========================================

MAIL_HOST=smtp.qq.com
MAIL_PORT=587
MAIL_SECURE=false
MAIL_USER=your_email@qq.com
MAIL_PASS=your_email_password
MAIL_FROM=CRM系统 <your_email@qq.com>

# ==========================================
# 日志配置
# ==========================================

LOG_LEVEL=info
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ==========================================
# 限流配置
# ==========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ==========================================
# 安全配置
# ==========================================

HELMET_ENABLED=true
COMPRESSION_ENABLED=true

# ==========================================
# 配置说明
# ==========================================

# 1. 数据库部署：
#    运行 chmod +x db-deploy.sh && ./db-deploy.sh
#    
# 2. 手动配置：
#    - 在宝塔面板创建数据库
#    - 修改上述数据库配置信息
#    - 导入 backend/database-init.sql
#    
# 3. 启动系统：
#    运行 ./start.sh 进行完整部署
#    
# 4. 默认管理员：
#    用户名: admin
#    密码: admin123
#    请登录后立即修改密码！