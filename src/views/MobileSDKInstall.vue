<template>
  <div class="install-guide-container">
    <div class="header">
      <h1>ğŸ“± CRMç§»åŠ¨SDKå®‰è£…æŒ‡å—</h1>
      <p class="subtitle">Progressive Web App (PWA) - æ— éœ€åº”ç”¨å•†åº—ï¼Œç›´æ¥å®‰è£…</p>
    </div>

    <div class="content">
      <!-- é‡è¦æç¤º -->
      <div class="alert alert-warning">
        <h3>âš ï¸ é‡è¦è¯´æ˜</h3>
        <p>ä¹‹å‰æä¾›çš„APKæ–‡ä»¶æ˜¯é”™è¯¯çš„æ ¼å¼ï¼Œæ— æ³•åœ¨Androidè®¾å¤‡ä¸Šå®‰è£…ã€‚</p>
        <p>ç°åœ¨æˆ‘ä»¬æä¾›çš„æ˜¯PWAåº”ç”¨ï¼Œè¿™æ˜¯æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼</p>
      </div>

      <!-- PWAä¼˜åŠ¿ -->
      <div class="section">
        <h2>ğŸš€ PWAåº”ç”¨çš„ä¼˜åŠ¿</h2>
        <ul class="advantages">
          <li>âœ… æ— éœ€ä»åº”ç”¨å•†åº—ä¸‹è½½</li>
          <li>âœ… è‡ªåŠ¨æ›´æ–°ï¼Œå§‹ç»ˆæ˜¯æœ€æ–°ç‰ˆæœ¬</li>
          <li>âœ… æ”¯æŒç¦»çº¿ä½¿ç”¨</li>
          <li>âœ… æ¥è¿‘åŸç”Ÿåº”ç”¨çš„ä½“éªŒ</li>
          <li>âœ… å ç”¨å­˜å‚¨ç©ºé—´æ›´å°</li>
          <li>âœ… è·¨å¹³å°å…¼å®¹ï¼ˆAndroid/iOSï¼‰</li>
        </ul>
      </div>

      <!-- Androidå®‰è£…æ–¹æ³• -->
      <div class="section">
        <h2>ğŸ“± Androidè®¾å¤‡å®‰è£…æ–¹æ³•</h2>
        
        <div class="method">
          <h3>æ–¹æ³•ä¸€ï¼šChromeæµè§ˆå™¨è‡ªåŠ¨å®‰è£…ï¼ˆæ¨èï¼‰</h3>
          <ol>
            <li>åœ¨Androidæ‰‹æœºä¸Šæ‰“å¼€ <strong>Chromeæµè§ˆå™¨</strong></li>
            <li>è®¿é—®ï¼š<code>{{ sdkUrl }}</code></li>
            <li>ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆ</li>
            <li>ç‚¹å‡»åœ°å€æ å³ä¾§çš„ <strong>"å®‰è£…"</strong> æŒ‰é’®</li>
            <li>æˆ–ç‚¹å‡»æµè§ˆå™¨èœå•ï¼ˆä¸‰ä¸ªç‚¹ï¼‰â†’ <strong>"å®‰è£…åº”ç”¨"</strong></li>
            <li>ç¡®è®¤å®‰è£…ï¼Œåº”ç”¨å°†è‡ªåŠ¨æ·»åŠ åˆ°ä¸»å±å¹•</li>
          </ol>
        </div>

        <div class="method">
          <h3>æ–¹æ³•äºŒï¼šæ‰‹åŠ¨æ·»åŠ åˆ°ä¸»å±å¹•</h3>
          <ol>
            <li>åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­è®¿é—®ï¼š<code>{{ sdkUrl }}</code></li>
            <li>ç‚¹å‡»æµè§ˆå™¨èœå•ï¼ˆä¸‰ä¸ªç‚¹ï¼‰</li>
            <li>é€‰æ‹© <strong>"æ·»åŠ åˆ°ä¸»å±å¹•"</strong></li>
            <li>è¾“å…¥åº”ç”¨åç§°ï¼ˆå¦‚ï¼šCRM SDKï¼‰</li>
            <li>ç‚¹å‡» <strong>"æ·»åŠ "</strong></li>
          </ol>
        </div>
      </div>

      <!-- iOSå®‰è£…æ–¹æ³• -->
      <div class="section">
        <h2>ğŸ iOSè®¾å¤‡å®‰è£…æ–¹æ³•</h2>
        <ol>
          <li>åœ¨iPhone/iPadä¸Šæ‰“å¼€ <strong>Safariæµè§ˆå™¨</strong></li>
          <li>è®¿é—®ï¼š<code>{{ sdkUrl }}</code></li>
          <li>ç‚¹å‡»åº•éƒ¨çš„ <strong>åˆ†äº«æŒ‰é’®</strong> <span class="icon">ğŸ“¤</span></li>
          <li>å‘ä¸‹æ»šåŠ¨ï¼Œé€‰æ‹© <strong>"æ·»åŠ åˆ°ä¸»å±å¹•"</strong></li>
          <li>è¾“å…¥åº”ç”¨åç§°ï¼Œç‚¹å‡» <strong>"æ·»åŠ "</strong></li>
        </ol>
      </div>

      <!-- ç‰ˆæœ¬æ›´æ–° -->
      <div class="section">
        <h2>ğŸ†• ç‰ˆæœ¬ 1.1.0 æ›´æ–°å†…å®¹</h2>
        <div class="update-notes">
          <div class="update-item">
            <h4>ğŸ¨ ç•Œé¢ä¼˜åŒ–</h4>
            <p>é‡æ–°è®¾è®¡äº†ç§»åŠ¨SDKç•Œé¢ï¼Œä¼˜åŒ–äº†å›¾æ ‡ã€æŒ‰é”®å¸ƒå±€å’Œæ•´ä½“è§†è§‰æ•ˆæœ</p>
          </div>
          <div class="update-item">
            <h4>ğŸ” æƒé™ç®¡ç†ä¼˜åŒ–</h4>
            <p>æ”¹è¿›äº†æƒé™ç®¡ç†æµç¨‹ï¼Œæä¾›æ›´æ¸…æ™°çš„æƒé™çŠ¶æ€è¯´æ˜å’Œå¼•å¯¼</p>
          </div>
          <div class="update-item">
            <h4>ğŸ”„ æŒä¹…åŒ–è¿æ¥</h4>
            <p>å®ç°äº†è¿æ¥é…ç½®çš„æŒä¹…åŒ–å­˜å‚¨ï¼Œæ”¯æŒæ–­å¼€é‡è¿åŠŸèƒ½</p>
          </div>
          <div class="update-item">
            <h4>ğŸ“± ç”¨æˆ·ä½“éªŒæå‡</h4>
            <p>ä¼˜åŒ–äº†è¿æ¥çŠ¶æ€æ˜¾ç¤ºï¼Œæä¾›æ›´è¯¦ç»†çš„ç½‘ç»œçŠ¶æ€ä¿¡æ¯</p>
          </div>
        </div>
      </div>

      <!-- åŠŸèƒ½è¯´æ˜ -->
      <div class="section">
        <h2>âš™ï¸ åŠŸèƒ½è¯´æ˜</h2>
        <div class="features">
          <div class="feature-item">
            <h4>ğŸ“ é€šè¯æƒé™ç®¡ç†</h4>
            <p>æ™ºèƒ½æ£€æŸ¥å’Œç®¡ç†é€šè¯ç›¸å…³æƒé™ï¼Œæä¾›è¯¦ç»†çš„æƒé™è¯´æ˜</p>
          </div>
          <div class="feature-item">
            <h4>ğŸ” SDKçŠ¶æ€æ£€æŸ¥</h4>
            <p>å®æ—¶æ£€æŸ¥SDKè¿æ¥çŠ¶æ€ï¼Œæ˜¾ç¤ºè¯¦ç»†çš„è¿æ¥ä¿¡æ¯</p>
          </div>
          <div class="feature-item">
            <h4>ğŸ§ª è¿æ¥æµ‹è¯•</h4>
            <p>æµ‹è¯•ä¸CRMç³»ç»Ÿçš„è¿æ¥ï¼Œæ”¯æŒè‡ªåŠ¨é‡è¿</p>
          </div>
          <div class="feature-item">
            <h4>ğŸ“± ç¦»çº¿æ”¯æŒ</h4>
            <p>æ”¯æŒç¦»çº¿ä½¿ç”¨åŸºæœ¬åŠŸèƒ½ï¼Œé…ç½®æŒä¹…åŒ–å­˜å‚¨</p>
          </div>
          <div class="feature-item">
            <h4>ğŸ“² äºŒç»´ç è¿æ¥</h4>
            <p>æ”¯æŒé€šè¿‡æ‰«æäºŒç»´ç å¿«é€Ÿé…ç½®è¿æ¥ï¼ˆAndroidç‰ˆæœ¬ï¼‰</p>
          </div>
        </div>
      </div>

      <!-- å¿«é€Ÿè®¿é—® -->
      <div class="section">
        <h2>ğŸ”— å¿«é€Ÿè®¿é—®</h2>
        <div class="quick-access">
          <a :href="sdkUrl" target="_blank" class="btn btn-primary">
            ğŸš€ ç«‹å³è®¿é—®PWAåº”ç”¨
          </a>
          <a href="/mobile-sdk/INSTALL_GUIDE.txt" target="_blank" class="btn btn-secondary">
            ğŸ“‹ ä¸‹è½½å®‰è£…æŒ‡å—
          </a>
        </div>
      </div>

      <!-- æ•…éšœæ’é™¤ -->
      <div class="section">
        <h2>ğŸ”§ æ•…éšœæ’é™¤</h2>
        <div class="troubleshooting">
          <div class="issue">
            <h4>â“ æ‰¾ä¸åˆ°"å®‰è£…"æŒ‰é’®ï¼Ÿ</h4>
            <p>ç¡®ä¿ä½¿ç”¨Chromeæµè§ˆå™¨ï¼ˆAndroidï¼‰æˆ–Safariæµè§ˆå™¨ï¼ˆiOSï¼‰ï¼Œå¹¶ä¸”ç½‘ç»œè¿æ¥æ­£å¸¸ã€‚</p>
          </div>
          <div class="issue">
            <h4>â“ å®‰è£…åæ— æ³•æ‰“å¼€ï¼Ÿ</h4>
            <p>æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ŒPWAåº”ç”¨éœ€è¦ç½‘ç»œè¿æ¥æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚</p>
          </div>
          <div class="issue">
            <h4>â“ åº”ç”¨å›¾æ ‡ä¸æ˜¾ç¤ºï¼Ÿ</h4>
            <p>è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼ŒPWAåº”ç”¨å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½å®Œå…¨åŠ è½½å›¾æ ‡ã€‚</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'

// åŠ¨æ€è·å–å½“å‰åŸŸåå’Œç«¯å£
const sdkUrl = computed(() => {
  const { protocol, hostname, port } = window.location
  const portStr = port ? `:${port}` : ''
  return `${protocol}//${hostname}${portStr}/mobile-sdk/`
})
</script>

<style scoped>
.install-guide-container {
  max-width: 800px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.header {
  text-align: center;
  margin-bottom: 40px;
}

.header h1 {
  color: #409EFF;
  margin-bottom: 10px;
}

.subtitle {
  color: #666;
  font-size: 16px;
}

.content {
  line-height: 1.6;
}

.section {
  margin-bottom: 40px;
  background: white;
  padding: 24px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.section h2 {
  color: #333;
  margin-bottom: 20px;
  border-bottom: 2px solid #409EFF;
  padding-bottom: 8px;
}

.alert {
  padding: 16px;
  border-radius: 8px;
  margin-bottom: 24px;
}

.alert-warning {
  background: #fff3cd;
  border: 1px solid #ffeaa7;
  color: #856404;
}

.alert h3 {
  margin-bottom: 8px;
  color: #856404;
}

.advantages {
  list-style: none;
  padding: 0;
}

.advantages li {
  padding: 8px 0;
  font-size: 16px;
}

.method {
  margin-bottom: 24px;
  padding: 16px;
  background: #f8f9fa;
  border-radius: 6px;
}

.method h3 {
  color: #409EFF;
  margin-bottom: 12px;
}

.method ol {
  margin-left: 20px;
}

.method li {
  margin-bottom: 8px;
}

code {
  background: #e9ecef;
  padding: 2px 6px;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  color: #e83e8c;
}

.update-notes {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
}

.update-item {
  padding: 16px;
  background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 100%);
  border-radius: 8px;
  border-left: 4px solid #52c41a;
}

.update-item h4 {
  color: #52c41a;
  margin-bottom: 8px;
  font-weight: 600;
}

.update-item p {
  color: #555;
  line-height: 1.5;
}

.features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
}

.feature-item {
  padding: 16px;
  background: #f8f9fa;
  border-radius: 6px;
}

.feature-item h4 {
  color: #409EFF;
  margin-bottom: 8px;
}

.quick-access {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.btn {
  display: inline-block;
  padding: 12px 24px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 500;
  text-align: center;
  transition: all 0.3s;
}

.btn-primary {
  background: #409EFF;
  color: white;
}

.btn-primary:hover {
  background: #337ab7;
}

.btn-secondary {
  background: #6c757d;
  color: white;
}

.btn-secondary:hover {
  background: #545b62;
}

.troubleshooting .issue {
  margin-bottom: 16px;
  padding: 12px;
  background: #f8f9fa;
  border-left: 4px solid #409EFF;
}

.troubleshooting .issue h4 {
  color: #333;
  margin-bottom: 8px;
}

.icon {
  font-size: 18px;
}

@media (max-width: 768px) {
  .install-guide-container {
    padding: 16px;
  }
  
  .section {
    padding: 16px;
  }
  
  .quick-access {
    flex-direction: column;
  }
  
  .features {
    grid-template-columns: 1fr;
  }
  
  .update-notes {
    grid-template-columns: 1fr;
  }
}
</style>