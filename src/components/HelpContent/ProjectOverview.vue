<template>
  <div class="help-content">
    <h1>ç³»ç»Ÿæ¦‚è¿°</h1>

    <section class="intro-section">
      <h2>ä»€ä¹ˆæ˜¯äº‘å®¢CRMç³»ç»Ÿï¼Ÿ</h2>
      <p>
        äº‘å®¢CRMç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¨é¢çš„å®¢æˆ·å…³ç³»ç®¡ç†å¹³å°ï¼Œä¸“ä¸ºç°ä»£ä¼ä¸šçš„é”€å”®å›¢é˜Ÿè®¾è®¡ã€‚ç³»ç»Ÿé›†æˆäº†å®¢æˆ·ç®¡ç†ã€è®¢å•å¤„ç†ã€ä¸šç»©ç»Ÿè®¡ã€ç‰©æµè·Ÿè¸ªç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œå¸®åŠ©ä¼ä¸šæå‡é”€å”®æ•ˆç‡ï¼Œä¼˜åŒ–å®¢æˆ·æœåŠ¡ä½“éªŒã€‚
      </p>
    </section>

    <section class="value-section">
      <h2>æ ¸å¿ƒä»·å€¼</h2>
      <div class="value-grid">
        <div class="value-card">
          <div class="value-icon">ğŸ“Š</div>
          <h3>æ•°æ®é©±åŠ¨</h3>
          <p>é€šè¿‡æ•°æ®åˆ†æå’Œå¯è§†åŒ–å›¾è¡¨ï¼Œå¸®åŠ©ç®¡ç†å±‚åšå‡ºæ˜æ™ºçš„ä¸šåŠ¡å†³ç­–</p>
        </div>
        <div class="value-card">
          <div class="value-icon">âš¡</div>
          <h3>æ•ˆç‡æå‡</h3>
          <p>è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ï¼Œå‡å°‘é‡å¤æ€§å·¥ä½œï¼Œæå‡å›¢é˜Ÿæ•´ä½“å·¥ä½œæ•ˆç‡</p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸ‘¥</div>
          <h3>å›¢é˜Ÿåä½œ</h3>
          <p>ç»Ÿä¸€çš„å¹³å°ä¿ƒè¿›å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„ä¿¡æ¯å…±äº«å’Œåä½œ</p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸ””</div>
          <h3>å®æ—¶é€šçŸ¥</h3>
          <p>è®¢å•çŠ¶æ€å˜æ›´ã€å®¡æ ¸æé†’ç­‰å®æ—¶æ¨é€ï¼Œä¸é”™è¿‡ä»»ä½•é‡è¦ä¿¡æ¯</p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸ“±</div>
          <h3>ç§»åŠ¨åŠå…¬</h3>
          <p>é…å¥—ç§»åŠ¨APPï¼Œæ”¯æŒå¤–å‡ºåŠå…¬ã€ç§»åŠ¨å¤–å‘¼ã€å®æ—¶åŒæ­¥</p>
        </div>
        <div class="value-card">
          <div class="value-icon">ğŸ”</div>
          <h3>æƒé™ç®¡ç†</h3>
          <p>ç²¾ç»†åŒ–çš„è§’è‰²æƒé™æ§åˆ¶ï¼Œç¡®ä¿æ•°æ®å®‰å…¨å’Œä¸šåŠ¡åˆè§„</p>
        </div>
      </div>
    </section>

    <section class="module-section">
      <h2>ç³»ç»Ÿæ¨¡å—</h2>
      <p>äº‘å®¢CRMç³»ç»ŸåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š</p>
      <div class="module-list">
        <div class="module-item">
          <span class="module-icon">ğŸ“ˆ</span>
          <div class="module-info">
            <h4>æ•°æ®çœ‹æ¿</h4>
            <p>å®æ—¶å±•ç¤ºé”€å”®æ•°æ®ã€è®¢å•ç»Ÿè®¡ã€ä¸šç»©æ’åç­‰å…³é”®æŒ‡æ ‡</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ‘¤</span>
          <div class="module-info">
            <h4>å®¢æˆ·ç®¡ç†</h4>
            <p>å®¢æˆ·ä¿¡æ¯ç®¡ç†ã€åˆ†ç»„æ ‡ç­¾ã€è·Ÿè¿›è®°å½•ã€å®¢æˆ·ç”»åƒ</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ›’</span>
          <div class="module-info">
            <h4>è®¢å•ç®¡ç†</h4>
            <p>è®¢å•åˆ›å»ºã€å®¡æ ¸æµç¨‹ã€çŠ¶æ€è·Ÿè¸ªã€è®¢å•ç»Ÿè®¡</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ“</span>
          <div class="module-info">
            <h4>æœåŠ¡ç®¡ç†</h4>
            <p>é€šè¯ç®¡ç†ã€çŸ­ä¿¡ç®¡ç†ã€å¤–å‘¼ä»»åŠ¡ã€å½•éŸ³å›æ”¾</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ“Š</span>
          <div class="module-info">
            <h4>ä¸šç»©ç»Ÿè®¡</h4>
            <p>ä¸ªäººä¸šç»©ã€å›¢é˜Ÿä¸šç»©ã€ä¸šç»©åˆ†æã€æ’åå¯¹æ¯”</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸšš</span>
          <div class="module-info">
            <h4>ç‰©æµç®¡ç†</h4>
            <p>å‘è´§ç®¡ç†ã€ç‰©æµè·Ÿè¸ªã€çŠ¶æ€æ›´æ–°ã€ç‰©æµå…¬å¸é…ç½®</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ§</span>
          <div class="module-info">
            <h4>å”®åç®¡ç†</h4>
            <p>å”®åå·¥å•ã€é€€æ¢è´§å¤„ç†ã€å”®åæ•°æ®åˆ†æ</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ“</span>
          <div class="module-info">
            <h4>èµ„æ–™ç®¡ç†</h4>
            <p>å®¢æˆ·èµ„æ–™ã€æ•°æ®å¯¼å…¥å¯¼å‡ºã€èµ„æ–™åˆ†é…ã€å›æ”¶ç«™</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ’°</span>
          <div class="module-info">
            <h4>è´¢åŠ¡ç®¡ç†</h4>
            <p>ç»©æ•ˆæ•°æ®ã€ææˆè®¡ç®—ã€é˜¶æ¢¯ææˆé…ç½®</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">ğŸ“¦</span>
          <div class="module-info">
            <h4>å•†å“ç®¡ç†</h4>
            <p>å•†å“ä¿¡æ¯ã€åº“å­˜ç®¡ç†ã€åˆ†ç±»ç®¡ç†ã€å•†å“åˆ†æ</p>
          </div>
        </div>
        <div class="module-item">
          <span class="module-icon">âš™ï¸</span>
          <div class="module-info">
            <h4>ç³»ç»Ÿç®¡ç†</h4>
            <p>éƒ¨é—¨ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€è§’è‰²æƒé™ã€ç³»ç»Ÿè®¾ç½®</p>
          </div>
        </div>
      </div>
    </section>

    <section class="role-section">
      <h2>ç”¨æˆ·è§’è‰²</h2>
      <p>ç³»ç»Ÿæ”¯æŒå¤šç§ç”¨æˆ·è§’è‰²ï¼Œæ¯ç§è§’è‰²æ‹¥æœ‰ä¸åŒçš„æƒé™èŒƒå›´ï¼š</p>
      <el-table :data="roleData" stripe style="width: 100%">
        <el-table-column prop="role" label="è§’è‰²" width="150" />
        <el-table-column prop="description" label="è¯´æ˜" />
        <el-table-column prop="dataScope" label="æ•°æ®èŒƒå›´" width="150" />
      </el-table>
    </section>

    <section class="version-section">
      <h2>ç‰ˆæœ¬è¯´æ˜</h2>
      <div class="version-info">
        <div class="version-item">
          <h4>ç§æœ‰éƒ¨ç½²ç‰ˆ</h4>
          <p>é€‚åˆå¯¹æ•°æ®å®‰å…¨æœ‰è¾ƒé«˜è¦æ±‚çš„ä¼ä¸šï¼Œå¯éƒ¨ç½²åœ¨è‡ªæœ‰æœåŠ¡å™¨ä¸Šï¼Œå®Œå…¨æŒæ§æ•°æ®ã€‚</p>
          <ul>
            <li>å®Œæ•´æºä»£ç </li>
            <li>è‡ªä¸»éƒ¨ç½²ç»´æŠ¤</li>
            <li>æ•°æ®å®Œå…¨ç§æœ‰</li>
            <li>æ”¯æŒäºŒæ¬¡å¼€å‘</li>
          </ul>
        </div>
        <div class="version-item">
          <h4>SaaSç‰ˆæœ¬</h4>
          <p>é€‚åˆå¿«é€Ÿä¸Šæ‰‹çš„ä¼ä¸šï¼Œæ— éœ€éƒ¨ç½²ï¼Œæ³¨å†Œå³ç”¨ï¼ŒæŒ‰éœ€ä»˜è´¹ã€‚</p>
          <ul>
            <li>å³å¼€å³ç”¨</li>
            <li>è‡ªåŠ¨æ›´æ–°å‡çº§</li>
            <li>ä¸“ä¸šè¿ç»´ä¿éšœ</li>
            <li>çµæ´»å¥—é¤é€‰æ‹©</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="help-link-section">
      <h2>å¸®åŠ©ä¸­å¿ƒå…¬å¼€è®¿é—®</h2>
      <p>æ‚¨å¯ä»¥å°†ä»¥ä¸‹é“¾æ¥åˆ†äº«ç»™å®¢æˆ·æˆ–å‘å¸ƒåˆ°å…¬ä¼—å·ï¼Œæ— éœ€ç™»å½•å³å¯è®¿é—®å¸®åŠ©æ–‡æ¡£ï¼š</p>
      <div class="help-link-card">
        <div class="link-info">
          <el-icon><Link /></el-icon>
          <div>
            <span class="link-label">å…¬å¼€å¸®åŠ©ä¸­å¿ƒåœ°å€</span>
            <a :href="publicHelpUrl" target="_blank" class="link-url">{{ publicHelpUrl }}</a>
          </div>
        </div>
        <div class="link-actions">
          <el-button type="primary" size="small" @click="copyHelpUrl">
            <el-icon><CopyDocument /></el-icon>
            å¤åˆ¶é“¾æ¥
          </el-button>
          <el-button size="small" @click="openHelpUrl">
            <el-icon><View /></el-icon>
            æ‰“å¼€
          </el-button>
        </div>
      </div>
      <div class="link-tip">
        <el-icon><InfoFilled /></el-icon>
        <span>æ­¤é“¾æ¥ä¸ºå…¬å¼€è®¿é—®ï¼Œè®¿å®¢åªèƒ½æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ï¼Œæ— æ³•è®¿é—®ç³»ç»Ÿå…¶ä»–åŠŸèƒ½</span>
      </div>
    </section>

    <section class="contact-section">
      <h2>æŠ€æœ¯æ”¯æŒ</h2>
      <p>å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š</p>
      <div class="contact-info">
        <div class="contact-item">
          <el-icon><Message /></el-icon>
          <div>
            <span class="contact-label">é‚®ç®±</span>
            <a href="mailto:xianhuquwang@163.com">xianhuquwang@163.com</a>
          </div>
        </div>
        <div class="contact-item">
          <el-icon><Phone /></el-icon>
          <div>
            <span class="contact-label">ç”µè¯</span>
            <a href="tel:13570727364">135-7072-7364</a>
          </div>
        </div>
        <div class="contact-item clickable" @click="showServiceDialog = true">
          <el-icon><ChatDotRound /></el-icon>
          <div>
            <span class="contact-label">åœ¨çº¿å®¢æœ</span>
            <span class="contact-link">ç‚¹å‡»å’¨è¯¢ â†’</span>
          </div>
        </div>
      </div>
    </section>

    <!-- å®¢æœå¼¹çª— -->
    <el-dialog
      v-model="showServiceDialog"
      title="è”ç³»å®¢æœ"
      width="360px"
      :append-to-body="true"
      class="service-dialog"
    >
      <div class="service-content">
        <div class="qr-wrapper">
          <img src="/images/kefuQR.png" alt="å¾®ä¿¡å®¢æœäºŒç»´ç " />
        </div>
        <p class="qr-tip">å¾®ä¿¡æ‰«ä¸€æ‰«ï¼Œæ·»åŠ ä¸“å±å®¢æœ</p>
        <div class="divider">
          <span>æˆ–</span>
        </div>
        <a
          href="https://work.weixin.qq.com/kfid/kfc461ca9f5b45c8d25"
          target="_blank"
          class="chat-btn"
        >
          <el-icon><ChatLineRound /></el-icon>
          <span>ç‚¹å‡»åœ¨çº¿å’¨è¯¢</span>
        </a>
        <p class="work-time">å·¥ä½œæ—¶é—´ï¼šå‘¨ä¸€è‡³å‘¨äº” 9:00-18:00</p>
      </div>
    </el-dialog>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'
import { ElMessage } from 'element-plus'
import { Message, Phone, ChatDotRound, ChatLineRound, Link, CopyDocument, View, InfoFilled } from '@element-plus/icons-vue'

const showServiceDialog = ref(false)

// è®¡ç®—å…¬å¼€å¸®åŠ©ä¸­å¿ƒçš„URL
const publicHelpUrl = computed(() => {
  const origin = window.location.origin
  return `${origin}/public-help`
})

// å¤åˆ¶å¸®åŠ©ä¸­å¿ƒé“¾æ¥
const copyHelpUrl = () => {
  navigator.clipboard.writeText(publicHelpUrl.value)
    .then(() => {
      ElMessage.success('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿')
    })
    .catch(() => {
      ElMessage.error('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶')
    })
}

// æ‰“å¼€å¸®åŠ©ä¸­å¿ƒ
const openHelpUrl = () => {
  window.open(publicHelpUrl.value, '_blank')
}

const roleData = [
  { role: 'è¶…çº§ç®¡ç†å‘˜', description: 'æ‹¥æœ‰ç³»ç»Ÿå…¨éƒ¨æƒé™ï¼Œå¯ç®¡ç†æ‰€æœ‰åŠŸèƒ½å’Œæ•°æ®', dataScope: 'å…¨éƒ¨æ•°æ®' },
  { role: 'ç®¡ç†å‘˜', description: 'æ‹¥æœ‰å¤§éƒ¨åˆ†ç®¡ç†æƒé™ï¼Œå¯ç®¡ç†ä¸šåŠ¡æ•°æ®å’Œç”¨æˆ·', dataScope: 'å…¨éƒ¨æ•°æ®' },
  { role: 'éƒ¨é—¨ç»ç†', description: 'ç®¡ç†æœ¬éƒ¨é—¨çš„ä¸šåŠ¡æ•°æ®å’Œå›¢é˜Ÿæˆå‘˜', dataScope: 'æœ¬éƒ¨é—¨æ•°æ®' },
  { role: 'é”€å”®å‘˜', description: 'ç®¡ç†ä¸ªäººå®¢æˆ·å’Œè®¢å•ï¼ŒæŸ¥çœ‹ä¸ªäººä¸šç»©', dataScope: 'ä¸ªäººæ•°æ®' },
  { role: 'å®¢æœ', description: 'å¤„ç†è®¢å•å®¡æ ¸ã€ç‰©æµå‘è´§ã€å”®åæœåŠ¡ç­‰å·¥ä½œ', dataScope: 'å…¨éƒ¨æ•°æ®' }
]
</script>

<style scoped>
.help-content {
  line-height: 1.8;
  color: #333;
}

.help-content h1 {
  font-size: 28px;
  color: #1a1a1a;
  margin-bottom: 30px;
  padding-bottom: 15px;
  border-bottom: 2px solid #409eff;
}

.help-content h2 {
  font-size: 20px;
  color: #303133;
  margin: 30px 0 15px;
}

.help-content h3 {
  font-size: 16px;
  color: #409eff;
  margin: 10px 0;
}

.help-content h4 {
  font-size: 15px;
  color: #303133;
  margin: 8px 0;
}

.help-content p {
  margin: 10px 0;
  color: #606266;
}

section {
  margin-bottom: 40px;
}

.intro-section p {
  font-size: 16px;
  line-height: 2;
}

.value-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin-top: 20px;
}

.value-card {
  background: linear-gradient(135deg, #f5f7fa 0%, #e4e7ed 100%);
  border-radius: 12px;
  padding: 25px;
  text-align: center;
  transition: transform 0.3s, box-shadow 0.3s;
}

.value-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
}

.value-icon {
  font-size: 40px;
  margin-bottom: 15px;
}

.value-card p {
  font-size: 14px;
  color: #909399;
}

.module-list {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-top: 20px;
}

.module-item {
  display: flex;
  align-items: flex-start;
  padding: 15px;
  background: #fafafa;
  border-radius: 8px;
  border: 1px solid #ebeef5;
}

.module-icon {
  font-size: 28px;
  margin-right: 15px;
}

.module-info h4 {
  margin: 0 0 5px;
}

.module-info p {
  margin: 0;
  font-size: 13px;
  color: #909399;
}

.version-info {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-top: 20px;
}

.version-item {
  background: #f5f7fa;
  border-radius: 12px;
  padding: 25px;
  border: 1px solid #e4e7ed;
}

.version-item h4 {
  color: #409eff;
  font-size: 18px;
  margin-bottom: 10px;
}

.version-item ul {
  margin: 15px 0 0;
  padding-left: 20px;
}

.version-item li {
  margin: 8px 0;
  color: #606266;
}

.contact-info {
  background: #ecf5ff;
  border-radius: 12px;
  padding: 20px;
  margin-top: 15px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.contact-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 12px 15px;
  background: white;
  border-radius: 8px;
  transition: all 0.3s;
}

.contact-item.clickable {
  cursor: pointer;
}

.contact-item.clickable:hover {
  background: #f0f9ff;
  transform: translateX(5px);
}

.contact-item .el-icon {
  font-size: 24px;
  color: #409eff;
}

.contact-label {
  display: block;
  font-size: 12px;
  color: #909399;
  margin-bottom: 2px;
}

.contact-item a {
  color: #303133;
  text-decoration: none;
  font-weight: 500;
}

.contact-item a:hover {
  color: #409eff;
}

.contact-link {
  color: #409eff;
  font-weight: 500;
}

/* å®¢æœå¼¹çª—æ ·å¼ */
.service-content {
  text-align: center;
  padding: 10px 0;
}

.qr-wrapper {
  width: 180px;
  height: 180px;
  margin: 0 auto 15px;
  padding: 10px;
  background: #f8fafc;
  border-radius: 12px;
  border: 2px dashed #e2e8f0;
}

.qr-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.qr-tip {
  font-size: 14px;
  color: #606266;
  margin: 0 0 15px;
}

.divider {
  display: flex;
  align-items: center;
  margin: 15px 0;
}

.divider::before,
.divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: #e2e8f0;
}

.divider span {
  padding: 0 12px;
  font-size: 12px;
  color: #909399;
}

.chat-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  padding: 14px;
  background: #07c160;
  color: white;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  text-decoration: none;
  transition: all 0.3s ease;
}

.chat-btn:hover {
  background: #06ae56;
  transform: translateY(-2px);
}

.chat-btn .el-icon {
  font-size: 20px;
}

.work-time {
  margin: 15px 0 0;
  font-size: 12px;
  color: #909399;
}

/* å¸®åŠ©é“¾æ¥æ ·å¼ */
.help-link-section {
  margin-bottom: 40px;
}

.help-link-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 12px;
  margin: 15px 0;
}

.link-info {
  display: flex;
  align-items: center;
  gap: 15px;
  color: white;
}

.link-info .el-icon {
  font-size: 32px;
  opacity: 0.9;
}

.link-label {
  display: block;
  font-size: 12px;
  opacity: 0.8;
  margin-bottom: 4px;
}

.link-url {
  color: white;
  font-size: 16px;
  font-weight: 500;
  text-decoration: none;
  word-break: break-all;
}

.link-url:hover {
  text-decoration: underline;
}

.link-actions {
  display: flex;
  gap: 10px;
  flex-shrink: 0;
}

.link-tip {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 15px;
  background: #f0f9eb;
  border-radius: 6px;
  color: #67c23a;
  font-size: 13px;
}

@media (max-width: 768px) {
  .value-grid,
  .module-list,
  .version-info {
    grid-template-columns: 1fr;
  }

  .help-link-card {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }

  .link-info {
    flex-direction: column;
  }

  .link-actions {
    width: 100%;
    justify-content: center;
  }
}
</style>
