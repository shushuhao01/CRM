var W=(Z,L,R)=>new Promise((O,I)=>{var E=y=>{try{A(R.next(y))}catch(B){I(B)}},G=y=>{try{A(R.throw(y))}catch(B){I(B)}},A=y=>y.done?O(y.value):Promise.resolve(y.value).then(E,G);A((R=R.apply(Z,L)).next())});import{u as de}from"./call-C9NCWzRc.js";import{i as re,k as K,e as ie,U as me,aM as pe,A as fe,b as ge,E as D}from"./elementPlus-Bmwh7Rh8.js";import{l as Ve,r as U,Z as T,c as be,ag as g,m as $,p as b,q as o,U as l,S as N,O as a,u as c,M as F,Q as z,J,T as v,F as ve,a9 as ye}from"./vendor-D8Vxqhr-.js";import{_ as xe}from"./settings-CuxbDWOu.js";import"./utils-ywHRn0uI.js";const _e={class:"phone-config"},we={class:"page-header"},Ue={class:"header-content"},ke={class:"page-title"},Ce={class:"header-actions"},Re={class:"config-tabs"},Pe={class:"config-section"},Se={class:"config-section"},ce={class:"config-section"},ze={class:"config-section"},Ie={class:"config-section"},qe={class:"status-section"},De={class:"status-item"},Te={class:"status-info"},Fe={class:"status-value"},Le={class:"status-detail"},Oe={class:"status-item"},Ae={class:"status-info"},Be={class:"status-value"},Me={class:"status-detail"},je={class:"status-item"},Ne={class:"status-info"},Ee={class:"status-value"},Ge={class:"status-detail"},He={class:"log-section"},We={class:"log-header"},$e={class:"log-content"},Je={class:"log-time"},Qe={class:"log-level"},Ze={class:"log-message"},Ke={key:0,class:"no-logs"},Xe=Ve({__name:"PhoneConfig",setup(Z){const L=de(),R=U("sip"),O=U(!1),I=U(!1),E=U(),G=U(),A=U(),y=U(),B=U(),u=T({server:"",port:5060,username:"",password:"",domain:"",transport:"udp",enableRegister:!0,registerInterval:300}),i=T({enabled:!0,format:"mp3",quality:"medium",sampleRate:"16000",storagePath:"/recordings",autoDelete:!1,retentionDays:30,compress:!0}),p=T({enabled:!0,latencyThreshold:200,packetLossThreshold:1,jitterThreshold:30,autoOptimize:!0,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),m=T({maxCallDuration:3600,callTimeout:30,maxRetries:3,retryInterval:60,autoAnswer:!1,autoAnswerDelay:2,callForwarding:!1,forwardingNumber:"",blacklistFilter:!0}),r=T({logLevel:"info",logRetentionDays:7,performanceMonitoring:!0,statisticsReporting:!0,reportFrequency:"daily",autoBackup:!0,backupInterval:"daily",apiRateLimit:!0,rateLimitThreshold:100}),x=T({sip:!1,recording:!1,quality:!1}),P=U([{timestamp:new Date().toISOString(),level:"info",message:"系统启动完成"},{timestamp:new Date(Date.now()-6e4).toISOString(),level:"warning",message:"SIP服务器连接超时，正在重试..."},{timestamp:new Date(Date.now()-12e4).toISOString(),level:"error",message:"录音服务启动失败，请检查配置"}]),X={server:[{required:!0,message:"请输入SIP服务器地址",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},Y={format:[{required:!0,message:"请选择录音格式",trigger:"change"}],quality:[{required:!0,message:"请选择音频质量",trigger:"change"}],storagePath:[{required:!0,message:"请输入存储路径",trigger:"blur"}]},h=n=>new Date(n).toLocaleString("zh-CN"),ee=()=>W(this,null,function*(){try{O.value=!0;const n=yield L.testPhoneConnection({server:u.server,port:u.port,username:u.username,password:u.password});x.sip=n.success,x.recording=!0,x.quality=!0,n.success?(D.success("连接测试成功"),k("info","SIP服务器连接测试成功")):(D.error("连接测试失败"),k("error",`SIP服务器连接测试失败: ${n.message}`))}catch(n){console.error("测试连接失败:",n),D.error("测试连接失败"),k("error","连接测试异常")}finally{O.value=!1}}),le=()=>W(this,null,function*(){try{const e=[E.value,G.value].map(C=>C==null?void 0:C.validate());yield Promise.all(e),I.value=!0;const _={sip:u,recording:i,quality:p,calling:m,system:r};yield L.updatePhoneConfig(_),D.success("配置保存成功"),k("info","电话配置已更新")}catch(n){console.error("保存配置失败:",n),D.error("保存配置失败"),k("error","配置保存失败")}finally{I.value=!1}}),te=()=>{ge.prompt("请输入录音存储路径","选择路径",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:i.storagePath}).then(({value:n})=>{i.storagePath=n,k("info",`录音存储路径已更改为: ${n}`)}).catch(()=>{})},k=(n,e)=>{P.value.unshift({timestamp:new Date().toISOString(),level:n,message:e}),P.value.length>50&&(P.value=P.value.slice(0,50))},ae=()=>{P.value=[],D.success("日志已清空")},oe=()=>W(this,null,function*(){try{const n=yield L.fetchPhoneConfig();n.sip&&Object.assign(u,n.sip),n.recording&&Object.assign(i,n.recording),n.quality&&Object.assign(p,n.quality),n.calling&&Object.assign(m,n.calling),n.system&&Object.assign(r,n.system),k("info","配置加载完成")}catch(n){console.error("加载配置失败:",n),k("error","配置加载失败")}});return be(()=>{oe()}),(n,e)=>{const _=g("el-icon"),C=g("el-button"),q=g("el-input"),s=g("el-form-item"),w=g("el-col"),V=g("el-input-number"),H=g("el-row"),d=g("el-option"),S=g("el-select"),f=g("el-switch"),M=g("el-form"),j=g("el-tab-pane"),se=g("el-tabs"),Q=g("el-card"),ne=g("el-empty");return b(),$("div",_e,[o("div",we,[o("div",Ue,[o("h1",ke,[l(_,null,{default:a(()=>[l(c(re))]),_:1}),e[43]||(e[43]=N(" 电话配置 ",-1))]),e[44]||(e[44]=o("p",{class:"page-description"},"配置通话系统参数，包括SIP设置、录音配置、质量控制等",-1))]),o("div",Ce,[l(C,{onClick:ee,loading:O.value},{default:a(()=>[l(_,null,{default:a(()=>[l(c(K))]),_:1}),e[45]||(e[45]=N(" 测试连接 ",-1))]),_:1},8,["loading"]),l(C,{type:"primary",onClick:le,loading:I.value},{default:a(()=>[l(_,null,{default:a(()=>[l(c(ie))]),_:1}),e[46]||(e[46]=N(" 保存配置 ",-1))]),_:1},8,["loading"])])]),o("div",Re,[l(Q,null,{default:a(()=>[l(se,{modelValue:R.value,"onUpdate:modelValue":e[42]||(e[42]=t=>R.value=t),type:"border-card"},{default:a(()=>[l(j,{label:"SIP配置",name:"sip"},{default:a(()=>[o("div",Pe,[e[49]||(e[49]=o("div",{class:"section-header"},[o("h3",null,"SIP服务器配置"),o("p",null,"配置SIP服务器连接参数")],-1)),l(M,{model:u,rules:X,ref_key:"sipFormRef",ref:E,"label-width":"120px"},{default:a(()=>[l(H,{gutter:20},{default:a(()=>[l(w,{span:12},{default:a(()=>[l(s,{label:"SIP服务器",prop:"server"},{default:a(()=>[l(q,{modelValue:u.server,"onUpdate:modelValue":e[0]||(e[0]=t=>u.server=t),placeholder:"请输入SIP服务器地址"},null,8,["modelValue"])]),_:1})]),_:1}),l(w,{span:12},{default:a(()=>[l(s,{label:"端口",prop:"port"},{default:a(()=>[l(V,{modelValue:u.port,"onUpdate:modelValue":e[1]||(e[1]=t=>u.port=t),min:1,max:65535,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(H,{gutter:20},{default:a(()=>[l(w,{span:12},{default:a(()=>[l(s,{label:"用户名",prop:"username"},{default:a(()=>[l(q,{modelValue:u.username,"onUpdate:modelValue":e[2]||(e[2]=t=>u.username=t),placeholder:"请输入SIP用户名"},null,8,["modelValue"])]),_:1})]),_:1}),l(w,{span:12},{default:a(()=>[l(s,{label:"密码",prop:"password"},{default:a(()=>[l(q,{modelValue:u.password,"onUpdate:modelValue":e[3]||(e[3]=t=>u.password=t),type:"password",placeholder:"请输入SIP密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(H,{gutter:20},{default:a(()=>[l(w,{span:12},{default:a(()=>[l(s,{label:"域名",prop:"domain"},{default:a(()=>[l(q,{modelValue:u.domain,"onUpdate:modelValue":e[4]||(e[4]=t=>u.domain=t),placeholder:"请输入SIP域名"},null,8,["modelValue"])]),_:1})]),_:1}),l(w,{span:12},{default:a(()=>[l(s,{label:"传输协议",prop:"transport"},{default:a(()=>[l(S,{modelValue:u.transport,"onUpdate:modelValue":e[5]||(e[5]=t=>u.transport=t),style:{width:"100%"}},{default:a(()=>[l(d,{label:"UDP",value:"udp"}),l(d,{label:"TCP",value:"tcp"}),l(d,{label:"TLS",value:"tls"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(s,{label:"启用注册"},{default:a(()=>[l(f,{modelValue:u.enableRegister,"onUpdate:modelValue":e[6]||(e[6]=t=>u.enableRegister=t)},null,8,["modelValue"]),e[47]||(e[47]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动向SIP服务器注册 ",-1))]),_:1}),l(s,{label:"注册间隔"},{default:a(()=>[l(V,{modelValue:u.registerInterval,"onUpdate:modelValue":e[7]||(e[7]=t=>u.registerInterval=t),min:60,max:3600,disabled:!u.enableRegister},null,8,["modelValue","disabled"]),e[48]||(e[48]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),l(j,{label:"录音配置",name:"recording"},{default:a(()=>[o("div",Se,[e[55]||(e[55]=o("div",{class:"section-header"},[o("h3",null,"录音设置"),o("p",null,"配置通话录音相关参数")],-1)),l(M,{model:i,rules:Y,ref_key:"recordingFormRef",ref:G,"label-width":"120px"},{default:a(()=>[l(s,{label:"启用录音"},{default:a(()=>[l(f,{modelValue:i.enabled,"onUpdate:modelValue":e[8]||(e[8]=t=>i.enabled=t)},null,8,["modelValue"]),e[50]||(e[50]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后所有通话将自动录音 ",-1))]),_:1}),l(s,{label:"录音格式",prop:"format"},{default:a(()=>[l(S,{modelValue:i.format,"onUpdate:modelValue":e[9]||(e[9]=t=>i.format=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"MP3",value:"mp3"}),l(d,{label:"WAV",value:"wav"}),l(d,{label:"AAC",value:"aac"}),l(d,{label:"OGG",value:"ogg"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"音频质量",prop:"quality"},{default:a(()=>[l(S,{modelValue:i.quality,"onUpdate:modelValue":e[10]||(e[10]=t=>i.quality=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"低质量 (64kbps)",value:"low"}),l(d,{label:"中等质量 (128kbps)",value:"medium"}),l(d,{label:"高质量 (256kbps)",value:"high"}),l(d,{label:"无损质量 (320kbps)",value:"lossless"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"采样率",prop:"sampleRate"},{default:a(()=>[l(S,{modelValue:i.sampleRate,"onUpdate:modelValue":e[11]||(e[11]=t=>i.sampleRate=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"8kHz",value:"8000"}),l(d,{label:"16kHz",value:"16000"}),l(d,{label:"22.05kHz",value:"22050"}),l(d,{label:"44.1kHz",value:"44100"}),l(d,{label:"48kHz",value:"48000"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"存储路径",prop:"storagePath"},{default:a(()=>[l(q,{modelValue:i.storagePath,"onUpdate:modelValue":e[12]||(e[12]=t=>i.storagePath=t),placeholder:"请输入录音存储路径"},{append:a(()=>[l(C,{onClick:te},{default:a(()=>[l(_,null,{default:a(()=>[l(c(me))]),_:1}),e[51]||(e[51]=N(" 选择 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"自动删除"},{default:a(()=>[l(f,{modelValue:i.autoDelete,"onUpdate:modelValue":e[13]||(e[13]=t=>i.autoDelete=t)},null,8,["modelValue"]),e[52]||(e[52]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动删除过期录音 ",-1))]),_:1}),i.autoDelete?(b(),F(s,{key:0,label:"保留天数"},{default:a(()=>[l(V,{modelValue:i.retentionDays,"onUpdate:modelValue":e[14]||(e[14]=t=>i.retentionDays=t),min:1,max:365},null,8,["modelValue"]),e[53]||(e[53]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"天",-1))]),_:1})):z("",!0),l(s,{label:"压缩录音"},{default:a(()=>[l(f,{modelValue:i.compress,"onUpdate:modelValue":e[15]||(e[15]=t=>i.compress=t)},null,8,["modelValue"]),e[54]||(e[54]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将压缩录音文件以节省存储空间 ",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),l(j,{label:"通话质量",name:"quality"},{default:a(()=>[o("div",ce,[e[61]||(e[61]=o("div",{class:"section-header"},[o("h3",null,"通话质量控制"),o("p",null,"配置通话质量监控和优化参数")],-1)),l(M,{model:p,ref_key:"qualityFormRef",ref:A,"label-width":"120px"},{default:a(()=>[l(s,{label:"质量监控"},{default:a(()=>[l(f,{modelValue:p.enabled,"onUpdate:modelValue":e[16]||(e[16]=t=>p.enabled=t)},null,8,["modelValue"]),e[56]||(e[56]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将实时监控通话质量 ",-1))]),_:1}),l(s,{label:"延迟阈值"},{default:a(()=>[l(V,{modelValue:p.latencyThreshold,"onUpdate:modelValue":e[17]||(e[17]=t=>p.latencyThreshold=t),min:50,max:1e3},null,8,["modelValue"]),e[57]||(e[57]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"毫秒",-1))]),_:1}),l(s,{label:"丢包率阈值"},{default:a(()=>[l(V,{modelValue:p.packetLossThreshold,"onUpdate:modelValue":e[18]||(e[18]=t=>p.packetLossThreshold=t),min:0,max:10,precision:1,step:.1},null,8,["modelValue"]),e[58]||(e[58]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"%",-1))]),_:1}),l(s,{label:"抖动阈值"},{default:a(()=>[l(V,{modelValue:p.jitterThreshold,"onUpdate:modelValue":e[19]||(e[19]=t=>p.jitterThreshold=t),min:10,max:100},null,8,["modelValue"]),e[59]||(e[59]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"毫秒",-1))]),_:1}),l(s,{label:"自动优化"},{default:a(()=>[l(f,{modelValue:p.autoOptimize,"onUpdate:modelValue":e[20]||(e[20]=t=>p.autoOptimize=t)},null,8,["modelValue"]),e[60]||(e[60]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动调整参数以优化通话质量 ",-1))]),_:1}),l(s,{label:"回声消除"},{default:a(()=>[l(f,{modelValue:p.echoCancellation,"onUpdate:modelValue":e[21]||(e[21]=t=>p.echoCancellation=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"噪音抑制"},{default:a(()=>[l(f,{modelValue:p.noiseSuppression,"onUpdate:modelValue":e[22]||(e[22]=t=>p.noiseSuppression=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"自动增益"},{default:a(()=>[l(f,{modelValue:p.autoGainControl,"onUpdate:modelValue":e[23]||(e[23]=t=>p.autoGainControl=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),l(j,{label:"呼叫设置",name:"calling"},{default:a(()=>[o("div",ze,[e[68]||(e[68]=o("div",{class:"section-header"},[o("h3",null,"呼叫行为配置"),o("p",null,"配置呼叫相关的行为和限制")],-1)),l(M,{model:m,ref_key:"callingFormRef",ref:y,"label-width":"120px"},{default:a(()=>[l(s,{label:"最大通话时长"},{default:a(()=>[l(V,{modelValue:m.maxCallDuration,"onUpdate:modelValue":e[24]||(e[24]=t=>m.maxCallDuration=t),min:60,max:7200},null,8,["modelValue"]),e[62]||(e[62]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),l(s,{label:"呼叫超时"},{default:a(()=>[l(V,{modelValue:m.callTimeout,"onUpdate:modelValue":e[25]||(e[25]=t=>m.callTimeout=t),min:10,max:120},null,8,["modelValue"]),e[63]||(e[63]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),l(s,{label:"重拨次数"},{default:a(()=>[l(V,{modelValue:m.maxRetries,"onUpdate:modelValue":e[26]||(e[26]=t=>m.maxRetries=t),min:0,max:5},null,8,["modelValue"])]),_:1}),l(s,{label:"重拨间隔"},{default:a(()=>[l(V,{modelValue:m.retryInterval,"onUpdate:modelValue":e[27]||(e[27]=t=>m.retryInterval=t),min:30,max:300},null,8,["modelValue"]),e[64]||(e[64]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),l(s,{label:"自动应答"},{default:a(()=>[l(f,{modelValue:m.autoAnswer,"onUpdate:modelValue":e[28]||(e[28]=t=>m.autoAnswer=t)},null,8,["modelValue"]),e[65]||(e[65]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动接听来电 ",-1))]),_:1}),m.autoAnswer?(b(),F(s,{key:0,label:"应答延迟"},{default:a(()=>[l(V,{modelValue:m.autoAnswerDelay,"onUpdate:modelValue":e[29]||(e[29]=t=>m.autoAnswerDelay=t),min:0,max:10},null,8,["modelValue"]),e[66]||(e[66]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1})):z("",!0),l(s,{label:"呼叫转移"},{default:a(()=>[l(f,{modelValue:m.callForwarding,"onUpdate:modelValue":e[30]||(e[30]=t=>m.callForwarding=t)},null,8,["modelValue"])]),_:1}),m.callForwarding?(b(),F(s,{key:1,label:"转移号码"},{default:a(()=>[l(q,{modelValue:m.forwardingNumber,"onUpdate:modelValue":e[31]||(e[31]=t=>m.forwardingNumber=t),placeholder:"请输入转移号码"},null,8,["modelValue"])]),_:1})):z("",!0),l(s,{label:"黑名单过滤"},{default:a(()=>[l(f,{modelValue:m.blacklistFilter,"onUpdate:modelValue":e[32]||(e[32]=t=>m.blacklistFilter=t)},null,8,["modelValue"]),e[67]||(e[67]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动拒绝黑名单号码 ",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),l(j,{label:"系统设置",name:"system"},{default:a(()=>[o("div",Ie,[e[73]||(e[73]=o("div",{class:"section-header"},[o("h3",null,"系统配置"),o("p",null,"配置系统级别的参数和行为")],-1)),l(M,{model:r,ref_key:"systemFormRef",ref:B,"label-width":"120px"},{default:a(()=>[l(s,{label:"日志级别"},{default:a(()=>[l(S,{modelValue:r.logLevel,"onUpdate:modelValue":e[33]||(e[33]=t=>r.logLevel=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"调试 (Debug)",value:"debug"}),l(d,{label:"信息 (Info)",value:"info"}),l(d,{label:"警告 (Warning)",value:"warning"}),l(d,{label:"错误 (Error)",value:"error"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"日志保留"},{default:a(()=>[l(V,{modelValue:r.logRetentionDays,"onUpdate:modelValue":e[34]||(e[34]=t=>r.logRetentionDays=t),min:1,max:90},null,8,["modelValue"]),e[69]||(e[69]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"天",-1))]),_:1}),l(s,{label:"性能监控"},{default:a(()=>[l(f,{modelValue:r.performanceMonitoring,"onUpdate:modelValue":e[35]||(e[35]=t=>r.performanceMonitoring=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"统计报告"},{default:a(()=>[l(f,{modelValue:r.statisticsReporting,"onUpdate:modelValue":e[36]||(e[36]=t=>r.statisticsReporting=t)},null,8,["modelValue"]),e[70]||(e[70]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将定期生成统计报告 ",-1))]),_:1}),r.statisticsReporting?(b(),F(s,{key:0,label:"报告频率"},{default:a(()=>[l(S,{modelValue:r.reportFrequency,"onUpdate:modelValue":e[37]||(e[37]=t=>r.reportFrequency=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"每日",value:"daily"}),l(d,{label:"每周",value:"weekly"}),l(d,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1})):z("",!0),l(s,{label:"备份配置"},{default:a(()=>[l(f,{modelValue:r.autoBackup,"onUpdate:modelValue":e[38]||(e[38]=t=>r.autoBackup=t)},null,8,["modelValue"]),e[71]||(e[71]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动备份配置文件 ",-1))]),_:1}),r.autoBackup?(b(),F(s,{key:1,label:"备份间隔"},{default:a(()=>[l(S,{modelValue:r.backupInterval,"onUpdate:modelValue":e[39]||(e[39]=t=>r.backupInterval=t),style:{width:"200px"}},{default:a(()=>[l(d,{label:"每小时",value:"hourly"}),l(d,{label:"每日",value:"daily"}),l(d,{label:"每周",value:"weekly"})]),_:1},8,["modelValue"])]),_:1})):z("",!0),l(s,{label:"API限流"},{default:a(()=>[l(f,{modelValue:r.apiRateLimit,"onUpdate:modelValue":e[40]||(e[40]=t=>r.apiRateLimit=t)},null,8,["modelValue"])]),_:1}),r.apiRateLimit?(b(),F(s,{key:2,label:"限流阈值"},{default:a(()=>[l(V,{modelValue:r.rateLimitThreshold,"onUpdate:modelValue":e[41]||(e[41]=t=>r.rateLimitThreshold=t),min:10,max:1e3},null,8,["modelValue"]),e[72]||(e[72]=o("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"请求/分钟",-1))]),_:1})):z("",!0)]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),o("div",qe,[l(Q,null,{header:a(()=>[...e[74]||(e[74]=[o("span",null,"连接状态",-1)])]),default:a(()=>[l(H,{gutter:20},{default:a(()=>[l(w,{span:8},{default:a(()=>[o("div",De,[o("div",{class:J(["status-icon",x.sip?"connected":"disconnected"])},[l(_,null,{default:a(()=>[l(c(K))]),_:1})],2),o("div",Te,[e[75]||(e[75]=o("div",{class:"status-label"},"SIP服务器",-1)),o("div",Fe,v(x.sip?"已连接":"未连接"),1),o("div",Le,v(u.server)+":"+v(u.port),1)])])]),_:1}),l(w,{span:8},{default:a(()=>[o("div",Oe,[o("div",{class:J(["status-icon",x.recording?"connected":"disconnected"])},[l(_,null,{default:a(()=>[l(c(pe))]),_:1})],2),o("div",Ae,[e[76]||(e[76]=o("div",{class:"status-label"},"录音服务",-1)),o("div",Be,v(x.recording?"正常":"异常"),1),o("div",Me,v(i.enabled?"已启用":"已禁用"),1)])])]),_:1}),l(w,{span:8},{default:a(()=>[o("div",je,[o("div",{class:J(["status-icon",x.quality?"connected":"disconnected"])},[l(_,null,{default:a(()=>[l(c(fe))]),_:1})],2),o("div",Ne,[e[77]||(e[77]=o("div",{class:"status-label"},"质量监控",-1)),o("div",Ee,v(x.quality?"正常":"异常"),1),o("div",Ge,v(p.enabled?"已启用":"已禁用"),1)])])]),_:1})]),_:1})]),_:1})]),o("div",He,[l(Q,null,{header:a(()=>[o("div",We,[e[79]||(e[79]=o("span",null,"操作日志",-1)),l(C,{size:"small",onClick:ae},{default:a(()=>[...e[78]||(e[78]=[N("清空日志",-1)])]),_:1})])]),default:a(()=>[o("div",$e,[(b(!0),$(ve,null,ye(P.value,(t,ue)=>(b(),$("div",{key:ue,class:J(["log-item",t.level])},[o("div",Je,v(h(t.timestamp)),1),o("div",Qe,v(t.level.toUpperCase()),1),o("div",Ze,v(t.message),1)],2))),128)),P.value.length?z("",!0):(b(),$("div",Ke,[l(ne,{description:"暂无日志记录","image-size":80})]))])]),_:1})])])}}}),ol=xe(Xe,[["__scopeId","data-v-b07d72c8"]]);export{ol as default};
