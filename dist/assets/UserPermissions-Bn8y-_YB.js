import{u as s,U as e,_ as n}from"./index-C4IdUW1A.js";import{l,aA as r,ag as a,m as i,q as t,p as u,U as o,O as d,S as c,T as g,u as m}from"./vendor-BtukhyiH.js";import{E as p}from"./elementPlus-DxaqjplL.js";import"./utils-DfI7e5Rl.js";const f={class:"debug-container"},_={class:"debug-info"},v={class:"info-item"},U={class:"info-item"},A={class:"info-item"},y={class:"info-item"},S={class:"info-item"},R={class:"info-item"},b={class:"debug-info"},I={class:"info-item"},M={class:"info-item"},h={class:"info-item"},P={class:"info-item"},D={class:"info-item"},E={class:"debug-info"},k={class:"info-item"},N={class:"info-item"},j={class:"info-item"},L={class:"debug-actions"},C=n(l({__name:"UserPermissions",setup(n){const l=s(),C=r(),x=()=>{console.log("当前用户信息:",l.currentUser),console.log("isSuperAdmin:",l.isSuperAdmin),p.success("用户信息已刷新，请查看控制台")},q=()=>{l.isSuperAdmin?p.success("超级管理员权限验证通过"):p.error("超级管理员权限验证失败")},O=()=>{C.push("/system/super-admin-panel").catch(s=>{console.error("导航失败:",s),p.error("导航失败: "+s.message)})};return(s,n)=>{const r=a("el-card"),p=a("el-tag"),C=a("el-button");return t(),i("div",f,[n[21]||(n[21]=u("h2",null,"用户权限调试信息",-1)),o(r,{class:"debug-card"},{header:d(()=>[...n[0]||(n[0]=[u("span",null,"当前用户信息",-1)])]),default:d(()=>[u("div",_,[u("div",v,[n[1]||(n[1]=u("strong",null,"用户ID:",-1)),c(" "+g(m(l).currentUser?.id||"null"),1)]),u("div",U,[n[2]||(n[2]=u("strong",null,"用户名:",-1)),c(" "+g(m(l).currentUser?.name||"null"),1)]),u("div",A,[n[3]||(n[3]=u("strong",null,"角色 (role):",-1)),c(" "+g(m(l).currentUser?.role||"null"),1)]),u("div",y,[n[4]||(n[4]=u("strong",null,"用户角色 (userRole):",-1)),c(" "+g(m(l).currentUser?.userRole||"null"),1)]),u("div",S,[n[5]||(n[5]=u("strong",null,"权限级别:",-1)),c(" "+g(m(l).currentUser?.permissionLevel||"null"),1)]),u("div",R,[n[6]||(n[6]=u("strong",null,"数据范围:",-1)),c(" "+g(m(l).currentUser?.dataScope||"null"),1)])])]),_:1}),o(r,{class:"debug-card"},{header:d(()=>[...n[7]||(n[7]=[u("span",null,"权限检查结果",-1)])]),default:d(()=>[u("div",b,[u("div",I,[n[8]||(n[8]=u("strong",null,"isLoggedIn:",-1)),o(p,{type:m(l).isLoggedIn?"success":"danger"},{default:d(()=>[c(g(m(l).isLoggedIn),1)]),_:1},8,["type"])]),u("div",M,[n[9]||(n[9]=u("strong",null,"isAdmin:",-1)),o(p,{type:m(l).isAdmin?"success":"danger"},{default:d(()=>[c(g(m(l).isAdmin),1)]),_:1},8,["type"])]),u("div",h,[n[10]||(n[10]=u("strong",null,"isSuperAdmin:",-1)),o(p,{type:m(l).isSuperAdmin?"success":"danger"},{default:d(()=>[c(g(m(l).isSuperAdmin),1)]),_:1},8,["type"])]),u("div",P,[n[11]||(n[11]=u("strong",null,"isManager:",-1)),o(p,{type:m(l).isManager?"success":"danger"},{default:d(()=>[c(g(m(l).isManager),1)]),_:1},8,["type"])]),u("div",D,[n[12]||(n[12]=u("strong",null,"token:",-1)),c(" "+g(m(l).token||"null"),1)])])]),_:1}),o(r,{class:"debug-card"},{header:d(()=>[...n[13]||(n[13]=[u("span",null,"权限常量检查",-1)])]),default:d(()=>[u("div",E,[u("div",k,[n[14]||(n[14]=u("strong",null,"UserRole.SUPER_ADMIN:",-1)),c(" "+g(m(e).SUPER_ADMIN),1)]),u("div",N,[n[15]||(n[15]=u("strong",null,"当前用户userRole === UserRole.SUPER_ADMIN:",-1)),o(p,{type:m(l).currentUser?.userRole===m(e).SUPER_ADMIN?"success":"danger"},{default:d(()=>[c(g(m(l).currentUser?.userRole===m(e).SUPER_ADMIN),1)]),_:1},8,["type"])]),u("div",j,[n[16]||(n[16]=u("strong",null,"当前用户role === 'admin':",-1)),o(p,{type:"admin"===m(l).currentUser?.role?"success":"danger"},{default:d(()=>[c(g("admin"===m(l).currentUser?.role),1)]),_:1},8,["type"])])])]),_:1}),o(r,{class:"debug-card"},{header:d(()=>[...n[17]||(n[17]=[u("span",null,"操作测试",-1)])]),default:d(()=>[u("div",L,[o(C,{onClick:x},{default:d(()=>[...n[18]||(n[18]=[c("刷新用户信息",-1)])]),_:1}),o(C,{onClick:q},{default:d(()=>[...n[19]||(n[19]=[c("测试超级管理员访问",-1)])]),_:1}),o(C,{onClick:O},{default:d(()=>[...n[20]||(n[20]=[c("导航到超级管理员面板",-1)])]),_:1})])]),_:1})])}}}),[["__scopeId","data-v-6c7ba790"]]);export{C as default};
