import{u as e}from"./call-tocDvhqz.js";import{u as l,S as a,c as t,_ as s}from"./index-BGtT17ll.js";import{l as i,aA as o,e as d,r as u,Z as n,b as r,ag as c,aq as v,m as p,q as f,p as m,Q as g,U as _,S as h,O as w,u as b,T as y,F as C,a9 as k,M as V,P as z,J as x}from"./vendor-BtukhyiH.js";import{d as R}from"./sensitiveInfo-PTigg6SS.js";import{az as q,G as U,a4 as S,r as P,aE as M,a9 as I,a3 as T,D,F as j,V as N,C as F,j as H,t as Y,d as $,ax as E,Q,U as B,A as O,aF as L,S as A,E as G,b as J}from"./elementPlus-DxaqjplL.js";import"./utils-DfI7e5Rl.js";const K={class:"recording-management"},Z={class:"page-header"},W={class:"header-content"},X={class:"page-title"},ee={class:"header-actions"},le={class:"overview-section"},ae={class:"overview-content"},te={class:"overview-icon total"},se={class:"overview-info"},ie={class:"overview-value"},oe={class:"overview-change"},de={class:"change-text"},ue={class:"overview-content"},ne={class:"overview-icon today"},re={class:"overview-info"},ce={class:"overview-value"},ve={class:"overview-change"},pe={class:"change-text positive"},fe={class:"overview-content"},me={class:"overview-icon duration"},ge={class:"overview-info"},_e={class:"overview-value"},he={class:"overview-change"},we={class:"change-text"},be={class:"overview-content"},ye={class:"overview-icon quality"},Ce={class:"overview-info"},ke={class:"overview-value"},Ve={class:"overview-change"},ze={class:"change-text"},xe={class:"search-section"},Re={key:0,class:"player-section"},qe={class:"player-header"},Ue={class:"audio-player"},Se=["src"],Pe={class:"player-info"},Me={class:"player-details"},Ie={class:"detail-item"},Te={class:"detail-value"},De={class:"detail-item"},je={class:"detail-value"},Ne={class:"detail-item"},Fe={class:"detail-value"},He={class:"detail-item"},Ye={class:"player-actions"},$e={class:"table-section"},Ee={class:"table-header"},Qe={class:"table-actions"},Be={key:0,class:"quality-info"},Oe={class:"quality-text"},Le={key:1,style:{color:"#C0C4CC"}},Ae={class:"pagination-wrapper"},Ge={key:0,class:"waveform-container"},Je={class:"waveform-header"},Ke={class:"waveform-controls"},Ze={class:"waveform-placeholder"},We={class:"waveform-info"},Xe={class:"info-item"},el={class:"info-value"},ll={class:"info-item"},al={class:"info-value"},tl={class:"info-item"},sl={class:"info-value"},il=s(i({__name:"RecordingManagement",setup(s){const i=e(),il=l(),ol=o(),dl=t(ol),ul=d(()=>il.users.filter(e=>["sales_staff","department_manager","admin","super_admin","customer_service"].includes(e.role)).map(e=>({id:e.id,name:e.realName||e.name||e.username}))),nl=u(!1),rl=u(!1),cl=u(!1),vl=u([]),pl=u([]),fl=u(0),ml=u(null),gl=u(null),_l=u(!1),hl=u(!1),wl=u(),bl=u(),yl=u({totalRecordings:0,todayRecordings:0,todayIncrease:0,totalSize:0,totalDuration:0,avgDuration:0,avgQuality:0,highQualityCount:0}),Cl=n({status:"",quality:"",customerInfo:"",dateRange:[],userId:"",durationRange:""}),kl=n({page:1,size:20}),Vl=n({title:"",description:"",tags:[],qualityScore:0,isPublic:!1}),zl=u(),xl={title:[{required:!0,message:"请输入录音标题",trigger:"blur"}]},Rl=e=>new Date(e).toLocaleString("zh-CN"),ql=e=>{if(e<60)return`${e}秒`;const l=Math.floor(e/3600),a=Math.floor(e%3600/60),t=e%60;return l>0?`${l}小时${a}分${t}秒`:`${a}分${t}秒`},Ul=e=>{if(0===e)return"0 B";const l=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,l)).toFixed(2))+" "+["B","KB","MB","GB"][l]},Sl=e=>({normal:"正常",processing:"处理中",corrupted:"损坏",deleted:"已删除"}[e]||"未知"),Pl=async()=>{try{nl.value=!0;const e={page:kl.page,size:kl.size,...Cl,startTime:Cl.dateRange[0],endTime:Cl.dateRange[1]},l=await i.fetchRecordings(e);vl.value=l.recordings,fl.value=l.total}catch(e){console.error("加载录音列表失败:",e),G.error("加载数据失败")}finally{nl.value=!1}},Ml=async()=>{try{const e=await i.fetchRecordingStatistics();yl.value=e}catch(e){console.error("加载概览数据失败:",e)}},Il=()=>{kl.page=1,Pl()},Tl=()=>{Object.assign(Cl,{status:"",quality:"",customerInfo:"",dateRange:[],userId:"",durationRange:""}),Il()},Dl=()=>{Pl(),Ml()},jl=e=>{pl.value=e},Nl=e=>{kl.size=e,Pl()},Fl=e=>{kl.page=e,Pl()},Hl=()=>{ml.value=null,wl.value&&wl.value.pause()},Yl=()=>{console.log("音频加载完成")},$l=()=>{},El=()=>{console.log("音频播放结束")},Ql=async e=>{try{await i.downloadRecording(e.id),G.success("录音下载成功")}catch(l){console.error("下载录音失败:",l),G.error("下载失败")}},Bl=e=>{G.info("分享功能开发中")},Ol=()=>{G.info("波形播放功能开发中")},Ll=()=>{G.info("波形暂停功能开发中")},Al=()=>{G.info("波形重置功能开发中")},Gl=async()=>{if(zl.value&&gl.value)try{await zl.value.validate(),rl.value=!0,await i.updateRecording(gl.value.id,{title:Vl.title,description:Vl.description,tags:Vl.tags,quality:{...gl.value.quality,score:Vl.qualityScore},isPublic:Vl.isPublic}),G.success("录音信息已更新"),hl.value=!1,Pl()}catch(e){console.error("更新录音信息失败:",e),G.error("更新失败")}finally{rl.value=!1}},Jl=async()=>{if(pl.value&&0!==pl.value.length)try{const e=pl.value.map(e=>e.id);await i.batchDownloadRecordings(e),G.success("批量下载成功")}catch(e){console.error("批量下载失败:",e),G.error("批量下载失败")}else G.warning("请先选择要下载的录音")},Kl=async()=>{if(pl.value&&0!==pl.value.length)try{await J.confirm(`确定要删除选中的 ${pl.value.length} 个录音吗？删除后无法恢复！`,"批量删除",{type:"warning"});const e=pl.value.map(e=>e.id);await i.batchDeleteRecordings(e),G.success("批量删除成功"),Pl()}catch(e){"cancel"!==e&&(console.error("批量删除失败:",e),G.error("批量删除失败"))}else G.warning("请先选择要删除的录音")},Zl=async()=>{try{cl.value=!0;const e={...Cl,startTime:Cl.dateRange[0],endTime:Cl.dateRange[1]};await i.exportRecordingList(e),G.success("导出成功")}catch(e){console.error("导出失败:",e),G.error("导出失败")}finally{cl.value=!1}};return r(async()=>{await il.loadUsers(),Pl(),Ml()}),(e,l)=>{const t=c("el-icon"),s=c("el-button"),o=c("el-card"),d=c("el-col"),u=c("el-row"),n=c("el-option"),r=c("el-select"),il=c("el-form-item"),ol=c("el-input"),Ml=c("el-date-picker"),Wl=c("el-form"),Xl=c("el-rate"),ea=c("el-table-column"),la=c("el-tag"),aa=c("el-dropdown-item"),ta=c("el-dropdown-menu"),sa=c("el-dropdown"),ia=c("el-table"),oa=c("el-pagination"),da=c("el-dialog"),ua=c("el-switch"),na=v("loading");return f(),p("div",K,[m("div",Z,[m("div",W,[m("h1",X,[_(t,null,{default:w(()=>[_(b(q))]),_:1}),l[19]||(l[19]=h(" 录音管理 ",-1))]),l[20]||(l[20]=m("p",{class:"page-description"},"管理和播放通话录音，支持在线播放、下载和分享",-1))]),m("div",ee,[_(s,{onClick:Jl,disabled:!pl.value.length},{default:w(()=>[_(t,null,{default:w(()=>[_(b(U))]),_:1}),l[21]||(l[21]=h(" 批量下载 ",-1))]),_:1},8,["disabled"]),_(s,{onClick:Zl,loading:cl.value},{default:w(()=>[_(t,null,{default:w(()=>[_(b(S))]),_:1}),l[22]||(l[22]=h(" 导出列表 ",-1))]),_:1},8,["loading"]),_(s,{onClick:Dl,loading:nl.value},{default:w(()=>[_(t,null,{default:w(()=>[_(b(P))]),_:1}),l[23]||(l[23]=h(" 刷新 ",-1))]),_:1},8,["loading"])])]),m("div",le,[_(u,{gutter:20},{default:w(()=>[_(d,{span:6},{default:w(()=>[_(o,{class:"overview-card"},{default:w(()=>[m("div",ae,[m("div",te,[_(t,null,{default:w(()=>[_(b(M))]),_:1})]),m("div",se,[m("div",ie,y(yl.value.totalRecordings||0),1),l[25]||(l[25]=m("div",{class:"overview-label"},"总录音数",-1)),m("div",oe,[m("span",de,y(Ul(yl.value.totalSize||0)),1),l[24]||(l[24]=m("span",{class:"change-label"},"总大小",-1))])])])]),_:1})]),_:1}),_(d,{span:6},{default:w(()=>[_(o,{class:"overview-card"},{default:w(()=>[m("div",ue,[m("div",ne,[_(t,null,{default:w(()=>[_(b(I))]),_:1})]),m("div",re,[m("div",ce,y(yl.value.todayRecordings||0),1),l[27]||(l[27]=m("div",{class:"overview-label"},"今日录音",-1)),m("div",ve,[m("span",pe,"+"+y(yl.value.todayIncrease||0),1),l[26]||(l[26]=m("span",{class:"change-label"},"较昨日",-1))])])])]),_:1})]),_:1}),_(d,{span:6},{default:w(()=>[_(o,{class:"overview-card"},{default:w(()=>[m("div",fe,[m("div",me,[_(t,null,{default:w(()=>[_(b(T))]),_:1})]),m("div",ge,[m("div",_e,y(ql(yl.value.totalDuration||0)),1),l[29]||(l[29]=m("div",{class:"overview-label"},"总时长",-1)),m("div",he,[m("span",we,y(ql(yl.value.avgDuration||0)),1),l[28]||(l[28]=m("span",{class:"change-label"},"平均时长",-1))])])])]),_:1})]),_:1}),_(d,{span:6},{default:w(()=>[_(o,{class:"overview-card"},{default:w(()=>[m("div",be,[m("div",ye,[_(t,null,{default:w(()=>[_(b(D))]),_:1})]),m("div",Ce,[m("div",ke,y(yl.value.avgQuality||0)+"%",1),l[31]||(l[31]=m("div",{class:"overview-label"},"平均质量",-1)),m("div",Ve,[m("span",ze,y(yl.value.highQualityCount||0),1),l[30]||(l[30]=m("span",{class:"change-label"},"高质量录音",-1))])])])]),_:1})]),_:1})]),_:1})]),m("div",xe,[_(o,null,{default:w(()=>[_(Wl,{model:Cl,inline:""},{default:w(()=>[_(il,{label:"录音状态"},{default:w(()=>[_(r,{modelValue:Cl.status,"onUpdate:modelValue":l[0]||(l[0]=e=>Cl.status=e),placeholder:"请选择状态",clearable:"",style:{width:"150px"}},{default:w(()=>[_(n,{label:"全部",value:""}),_(n,{label:"正常",value:"normal"}),_(n,{label:"处理中",value:"processing"}),_(n,{label:"损坏",value:"corrupted"}),_(n,{label:"已删除",value:"deleted"})]),_:1},8,["modelValue"])]),_:1}),_(il,{label:"录音质量"},{default:w(()=>[_(r,{modelValue:Cl.quality,"onUpdate:modelValue":l[1]||(l[1]=e=>Cl.quality=e),placeholder:"请选择质量",clearable:"",style:{width:"150px"}},{default:w(()=>[_(n,{label:"全部",value:""}),_(n,{label:"高质量",value:"high"}),_(n,{label:"中等质量",value:"medium"}),_(n,{label:"低质量",value:"low"})]),_:1},8,["modelValue"])]),_:1}),_(il,{label:"客户信息"},{default:w(()=>[_(ol,{modelValue:Cl.customerInfo,"onUpdate:modelValue":l[2]||(l[2]=e=>Cl.customerInfo=e),placeholder:"客户姓名/电话",clearable:"",style:{width:"200px"}},null,8,["modelValue"])]),_:1}),_(il,{label:"录音时间"},{default:w(()=>[_(Ml,{modelValue:Cl.dateRange,"onUpdate:modelValue":l[3]||(l[3]=e=>Cl.dateRange=e),type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"YYYY-MM-DD HH:mm","value-format":"YYYY-MM-DD HH:mm:ss",style:{width:"320px"}},null,8,["modelValue"])]),_:1}),_(il,{label:"录音人员"},{default:w(()=>[_(r,{modelValue:Cl.userId,"onUpdate:modelValue":l[4]||(l[4]=e=>Cl.userId=e),placeholder:"请选择人员",clearable:"",style:{width:"150px"}},{default:w(()=>[_(n,{label:"全部",value:""}),(f(!0),p(C,null,k(ul.value,e=>(f(),V(n,{key:e.id,label:e.name,value:e.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),_(il,{label:"时长筛选"},{default:w(()=>[_(r,{modelValue:Cl.durationRange,"onUpdate:modelValue":l[5]||(l[5]=e=>Cl.durationRange=e),placeholder:"请选择时长",clearable:"",style:{width:"150px"}},{default:w(()=>[_(n,{label:"全部",value:""}),_(n,{label:"30秒以下",value:"0-30"}),_(n,{label:"30秒-2分钟",value:"30-120"}),_(n,{label:"2-5分钟",value:"120-300"}),_(n,{label:"5分钟以上",value:"300+"})]),_:1},8,["modelValue"])]),_:1}),_(il,null,{default:w(()=>[_(s,{type:"primary",onClick:Il},{default:w(()=>[_(t,null,{default:w(()=>[_(b(j))]),_:1}),l[32]||(l[32]=h(" 搜索 ",-1))]),_:1}),_(s,{onClick:Tl},{default:w(()=>[...l[33]||(l[33]=[h("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),ml.value?(f(),p("div",Re,[_(o,null,{header:w(()=>[m("div",qe,[m("span",null,"正在播放："+y(ml.value.customerName)+" - "+y(Rl(ml.value.startTime)),1),_(s,{text:"",onClick:Hl},{default:w(()=>[_(t,null,{default:w(()=>[_(b(H))]),_:1})]),_:1})])]),default:w(()=>[m("div",Ue,[m("audio",{ref_key:"audioPlayer",ref:wl,controls:"",autoplay:"",style:{width:"100%"},src:ml.value.recordingUrl,onLoadedmetadata:Yl,onTimeupdate:$l,onEnded:El}," 您的浏览器不支持音频播放 ",40,Se),m("div",Pe,[m("div",Me,[m("div",Ie,[l[34]||(l[34]=m("span",{class:"detail-label"},"客户：",-1)),m("span",Te,y(ml.value.customerName),1)]),m("div",De,[l[35]||(l[35]=m("span",{class:"detail-label"},"电话：",-1)),m("span",je,y(b(R)(ml.value.customerPhone,b(a).PHONE)),1)]),m("div",Ne,[l[36]||(l[36]=m("span",{class:"detail-label"},"时长：",-1)),m("span",Fe,y(ql(ml.value.duration)),1)]),m("div",He,[l[37]||(l[37]=m("span",{class:"detail-label"},"质量：",-1)),_(Xl,{"model-value":ml.value.quality?.score||0,disabled:"",size:"small"},null,8,["model-value"])])]),m("div",Ye,[_(s,{size:"small",onClick:l[6]||(l[6]=e=>Ql(ml.value))},{default:w(()=>[_(t,null,{default:w(()=>[_(b(U))]),_:1}),l[38]||(l[38]=h(" 下载 ",-1))]),_:1}),_(s,{size:"small",onClick:l[7]||(l[7]=e=>Bl(ml.value))},{default:w(()=>[_(t,null,{default:w(()=>[_(b(N))]),_:1}),l[39]||(l[39]=h(" 分享 ",-1))]),_:1}),_(s,{size:"small",onClick:l[8]||(l[8]=e=>(ml.value,void G.success("已添加到播放列表")))},{default:w(()=>[_(t,null,{default:w(()=>[_(b(F))]),_:1}),l[40]||(l[40]=h(" 添加到播放列表 ",-1))]),_:1})])])])]),_:1})])):g("",!0),m("div",$e,[_(o,null,{header:w(()=>[m("div",Ee,[m("span",null,"录音列表 (共 "+y(fl.value)+" 条)",1),m("div",Qe,[_(s,{size:"small",disabled:!pl.value.length,onClick:Jl},{default:w(()=>[...l[41]||(l[41]=[h(" 批量下载 ",-1)])]),_:1},8,["disabled"]),_(s,{size:"small",disabled:!pl.value.length,onClick:Kl},{default:w(()=>[...l[42]||(l[42]=[h(" 批量删除 ",-1)])]),_:1},8,["disabled"])])])]),default:w(()=>[z((f(),V(ia,{data:vl.value,onSelectionChange:jl,style:{width:"100%"},"row-key":"id"},{default:w(()=>[_(ea,{type:"selection",width:"55"}),_(ea,{prop:"customerName",label:"客户姓名",width:"120"},{default:w(({row:e})=>[_(s,{text:"",onClick:l=>{return a=e.customerId,void dl.push(`/customer-management/detail/${a}`);var a}},{default:w(()=>[h(y(e.customerName||"未知客户"),1)]),_:2},1032,["onClick"])]),_:1}),_(ea,{prop:"customerPhone",label:"客户电话",width:"140"},{default:w(({row:e})=>[h(y(b(R)(e.customerPhone,b(a).PHONE)),1)]),_:1}),_(ea,{prop:"userName",label:"录音人员",width:"100"}),_(ea,{prop:"startTime",label:"录音时间",width:"160"},{default:w(({row:e})=>[h(y(Rl(e.startTime)),1)]),_:1}),_(ea,{prop:"duration",label:"录音时长",width:"100",sortable:""},{default:w(({row:e})=>{return[m("span",{class:x((l=e.duration,l<30?"short-duration":l<300?"medium-duration":"long-duration"))},y(ql(e.duration)),3)];var l}),_:1}),_(ea,{prop:"fileSize",label:"文件大小",width:"100",sortable:""},{default:w(({row:e})=>[h(y(Ul(e.fileSize)),1)]),_:1}),_(ea,{prop:"quality",label:"录音质量",width:"120"},{default:w(({row:e})=>{return[e.quality?(f(),p("div",Be,[_(Xl,{"model-value":e.quality.score,disabled:"",size:"small"},null,8,["model-value"]),m("span",Oe,y((l=e.quality.score,l>=4?"高质量":l>=3?"中等质量":"低质量")),1)])):(f(),p("span",Le,"未评分"))];var l}),_:1}),_(ea,{prop:"status",label:"状态",width:"100"},{default:w(({row:e})=>{return[_(la,{type:(l=e.status,{normal:"success",processing:"warning",corrupted:"danger",deleted:"info"}[l]||"info"),size:"small"},{default:w(()=>[h(y(Sl(e.status)),1)]),_:2},1032,["type"])];var l}),_:1}),_(ea,{prop:"format",label:"格式",width:"80"},{default:w(({row:e})=>[_(la,{size:"small",effect:"plain"},{default:w(()=>[h(y(e.format?.toUpperCase()||"MP3"),1)]),_:2},1024)]),_:1}),_(ea,{prop:"downloadCount",label:"下载次数",width:"100",sortable:""}),_(ea,{label:"操作",width:"250",fixed:"right"},{default:w(({row:e})=>[_(s,{text:"",size:"small",onClick:l=>{return a=e,ml.value=a,void setTimeout(()=>{const e=document.querySelector(".player-section");e&&e.scrollIntoView({behavior:"smooth"})},100);var a},disabled:"normal"!==e.status},{default:w(()=>[_(t,null,{default:w(()=>[_(b(q))]),_:1}),l[43]||(l[43]=h(" 播放 ",-1))]),_:1},8,["onClick","disabled"]),_(s,{text:"",size:"small",onClick:l=>Ql(e)},{default:w(()=>[_(t,null,{default:w(()=>[_(b(U))]),_:1}),l[44]||(l[44]=h(" 下载 ",-1))]),_:1},8,["onClick"]),_(s,{text:"",size:"small",onClick:l=>{return a=e,gl.value=a,_l.value=!0,void setTimeout(()=>{bl.value&&(bl.value.innerHTML='<div style="height: 200px; background: linear-gradient(90deg, #409EFF 0%, #67C23A 100%); border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white;">波形图显示区域</div>')},1e3);var a}},{default:w(()=>[_(t,null,{default:w(()=>[_(b(Y))]),_:1}),l[45]||(l[45]=h(" 波形 ",-1))]),_:1},8,["onClick"]),_(sa,null,{dropdown:w(()=>[_(ta,null,{default:w(()=>[_(aa,{onClick:e=>Bl()},{default:w(()=>[_(t,null,{default:w(()=>[_(b(N))]),_:1}),l[47]||(l[47]=h(" 分享录音 ",-1))]),_:1},8,["onClick"]),_(aa,{onClick:e=>{G.info("格式转换功能开发中")}},{default:w(()=>[_(t,null,{default:w(()=>[_(b(E))]),_:1}),l[48]||(l[48]=h(" 格式转换 ",-1))]),_:1},8,["onClick"]),_(aa,{onClick:l=>{return a=e,gl.value=a,Object.assign(Vl,{title:a.title||"",description:a.description||"",tags:a.tags||[],qualityScore:a.quality?.score||0,isPublic:a.isPublic||!1}),void(hl.value=!0);var a}},{default:w(()=>[_(t,null,{default:w(()=>[_(b(Q))]),_:1}),l[49]||(l[49]=h(" 编辑信息 ",-1))]),_:1},8,["onClick"]),_(aa,{onClick:e=>{G.info("质量分析功能开发中")}},{default:w(()=>[_(t,null,{default:w(()=>[_(b(B))]),_:1}),l[50]||(l[50]=h(" 质量分析 ",-1))]),_:1},8,["onClick"]),_(aa,{onClick:l=>(async e=>{try{await J.confirm("确定要删除这个录音吗？删除后无法恢复！","确认删除",{type:"warning"}),await i.deleteRecording(e.id),G.success("删除成功"),Pl()}catch(l){"cancel"!==l&&(console.error("删除录音失败:",l),G.error("删除失败"))}})(e),divided:""},{default:w(()=>[_(t,null,{default:w(()=>[_(b(O))]),_:1}),l[51]||(l[51]=h(" 删除录音 ",-1))]),_:1},8,["onClick"])]),_:2},1024)]),default:w(()=>[_(s,{text:"",size:"small"},{default:w(()=>[l[46]||(l[46]=h(" 更多",-1)),_(t,null,{default:w(()=>[_(b($))]),_:1})]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[na,nl.value]]),m("div",Ae,[_(oa,{"current-page":kl.page,"onUpdate:currentPage":l[9]||(l[9]=e=>kl.page=e),"page-size":kl.size,"onUpdate:pageSize":l[10]||(l[10]=e=>kl.size=e),"page-sizes":[10,20,50,100],total:fl.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Nl,onCurrentChange:Fl},null,8,["current-page","page-size","total"])])]),_:1})]),_(da,{modelValue:_l.value,"onUpdate:modelValue":l[11]||(l[11]=e=>_l.value=e),title:"录音波形分析",width:"900px"},{default:w(()=>[gl.value?(f(),p("div",Ge,[m("div",Je,[m("h3",null,y(gl.value.customerName)+" - "+y(Rl(gl.value.startTime)),1),m("div",Ke,[_(s,{size:"small",onClick:Ol},{default:w(()=>[_(t,null,{default:w(()=>[_(b(q))]),_:1}),l[52]||(l[52]=h(" 播放 ",-1))]),_:1}),_(s,{size:"small",onClick:Ll},{default:w(()=>[_(t,null,{default:w(()=>[_(b(L))]),_:1}),l[53]||(l[53]=h(" 暂停 ",-1))]),_:1}),_(s,{size:"small",onClick:Al},{default:w(()=>[_(t,null,{default:w(()=>[_(b(A))]),_:1}),l[54]||(l[54]=h(" 重置 ",-1))]),_:1})])]),m("div",{class:"waveform-display",ref_key:"waveformContainer",ref:bl},[m("div",Ze,[_(t,{size:"48"},{default:w(()=>[_(b(Y))]),_:1}),l[55]||(l[55]=m("p",null,"波形图加载中...",-1))])],512),m("div",We,[_(u,{gutter:20},{default:w(()=>[_(d,{span:8},{default:w(()=>[m("div",Xe,[l[56]||(l[56]=m("span",{class:"info-label"},"采样率：",-1)),m("span",el,y(gl.value.sampleRate||"44.1kHz"),1)])]),_:1}),_(d,{span:8},{default:w(()=>[m("div",ll,[l[57]||(l[57]=m("span",{class:"info-label"},"比特率：",-1)),m("span",al,y(gl.value.bitRate||"128kbps"),1)])]),_:1}),_(d,{span:8},{default:w(()=>[m("div",tl,[l[58]||(l[58]=m("span",{class:"info-label"},"声道：",-1)),m("span",sl,y(gl.value.channels||"单声道"),1)])]),_:1})]),_:1})])])):g("",!0)]),_:1},8,["modelValue"]),_(da,{modelValue:hl.value,"onUpdate:modelValue":l[18]||(l[18]=e=>hl.value=e),title:"编辑录音信息",width:"600px","close-on-click-modal":!1},{footer:w(()=>[_(s,{onClick:l[17]||(l[17]=e=>hl.value=!1)},{default:w(()=>[...l[60]||(l[60]=[h("取消",-1)])]),_:1}),_(s,{type:"primary",onClick:Gl,loading:rl.value},{default:w(()=>[...l[61]||(l[61]=[h(" 保存 ",-1)])]),_:1},8,["loading"])]),default:w(()=>[_(Wl,{model:Vl,rules:xl,ref_key:"editFormRef",ref:zl,"label-width":"100px"},{default:w(()=>[_(il,{label:"录音标题",prop:"title"},{default:w(()=>[_(ol,{modelValue:Vl.title,"onUpdate:modelValue":l[12]||(l[12]=e=>Vl.title=e),placeholder:"请输入录音标题"},null,8,["modelValue"])]),_:1}),_(il,{label:"录音描述",prop:"description"},{default:w(()=>[_(ol,{modelValue:Vl.description,"onUpdate:modelValue":l[13]||(l[13]=e=>Vl.description=e),type:"textarea",rows:3,placeholder:"请输入录音描述"},null,8,["modelValue"])]),_:1}),_(il,{label:"录音标签"},{default:w(()=>[_(r,{modelValue:Vl.tags,"onUpdate:modelValue":l[14]||(l[14]=e=>Vl.tags=e),multiple:"",filterable:"","allow-create":"",placeholder:"请选择或输入标签",style:{width:"100%"}},{default:w(()=>[_(n,{label:"重要",value:"important"}),_(n,{label:"投诉",value:"complaint"}),_(n,{label:"咨询",value:"inquiry"}),_(n,{label:"销售",value:"sales"}),_(n,{label:"售后",value:"support"})]),_:1},8,["modelValue"])]),_:1}),_(il,{label:"录音质量"},{default:w(()=>[_(Xl,{modelValue:Vl.qualityScore,"onUpdate:modelValue":l[15]||(l[15]=e=>Vl.qualityScore=e),"show-text":""},null,8,["modelValue"])]),_:1}),_(il,{label:"是否公开"},{default:w(()=>[_(ua,{modelValue:Vl.isPublic,"onUpdate:modelValue":l[16]||(l[16]=e=>Vl.isPublic=e)},null,8,["modelValue"]),l[59]||(l[59]=m("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 公开后其他人员可以查看此录音 ",-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-8fd8c890"]]);export{il as default};
