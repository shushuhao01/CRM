var S=(ue,A,U)=>new Promise((J,I)=>{var Q=y=>{try{c(U.next(y))}catch(T){I(T)}},D=y=>{try{c(U.throw(y))}catch(T){I(T)}},c=y=>y.done?J(y.value):Promise.resolve(y.value).then(Q,D);c((U=U.apply(ue,A)).next())});import{l as Re,az as Le,aC as De,r as m,Z as re,c as Ee,ag as g,m as x,p as h,q as i,U as l,O as o,S as s,u as p,F as B,a9 as z,M as j,Q as Fe,T as P}from"./vendor-D8Vxqhr-.js";import{a3 as Me,p as ne,E as b,b as Oe}from"./elementPlus-Bmwh7Rh8.js";import{u as Be}from"./index-BwmIV1hk.js";import{g as ze,j as je,c as Je,_ as Qe}from"./settings-CuxbDWOu.js";import{u as Ze}from"./service-CXxf5jtg.js";import{m as se}from"./phone-DsAzMHsn.js";import{P as pe}from"./phoneSync-CuB8FaFE.js";import"./utils-ywHRn0uI.js";const Ge={class:"service-add-container"},He={class:"page-header"},Ke={class:"form-section"},We={class:"phone-management"},Xe={class:"form-section"},Ye={class:"form-section"},el={class:"form-section"},ll={class:"phone-management"},ol={class:"form-section"},al={class:"form-actions"},tl=["src"],rl={key:0,class:"order-info"},nl={class:"dialog-footer"},sl={class:"dialog-footer"},ul=Re({__name:"Add",setup(ue){const A=Le(),U=De(),J=Je(A),I=ze(),Q=Ze(),D=je(),{isMobile:c}=Be(),y=m(),T=m(!1),Z=m(!1),C=m(!1),G=m(!1),de=m(""),$=m(!1),H=m(!1),K=m([]),W=m([]),X=m([]),E=m(!1),R=m(),Y=m(!1),F=m(!1),L=m(),ee=m(!1),N=re({phone:"",remark:""}),w=re({phone:"",remark:""}),ie={phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}]},t=re({orderId:"",orderNumber:"",serviceType:"",customerName:"",customerPhone:"",priority:"medium",assignedTo:"",productName:"",productSpec:"",quantity:1,price:0,reason:"",description:"",contactName:"",contactPhone:"",contactAddress:"",remark:""}),le=m([]),u=m(null),ce=m([{id:"1",name:"李四"},{id:"2",name:"赵六"},{id:"3",name:"孙八"},{id:"4",name:"周九"}]),fe={orderNumber:[{required:!0,message:"请输入原订单号",trigger:"blur"}],serviceType:[{required:!0,message:"请选择服务类型",trigger:"change"}],customerName:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],customerPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],productName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],quantity:[{required:!0,message:"请输入购买数量",trigger:"blur"}],price:[{required:!0,message:"请输入购买价格",trigger:"blur"}],reason:[{required:!0,message:"请选择申请原因",trigger:"change"}],description:[{required:!0,message:"请输入详细描述",trigger:"blur"},{min:10,message:"详细描述至少10个字符",trigger:"blur"}],contactName:[{required:!0,message:"请输入联系人姓名",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]},ve=()=>{A.back()},ge=r=>S(this,null,function*(){if(!r||r.length<2){K.value=[];return}H.value=!0;try{const e=D.orders.filter(n=>n.orderNumber.toLowerCase().includes(r.toLowerCase())||n.customerName.toLowerCase().includes(r.toLowerCase())||n.productName.toLowerCase().includes(r.toLowerCase()));K.value=e.filter(n=>n.status==="shipped"||n.status==="completed").slice(0,10)}catch(e){console.error("搜索订单失败:",e),b.error("搜索订单失败")}finally{H.value=!1}}),be=r=>{if(!r){C.value=!1;return}const e=D.orders.find(n=>n.orderNumber===r);e&&(u.value=e,$.value=!0)},ye=()=>{u.value&&(Object.assign(t,{orderId:u.value.id,orderNumber:u.value.orderNumber,customerName:u.value.customerName,customerPhone:u.value.customerPhone,productName:u.value.productName,productSpec:u.value.productSpec||"标准版",quantity:u.value.quantity,price:u.value.price,contactName:u.value.customerName,contactPhone:u.value.customerPhone,contactAddress:u.value.shippingAddress||u.value.address||""}),C.value=!0,$.value=!1,b.success("订单信息已填充"))},_e=r=>{de.value=r.url,G.value=!0},Ve=r=>{console.log("移除文件:",r)},he=()=>S(this,null,function*(){try{W.value=[{id:1,phone:"13800138001",remark:"主要联系方式"},{id:2,phone:"13800138002",remark:"备用联系方式"}]}catch(r){console.error("加载客户手机号失败:",r)}}),Ne=()=>S(this,null,function*(){try{X.value=[{id:1,phone:"13800138003",remark:"联系人手机"},{id:2,phone:"13800138004",remark:"紧急联系方式"}]}catch(r){console.error("加载联系手机号失败:",r)}}),we=()=>S(this,null,function*(){if(R.value)try{yield R.value.validate(),Y.value=!0,yield new Promise(e=>setTimeout(e,1e3));const r={id:Date.now(),phone:N.phone,remark:N.remark||"无备注"};W.value.push(r),t.customerPhone=r.phone;try{const e=t.customerId||"default-customer-id",n=yield pe.syncCustomerPhone(e,{id:r.id,phone:r.phone,remark:r.remark});n.success?b.success("添加成功，已同步到客户详情"):b.warning("添加成功，但同步失败："+n.message)}catch(e){console.error("同步客户手机号失败:",e),b.warning("添加成功，但同步失败")}oe()}catch(r){console.error("添加客户手机号失败:",r),b.error("添加失败")}finally{Y.value=!1}}),ke=()=>S(this,null,function*(){if(L.value)try{yield L.value.validate(),ee.value=!0,yield new Promise(e=>setTimeout(e,1e3));const r={id:Date.now(),phone:w.phone,remark:w.remark||"无备注"};X.value.push(r),t.contactPhone=r.phone;try{const e=t.contactId||"default-contact-id",n=yield pe.syncContactPhone(e,{id:r.id,phone:r.phone,remark:r.remark});n.success?b.success("添加成功，已同步到联系人详情"):b.warning("添加成功，但同步失败："+n.message)}catch(e){console.error("同步联系手机号失败:",e),b.warning("添加成功，但同步失败")}ae()}catch(r){console.error("添加联系手机号失败:",r),b.error("添加失败")}finally{ee.value=!1}}),oe=()=>{E.value=!1,N.phone="",N.remark="",R.value&&R.value.clearValidate()},ae=()=>{F.value=!1,w.phone="",w.remark="",L.value&&L.value.clearValidate()},Pe=()=>{Oe.confirm("确定要取消吗？未保存的数据将丢失。","确认取消",{confirmButtonText:"确定",cancelButtonText:"继续编辑",type:"warning"}).then(()=>{A.back()})},Ce=()=>S(this,null,function*(){Z.value=!0;try{yield new Promise(r=>setTimeout(r,1e3)),b.success("草稿保存成功")}catch(r){b.error("保存草稿失败")}finally{Z.value=!1}}),Se=()=>S(this,null,function*(){if(y.value)try{yield y.value.validate(),T.value=!0;const r=yield Q.createAfterSalesService({orderId:t.orderId,orderNumber:t.orderNumber,customerName:t.customerName,customerPhone:t.customerPhone,serviceType:t.serviceType,priority:t.priority,description:t.description,productName:t.productName,productSpec:t.productSpec,quantity:t.quantity,price:t.price,reason:t.reason,assignedTo:t.assignedTo,attachments:le.value});I.sendMessage(I.MessageType.AFTER_SALES_CREATED,`售后申请 ${r.serviceNumber} 已提交，客户：${t.customerName}，服务类型：${Te(t.serviceType)}`,{relatedId:r.id,relatedType:"service",actionUrl:`/service/detail/${r.id}`,metadata:{customerName:t.customerName,serviceType:t.serviceType,priority:t.priority,orderNumber:t.orderNumber}}),b.success("售后申请提交成功"),J.push(`/service/detail/${r.id}`)}catch(r){r!==!1&&b.error("提交失败，请检查表单信息")}finally{T.value=!1}}),Te=r=>({return:"退货",exchange:"换货",repair:"维修",refund:"退款",complaint:"投诉"})[r]||r,Ue=()=>{const r=U.query;if(r.orderId&&(t.orderId=r.orderId),r.orderNumber&&(t.orderNumber=r.orderNumber,C.value=!0),r.customerId&&(t.customerId=r.customerId),r.customerName&&(t.customerName=r.customerName),r.customerPhone&&(t.customerPhone=r.customerPhone),r.products)try{const e=JSON.parse(r.products);if(e&&e.length>0){const n=e[0];t.productName=n.name||"",t.productSpec=n.spec||"",t.quantity=n.quantity||1,t.price=n.price||0}}catch(e){console.warn("解析商品信息失败:",e)}r.orderNumber?b.success("已自动同步订单信息，请完善售后详情"):r.customerId&&r.customerName&&b.success(`已自动选择客户：${r.customerName}，请完善售后详情`)};return Ee(()=>{Ue(),he(),Ne()}),(r,e)=>{const n=g("el-button"),f=g("el-option"),q=g("el-select"),d=g("el-form-item"),v=g("el-col"),_=g("el-row"),V=g("el-input"),M=g("el-radio"),qe=g("el-radio-group"),me=g("el-input-number"),xe=g("el-icon"),Ae=g("el-upload"),te=g("el-form"),Ie=g("el-card"),O=g("el-dialog"),k=g("el-descriptions-item"),$e=g("el-descriptions");return h(),x("div",Ge,[i("div",He,[l(n,{icon:p(Me),onClick:ve,class:"back-btn"},{default:o(()=>[...e[28]||(e[28]=[s(" 返回 ",-1)])]),_:1},8,["icon"]),e[29]||(e[29]=i("div",{class:"header-content"},[i("h2",null,"新建售后"),i("p",null,"创建新的售后服务申请")],-1))]),l(Ie,{shadow:"never"},{default:o(()=>[l(te,{ref_key:"formRef",ref:y,model:t,rules:fe,"label-width":"120px","label-position":p(c)?"top":"right"},{default:o(()=>[i("div",Ke,[e[35]||(e[35]=i("h3",{class:"section-title"},"基本信息",-1)),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"原订单号",prop:"orderNumber"},{default:o(()=>[l(q,{modelValue:t.orderNumber,"onUpdate:modelValue":e[0]||(e[0]=a=>t.orderNumber=a),placeholder:"请输入订单号搜索",filterable:"",remote:"","reserve-keyword":"","remote-method":ge,loading:H.value,style:{width:"100%"},clearable:"",onChange:be},{default:o(()=>[(h(!0),x(B,null,z(K.value,a=>(h(),j(f,{key:a.id,label:`${a.orderNumber} - ${a.customerName} - ${a.productName}`,value:a.orderNumber},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"服务类型",prop:"serviceType"},{default:o(()=>[l(q,{modelValue:t.serviceType,"onUpdate:modelValue":e[1]||(e[1]=a=>t.serviceType=a),placeholder:"请选择服务类型",style:{width:"100%"}},{default:o(()=>[l(f,{label:"退货",value:"return"}),l(f,{label:"换货",value:"exchange"}),l(f,{label:"维修",value:"repair"}),l(f,{label:"投诉",value:"complaint"}),l(f,{label:"咨询",value:"inquiry"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["span"])]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"客户姓名",prop:"customerName"},{default:o(()=>[l(V,{modelValue:t.customerName,"onUpdate:modelValue":e[2]||(e[2]=a=>t.customerName=a),placeholder:"请输入客户姓名",readonly:C.value},null,8,["modelValue","readonly"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"联系电话",prop:"customerPhone"},{default:o(()=>[i("div",We,[l(q,{modelValue:t.customerPhone,"onUpdate:modelValue":e[3]||(e[3]=a=>t.customerPhone=a),placeholder:"请选择联系电话",style:{width:"100%"},clearable:""},{default:o(()=>[(h(!0),x(B,null,z(W.value,a=>(h(),j(f,{key:a.id,label:`${p(se)(a.phone)} ${a.remark?"("+a.remark+")":""}`,value:a.phone},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(n,{type:"primary",size:"small",onClick:e[4]||(e[4]=a=>E.value=!0),style:{"margin-left":"8px"},icon:p(ne)},{default:o(()=>[...e[30]||(e[30]=[s(" 新增 ",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1},8,["span"])]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"优先级",prop:"priority"},{default:o(()=>[l(qe,{modelValue:t.priority,"onUpdate:modelValue":e[5]||(e[5]=a=>t.priority=a)},{default:o(()=>[l(M,{value:"low"},{default:o(()=>[...e[31]||(e[31]=[s("低",-1)])]),_:1}),l(M,{value:"medium"},{default:o(()=>[...e[32]||(e[32]=[s("中",-1)])]),_:1}),l(M,{value:"high"},{default:o(()=>[...e[33]||(e[33]=[s("高",-1)])]),_:1}),l(M,{value:"urgent"},{default:o(()=>[...e[34]||(e[34]=[s("紧急",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"处理人",prop:"assignedTo"},{default:o(()=>[l(q,{modelValue:t.assignedTo,"onUpdate:modelValue":e[6]||(e[6]=a=>t.assignedTo=a),placeholder:"请选择处理人",style:{width:"100%"},clearable:""},{default:o(()=>[(h(!0),x(B,null,z(ce.value,a=>(h(),j(f,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["span"])]),_:1})]),i("div",Xe,[e[36]||(e[36]=i("h3",{class:"section-title"},"商品信息",-1)),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"商品名称",prop:"productName"},{default:o(()=>[l(V,{modelValue:t.productName,"onUpdate:modelValue":e[7]||(e[7]=a=>t.productName=a),placeholder:"请输入商品名称",readonly:C.value},null,8,["modelValue","readonly"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"商品规格",prop:"productSpec"},{default:o(()=>[l(V,{modelValue:t.productSpec,"onUpdate:modelValue":e[8]||(e[8]=a=>t.productSpec=a),placeholder:"请输入商品规格",readonly:C.value},null,8,["modelValue","readonly"])]),_:1})]),_:1},8,["span"])]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"购买数量",prop:"quantity"},{default:o(()=>[l(me,{modelValue:t.quantity,"onUpdate:modelValue":e[9]||(e[9]=a=>t.quantity=a),min:1,style:{width:"100%"},readonly:C.value},null,8,["modelValue","readonly"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"购买价格",prop:"price"},{default:o(()=>[l(me,{modelValue:t.price,"onUpdate:modelValue":e[10]||(e[10]=a=>t.price=a),min:0,precision:2,style:{width:"100%"},readonly:C.value},null,8,["modelValue","readonly"])]),_:1})]),_:1},8,["span"])]),_:1})]),i("div",Ye,[e[38]||(e[38]=i("h3",{class:"section-title"},"申请信息",-1)),l(_,{gutter:20},{default:o(()=>[l(v,{span:24},{default:o(()=>[l(d,{label:"申请原因",prop:"reason"},{default:o(()=>[l(q,{modelValue:t.reason,"onUpdate:modelValue":e[11]||(e[11]=a=>t.reason=a),placeholder:"请选择申请原因",style:{width:"100%"}},{default:o(()=>[l(f,{label:"商品质量问题",value:"quality"}),l(f,{label:"商品损坏",value:"damaged"}),l(f,{label:"尺寸不合适",value:"size"}),l(f,{label:"颜色不符",value:"color"}),l(f,{label:"功能故障",value:"malfunction"}),l(f,{label:"发错商品",value:"wrong_item"}),l(f,{label:"不满意",value:"unsatisfied"}),l(f,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:24},{default:o(()=>[l(d,{label:"详细描述",prop:"description"},{default:o(()=>[l(V,{modelValue:t.description,"onUpdate:modelValue":e[12]||(e[12]=a=>t.description=a),type:"textarea",rows:4,placeholder:"请详细描述问题或需求...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:24},{default:o(()=>[l(d,{label:"上传图片"},{default:o(()=>[l(Ae,{"file-list":le.value,"onUpdate:fileList":e[13]||(e[13]=a=>le.value=a),action:"#","list-type":"picture-card","auto-upload":!1,limit:5,accept:"image/*",onPreview:_e,onRemove:Ve},{default:o(()=>[l(xe,null,{default:o(()=>[l(p(ne))]),_:1})]),_:1},8,["file-list"]),e[37]||(e[37]=i("div",{class:"upload-tip"}," 支持jpg、png格式，最多上传5张图片，每张不超过2MB ",-1))]),_:1})]),_:1})]),_:1})]),i("div",el,[e[40]||(e[40]=i("h3",{class:"section-title"},"联系信息",-1)),l(_,{gutter:20},{default:o(()=>[l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"联系人",prop:"contactName"},{default:o(()=>[l(V,{modelValue:t.contactName,"onUpdate:modelValue":e[14]||(e[14]=a=>t.contactName=a),placeholder:"请输入联系人姓名"},null,8,["modelValue"])]),_:1})]),_:1},8,["span"]),l(v,{span:p(c)?24:12},{default:o(()=>[l(d,{label:"联系电话",prop:"contactPhone"},{default:o(()=>[i("div",ll,[l(q,{modelValue:t.contactPhone,"onUpdate:modelValue":e[15]||(e[15]=a=>t.contactPhone=a),placeholder:"请选择联系电话",style:{width:"100%"},clearable:""},{default:o(()=>[(h(!0),x(B,null,z(X.value,a=>(h(),j(f,{key:a.id,label:`${p(se)(a.phone)} ${a.remark?"("+a.remark+")":""}`,value:a.phone},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(n,{type:"primary",size:"small",onClick:e[16]||(e[16]=a=>F.value=!0),style:{"margin-left":"8px"},icon:p(ne)},{default:o(()=>[...e[39]||(e[39]=[s(" 新增 ",-1)])]),_:1},8,["icon"])])]),_:1})]),_:1},8,["span"])]),_:1}),l(_,{gutter:20},{default:o(()=>[l(v,{span:24},{default:o(()=>[l(d,{label:"联系地址",prop:"contactAddress"},{default:o(()=>[l(V,{modelValue:t.contactAddress,"onUpdate:modelValue":e[17]||(e[17]=a=>t.contactAddress=a),placeholder:"请输入详细地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),i("div",ol,[e[41]||(e[41]=i("h3",{class:"section-title"},"备注信息",-1)),l(_,{gutter:20},{default:o(()=>[l(v,{span:24},{default:o(()=>[l(d,{label:"备注",prop:"remark"},{default:o(()=>[l(V,{modelValue:t.remark,"onUpdate:modelValue":e[18]||(e[18]=a=>t.remark=a),type:"textarea",rows:3,placeholder:"请输入备注信息...",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),i("div",al,[l(n,{onClick:Pe},{default:o(()=>[...e[42]||(e[42]=[s("取消",-1)])]),_:1}),l(n,{onClick:Ce,loading:Z.value},{default:o(()=>[...e[43]||(e[43]=[s(" 保存草稿 ",-1)])]),_:1},8,["loading"]),l(n,{type:"primary",onClick:Se,loading:T.value},{default:o(()=>[...e[44]||(e[44]=[s(" 提交申请 ",-1)])]),_:1},8,["loading"])])]),_:1},8,["model","label-position"])]),_:1}),l(O,{modelValue:G.value,"onUpdate:modelValue":e[19]||(e[19]=a=>G.value=a),title:"图片预览",width:"800px"},{default:o(()=>[i("img",{src:de.value,style:{width:"100%"}},null,8,tl)]),_:1},8,["modelValue"]),l(O,{modelValue:$.value,"onUpdate:modelValue":e[21]||(e[21]=a=>$.value=a),title:"订单信息",width:"600px"},{footer:o(()=>[l(n,{onClick:e[20]||(e[20]=a=>$.value=!1)},{default:o(()=>[...e[45]||(e[45]=[s("关闭",-1)])]),_:1}),l(n,{type:"primary",onClick:ye},{default:o(()=>[...e[46]||(e[46]=[s("使用此订单信息",-1)])]),_:1})]),default:o(()=>[u.value?(h(),x("div",rl,[l($e,{column:2,border:""},{default:o(()=>[l(k,{label:"订单号"},{default:o(()=>[s(P(u.value.orderNumber),1)]),_:1}),l(k,{label:"客户姓名"},{default:o(()=>[s(P(u.value.customerName),1)]),_:1}),l(k,{label:"联系电话"},{default:o(()=>[s(P(p(se)(u.value.customerPhone)),1)]),_:1}),l(k,{label:"订单状态"},{default:o(()=>[s(P(u.value.status),1)]),_:1}),l(k,{label:"商品名称"},{default:o(()=>[s(P(u.value.productName),1)]),_:1}),l(k,{label:"商品规格"},{default:o(()=>[s(P(u.value.productSpec),1)]),_:1}),l(k,{label:"购买数量"},{default:o(()=>[s(P(u.value.quantity),1)]),_:1}),l(k,{label:"购买价格"},{default:o(()=>[s("¥"+P(u.value.price),1)]),_:1}),l(k,{label:"下单时间",span:2},{default:o(()=>[s(P(u.value.createdAt),1)]),_:1})]),_:1})])):Fe("",!0)]),_:1},8,["modelValue"]),l(O,{modelValue:E.value,"onUpdate:modelValue":e[24]||(e[24]=a=>E.value=a),title:"新增客户手机号",width:"400px","before-close":oe},{footer:o(()=>[i("span",nl,[l(n,{onClick:oe},{default:o(()=>[...e[47]||(e[47]=[s("取消",-1)])]),_:1}),l(n,{type:"primary",onClick:we,loading:Y.value},{default:o(()=>[...e[48]||(e[48]=[s(" 确认添加 ",-1)])]),_:1},8,["loading"])])]),default:o(()=>[l(te,{ref_key:"addCustomerPhoneFormRef",ref:R,model:N,rules:ie,"label-width":"80px"},{default:o(()=>[l(d,{label:"手机号",prop:"phone"},{default:o(()=>[l(V,{modelValue:N.phone,"onUpdate:modelValue":e[22]||(e[22]=a=>N.phone=a),placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])]),_:1}),l(d,{label:"备注",prop:"remark"},{default:o(()=>[l(V,{modelValue:N.remark,"onUpdate:modelValue":e[23]||(e[23]=a=>N.remark=a),placeholder:"请输入备注（可选）",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(O,{modelValue:F.value,"onUpdate:modelValue":e[27]||(e[27]=a=>F.value=a),title:"新增联系手机号",width:"400px","before-close":ae},{footer:o(()=>[i("span",sl,[l(n,{onClick:ae},{default:o(()=>[...e[49]||(e[49]=[s("取消",-1)])]),_:1}),l(n,{type:"primary",onClick:ke,loading:ee.value},{default:o(()=>[...e[50]||(e[50]=[s(" 确认添加 ",-1)])]),_:1},8,["loading"])])]),default:o(()=>[l(te,{ref_key:"addContactPhoneFormRef",ref:L,model:w,rules:ie,"label-width":"80px"},{default:o(()=>[l(d,{label:"手机号",prop:"phone"},{default:o(()=>[l(V,{modelValue:w.phone,"onUpdate:modelValue":e[25]||(e[25]=a=>w.phone=a),placeholder:"请输入手机号",clearable:""},null,8,["modelValue"])]),_:1}),l(d,{label:"备注",prop:"remark"},{default:o(()=>[l(V,{modelValue:w.remark,"onUpdate:modelValue":e[26]||(e[26]=a=>w.remark=a),placeholder:"请输入备注（可选）",clearable:""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),yl=Qe(ul,[["__scopeId","data-v-09bb891e"]]);export{yl as default};
