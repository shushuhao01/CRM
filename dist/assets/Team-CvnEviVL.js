var q=(ee,L,I)=>new Promise((p,D)=>{var O=g=>{try{x(I.next(g))}catch(z){D(z)}},$=g=>{try{x(I.throw(g))}catch(z){D(z)}},x=g=>g.done?p(g.value):Promise.resolve(g.value).then(O,$);x((I=I.apply(ee,L)).next())});import{l as Ye,az as Fe,r as w,e as K,w as Te,c as $e,Y as Be,ag as k,m as T,p as S,q as l,U as e,O as n,u as C,T as d,F as X,a9 as Z,S as m,M as we,Q as qe}from"./vendor-D8Vxqhr-.js";import{u as Le,j as We,t as Ee,y as Qe,c as Ge,_ as He}from"./settings-CuxbDWOu.js";import{useDepartmentStore as Je}from"./department-CTOju6hT.js";import{t as Ke,C as Xe,d as Ze,ao as et,ap as tt,aq as at,s as Ce,n as Ae,ar as lt,E as st}from"./elementPlus-Bmwh7Rh8.js";import"./utils-ywHRn0uI.js";const nt={class:"team-performance"},ot={class:"metrics-grid"},rt={class:"metrics-row"},it={class:"metric-card"},dt={class:"metric-icon total-performance"},ut={class:"metric-content"},ct={class:"metric-value"},pt={class:"metric-card"},mt={class:"metric-icon total-orders"},gt={class:"metric-content"},_t={class:"metric-value"},ft={class:"metric-card"},vt={class:"metric-icon avg-performance"},ht={class:"metric-content"},bt={class:"metric-value"},yt={class:"metrics-row"},wt={class:"metric-card"},Ct={class:"metric-icon sign-orders"},At={class:"metric-content"},Rt={class:"metric-value"},kt={class:"metric-card"},zt={class:"metric-icon sign-rate"},Dt={class:"metric-content"},Vt={class:"metric-value"},Ut={class:"metric-card"},jt={class:"metric-icon sign-performance"},Ot={class:"metric-content"},xt={class:"metric-value"},Mt={class:"quick-filters"},St={class:"filter-section"},It={class:"filter-left"},Nt={class:"filter-right"},Pt={class:"performance-table"},Yt={class:"amount"},Ft={class:"amount"},Tt={class:"amount"},$t={class:"amount"},Bt={class:"amount"},qt={class:"amount"},Lt={class:"pagination-wrapper"},Wt={key:0,class:"member-detail-content"},Et={class:"member-info"},Qt={class:"info-item"},Gt={class:"value"},Ht={class:"info-item"},Jt={class:"value"},Kt={class:"info-item"},Xt={class:"value"},Zt={class:"info-item"},ea={class:"value"},ta={class:"order-section"},aa={class:"amount"},la={class:"deposit"},sa={class:"collection"},na={class:"order-pagination"},oa={class:"fullscreen-content"},ra={class:"fullscreen-filters"},ia={class:"filter-left"},da={class:"filter-right"},ua={class:"fullscreen-table"},ca={class:"amount"},pa={class:"amount"},ma={class:"amount"},ga={class:"amount"},_a={class:"amount"},fa={class:"amount"},va={class:"operation-buttons"},ha={class:"fullscreen-pagination"},ba=Ye({__name:"Team",setup(ee){const L=Fe(),I=Ge(L),p=Le(),D=Je(),O=We(),$=Ee();Qe();const x=w("today"),g=w(["2025-01-01","2025-01-31"]),z=w(""),Y=w("orderAmount"),N=w(1),F=w(30),te=w(100),Re=()=>{var i,u,v;const r=p.currentUser;if(!r)return 0;let t=0;return p.isSuperAdmin||r.role==="admin"?t=((i=p.users)==null?void 0:i.filter(o=>o.role==="sales_staff"||o.role==="department_manager").length)||0:p.isManager||r.role==="department_manager"?t=((u=p.users)==null?void 0:u.filter(o=>o.departmentId===r.departmentId&&(o.role==="sales_staff"||o.role==="department_manager")).length)||0:t=((v=p.users)==null?void 0:v.filter(o=>o.departmentId===r.departmentId&&(o.role==="sales_staff"||o.role==="department_manager")).length)||0,t},W=w(!1),V=w(null),ae=w(1),le=w(30),ke=w(50),E=w(!1),P=K(()=>{const r=p.currentUser;if(!r)return{totalPerformance:0,totalOrders:0,avgPerformance:0,signOrders:0,signRate:0,signPerformance:0};let t=O.orders.filter(_=>_.auditStatus==="approved");p.isSuperAdmin||r.role==="admin"||(p.isManager||r.role==="department_manager"?t=t.filter(_=>{var R;const b=(R=p.getUserById)==null?void 0:R.call(p,_.salesPersonId);return(b==null?void 0:b.departmentId)===r.departmentId}):t=t.filter(_=>{var R;const b=(R=p.getUserById)==null?void 0:R.call(p,_.salesPersonId);return(b==null?void 0:b.departmentId)===r.departmentId}));const i=t.reduce((_,b)=>_+b.totalAmount,0),u=t.length,v=t.filter(_=>_.status==="signed"||_.status==="completed"),o=v.length,h=v.reduce((_,b)=>_+b.totalAmount,0),s=u>0?o/u*100:0,y=Re(),j=y>0?i/y:0;return{totalPerformance:i,totalOrders:u,avgPerformance:j,signOrders:o,signRate:Number(s.toFixed(1)),signPerformance:h}}),ze=[{label:"今日",value:"today"},{label:"昨日",value:"yesterday"},{label:"本周",value:"thisWeek"},{label:"上周",value:"lastWeek"},{label:"近7天",value:"last7days"},{label:"本月",value:"thisMonth"},{label:"今年",value:"thisYear"}],se=K(()=>{var i,u,v;const r=p.currentUser;if(!r)return[];let t=[];return p.isSuperAdmin||r.role==="admin"?t=((i=p.users)==null?void 0:i.filter(o=>o.role==="sales_staff"||o.role==="department_manager"))||[]:p.isManager||r.role==="department_manager"?t=((u=p.users)==null?void 0:u.filter(o=>o.departmentId===r.departmentId&&(o.role==="sales_staff"||o.role==="department_manager")))||[]:t=((v=p.users)==null?void 0:v.filter(o=>o.departmentId===r.departmentId&&(o.role==="sales_staff"||o.role==="department_manager")))||[],t.map(o=>{var ye;const h=O.orders.filter(c=>c.salesPersonId===o.id&&c.auditStatus==="approved"),s=h.length,y=h.reduce((c,A)=>c+A.totalAmount,0),j=h.filter(c=>c.status==="shipped"||c.status==="completed"),_=j.length,b=j.reduce((c,A)=>c+A.totalAmount,0),R=s>0?_/s*100:0,a=h.filter(c=>c.status==="signed"||c.status==="completed"),M=a.length,je=a.reduce((c,A)=>c+A.totalAmount,0),Oe=s>0?M/s*100:0,ge=h.filter(c=>c.status==="shipped"),_e=ge.length,xe=ge.reduce((c,A)=>c+A.totalAmount,0),Me=s>0?_e/s*100:0,fe=h.filter(c=>c.status==="rejected"),ve=fe.length,Se=fe.reduce((c,A)=>c+A.totalAmount,0),Ie=s>0?ve/s*100:0,he=h.filter(c=>c.status==="returned"),be=he.length,Ne=he.reduce((c,A)=>c+A.totalAmount,0),Pe=s>0?be/s*100:0,J=(ye=D.departments)==null?void 0:ye.find(c=>c.id===o.departmentId);return{id:o.id,name:o.name,department:(J==null?void 0:J.name)||"未知部门",joinDate:o.joinDate||"2023-01-01",orderCount:s,orderAmount:y,shipCount:_,shipAmount:b,shipRate:Number(R.toFixed(1)),signCount:M,signAmount:je,signRate:Number(Oe.toFixed(1)),transitCount:_e,transitAmount:xe,transitRate:Number(Me.toFixed(1)),rejectCount:ve,rejectAmount:Se,rejectRate:Number(Ie.toFixed(1)),returnCount:be,returnAmount:Ne,returnRate:Number(Pe.toFixed(1)),isCurrentUser:o.id===r.id}})}),Q=w(null),ne=K(()=>Q.value?O.orders.filter(t=>t.salesPersonId===Q.value&&t.auditStatus==="approved").map(t=>{var u,v;const i=(u=$.customers)==null?void 0:u.find(o=>o.id===t.customerId);return{id:t.id,orderNo:t.orderNo,orderDate:t.orderDate,customerName:(i==null?void 0:i.name)||"未知客户",amount:t.totalAmount,depositAmount:t.depositAmount||0,collectionAmount:t.totalAmount-(t.depositAmount||0),logisticsCompany:t.logisticsCompany||"待发货",trackingNumber:t.trackingNumber||"暂无",productDetails:((v=t.items)==null?void 0:v.map(o=>`${o.productName} x${o.quantity}`).join(", "))||"暂无详情"}}):[]),f=r=>r.toLocaleString(),oe=r=>{x.value=r;const t=new Date,i=u=>u.toISOString().split("T")[0];switch(r){case"today":g.value=[i(t),i(t)];break;case"yesterday":const u=new Date(t);u.setDate(t.getDate()-1),g.value=[i(u),i(u)];break;case"thisWeek":const v=new Date(t);v.setDate(t.getDate()-t.getDay()),g.value=[i(v),i(t)];break;case"last7days":const o=new Date(t);o.setDate(t.getDate()-7),g.value=[i(o),i(t)];break;case"thisMonth":const h=new Date(t.getFullYear(),t.getMonth(),1);g.value=[i(h),i(t)];break;case"thisYear":const s=new Date(t.getFullYear(),0,1);g.value=[i(s),i(t)];break}},B=()=>q(this,null,function*(){console.log("查询数据",{dateRange:g.value,selectedDepartment:z.value,sortBy:Y.value}),yield G()}),re=()=>{console.log("导出数据")},De=()=>{E.value=!0},ie=({row:r})=>r.isCurrentUser?"current-user-row":"",U=r=>r>=90?"success":r>=80?"warning":r>=70?"info":"danger",de=r=>{V.value=r,W.value=!0,ue(r.id)},Ve=r=>{I.push(`/order/detail/${r.id}`)},ue=r=>{Q.value=r,memberOrderPage.value=1,console.log("加载成员订单",r,"订单数量:",ne.value.length)},Ue=r=>{console.log("分析成员业绩",r)},ce=r=>{F.value=r,N.value=1,B()},pe=r=>{N.value=r,B()},me=()=>{var r;ue((r=V.value)==null?void 0:r.id)},G=()=>q(this,null,function*(){try{loading.value=!0,yield Promise.all([O.fetchOrders(),$.fetchCustomers(),p.fetchUsers(),D.initData()])}catch(r){console.error("刷新数据失败:",r),st.error("数据刷新失败")}finally{loading.value=!1}});Te([()=>O.orders,()=>p.users,()=>D.departments,()=>x.value],()=>{},{deep:!0});let H=null;return $e(()=>q(this,null,function*(){oe("today"),yield G(),H=setInterval(G,5*60*1e3)})),Be(()=>{H&&clearInterval(H)}),(r,t)=>{var R;const i=k("el-icon"),u=k("el-button"),v=k("el-date-picker"),o=k("el-option"),h=k("el-select"),s=k("el-table-column"),y=k("el-tag"),j=k("el-table"),_=k("el-pagination"),b=k("el-dialog");return S(),T("div",nt,[t[34]||(t[34]=l("div",{class:"page-header"},[l("h1",{class:"page-title"},"团队业绩")],-1)),l("div",ot,[l("div",rt,[l("div",it,[l("div",dt,[e(i,null,{default:n(()=>[e(C(Ke))]),_:1})]),l("div",ut,[l("div",ct,"¥"+d(f(P.value.totalPerformance)),1),t[14]||(t[14]=l("div",{class:"metric-label"},"团队总业绩",-1))])]),l("div",pt,[l("div",mt,[e(i,null,{default:n(()=>[e(C(Xe))]),_:1})]),l("div",gt,[l("div",_t,d(P.value.totalOrders),1),t[15]||(t[15]=l("div",{class:"metric-label"},"团队订单",-1))])]),l("div",ft,[l("div",vt,[e(i,null,{default:n(()=>[e(C(Ze))]),_:1})]),l("div",ht,[l("div",bt,"¥"+d(f(P.value.avgPerformance)),1),t[16]||(t[16]=l("div",{class:"metric-label"},"人均业绩",-1))])])]),l("div",yt,[l("div",wt,[l("div",Ct,[e(i,null,{default:n(()=>[e(C(et))]),_:1})]),l("div",At,[l("div",Rt,d(P.value.signOrders),1),t[17]||(t[17]=l("div",{class:"metric-label"},"签收单数",-1))])]),l("div",kt,[l("div",zt,[e(i,null,{default:n(()=>[e(C(tt))]),_:1})]),l("div",Dt,[l("div",Vt,d(P.value.signRate)+"%",1),t[18]||(t[18]=l("div",{class:"metric-label"},"签收率",-1))])]),l("div",Ut,[l("div",jt,[e(i,null,{default:n(()=>[e(C(at))]),_:1})]),l("div",Ot,[l("div",xt,"¥"+d(f(P.value.signPerformance)),1),t[19]||(t[19]=l("div",{class:"metric-label"},"签收业绩",-1))])])])]),l("div",Mt,[(S(),T(X,null,Z(ze,a=>e(u,{key:a.value,type:x.value===a.value?"primary":"",onClick:M=>oe(a.value),class:"filter-btn"},{default:n(()=>[m(d(a.label),1)]),_:2},1032,["type","onClick"])),64))]),l("div",St,[l("div",It,[e(v,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=a=>g.value=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"date-picker"},null,8,["modelValue"]),e(h,{modelValue:z.value,"onUpdate:modelValue":t[1]||(t[1]=a=>z.value=a),placeholder:"选择部门",class:"department-select",size:"default"},{default:n(()=>[e(o,{label:"全部部门",value:""}),(S(!0),T(X,null,Z(C(D).departmentList,a=>(S(),we(o,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(h,{modelValue:Y.value,"onUpdate:modelValue":t[2]||(t[2]=a=>Y.value=a),placeholder:"排序方式",class:"sort-select",size:"default"},{default:n(()=>[e(o,{label:"按下单业绩排序",value:"orderAmount"}),e(o,{label:"按签收业绩排序",value:"signAmount"}),e(o,{label:"按签收率排序",value:"signRate"}),e(o,{label:"按下单数排序",value:"orderCount"})]),_:1},8,["modelValue"])]),l("div",Nt,[e(u,{type:"primary",onClick:B,class:"query-btn"},{default:n(()=>[e(i,null,{default:n(()=>[e(C(Ce))]),_:1}),t[20]||(t[20]=m(" 查询 ",-1))]),_:1}),e(u,{onClick:re,class:"export-btn"},{default:n(()=>[e(i,null,{default:n(()=>[e(C(Ae))]),_:1}),t[21]||(t[21]=m(" 批量导出 ",-1))]),_:1}),e(u,{onClick:De,class:"fullscreen-btn"},{default:n(()=>[e(i,null,{default:n(()=>[e(C(lt))]),_:1}),t[22]||(t[22]=m(" 全屏查看 ",-1))]),_:1})])]),l("div",Pt,[e(j,{data:se.value,stripe:"",class:"data-table","row-class-name":ie,border:""},{default:n(()=>[e(s,{type:"index",label:"序号",width:"60",align:"center"}),e(s,{prop:"department",label:"部门",width:"100",align:"center"}),e(s,{prop:"name",label:"成员",width:"100",align:"center"}),e(s,{prop:"joinDate",label:"入职日期",width:"110",align:"center"}),e(s,{prop:"orderCount",label:"下单单数",width:"90",align:"center"}),e(s,{prop:"orderAmount",label:"下单业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",Yt,"¥"+d(f(a.orderAmount)),1)]),_:1}),e(s,{prop:"shipCount",label:"发货单数",width:"90",align:"center"}),e(s,{prop:"shipAmount",label:"发货业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",Ft,"¥"+d(f(a.shipAmount)),1)]),_:1}),e(s,{prop:"shipRate",label:"发货率",width:"80",align:"center"},{default:n(({row:a})=>[e(y,{type:U(a.shipRate),size:"small"},{default:n(()=>[m(d(a.shipRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"signCount",label:"签收单数",width:"90",align:"center"}),e(s,{prop:"signAmount",label:"签收业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",Tt,"¥"+d(f(a.signAmount)),1)]),_:1}),e(s,{prop:"signRate",label:"签收率",width:"80",align:"center"},{default:n(({row:a})=>[e(y,{type:U(a.signRate),size:"small"},{default:n(()=>[m(d(a.signRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"transitCount",label:"在途单数",width:"90",align:"center"}),e(s,{prop:"transitAmount",label:"在途业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",$t,"¥"+d(f(a.transitAmount)),1)]),_:1}),e(s,{prop:"transitRate",label:"在途率",width:"80",align:"center"},{default:n(({row:a})=>[e(y,{type:"info",size:"small"},{default:n(()=>[m(d(a.transitRate)+"% ",1)]),_:2},1024)]),_:1}),e(s,{prop:"rejectCount",label:"拒收单数",width:"90",align:"center"}),e(s,{prop:"rejectAmount",label:"拒收业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",Bt,"¥"+d(f(a.rejectAmount)),1)]),_:1}),e(s,{prop:"rejectRate",label:"拒收率",width:"80",align:"center"},{default:n(({row:a})=>[e(y,{type:U(100-a.rejectRate),size:"small"},{default:n(()=>[m(d(a.rejectRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"returnCount",label:"退货单数",width:"90",align:"center"}),e(s,{prop:"returnAmount",label:"退货业绩",width:"120",align:"center"},{default:n(({row:a})=>[l("span",qt,"¥"+d(f(a.returnAmount)),1)]),_:1}),e(s,{prop:"returnRate",label:"退货率",width:"80",align:"center"},{default:n(({row:a})=>[e(y,{type:U(100-a.returnRate),size:"small"},{default:n(()=>[m(d(a.returnRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"120",align:"center",fixed:"right"},{default:n(({row:a})=>[e(u,{type:"primary",size:"small",onClick:M=>de(a)},{default:n(()=>[...t[23]||(t[23]=[m(" 查看详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",Lt,[e(_,{"current-page":N.value,"onUpdate:currentPage":t[3]||(t[3]=a=>N.value=a),"page-size":F.value,"onUpdate:pageSize":t[4]||(t[4]=a=>F.value=a),"page-sizes":[30,50,100],total:te.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ce,onCurrentChange:pe},null,8,["current-page","page-size","total"])])]),e(b,{modelValue:W.value,"onUpdate:modelValue":t[7]||(t[7]=a=>W.value=a),title:`${(R=V.value)==null?void 0:R.name} - 订单业绩详情`,width:"90%",top:"5vh",class:"member-dialog"},{default:n(()=>[V.value?(S(),T("div",Wt,[l("div",Et,[l("div",Qt,[t[24]||(t[24]=l("span",{class:"label"},"姓名：",-1)),l("span",Gt,d(V.value.name),1)]),l("div",Ht,[t[25]||(t[25]=l("span",{class:"label"},"部门：",-1)),l("span",Jt,d(V.value.department),1)]),l("div",Kt,[t[26]||(t[26]=l("span",{class:"label"},"入职日期：",-1)),l("span",Xt,d(V.value.joinDate),1)]),l("div",Zt,[t[27]||(t[27]=l("span",{class:"label"},"签收率：",-1)),l("span",ea,d(V.value.signRate)+"%",1)])]),l("div",ta,[t[29]||(t[29]=l("h4",null,"订单列表",-1)),e(j,{data:ne.value,stripe:"",border:""},{default:n(()=>[e(s,{type:"index",label:"序号",width:"60",align:"center"}),e(s,{prop:"orderNo",label:"订单号",width:"150",align:"center"}),e(s,{prop:"orderDate",label:"下单日期",width:"110",align:"center"}),e(s,{prop:"customerName",label:"客户姓名",width:"100",align:"center"}),e(s,{prop:"amount",label:"金额",width:"100",align:"center"},{default:n(({row:a})=>[l("span",aa,"¥"+d(f(a.amount)),1)]),_:1}),e(s,{prop:"depositAmount",label:"定金金额",width:"100",align:"center"},{default:n(({row:a})=>[l("span",la,"¥"+d(f(a.depositAmount)),1)]),_:1}),e(s,{prop:"collectionAmount",label:"代收金额",width:"100",align:"center"},{default:n(({row:a})=>[l("span",sa,"¥"+d(f(a.collectionAmount)),1)]),_:1}),e(s,{prop:"logisticsCompany",label:"物流公司",width:"120",align:"center"}),e(s,{prop:"trackingNumber",label:"快递单号",width:"150",align:"center"}),e(s,{prop:"productDetails",label:"产品详情","min-width":"200"}),e(s,{label:"操作",width:"100",align:"center",fixed:"right"},{default:n(({row:a})=>[e(u,{type:"primary",size:"small",onClick:M=>Ve(a)},{default:n(()=>[...t[28]||(t[28]=[m(" 查看详情 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),l("div",na,[e(_,{"current-page":ae.value,"onUpdate:currentPage":t[5]||(t[5]=a=>ae.value=a),"page-size":le.value,"onUpdate:pageSize":t[6]||(t[6]=a=>le.value=a),"page-sizes":[30,50,100],total:ke.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:me,onCurrentChange:me},null,8,["current-page","page-size","total"])])])])):qe("",!0)]),_:1},8,["modelValue","title"]),e(b,{modelValue:E.value,"onUpdate:modelValue":t[13]||(t[13]=a=>E.value=a),title:"团队业绩 - 全屏查看",width:"95%",top:"2vh",class:"fullscreen-dialog","close-on-click-modal":!1},{default:n(()=>[l("div",oa,[l("div",ra,[l("div",ia,[e(v,{modelValue:g.value,"onUpdate:modelValue":t[8]||(t[8]=a=>g.value=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",class:"date-picker",size:"small"},null,8,["modelValue"]),e(h,{modelValue:z.value,"onUpdate:modelValue":t[9]||(t[9]=a=>z.value=a),placeholder:"选择部门",class:"department-select",size:"small"},{default:n(()=>[e(o,{label:"全部部门",value:""}),(S(!0),T(X,null,Z(C(D).departmentList,a=>(S(),we(o,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(h,{modelValue:Y.value,"onUpdate:modelValue":t[10]||(t[10]=a=>Y.value=a),placeholder:"排序方式",class:"sort-select",size:"small"},{default:n(()=>[e(o,{label:"按下单业绩排序",value:"orderAmount"}),e(o,{label:"按签收业绩排序",value:"signAmount"}),e(o,{label:"按签收率排序",value:"signRate"}),e(o,{label:"按下单数排序",value:"orderCount"})]),_:1},8,["modelValue"])]),l("div",da,[e(u,{type:"primary",onClick:B,size:"small"},{default:n(()=>[e(i,null,{default:n(()=>[e(C(Ce))]),_:1}),t[30]||(t[30]=m(" 查询 ",-1))]),_:1}),e(u,{onClick:re,size:"small"},{default:n(()=>[e(i,null,{default:n(()=>[e(C(Ae))]),_:1}),t[31]||(t[31]=m(" 批量导出 ",-1))]),_:1})])]),l("div",ua,[e(j,{data:se.value,stripe:"",class:"data-table","row-class-name":ie,border:"",height:"calc(100vh - 300px)"},{default:n(()=>[e(s,{type:"index",label:"序号",width:"50",align:"center",fixed:"left"}),e(s,{prop:"department",label:"部门",width:"80",align:"center",fixed:"left"}),e(s,{prop:"name",label:"成员",width:"80",align:"center",fixed:"left"}),e(s,{prop:"joinDate",label:"入职日期",width:"100",align:"center"}),e(s,{prop:"orderCount",label:"下单数",width:"70",align:"center"}),e(s,{prop:"orderAmount",label:"下单业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",ca,"¥"+d(f(a.orderAmount)),1)]),_:1}),e(s,{prop:"shipCount",label:"发货数",width:"70",align:"center"}),e(s,{prop:"shipAmount",label:"发货业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",pa,"¥"+d(f(a.shipAmount)),1)]),_:1}),e(s,{prop:"shipRate",label:"发货率",width:"70",align:"center"},{default:n(({row:a})=>[e(y,{type:U(a.shipRate),size:"small"},{default:n(()=>[m(d(a.shipRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"signCount",label:"签收数",width:"70",align:"center"}),e(s,{prop:"signAmount",label:"签收业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",ma,"¥"+d(f(a.signAmount)),1)]),_:1}),e(s,{prop:"signRate",label:"签收率",width:"70",align:"center"},{default:n(({row:a})=>[e(y,{type:U(a.signRate),size:"small"},{default:n(()=>[m(d(a.signRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"transitCount",label:"在途数",width:"70",align:"center"}),e(s,{prop:"transitAmount",label:"在途业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",ga,"¥"+d(f(a.transitAmount)),1)]),_:1}),e(s,{prop:"transitRate",label:"在途率",width:"70",align:"center"},{default:n(({row:a})=>[e(y,{type:"info",size:"small"},{default:n(()=>[m(d(a.transitRate)+"% ",1)]),_:2},1024)]),_:1}),e(s,{prop:"rejectCount",label:"拒收数",width:"70",align:"center"}),e(s,{prop:"rejectAmount",label:"拒收业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",_a,"¥"+d(f(a.rejectAmount)),1)]),_:1}),e(s,{prop:"rejectRate",label:"拒收率",width:"70",align:"center"},{default:n(({row:a})=>[e(y,{type:U(100-a.rejectRate),size:"small"},{default:n(()=>[m(d(a.rejectRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"returnCount",label:"退货数",width:"70",align:"center"}),e(s,{prop:"returnAmount",label:"退货业绩",width:"100",align:"center"},{default:n(({row:a})=>[l("span",fa,"¥"+d(f(a.returnAmount)),1)]),_:1}),e(s,{prop:"returnRate",label:"退货率",width:"70",align:"center"},{default:n(({row:a})=>[e(y,{type:U(100-a.returnRate),size:"small"},{default:n(()=>[m(d(a.returnRate)+"% ",1)]),_:2},1032,["type"])]),_:1}),e(s,{label:"操作",width:"120",align:"center",fixed:"right"},{default:n(({row:a})=>[l("div",va,[e(u,{type:"primary",size:"small",onClick:M=>de(a)},{default:n(()=>[...t[32]||(t[32]=[m(" 查看详情 ",-1)])]),_:1},8,["onClick"]),e(u,{type:"warning",size:"small",onClick:M=>Ue(a)},{default:n(()=>[...t[33]||(t[33]=[m(" 分析业绩 ",-1)])]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])]),l("div",ha,[e(_,{"current-page":N.value,"onUpdate:currentPage":t[11]||(t[11]=a=>N.value=a),"page-size":F.value,"onUpdate:pageSize":t[12]||(t[12]=a=>F.value=a),"page-sizes":[30,50,100,200],total:te.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:ce,onCurrentChange:pe},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue"])])}}}),za=He(ba,[["__scopeId","data-v-05e77586"]]);export{za as default};
