import{E as a}from"./elementPlus-DxaqjplL.js";import{l,r as s,b as d,m as t,q as i,p as o,T as n,S as c,J as e,Q as r,az as v}from"./vendor-BtukhyiH.js";import{_ as u}from"./index-C4IdUW1A.js";import"./utils-DfI7e5Rl.js";const b={class:"mobile-sdk-container"},g={class:"sdk-grid"},h={class:"sdk-card"},p={class:"sdk-info"},C={class:"info-item"},f={class:"value"},M={class:"info-item"},m={class:"value"},k={class:"sdk-actions"},w={class:"sdk-card"},V={class:"sdk-info"},H={class:"info-item"},S={class:"value"},A={class:"info-item"},K={class:"value"},y={class:"sdk-actions"},D={class:"installation-guide"},P={class:"guide-tabs"},q={class:"tab-content"},x={key:0,class:"guide-content"},z={key:1,class:"guide-content"},B={key:2,class:"guide-content"},R={class:"qr-section"},I={class:"qr-container"},j={class:"qr-info"},_={class:"url-box"},L=u(l({__name:"MobileSDK",setup(l){const u=s("android"),L=s("--"),O=s("--"),T=s("--"),F=s("--"),W=s("http://localhost:5173/mobile-sdk/"),N=a=>{if(0===a)return"0 B";const l=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,l)).toFixed(2))+" "+["B","KB","MB","GB"][l]},Z=a=>{u.value=a;const l=document.querySelector(".installation-guide");l&&l.scrollIntoView({behavior:"smooth"})},E=async()=>{try{await navigator.clipboard.writeText(W.value),a.success("链接已复制到剪贴板")}catch(l){a.error("复制失败，请手动复制")}};return d(()=>{(async()=>{try{const a=await fetch("/api/v1/mobile-sdk/info"),l=await a.json();if(l.success){const{android:a,ios:s}=l.data;L.value=a.available?N(a.size):"未构建",O.value=s.available?N(s.size):"开发中",T.value=a.updateTime||(new Date).toLocaleDateString("zh-CN"),F.value=s.updateTime||(new Date).toLocaleDateString("zh-CN")}}catch(a){console.error("获取文件信息失败:",a),L.value="获取失败",O.value="获取失败"}})()}),(a,l)=>(i(),t("div",b,[l[29]||(l[29]=o("div",{class:"page-header"},[o("h1",null,"移动SDK管理"),o("p",null,"管理和分发CRM系统移动端SDK - 现已升级为PWA应用"),o("div",{class:"alert alert-info"},[o("h3",null,"📱 CRM移动SDK - 原生Android应用"),o("p",null,"提供完整的CRM功能，支持直接安装，无需应用商店。"),o("p",null,"包含权限管理、网络连接测试、通话服务等核心功能。")])],-1)),o("div",g,[o("div",h,[l[10]||(l[10]=o("div",{class:"sdk-icon android"},[o("svg",{viewBox:"0 0 24 24",width:"48",height:"48"},[o("path",{fill:"currentColor",d:"M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.22C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z"})])],-1)),l[11]||(l[11]=o("h3",null,"Android SDK",-1)),l[12]||(l[12]=o("p",null,"适用于Android设备的CRM移动SDK",-1)),o("div",p,[l[7]||(l[7]=o("div",{class:"info-item"},[o("span",{class:"label"},"版本:"),o("span",{class:"value"},"1.0.0")],-1)),o("div",C,[l[5]||(l[5]=o("span",{class:"label"},"大小:",-1)),o("span",f,n(L.value),1)]),o("div",M,[l[6]||(l[6]=o("span",{class:"label"},"更新时间:",-1)),o("span",m,n(T.value),1)])]),o("div",k,[l[9]||(l[9]=o("a",{href:"/api/v1/mobile-sdk/download/android",class:"btn btn-primary",download:""},[o("i",{class:"fas fa-download"}),c(" 下载APK ")],-1)),o("button",{onClick:l[0]||(l[0]=a=>Z("android")),class:"btn btn-secondary"},[...l[8]||(l[8]=[o("i",{class:"fas fa-book"},null,-1),c(" 安装说明 ",-1)])])])]),o("div",w,[l[18]||(l[18]=o("div",{class:"sdk-icon ios"},[o("svg",{viewBox:"0 0 24 24",width:"48",height:"48"},[o("path",{fill:"currentColor",d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})])],-1)),l[19]||(l[19]=o("h3",null,"iOS SDK",-1)),l[20]||(l[20]=o("p",null,"适用于iPhone和iPad的CRM移动SDK",-1)),o("div",V,[l[15]||(l[15]=o("div",{class:"info-item"},[o("span",{class:"label"},"版本:"),o("span",{class:"value"},"1.0.0")],-1)),o("div",H,[l[13]||(l[13]=o("span",{class:"label"},"大小:",-1)),o("span",S,n(O.value),1)]),o("div",A,[l[14]||(l[14]=o("span",{class:"label"},"更新时间:",-1)),o("span",K,n(F.value),1)])]),o("div",y,[l[17]||(l[17]=o("a",{href:"/api/v1/mobile-sdk/download/ios",class:"btn btn-primary",download:""},[o("i",{class:"fas fa-download"}),c(" 下载IPA ")],-1)),o("button",{onClick:l[1]||(l[1]=a=>Z("ios")),class:"btn btn-secondary"},[...l[16]||(l[16]=[o("i",{class:"fas fa-book"},null,-1),c(" 安装说明 ",-1)])])])])]),o("div",D,[l[24]||(l[24]=o("h2",null,"安装说明",-1)),o("div",P,[o("button",{class:e(["tab-btn",{active:"android"===u.value}]),onClick:l[2]||(l[2]=a=>u.value="android")}," Android安装 ",2),o("button",{class:e(["tab-btn",{active:"ios"===u.value}]),onClick:l[3]||(l[3]=a=>u.value="ios")}," iOS安装 ",2),o("button",{class:e(["tab-btn",{active:"web"===u.value}]),onClick:l[4]||(l[4]=a=>u.value="web")}," Web版本 ",2)]),o("div",q,["android"===u.value?(i(),t("div",x,[...l[21]||(l[21]=[v('<h3 data-v-54c8d166>Android APK安装步骤</h3><ol data-v-54c8d166><li data-v-54c8d166><strong data-v-54c8d166>下载APK文件</strong><br data-v-54c8d166> 点击上方&quot;下载APK&quot;按钮，将文件保存到设备</li><li data-v-54c8d166><strong data-v-54c8d166>启用未知来源</strong><br data-v-54c8d166> 进入设置 → 安全 → 允许安装未知来源的应用</li><li data-v-54c8d166><strong data-v-54c8d166>安装应用</strong><br data-v-54c8d166> 找到下载的APK文件，点击进行安装</li><li data-v-54c8d166><strong data-v-54c8d166>授予权限</strong><br data-v-54c8d166> 首次启动时，根据提示授予必要的权限</li><li data-v-54c8d166><strong data-v-54c8d166>开始使用</strong><br data-v-54c8d166> 完成权限设置后即可正常使用CRM功能</li></ol><div class="note" data-v-54c8d166><strong data-v-54c8d166>优势：</strong>完整的通话功能支持，更好的权限管理，原生性能体验 </div>',3)])])):r("",!0),"ios"===u.value?(i(),t("div",z,[...l[22]||(l[22]=[v('<h3 data-v-54c8d166>iOS IPA安装步骤</h3><ol data-v-54c8d166><li data-v-54c8d166><strong data-v-54c8d166>下载IPA文件</strong><br data-v-54c8d166> 点击上方&quot;下载IPA&quot;按钮，将文件保存到设备</li><li data-v-54c8d166><strong data-v-54c8d166>使用第三方工具</strong><br data-v-54c8d166> 需要使用AltStore、Sideloadly等工具进行安装</li><li data-v-54c8d166><strong data-v-54c8d166>信任开发者</strong><br data-v-54c8d166> 安装后需要在设置中信任开发者证书</li><li data-v-54c8d166><strong data-v-54c8d166>授予权限</strong><br data-v-54c8d166> 首次启动时，根据提示授予必要的权限</li><li data-v-54c8d166><strong data-v-54c8d166>开始使用</strong><br data-v-54c8d166> 完成设置后即可正常使用CRM功能</li></ol><div class="note" data-v-54c8d166><strong data-v-54c8d166>注意：</strong>iOS安装相对复杂，建议企业用户使用企业证书分发 </div>',3)])])):r("",!0),"web"===u.value?(i(),t("div",B,[...l[23]||(l[23]=[o("h3",null,"Web版本使用说明",-1),o("ol",null,[o("li",null,"在手机浏览器中访问SDK页面"),o("li",null,"支持Chrome、Safari、Firefox等主流浏览器"),o("li",null,"可以添加到主屏幕，获得类似原生应用的体验"),o("li",null,"支持离线使用，无需网络连接"),o("li",null,"自动更新，始终使用最新版本")],-1),o("div",{class:"note"},[o("strong",null,"优势："),c("无需下载安装，即开即用，跨平台兼容 ")],-1)])])):r("",!0)])]),o("div",R,[l[28]||(l[28]=o("h2",null,"扫码访问",-1)),o("div",I,[l[27]||(l[27]=o("div",{class:"qr-code"},[o("div",{class:"qr-placeholder"},[o("svg",{viewBox:"0 0 24 24",width:"64",height:"64"},[o("path",{fill:"currentColor",d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H9V11M15,11H17V13H15V11M19,5H21V9H19V5M5,5H9V9H5V5M3,19H5V21H3V19M5,19H9V21H5V19M11,19H13V21H11V19M15,19H17V21H15V19M19,19H21V21H19V19Z"})])]),o("p",null,[c("扫描二维码"),o("br"),c("在手机上访问")])],-1)),o("div",j,[l[25]||(l[25]=o("h3",null,"移动端访问地址",-1)),o("div",_,[o("code",null,n(W.value),1),o("button",{class:"copy-btn",onClick:E},"复制")]),l[26]||(l[26]=o("p",null,"用户可以通过扫描二维码或直接访问链接来使用移动SDK",-1))])])])]))}}),[["__scopeId","data-v-54c8d166"]]);export{L as default};
