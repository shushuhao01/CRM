const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BwmIV1hk.js","assets/vendor-D8Vxqhr-.js","assets/elementPlus-Bmwh7Rh8.js","assets/utils-ywHRn0uI.js","assets/index-QG7_Nqv_.css","assets/departmentPermissionService--eajZN4h.js","assets/department-CTOju6hT.js","assets/Login-ZW9gRjwh.js","assets/Login-BjDPCGrY.css","assets/ChangePassword-SGcZEZN1.js","assets/ChangePassword-Bz_oiEeg.css","assets/Dashboard-7Slxs5NG.js","assets/Dashboard-CBXZfaMX.css","assets/List-4p-NnXmH.js","assets/sensitiveInfo-BWt1a88R.js","assets/export-CTEZNzGJ.js","assets/DynamicTable-CiyMIP8-.js","assets/DynamicTable-D6TZdyXQ.css","assets/List-Ddnpvsz2.css","assets/Add-D1nDS72Q.js","assets/customerTags-Cm4wsNSA.js","assets/addressData-DOzoWqjI.js","assets/Add-NkCE9tOU.css","assets/Edit-CJTuOdiD.js","assets/Edit-BdiKSQQw.css","assets/Detail-BBjVpBng.js","assets/service-CXxf5jtg.js","assets/call-C9NCWzRc.js","assets/phone-DsAzMHsn.js","assets/CreateTemplateDialog-CGzWjSM2.js","assets/CreateTemplateDialog-94i599mp.css","assets/Detail-CoCQKo4S.css","assets/Tags-PvbR96e8.js","assets/Tags-Dha4xAYM.css","assets/Groups-DJMiaNPb.js","assets/Groups-bheZLyI2.css","assets/List-DggyE5c4.js","assets/order-BYWArVux.js","assets/List-Bnp6QxoX.css","assets/Add-D1W92if2.js","assets/product-DLyzXkG9.js","assets/Add-VNU_USfX.css","assets/Edit-DZEaHNNW.js","assets/Edit-Dw9fq77F.css","assets/Detail-BX5W_Kyf.js","assets/Detail-CmhonORz.css","assets/Audit-B4e8-EsI.js","assets/Audit-BeX68ZXA.css","assets/Personal-DclnUUda.js","assets/Personal-ggno--F0.css","assets/Team-CvnEviVL.js","assets/Team-vjn_YALi.css","assets/Analysis-BXsaQBGN.js","assets/Analysis-CEMES_IH.css","assets/Share-hwxspHbH.js","assets/Share-C-IjuNfv.css","assets/List-xUfRHIf6.js","assets/List-DDmNDmSp.css","assets/Detail-Bp2j51kz.js","assets/Detail-x7Tft30Z.css","assets/Edit-B1XFWTo3.js","assets/Edit-BsFK0kCV.css","assets/Track-ivV5KuLT.js","assets/Track-3Rik_et9.css","assets/Companies-CLs04PRm.js","assets/Companies-DVO8dmLh.css","assets/TrackDetail-liQntMZI.js","assets/TrackDetail-BJ_8UYog.css","assets/CompanyDetail-Dw2oNFbJ.js","assets/CompanyDetail-CTVRPJ_j.css","assets/Shipping-CE4LzXx4.js","assets/OrderDetailDialog-54R0Lf8m.js","assets/OrderDetailDialog-DjV_wCcF.css","assets/Shipping-DvfZPrsp.css","assets/StatusUpdate-Dm08PVHY.js","assets/StatusUpdate-CHTQHJvT.css","assets/List-B2F1jpCs.js","assets/List-CFWB8lA6.css","assets/Add-CZ82LPeh.js","assets/phoneSync-CuB8FaFE.js","assets/Add-C_NDWqSI.css","assets/Detail-Sgg99Ar5.js","assets/Detail-CcNKrrOv.css","assets/Edit-DRTK3z6b.js","assets/Edit-CmK4U8NF.css","assets/Data-DOeCtfX4.js","assets/Data-CUjk8j5t.css","assets/List-DFRYhGie.js","assets/data-D5rIftf7.js","assets/List-Y52nseMX.css","assets/Search-B4gZEkZk.js","assets/Search-Cnk1M9-n.css","assets/Recycle-Ba-1b7Qe.js","assets/Recycle-BO_9VHNs.css","assets/List-ClfWcJYj.js","assets/List-p7QFsTwI.css","assets/Add-BYxlWXou.js","assets/Edit-CprYmHLM.js","assets/Edit-BKL0tryk.css","assets/Detail-CCHNXXk9.js","assets/Detail-D_0BjKWF.css","assets/Category-C5DLEiwM.js","assets/Category-CMzL2ycY.css","assets/Stock-DwwUBqqu.js","assets/Stock-zUXIvI2H.css","assets/Analytics-Db25TVPi.js","assets/Analytics-fkUrETOJ.css","assets/SmsManagement-Tb97lD5S.js","assets/SmsManagement-BmOzx8hL.css","assets/CallManagement-CllgqIdv.js","assets/qr-connection-BfxN7ei6.js","assets/browser-CKYXhPt6.js","assets/CallManagement-DEUQqLXr.css","assets/Dashboard-1_z0Vulk.js","assets/Dashboard-CpfDLUc1.css","assets/OutboundList-CTSFdKU6.js","assets/OutboundList-C53hLspD.css","assets/CallRecords-Bc1oz1o_.js","assets/CallRecords-B7K_QGIA.css","assets/FollowUpRecords-fabzpiQY.js","assets/FollowUpRecords-DN8g6vlk.css","assets/RecordingManagement-DTQ6ywsg.js","assets/RecordingManagement-BETkdS4z.css","assets/PhoneConfig-ARo-D0wE.js","assets/PhoneConfig-CMyVCiRR.css","assets/Storage-B2d6jg0o.js","assets/Storage-DEGsQP_b.css","assets/UserPermissions-BqujbImk.js","assets/UserPermissions-CQ1Dm1GW.css","assets/User-DY3_kK5l.js","assets/userApiService-C9CF7lV2.js","assets/roleApiService-BtjPyNo7.js","assets/User-D21Ddkiy.css","assets/Role-C_hbjXEu.js","assets/Role-PxYvWMbs.css","assets/Departments-BGgWThrK.js","assets/DepartmentDialog-CYatLe97.js","assets/DepartmentDialog-SeKshos9.css","assets/Departments-BkDVZ9XC.css","assets/DepartmentDetail-BhsPmmdL.js","assets/DepartmentDetail-DhEodb1k.css","assets/DepartmentMembers-DqEDC2hw.js","assets/DepartmentMembers-V6B69Fr3.css","assets/DepartmentRoles-AnC1oA65.js","assets/DepartmentRoles-bR-lRtY8.css","assets/SmsTemplates-CBrYwxmk.js","assets/SmsTemplates-CyZipD4g.css","assets/SmsApproval-tSIhGjVm.js","assets/SmsApproval-DhmY7Aqt.css","assets/SmsSendRecords-CGPagost.js","assets/SmsSendRecords-DFlyrTTU.css","assets/SmsStatistics-4tKTN9n4.js","assets/SmsStatistics-CqBsBu94.css","assets/SmsConfig-hazkBaGy.js","assets/SmsConfig-CHprnGta.css","assets/largeComponents-BajLPRq2.js","assets/largeComponents-C4xbT6w0.css","assets/CustomerServicePermissionManager-7eSTJOym.js","assets/CustomerServicePermissionManager-B4TKO7aa.css","assets/SensitiveInfoPermissionManager-CiNKdZE6.js","assets/SensitiveInfoPermissionManager-DFQZ8LB4.css","assets/PermissionManagementGuide-DaoLDNE0.js","assets/PermissionManagementGuide-UtauZ4xj.css","assets/CallTest-DQPU95Oc.js","assets/CallTest-BtCFu3hh.css","assets/MobileSDK-DfjwKvyi.js","assets/MobileSDK-ClHMccz9.css","assets/MessageManagement-C3LAmygt.js","assets/MessageManagement-bL3QdyQu.css","assets/MobileSDKInstall-pt-Tg6Le.js","assets/MobileSDKInstall-BfhAkanb.css","assets/HelpCenter-2OhUSStD.js","assets/HelpCenter-6csOVxjI.css","assets/NotFound-B0LwJ5Cd.js","assets/NotFound-CcfFlR5d.css"])))=>i.map(i=>d[i]);
var Aa=Object.defineProperty,xa=Object.defineProperties;var Ia=Object.getOwnPropertyDescriptors;var Kr=Object.getOwnPropertySymbols;var ns=Object.prototype.hasOwnProperty,ss=Object.prototype.propertyIsEnumerable;var wn=(x,v,w)=>v in x?Aa(x,v,{enumerable:!0,configurable:!0,writable:!0,value:w}):x[v]=w,Me=(x,v)=>{for(var w in v||(v={}))ns.call(v,w)&&wn(x,w,v[w]);if(Kr)for(var w of Kr(v))ss.call(v,w)&&wn(x,w,v[w]);return x},ot=(x,v)=>xa(x,Ia(v));var as=(x,v)=>{var w={};for(var e in x)ns.call(x,e)&&v.indexOf(e)<0&&(w[e]=x[e]);if(x!=null&&Kr)for(var e of Kr(x))v.indexOf(e)<0&&ss.call(x,e)&&(w[e]=x[e]);return w};var qe=(x,v,w)=>wn(x,typeof v!="symbol"?v+"":v,w);var pe=(x,v,w)=>new Promise((e,o)=>{var d=s=>{try{r(w.next(s))}catch(i){o(i)}},t=s=>{try{r(w.throw(s))}catch(i){o(i)}},r=s=>s.done?e(s.value):Promise.resolve(s.value).then(d,t);r((w=w.apply(x,v)).next())});import{E as Se,a as Sn,b as bt,g as Oa,p as _s,m as os,c as ka,t as Ca,d as Pa,s as is,e as Pn,f as ls,v as _n,r as rn,h as cs,i as Tn,j as Ra,l as En,k as Or,u as us,n as Xr,o as Da,q as Ma,w as Na,x as La,y as ds,z as Ba,A as fs,B as Ua,C as Fa}from"./elementPlus-Bmwh7Rh8.js";import{aw as wr,r as Ie,Z as Nt,w as cn,e as De,n as ps,ax as $a,ay as Va,l as Gn,c as Wn,ag as Ue,aq as Ts,m as Je,p as ke,q as re,U as B,u as We,O as H,S as we,T as Ae,M as Ze,Q as Ge,P as br,F as Ut,a9 as Zt,J as ms,Y as Ga}from"./vendor-D8Vxqhr-.js";import{a as zn}from"./utils-ywHRn0uI.js";const Wa="modulepreload",za=function(x){return"/"+x},hs={},Ce=function(v,w,e){let o=Promise.resolve();if(w&&w.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),r=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));o=Promise.allSettled(w.map(s=>{if(s=za(s),s in hs)return;hs[s]=!0;const i=s.endsWith(".css"),u=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${u}`))return;const a=document.createElement("link");if(a.rel=i?"stylesheet":Wa,i||(a.as="script"),a.crossOrigin="",a.href=s,r&&a.setAttribute("nonce",r),document.head.appendChild(a),i)return new Promise((n,l)=>{a.addEventListener("load",n),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})}))}function d(t){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=t,window.dispatchEvent(r),!r.defaultPrevented)throw t}return o.then(t=>{for(const r of t||[])r.status==="rejected"&&d(r.reason);return v().catch(d)})};var it=(x=>(x.SUPER_ADMIN="super_admin",x.DEPARTMENT_MANAGER="department_manager",x.SALES_STAFF="sales_staff",x.CUSTOMER_SERVICE="customer_service",x.WHITELIST_MEMBER="whitelist",x.REGULAR_USER="regular",x))(it||{}),lt=(x=>(x.FULL_ACCESS="full",x.PARTIAL_ACCESS="partial",x.RESTRICTED="restricted",x))(lt||{}),At=(x=>(x.PHONE="phone",x.ID_CARD="id_card",x.EMAIL="email",x.WECHAT="wechat",x.ADDRESS="address",x.BANK_ACCOUNT="bank",x.FINANCIAL="financial",x))(At||{}),Es=(x=>(x.MAKE_CALL="make_call",x.VIEW_RECORDS="view_records",x.PLAY_RECORDING="play_recording",x.DOWNLOAD_RECORDING="download_recording",x.EDIT_RECORDS="edit_records",x.DELETE_RECORDS="delete_records",x.MANAGE_CONFIG="manage_config",x.VIEW_STATISTICS="view_statistics",x))(Es||{}),jt=(x=>(x.ALL="all",x.DEPARTMENT="department",x.SELF="self",x.CUSTOM="custom",x))(jt||{}),js=(x=>(x.AFTER_SALES="after_sales",x.AUDIT="audit",x.LOGISTICS="logistics",x.PRODUCT="product",x.GENERAL="general",x))(js||{}),Ft;let Ha=(Ft=class{constructor(){qe(this,"userPermissions",new Map);this.initializeDefaultPermissions()}static getInstance(){return Ft.instance||(Ft.instance=new Ft),Ft.instance}initializeDefaultPermissions(){this.userPermissions.set("admin",{userId:"admin",role:"super_admin",permissions:["full"],dataScope:"all",whitelistTypes:Object.values(At),callPermissions:Object.values(Es)}),this.userPermissions.set("manager",{userId:"manager",role:"department_manager",permissions:["partial"],dataScope:"department",departmentId:"dept_001",departmentIds:["dept_001","dept_002"],whitelistTypes:["phone","email","wechat"],callPermissions:["make_call","view_records","play_recording","download_recording","edit_records","view_statistics"]}),this.userPermissions.set("sales001",{userId:"sales001",role:"sales_staff",permissions:["restricted"],dataScope:"self",departmentId:"dept_001",callPermissions:["make_call","view_records","play_recording"]}),this.userPermissions.set("service_aftersales",{userId:"service_aftersales",role:"customer_service",permissions:["partial"],dataScope:"custom",customerServiceType:"after_sales",customPermissions:["service:view","service:process","service:edit"],callPermissions:["make_call","view_records","play_recording","edit_records"]}),this.userPermissions.set("service_audit",{userId:"service_audit",role:"customer_service",permissions:["partial"],dataScope:"custom",customerServiceType:"audit",customPermissions:["order:audit:view","order:audit:approve","order:audit:reject"],callPermissions:["make_call","view_records","play_recording"]}),this.userPermissions.set("service_logistics",{userId:"service_logistics",role:"customer_service",permissions:["partial"],dataScope:"custom",customerServiceType:"logistics",customPermissions:["logistics:view","logistics:shipping:manage","logistics:tracking:update"],callPermissions:["make_call","view_records","play_recording"]}),this.userPermissions.set("service_product",{userId:"service_product",role:"customer_service",permissions:["partial"],dataScope:"custom",customerServiceType:"product",customPermissions:["product:view","product:edit","product:inventory:manage"],callPermissions:["make_call","view_records","play_recording"]}),this.userPermissions.set("service_general",{userId:"service_general",role:"customer_service",permissions:["partial"],dataScope:"custom",customerServiceType:"general",customPermissions:[],callPermissions:["make_call","view_records","play_recording"]})}getUserPermission(v){return this.userPermissions.get(v)||null}checkSensitiveInfoAccess(v,w){var o;const e=this.getUserPermission(v);if(!e)return{hasAccess:!1,level:"restricted",reason:"用户权限信息不存在"};if(e.expiresAt&&e.expiresAt<new Date)return{hasAccess:!1,level:"restricted",reason:"用户权限已过期"};if(e.role==="super_admin")return{hasAccess:!0,level:"full"};if(e.role==="whitelist"){const d=((o=e.whitelistTypes)==null?void 0:o.includes(w))||!1;return{hasAccess:d,level:d?"partial":"restricted",reason:d?void 0:"该类型敏感信息不在白名单权限范围内"}}return{hasAccess:!1,level:"restricted",reason:"普通用户无权访问敏感信息"}}isSuperAdmin(v){const w=this.getUserPermission(v);return(w==null?void 0:w.role)==="super_admin"}isWhitelistMember(v){const w=this.getUserPermission(v);return(w==null?void 0:w.role)==="whitelist"}checkCallPermission(v,w){var d;const e=this.getUserPermission(v);if(!e)return{hasAccess:!1,level:"restricted",reason:"用户权限信息不存在"};if(e.role==="super_admin")return{hasAccess:!0,level:"full"};const o=((d=e.callPermissions)==null?void 0:d.includes(w))||!1;return{hasAccess:o,level:o?"partial":"restricted",reason:o?void 0:`缺少${w}权限`}}batchCheckCallPermissions(v,w){const e=new Map;for(const o of w)e.set(o,this.checkCallPermission(v,o));return e}setUserPermission(v){this.userPermissions.set(v.userId,v)}removeUserPermission(v){return this.userPermissions.delete(v)}getAllUserPermissions(v){return this.isSuperAdmin(v)?Array.from(this.userPermissions.values()):null}batchSetCustomerServicePermissions(v,w,e,o=[],d=[]){v.forEach(t=>{const r={userId:t,role:"customer_service",permissions:["partial"],dataScope:e,departmentId:d[0]||"",departmentIds:d,customerServiceType:w,customPermissions:o,callPermissions:["make_call","view_records","play_recording"]};this.setUserPermission(r)})}getCustomerServicesByType(v){const w=[];return this.userPermissions.forEach((e,o)=>{e.role==="customer_service"&&(!v||e.customerServiceType===v)&&w.push({userId:o,permission:e})}),w}checkCustomerServicePermission(v,w){var o,d;const e=this.getUserPermission(v);if(!e||e.role!=="customer_service")return!1;if((o=e.customPermissions)!=null&&o.includes(w))return!0;switch(e.customerServiceType){case"after_sales":return this.checkAfterSalesPermission(w);case"audit":return this.checkAuditPermission(w);case"logistics":return this.checkLogisticsPermission(w);case"product":return this.checkProductPermission(w);case"general":return((d=e.customPermissions)==null?void 0:d.includes(w))||!1;default:return!1}}checkAfterSalesPermission(v){return["service:afterSales:view","service:afterSales:edit","order:list:view","customer:list:view"].includes(v)}checkAuditPermission(v){return["order:audit:view","order:audit:approve","order:list:view","customer:list:view"].includes(v)}checkLogisticsPermission(v){return["logistics:shipping:view","logistics:shipping:edit","logistics:shipping:batchExport","order:list:view"].includes(v)}checkProductPermission(v){return["product:list:view","product:list:edit","product:add:create","product:inventory:manage","order:list:view","customer:list:view"].includes(v)}updateCustomerServicePermission(v,w,e,o=[],d=[]){const t=this.getUserPermission(v);if(!t||t.role!=="customer_service")return!1;const r=ot(Me({},t),{customerServiceType:w,dataScope:e,customPermissions:o,departmentIds:d,departmentId:d[0]||t.departmentId});return this.setUserPermission(r),!0}getCustomerServiceDataScope(v){const w=this.getUserPermission(v);return!w||w.role!=="customer_service"?{canAccessAll:!1,canAccessDepartments:[],canAccessSelf:!1,customPermissions:[]}:{canAccessAll:w.dataScope==="all",canAccessDepartments:w.departmentIds||[],canAccessSelf:w.dataScope==="self",customPermissions:w.customPermissions||[]}}batchSetUserPermissions(v,w){if(!this.isSuperAdmin(v))return console.warn("Only super admin can batch set user permissions"),!1;try{return w.forEach(d=>{var t=d,{userId:e}=t,o=as(t,["userId"]);const r={userId:e,role:o.role,permissions:[this.getPermissionLevelByRole(o.role)],dataScope:o.dataScope,departmentId:o.departmentId,departmentIds:o.departmentIds,customerServiceType:o.customerServiceType,customPermissions:o.customPermissions||[]};this.setUserPermission(r)}),this.logPermissionAudit(v,"batch_assign","",`批量设置${w.length}个用户权限`),!0}catch(e){return console.error("Batch set user permissions error:",e),!1}}createRoleTemplate(v,w){if(!this.isSuperAdmin(v))return console.warn("Only super admin can create role templates"),!1;try{const e=`template_${Date.now()}`,o=this.getRoleTemplates();return o[e]={id:e,name:w.name,role:w.role,dataScope:w.dataScope,permissions:w.permissions,description:w.description||"",createdBy:v,createdAt:new Date().toISOString()},localStorage.setItem("crm_role_templates",JSON.stringify(o)),this.logPermissionAudit(v,"create_template","",`创建角色模板: ${w.name}`),!0}catch(e){return console.error("Create role template error:",e),!1}}applyRoleTemplate(v,w,e){if(!this.isSuperAdmin(v))return console.warn("Only super admin can apply role templates"),!1;try{const d=this.getRoleTemplates()[w];return d?(e.forEach(t=>{const r={userId:t,role:d.role,permissions:[this.getPermissionLevelByRole(d.role)],dataScope:d.dataScope,customPermissions:d.permissions};this.setUserPermission(r)}),this.logPermissionAudit(v,"apply_template","",`应用模板 ${d.name} 到 ${e.length} 个用户`),!0):(console.warn("Role template not found:",w),!1)}catch(o){return console.error("Apply role template error:",o),!1}}getPermissionAuditLogs(v,w){if(!this.isSuperAdmin(v))return console.warn("Only super admin can get audit logs"),[];try{const e=JSON.parse(localStorage.getItem("crm_permission_audit_logs")||"[]");return w?e.filter(o=>!(w.startDate&&o.timestamp<w.startDate||w.endDate&&o.timestamp>w.endDate||w.action&&o.action!==w.action||w.targetUser&&!o.targetUser.includes(w.targetUser)||w.operator&&!o.operator.includes(w.operator))):e}catch(e){return console.error("Get audit logs error:",e),[]}}exportPermissionConfig(v){if(!this.isSuperAdmin(v))return console.warn("Only super admin can export permission config"),null;try{const w={users:this.getAllUserPermissions(v),templates:this.getRoleTemplates(),auditLogs:this.getPermissionAuditLogs(v),exportedAt:new Date().toISOString(),exportedBy:v};return this.logPermissionAudit(v,"export_config","","导出权限配置"),w}catch(w){return console.error("Export permission config error:",w),null}}importPermissionConfig(v,w,e){if(!this.isSuperAdmin(v))return console.warn("Only super admin can import permission config"),!1;try{const{overwriteExisting:o=!1,importUsers:d=!0,importTemplates:t=!0}=e||{};if(d&&w.users&&w.users.forEach(r=>{(o||!this.getUserPermission(r.userId))&&this.setUserPermission(r)}),t&&w.templates){const r=this.getRoleTemplates(),s=o?Me(Me({},r),w.templates):Me(Me({},w.templates),r);localStorage.setItem("crm_role_templates",JSON.stringify(s))}return this.logPermissionAudit(v,"import_config","","导入权限配置"),!0}catch(o){return console.error("Import permission config error:",o),!1}}getPermissionLevelByRole(v){switch(v){case"super_admin":return"full";case"department_manager":return"partial";case"sales_staff":return"partial";case"customer_service":return"partial";case"whitelist":return"partial";case"regular":return"restricted";default:return"restricted"}}getRoleTemplates(){try{return JSON.parse(localStorage.getItem("crm_role_templates")||"{}")}catch(v){return console.error("Get role templates error:",v),{}}}logPermissionAudit(v,w,e,o){try{const d=JSON.parse(localStorage.getItem("crm_permission_audit_logs")||"[]");d.push({id:`audit_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),operator:v,action:w,targetUser:e,description:o,ipAddress:"127.0.0.1"}),d.length>1e3&&d.splice(0,d.length-1e3),localStorage.setItem("crm_permission_audit_logs",JSON.stringify(d))}catch(d){console.error("Log permission audit error:",d)}}batchCheckAccess(v,w){const e=new Map;for(const o of w)e.set(o,this.checkSensitiveInfoAccess(v,o));return e}checkDataAccess(v,w,e){var d;const o=this.getUserPermission(v);if(!o)return{hasAccess:!1,level:"restricted",reason:"用户权限信息不存在"};if(o.dataScope==="all")return{hasAccess:!0,level:"full"};if(w===v)return{hasAccess:!0,level:"partial",reason:"访问个人数据"};if(w){const t=this.getUserManagedDepartments(v);if(t.length>0){const r=this.getUserDepartment(w);if(r){for(const s of t)if(this.getSubDepartmentIds(s).includes(r))return{hasAccess:!0,level:"partial",reason:"部门负责人权限：可查看部门成员数据"}}}}if(o.dataScope==="department"){if(!e)return{hasAccess:!1,level:"restricted",reason:"数据缺少部门信息"};const t=o.departmentId===e||((d=o.departmentIds)==null?void 0:d.includes(e))||!1;return{hasAccess:t,level:t?"partial":"restricted",reason:t?void 0:"无权访问其他部门的数据"}}if(o.dataScope==="self"){if(!w)return{hasAccess:!1,level:"restricted",reason:"数据缺少创建者信息"};const t=v===w;return{hasAccess:t,level:t?"partial":"restricted",reason:t?void 0:"只能访问自己创建的数据"}}return o.dataScope==="custom"?o.customerServiceType?this.checkCustomerServiceAccess(o.customerServiceType):{hasAccess:!1,level:"restricted",reason:"自定义权限范围未配置"}:{hasAccess:!1,level:"restricted",reason:"未知的数据范围类型"}}getUserDepartment(v){const w=this.getUserPermission(v);return(w==null?void 0:w.departmentId)||null}checkCustomerServiceAccess(v){switch(v){case"after_sales":return{hasAccess:!0,level:"partial",reason:"售后客服权限：可查看和处理所有售后订单"};case"audit":return{hasAccess:!0,level:"partial",reason:"审核客服权限：可查看和处理所有审核订单"};case"logistics":return{hasAccess:!0,level:"partial",reason:"物流客服权限：可查看和处理所有物流订单"};case"product":return{hasAccess:!0,level:"partial",reason:"商品客服权限：可查看和处理所有商品列表"};case"general":return{hasAccess:!0,level:"partial",reason:"通用客服权限：由超级管理员配置"};default:return{hasAccess:!1,level:"restricted",reason:"未知的客服类型"}}}isDepartmentManager(v){const w=this.getUserPermission(v);return(w==null?void 0:w.role)==="department_manager"}isDepartmentManagerOf(v,w){const e=this.getDepartmentStore();if(!e)return!1;if(w){const d=e.getDepartmentById(w);return(d==null?void 0:d.managerId)===v}return e.departments.some(d=>d.managerId===v)}canAccessDepartmentData(v,w){const e=this.getUserPermission(v);if(!e)return!1;if(e.role==="super_admin"||this.isDepartmentManagerOf(v,w))return!0;const o=this.getUserManagedDepartments(v);for(const d of o)if(this.getSubDepartmentIds(d).includes(w))return!0;return e.role==="department_manager"&&e.departmentId?this.getSubDepartmentIds(e.departmentId).includes(w):e.departmentId===w}getUserManagedDepartments(v){const w=this.getDepartmentStore();return w?w.departments.filter(o=>o.managerId===v).map(o=>o.id):[]}getDepartmentStore(){try{const{useDepartmentStore:v}=require("@/stores/department");return v()}catch(v){return console.warn("[Permission] 无法获取部门存储:",v),null}}getSubDepartmentIds(v){const w=this.getDepartmentStore();if(!w)return[v];const e=w.departments,o=[v],d=t=>{e.filter(s=>s.parentId===t).forEach(s=>{o.push(s.id),d(s.id)})};return d(v),o}getUserDataScope(v){const w=this.getUserPermission(v);if(!w)return{scope:"self",departmentIds:[],description:"仅限个人数据"};if(w.role==="super_admin")return{scope:"all",departmentIds:[],description:"全部数据"};const e=this.getUserManagedDepartments(v);if(e.length>0){const o=e.reduce((d,t)=>(d.push(t),d.push(...this.getSubDepartmentIds(t)),d),[]);return{scope:"department",departmentIds:[...new Set(o)],description:`管理部门及子部门数据 (${o.length}个部门)`}}if(w.role==="department_manager"&&w.departmentId){const o=this.getSubDepartmentIds(w.departmentId);return{scope:"department",departmentIds:o,description:`本部门及子部门数据 (${o.length}个部门)`}}return{scope:"self",departmentIds:w.departmentId?[w.departmentId]:[],description:"仅限个人数据"}}isSalesStaff(v){const w=this.getUserPermission(v);return(w==null?void 0:w.role)==="sales_staff"}isCustomerService(v){const w=this.getUserPermission(v);return(w==null?void 0:w.role)==="customer_service"}getAccessibleDepartments(v){const w=this.getUserPermission(v);if(!w)return[];if(w.dataScope==="all")return["*"];if(w.dataScope==="department"){const e=[];return w.departmentId&&e.push(w.departmentId),w.departmentIds&&e.push(...w.departmentIds),e}return[]}logAccess(v,w,e,o){const d={timestamp:new Date().toISOString(),userId:v,infoType:w,action:e,result:o,userAgent:navigator.userAgent};console.log("权限访问日志:",d)}},qe(Ft,"instance"),Ft);const pt=Ha.getInstance(),er=class er{constructor(v="/api/v1"){qe(this,"axiosInstance");qe(this,"baseURL");this.baseURL=v,this.axiosInstance=zn.create({baseURL:v,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}static getInstance(v){return er.instance||(er.instance=new er(v)),er.instance}setupInterceptors(){this.axiosInstance.interceptors.request.use(v=>{var e;const w=this.getAuthToken();return w&&(v.headers.Authorization=`Bearer ${w}`),v.headers["X-Request-ID"]=this.generateRequestId(),console.log(`[API] ${(e=v.method)==null?void 0:e.toUpperCase()} ${v.url}`,{params:v.params,data:v.data}),v},v=>(console.error("[API] 请求错误:",v),Promise.reject(v))),this.axiosInstance.interceptors.response.use(v=>{const{data:w}=v;if(console.log("[API] 响应成功:",{url:v.config.url,status:v.status,data:w}),!w.success){const e=w.message||"请求失败";return Se.error(e),Promise.reject(new Error(e))}return v},v=>{var o,d,t,r,s;console.error("[API] 响应错误:",v);const w=(d=(o=v.config)==null?void 0:o.metadata)==null?void 0:d.isHealthCheck,e=(r=(t=v.config)==null?void 0:t.metadata)==null?void 0:r.isTokenValidation;if(!w&&!e)if(v.response){const{status:i,data:u}=v.response;switch(i){case 401:this.handleUnauthorized(!0);break;case 403:Se.error("没有权限访问该资源");break;case 404:Se.error("请求的资源不存在");break;case 422:Se.error(u.message||"请求参数验证失败");break;case 429:throw Se.error("请求过于频繁，请稍后再试"),new Error("RATE_LIMITED");case 500:Se.error("服务器内部错误");break;default:Se.error(u.message||`请求失败 (${i})`)}}else v.request?Se.error("网络连接失败，请检查网络设置"):Se.error("请求配置错误");else e&&((s=v.response)==null?void 0:s.status)===401&&(console.log("[API] Token验证失败，静默清除认证信息"),this.handleUnauthorized(!1));return Promise.reject(v)})}getAuthToken(){return localStorage.getItem("auth_token")}handleUnauthorized(v=!0){localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),v&&Se.error("登录已过期，请重新登录"),console.log("[API] Token已清除，等待路由守卫处理导航")}generateRequestId(){return`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}get(v,w,e){return pe(this,null,function*(){return(yield this.axiosInstance.get(v,Me({params:w},e))).data.data})}post(v,w,e){return pe(this,null,function*(){return(yield this.axiosInstance.post(v,w,e)).data.data})}put(v,w,e){return pe(this,null,function*(){return(yield this.axiosInstance.put(v,w,e)).data.data})}delete(v,w){return pe(this,null,function*(){return(yield this.axiosInstance.delete(v,w)).data.data})}patch(v,w,e){return pe(this,null,function*(){return(yield this.axiosInstance.patch(v,w,e)).data.data})}paginate(o){return pe(this,arguments,function*(v,w={},e){const d=Me({page:w.page||1,limit:w.limit||20,search:w.search||"",sortBy:w.sortBy||"id",sortOrder:w.sortOrder||"desc"},w);return this.get(v,d,e)})}upload(v,w,e){return pe(this,null,function*(){const o=new FormData;o.append("file",w);const d={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:t=>{if(e&&t.total){const r=Math.round(t.loaded*100/t.total);e(r)}}};return this.post(v,o,d)})}batch(v,w){return pe(this,null,function*(){return this.post(v,{operations:w})})}download(v,w,e){return pe(this,null,function*(){return(yield this.axiosInstance.get(v,ot(Me({},e),{params:w,responseType:"blob"}))).data})}healthCheck(){return pe(this,null,function*(){try{return yield this.get("/health",void 0,{metadata:{isHealthCheck:!0}}),!0}catch(v){return console.error("[API] 健康检查失败:",v),!1}})}setAuthToken(v){localStorage.setItem("auth_token",v)}clearAuthToken(){localStorage.removeItem("auth_token"),localStorage.removeItem("refresh_token")}getBaseURL(){return this.baseURL}updateBaseURL(v){this.baseURL=v,this.axiosInstance.defaults.baseURL=v}};qe(er,"instance");let nn=er;const un=nn.getInstance(),ff=Object.freeze(Object.defineProperty({__proto__:null,ApiService:nn,apiService:un},Symbol.toStringTag,{value:"Module"})),Ka="crm_customers_unified",tr=class tr{constructor(){qe(this,"storageKey",Ka);console.log("CustomerStorageService 初始化，存储键:",this.storageKey)}static getInstance(){return tr.instance||(tr.instance=new tr),tr.instance}getAllCustomers(){try{const v=localStorage.getItem(this.storageKey);if(!v)return console.log("没有找到存储的客户数据，返回空数组"),[];const w=JSON.parse(v);return!w||!Array.isArray(w.customers)?(console.warn("存储的数据结构不正确，清除并返回空数组"),localStorage.removeItem(this.storageKey),[]):(console.log(`从存储中读取到 ${w.customers.length} 个客户`),w.customers)}catch(v){return console.error("读取客户数据失败:",v),localStorage.removeItem(this.storageKey),[]}}saveAllCustomers(v){try{const w={customers:v,lastUpdated:Date.now(),version:"1.0.0"};localStorage.setItem(this.storageKey,JSON.stringify(w)),console.log(`成功保存 ${v.length} 个客户到存储`)}catch(w){throw console.error("保存客户数据失败:",w),new Error("保存客户数据失败")}}addCustomer(v){try{const w=this.getAllCustomers();if(w.findIndex(o=>o.phone===v.phone)!==-1)throw new Error(`手机号 ${v.phone} 已存在`);return w.unshift(v),this.saveAllCustomers(w),console.log(`成功添加客户: ${v.name} (${v.phone})`),v}catch(w){throw console.error("添加客户失败:",w),w}}updateCustomer(v,w){try{const e=this.getAllCustomers(),o=e.findIndex(d=>d.id===v);if(o===-1)throw new Error(`客户 ${v} 不存在`);return e[o]=Me(Me({},e[o]),w),this.saveAllCustomers(e),console.log(`成功更新客户: ${e[o].name} (${e[o].phone})`),e[o]}catch(e){throw console.error("更新客户失败:",e),e}}deleteCustomer(v){try{const w=this.getAllCustomers(),e=w.findIndex(d=>d.id===v);if(e===-1)throw new Error(`客户 ${v} 不存在`);const o=w[e];return w.splice(e,1),this.saveAllCustomers(w),console.log(`成功删除客户: ${o.name} (${o.phone})`),!0}catch(w){throw console.error("删除客户失败:",w),w}}getCustomerById(v){try{return this.getAllCustomers().find(o=>o.id===v)||null}catch(w){return console.error("获取客户失败:",w),null}}getCustomerByPhone(v){try{return this.getAllCustomers().find(o=>o.phone===v)||null}catch(w){return console.error("根据手机号获取客户失败:",w),null}}checkPhoneExists(v){try{return this.getCustomerByPhone(v)!==null}catch(w){return console.error("检查手机号失败:",w),!1}}clearAllCustomers(){try{localStorage.removeItem(this.storageKey),console.log("已清空所有客户数据")}catch(v){throw console.error("清空客户数据失败:",v),v}}getStorageStats(){try{const v=localStorage.getItem(this.storageKey);if(!v)return{totalCustomers:0,storageSize:0,lastUpdated:null,version:null};const w=JSON.parse(v);return{totalCustomers:w.customers.length,storageSize:v.length,lastUpdated:w.lastUpdated,version:w.version}}catch(v){return console.error("获取存储统计失败:",v),{totalCustomers:0,storageSize:0,lastUpdated:null,version:null}}}forceMigrateFromOldStorage(){try{console.log("开始强制数据迁移...");const v=this.getAllCustomers();console.log(`当前已有 ${v.length} 个客户`);const w=["crm_store_customer","crm_customers","customers","customer_data","mock_customers"];let e=[];for(const o of w){const d=localStorage.getItem(o);if(d)try{const t=JSON.parse(d);let r=[];if(t.data&&t.data.customers?r=t.data.customers:t.customers?r=t.customers:Array.isArray(t)&&(r=t),r.length>0){e=r,console.log(`从 ${o} 找到了 ${r.length} 个客户`);break}}catch(t){console.warn(`解析旧数据 ${o} 失败:`,t)}}if(e.length>0){const o=new Set(v.map(t=>t.phone)),d=e.filter(t=>!o.has(t.phone));if(d.length>0){const t=[...v,...d];this.saveAllCustomers(t),console.log(`数据迁移完成，合并了 ${d.length} 个旧客户，总计 ${t.length} 个客户`),w.forEach(r=>{localStorage.getItem(r)&&(localStorage.removeItem(r),console.log(`已清理旧存储键: ${r}`))})}else console.log("旧数据中没有新的客户需要迁移")}else console.log("没有找到可迁移的旧数据");return!0}catch(v){return console.error("强制数据迁移失败:",v),!1}}migrateFromOldStorage(){try{if(console.log("开始数据迁移..."),localStorage.getItem(this.storageKey))return console.log("新格式数据已存在，跳过迁移"),!0;const w=["crm_store_customer","crm_customers","customers","customer_data","mock_customers"];let e=[];for(const o of w){const d=localStorage.getItem(o);if(d)try{const t=JSON.parse(d);let r=[];if(t.data&&t.data.customers?r=t.data.customers:t.customers?r=t.customers:Array.isArray(t)&&(r=t),r.length>0){e=r,console.log(`从 ${o} 迁移了 ${r.length} 个客户`);break}}catch(t){console.warn(`解析旧数据 ${o} 失败:`,t)}}return e.length>0?(this.saveAllCustomers(e),console.log(`数据迁移完成，共迁移 ${e.length} 个客户`),w.forEach(o=>{localStorage.getItem(o)&&(localStorage.removeItem(o),console.log(`已清理旧存储键: ${o}`))}),!0):(console.log("没有找到可迁移的旧数据"),!1)}catch(v){return console.error("数据迁移失败:",v),!1}}};qe(tr,"instance");let Rn=tr;const Pr=Rn.getInstance();typeof window!="undefined"&&Pr.migrateFromOldStorage();const sn="crm_mock_orders",Yt=[{id:"1",code:"XH202401151030",name:"张三",phone:"13800138001",age:28,address:"北京市朝阳区建国门外大街1号",level:"gold",status:"active",salesPersonId:"sales1",orderCount:5,createTime:"2024-01-15 10:30:00",createdBy:"admin",wechatId:"zhangsan_wx",email:"zhangsan@example.com",company:"北京科技有限公司",position:"技术总监",source:"网络推广",tags:["VIP","技术"],remarks:"重要客户，技术需求较高"},{id:"2",code:"LM202401201420",name:"李四",phone:"13900139002",age:35,address:"上海市浦东新区陆家嘴环路1000号",level:"silver",status:"active",salesPersonId:"sales2",orderCount:3,createTime:"2024-01-20 14:20:00",createdBy:"sales1",wechatId:"lisi_wx",email:"lisi@example.com",company:"上海贸易公司",position:"采购经理",source:"朋友介绍",tags:["稳定"],remarks:"采购量稳定，付款及时"},{id:"3",code:"WF202402010915",name:"王五",phone:"13700137003",age:42,address:"广州市天河区珠江新城花城大道1号",level:"normal",status:"inactive",salesPersonId:"sales1",orderCount:1,createTime:"2024-02-01 09:15:00",createdBy:"sales2",email:"wangwu@example.com",company:"广州制造有限公司",position:"生产经理",source:"展会",tags:["制造业"],remarks:"最近联系较少，需要跟进"},{id:"4",code:"ZL202402101645",name:"赵六",phone:"13600136004",age:29,address:"深圳市南山区科技园南区深南大道1号",level:"gold",status:"potential",salesPersonId:"sales3",orderCount:0,createTime:"2024-02-10 16:45:00",createdBy:"sales3",email:"zhaoliu@example.com",company:"深圳创新科技",position:"CTO",source:"线上咨询",tags:["科技","潜在"],remarks:"有合作意向，正在评估中"},{id:"5",code:"SQ202312151530",name:"孙七",phone:"13500135005",age:38,address:"杭州市西湖区文三路1号",level:"silver",status:"lost",salesPersonId:"sales2",orderCount:2,createTime:"2023-12-15 11:30:00",createdBy:"sales1",email:"sunqi@example.com",company:"杭州电商公司",position:"运营总监",source:"老客户介绍",tags:["电商"],remarks:"因价格问题流失，已转向竞争对手"}],gr=()=>{try{const x=Pr.getAllCustomers();return x.length===0?(console.log("Mock API: 没有客户数据，初始化默认数据"),Pr.saveAllCustomers([...Yt]),[...Yt]):(console.log(`Mock API: 通过统一存储服务读取到 ${x.length} 个客户`),x)}catch(x){return console.warn("Mock API: 读取客户数据失败:",x),console.log("Mock API: 使用初始数据，共",Yt.length,"个客户"),[...Yt]}},ys=x=>{try{Pr.saveAllCustomers(x),console.log(`Mock API: 通过统一存储服务保存了 ${x.length} 个客户`)}catch(v){console.warn("Mock API: 保存客户数据失败:",v)}},Xa=[{id:"1",orderNumber:"ORD202401001",customerId:"1",customerName:"张三",customerPhone:"13800138001",products:[{id:"1",name:"产品A",price:1e3,quantity:2}],totalAmount:2e3,status:"pending_shipment",paymentStatus:"unpaid",paymentMethod:"alipay",shippingAddress:"北京市朝阳区建国门外大街1号",createTime:"2024-01-15 10:30:00",updateTime:"2024-01-15 10:30:00",createdBy:"admin",cancelStatus:null,cancelReason:null,cancelDescription:null,cancelRequestTime:null,auditStatus:null,auditRemark:null,auditTime:null,auditorId:null},{id:"2",orderNumber:"ORD202401002",customerId:"2",customerName:"李四",customerPhone:"13900139002",products:[{id:"2",name:"产品B",price:1500,quantity:1}],totalAmount:1500,status:"pending_cancel",paymentStatus:"paid",paymentMethod:"wechat",shippingAddress:"上海市浦东新区陆家嘴环路1000号",createTime:"2024-01-16 14:20:00",updateTime:"2024-01-17 09:15:00",createdBy:"sales1",cancelStatus:"pending",cancelReason:"customer_cancel",cancelDescription:"客户临时改变主意，不需要此产品",cancelRequestTime:"2024-01-17 09:15:00",auditStatus:null,auditRemark:null,auditTime:null,auditorId:null,auditHistory:[{action:"request",time:"2024-01-17 09:15:00",auditor:"销售员-李明",remark:"客户临时改变主意，不需要此产品"}]},{id:"3",orderNumber:"ORD202401003",customerId:"3",customerName:"王五",customerPhone:"13700137003",products:[{id:"3",name:"产品C",price:800,quantity:3}],totalAmount:2400,status:"shipped",paymentStatus:"paid",paymentMethod:"bank",shippingAddress:"广州市天河区珠江新城花城大道1号",createTime:"2024-01-14 09:15:00",updateTime:"2024-01-18 16:30:00",createdBy:"sales2",cancelStatus:null,cancelReason:null,cancelDescription:null,cancelRequestTime:null,auditStatus:null,auditRemark:null,auditTime:null,auditorId:null},{id:"5",orderNumber:"ORD202401005",customerId:"5",customerName:"孙七",customerPhone:"13500135005",products:[{id:"5",name:"产品E",price:2e3,quantity:2}],totalAmount:4e3,status:"pending_cancel",paymentStatus:"paid",paymentMethod:"bank",shippingAddress:"杭州市西湖区文三路1号",createTime:"2024-01-18 11:30:00",updateTime:"2024-01-19 14:20:00",createdBy:"sales2",cancelStatus:"pending",cancelReason:"out_of_stock",cancelDescription:"商品库存不足，无法按时发货，客户要求取消订单",cancelRequestTime:"2024-01-19 14:20:00",auditStatus:null,auditRemark:null,auditTime:null,auditorId:null,auditHistory:[{action:"request",time:"2024-01-19 14:20:00",auditor:"销售员-刘强",remark:"商品库存不足，无法按时发货，客户要求取消订单"}]},{id:"4",orderNumber:"ORD202401004",customerId:"4",customerName:"赵六",customerPhone:"13600136004",products:[{id:"4",name:"产品D",price:1200,quantity:1}],totalAmount:1200,status:"cancelled",paymentStatus:"refunded",paymentMethod:"alipay",shippingAddress:"深圳市南山区科技园南区深南大道1号",createTime:"2024-01-15 16:45:00",updateTime:"2024-01-16 10:30:00",createdBy:"sales3",cancelStatus:"approved",cancelReason:"quality_issue",cancelDescription:"产品质量问题，客户要求退款",cancelRequestTime:"2024-01-16 08:20:00",auditStatus:"approved",auditRemark:"同意取消，质量问题属实",auditTime:"2024-01-16 10:30:00",auditorId:"admin",auditHistory:[{action:"request",time:"2024-01-16 08:20:00",auditor:"销售员-张华",remark:"产品质量问题，客户要求退款"},{action:"approved",time:"2024-01-16 10:30:00",auditor:"管理员-王总",remark:"同意取消，质量问题属实"}]}],Ht=()=>{try{const x=localStorage.getItem(sn);if(x)return JSON.parse(x)}catch(x){console.warn("Failed to load orders from localStorage:",x)}return[...Xa]},Jr=x=>{try{localStorage.setItem(sn,JSON.stringify(x))}catch(v){console.warn("Failed to save orders to localStorage:",v)}},As="crm_mock_sms_templates",xs="crm_mock_sms_approvals",Is="crm_mock_sms_sends",Ja=[{id:1,name:"客户回访模板",content:"尊敬的{customerName}，感谢您对我们产品的支持，我们将为您提供更好的服务。如有任何问题，请联系我们：{phone}",type:"service",variables:["customerName","phone"],status:"active",createTime:"2024-01-10 09:00:00",updateTime:"2024-01-10 09:00:00",creator:"张三",usage:156},{id:2,name:"促销活动模板",content:"【{companyName}】新年大促销！全场商品{discount}折起，活动时间：{startDate}至{endDate}，详情咨询客服。",type:"marketing",variables:["companyName","discount","startDate","endDate"],status:"active",createTime:"2024-01-12 14:30:00",updateTime:"2024-01-15 10:20:00",creator:"李四",usage:89},{id:3,name:"验证码模板",content:"您的验证码是：{code}，请在{minutes}分钟内使用，请勿泄露给他人。",type:"verification",variables:["code","minutes"],status:"active",createTime:"2024-01-08 16:45:00",updateTime:"2024-01-08 16:45:00",creator:"王五",usage:1234},{id:4,name:"订单确认通知",content:"【{companyName}】您的订单{orderNo}已确认，商品：{productName}，金额：{amount}元，预计{deliveryDate}发货。",type:"notification",variables:["companyName","orderNo","productName","amount","deliveryDate"],status:"active",createTime:"2024-01-05 10:30:00",updateTime:"2024-01-05 10:30:00",creator:"系统管理员",usage:892},{id:5,name:"发货通知模板",content:"【{companyName}】您的订单{orderNo}已发货，快递单号：{trackingNo}，请注意查收。物流查询：{trackingUrl}",type:"notification",variables:["companyName","orderNo","trackingNo","trackingUrl"],status:"active",createTime:"2024-01-06 14:20:00",updateTime:"2024-01-06 14:20:00",creator:"系统管理员",usage:756},{id:6,name:"付款提醒模板",content:"尊敬的{customerName}，您的订单{orderNo}待付款，金额{amount}元，请及时完成支付。如有疑问请联系客服。",type:"notification",variables:["customerName","orderNo","amount"],status:"active",createTime:"2024-01-07 09:15:00",updateTime:"2024-01-07 09:15:00",creator:"系统管理员",usage:423},{id:7,name:"会议通知模板",content:"【会议通知】{meetingTitle}将于{meetingDate} {meetingTime}在{location}举行，请准时参加。联系人：{contact}",type:"notification",variables:["meetingTitle","meetingDate","meetingTime","location","contact"],status:"active",createTime:"2024-01-09 11:45:00",updateTime:"2024-01-09 11:45:00",creator:"人事部",usage:234},{id:8,name:"生日祝福模板",content:"亲爱的{customerName}，今天是您的生日，{companyName}全体员工祝您生日快乐！特为您准备了生日礼品，请到店领取。",type:"marketing",variables:["customerName","companyName"],status:"active",createTime:"2024-01-11 16:30:00",updateTime:"2024-01-11 16:30:00",creator:"市场部",usage:67},{id:9,name:"服务预约确认",content:"【{companyName}】您预约的{serviceName}服务已确认，时间：{appointmentDate} {appointmentTime}，地址：{address}，联系电话：{phone}",type:"service",variables:["companyName","serviceName","appointmentDate","appointmentTime","address","phone"],status:"active",createTime:"2024-01-13 13:20:00",updateTime:"2024-01-13 13:20:00",creator:"客服部",usage:345},{id:10,name:"账户余额提醒",content:"【{companyName}】您的账户余额为{balance}元，余额不足可能影响服务使用，请及时充值。充值热线：{phone}",type:"notification",variables:["companyName","balance","phone"],status:"active",createTime:"2024-01-14 08:45:00",updateTime:"2024-01-14 08:45:00",creator:"财务部",usage:178},{id:11,name:"密码重置通知",content:"【{companyName}】您的账户密码已重置，新密码：{newPassword}，请及时登录修改。如非本人操作，请联系客服：{phone}",type:"notification",variables:["companyName","newPassword","phone"],status:"active",createTime:"2024-01-15 12:10:00",updateTime:"2024-01-15 12:10:00",creator:"技术部",usage:89},{id:12,name:"活动邀请模板",content:"【{companyName}】诚邀您参加{eventName}，时间：{eventDate}，地点：{venue}。精彩活动，丰厚奖品等您来！报名电话：{phone}",type:"marketing",variables:["companyName","eventName","eventDate","venue","phone"],status:"active",createTime:"2024-01-16 15:30:00",updateTime:"2024-01-16 15:30:00",creator:"市场部",usage:123}],Ya=[{id:1,applicant:"张三",department:"销售部",templateId:1,templateName:"客户回访模板",recipientCount:50,content:"尊敬的客户，感谢您对我们产品的支持，我们将为您提供更好的服务。如有任何问题，请联系我们：400-123-4567",reason:"月度客户回访活动",status:"pending",applyTime:"2024-01-15 10:30:00",recipients:["13800138001","13800138002","13800138003"]},{id:2,applicant:"李四",department:"市场部",templateId:2,templateName:"促销活动模板",recipientCount:200,content:"【科技公司】新年大促销！全场商品8折起，活动时间：1月20日至1月31日，详情咨询客服。",reason:"新年促销活动推广",status:"approved",applyTime:"2024-01-14 14:20:00",approveTime:"2024-01-14 16:45:00",approver:"王经理",approveRemark:"活动内容合规，批准发送",recipients:["13800138004","13800138005"]}],Qa=[{id:1,templateId:2,templateName:"促销活动模板",content:"【科技公司】新年大促销！全场商品8折起，活动时间：1月20日至1月31日，详情咨询客服。",recipients:["13800138004","13800138005","13800138006"],successCount:3,failCount:0,status:"success",sendTime:"2024-01-14 17:00:00",operator:"李四",cost:.15}],Kt=()=>{try{const x=localStorage.getItem(As);if(x)return JSON.parse(x)}catch(x){console.warn("Failed to load SMS templates from localStorage:",x)}return[...Ja]},Yr=x=>{try{localStorage.setItem(As,JSON.stringify(x))}catch(v){console.warn("Failed to save SMS templates to localStorage:",v)}},yr=()=>{try{const x=localStorage.getItem(xs);if(x)return JSON.parse(x)}catch(x){console.warn("Failed to load SMS approvals from localStorage:",x)}return[...Ya]},Qr=x=>{try{localStorage.setItem(xs,JSON.stringify(x))}catch(v){console.warn("Failed to save SMS approvals to localStorage:",v)}},Zr=()=>{try{const x=localStorage.getItem(Is);if(x)return JSON.parse(x)}catch(x){console.warn("Failed to load SMS sends from localStorage:",x)}return[...Qa]},Za=x=>{try{localStorage.setItem(Is,JSON.stringify(x))}catch(v){console.warn("Failed to save SMS sends to localStorage:",v)}};let st=gr();const $e=(x=500)=>new Promise(v=>setTimeout(v,x)),et={getUserById(x){return[{id:"admin",username:"admin",realName:"系统管理员",email:"admin@example.com",phone:"13800138000",roleId:"admin",status:"active"},{id:"manager",username:"manager",realName:"部门经理",email:"manager@example.com",phone:"13800138001",roleId:"manager",status:"active"},{id:"sales1",username:"sales1",realName:"张销售",email:"sales1@example.com",phone:"13800138002",roleId:"employee",status:"active"},{id:"sales2",username:"sales2",realName:"李销售",email:"sales2@example.com",phone:"13800138003",roleId:"employee",status:"active"},{id:"sales3",username:"sales3",realName:"王销售",email:"sales3@example.com",phone:"13800138004",roleId:"employee",status:"active"}].find(w=>w.id===x)},getCustomerList(x){return pe(this,null,function*(){yield $e(),st=gr(),console.log("Mock API: 获取客户列表，当前客户总数",st.length);let v=[...st];x!=null&&x.name&&(v=v.filter(t=>t.name.includes(x.name))),x!=null&&x.phone&&(v=v.filter(t=>t.phone.includes(x.phone))),x!=null&&x.level&&(v=v.filter(t=>t.level===x.level));const w=(x==null?void 0:x.page)||1,e=(x==null?void 0:x.pageSize)||50,o=(w-1)*e,d=o+e;return{list:v.slice(o,d),total:v.length,page:w,pageSize:e}})},checkCustomerExists(x){return pe(this,null,function*(){try{if(console.log("Mock API: checkCustomerExists 开始调用，手机号:",x),!x||typeof x!="string")return console.error("Mock API: 无效的手机号参数:",x),null;yield $e(200),st=gr(),Array.isArray(st)||(console.error("Mock API: mockCustomers is not an array:",st),st=[...Yt]),console.log("Mock API: 当前客户总数:",st.length),console.log("Mock API: 所有客户手机号:",st.map(w=>w.phone));const v=st.find(w=>w.phone===x);if(console.log("Mock API: 检查客户是否存在",x,v?"存在":"不存在"),v){console.log("Mock API: 找到的客户:",v);try{const w=this.getUserById(v.createdBy),e=ot(Me({},v),{creatorName:(w==null?void 0:w.realName)||"未知用户"});return console.log("Mock API: 返回客户信息（含创建者）:",e),e}catch(w){return console.warn("Mock API: 获取创建者信息失败，使用默认值:",w),ot(Me({},v),{creatorName:"未知用户"})}}return console.log("Mock API: 客户不存在，返回null"),null}catch(v){return console.error("Mock API: checkCustomerExists 执行失败:",v),null}})},createCustomer(x){return pe(this,null,function*(){yield $e();try{const v=ot(Me({},x),{id:`customer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createTime:new Date().toISOString(),orderCount:0}),w=Pr.addCustomer(v);return st=gr(),console.log("Mock API: 创建客户成功",w),console.log("Mock API: 当前客户总数",st.length),w}catch(v){throw console.error("Mock API: 创建客户失败",v),v}})},updateCustomer(x,v){return pe(this,null,function*(){yield $e(),st=gr(),Array.isArray(st)||(console.error("Mock API: mockCustomers is not an array:",st),st=[...Yt]);const w=st.findIndex(e=>e.id===x);if(w!==-1)return st[w]=Me(Me({},st[w]),v),ys(st),st[w];throw new Error("客户不存在")})},deleteCustomer(x){return pe(this,null,function*(){yield $e(),st=gr(),Array.isArray(st)||(console.error("Mock API: mockCustomers is not an array:",st),st=[...Yt]);const v=st.findIndex(w=>w.id===x);if(v!==-1)st.splice(v,1),ys(st);else throw new Error("客户不存在")})},getCustomerDetail(x){return pe(this,null,function*(){yield $e(),Array.isArray(st)||(console.error("Mock API: mockCustomers is not an array:",st),st=[...Yt]);const v=st.find(w=>w.id===x);if(v)return v;throw new Error("客户不存在")})},getOrderList(x){return pe(this,null,function*(){yield $e();let v=Ht();x!=null&&x.orderNumber&&(v=v.filter(t=>t.orderNumber.includes(x.orderNumber))),x!=null&&x.customerName&&(v=v.filter(t=>t.customerName.includes(x.customerName))),x!=null&&x.status&&(v=v.filter(t=>t.status===x.status)),x!=null&&x.paymentStatus&&(v=v.filter(t=>t.paymentStatus===x.paymentStatus));const w=(x==null?void 0:x.page)||1,e=(x==null?void 0:x.pageSize)||10,o=(w-1)*e,d=o+e;return{list:v.slice(o,d),total:v.length,page:w,pageSize:e}})},submitCancelRequest(x){return pe(this,null,function*(){yield $e();const v=Ht(),w=v.findIndex(o=>o.id===x.orderId);if(w===-1)throw new Error("订单不存在");const e=v[w];if(["shipped","delivered","completed","cancelled"].includes(e.status))throw new Error("当前订单状态不允许取消");return v[w]=ot(Me({},e),{status:"pending_cancel",cancelStatus:"pending",cancelReason:x.reason,cancelDescription:x.description,cancelRequestTime:new Date().toLocaleString("zh-CN"),updateTime:new Date().toLocaleString("zh-CN")}),Jr(v),console.log("Mock API: 提交取消订单申请成功",x.orderId),{success:!0,message:"取消申请已提交，等待审核"}})},getPendingCancelOrderList(){return pe(this,null,function*(){yield $e();const v=Ht().filter(w=>w.status==="pending_cancel"&&w.cancelStatus==="pending");return console.log("Mock API: 获取待审核取消订单列表",v.length),v})},getAuditedCancelOrderList(){return pe(this,null,function*(){yield $e();const v=Ht().filter(w=>w.cancelStatus&&["approved","rejected"].includes(w.cancelStatus));return console.log("Mock API: 获取已审核取消订单列表",v.length),v})},auditCancelRequest(x,v){return pe(this,null,function*(){yield $e();const w=Ht(),e=w.findIndex(d=>d.id===x);if(e===-1)throw new Error("订单不存在");const o=w[e];if(o.status!=="pending_cancel"||o.cancelStatus!=="pending")throw new Error("订单不在待审核状态");return v.action==="approve"?w[e]=ot(Me({},o),{status:"cancelled",cancelStatus:"approved",auditStatus:"approved",auditRemark:v.remark,auditTime:new Date().toLocaleString("zh-CN"),auditorId:v.auditorId,updateTime:new Date().toLocaleString("zh-CN")}):w[e]=ot(Me({},o),{status:"cancel_failed",cancelStatus:"rejected",auditStatus:"rejected",auditRemark:v.remark,auditTime:new Date().toLocaleString("zh-CN"),auditorId:v.auditorId,updateTime:new Date().toLocaleString("zh-CN")}),Jr(w),console.log("Mock API: 审核取消订单申请成功",x,v.action),{success:!0,message:v.action==="approve"?"取消申请已通过":"取消申请已拒绝"}})},updateOrder(x,v){return pe(this,null,function*(){yield $e();const w=Ht(),e=w.findIndex(t=>t.id===x);if(e===-1)throw new Error("订单不存在");const o=w[e],d=ot(Me(Me({},o),v),{id:x,orderNumber:o.orderNumber,createTime:o.createTime,updateTime:new Date().toLocaleString("zh-CN"),status:v.status||o.status,auditStatus:v.auditStatus||o.auditStatus});return w[e]=d,Jr(w),console.log("Mock API: 更新订单成功",x,v),d})},getOrderStatistics(){return pe(this,null,function*(){yield $e();const v=Ht().filter(s=>s.auditStatus==="pending"),w=v.length,e=v.reduce((s,i)=>s+i.totalAmount,0),o=new Date().toISOString().split("T")[0],d=v.filter(s=>new Date(s.createTime).toISOString().split("T")[0]===o).length,t=new Date,r=v.filter(s=>{const i=new Date(s.createTime);return(t.getTime()-i.getTime())/(1e3*60*60)>24}).length;return console.log("Mock API: 获取订单统计数据成功",{pendingCount:w,pendingAmount:e,todayCount:d,urgentCount:r}),{pendingCount:w,pendingAmount:e,todayCount:d,urgentCount:r}})},submitOrderAudit(x,v){return pe(this,null,function*(){yield $e();const w=Ht(),e=w.findIndex(d=>d.id===x);if(e===-1)throw new Error("订单不存在");const o=w[e];if(o.status!=="pending"&&o.status!=="draft")throw new Error("订单状态不允许提审");return w[e]=ot(Me({},o),{auditStatus:"pending",status:(v.markType==="normal","pending"),updateTime:new Date().toLocaleString("zh-CN")}),Jr(w),console.log("Mock API: 提交订单审核成功",x,v),{success:!0,message:"订单已提交审核"}})},getSmsTemplateList(x){return pe(this,null,function*(){yield $e();let v=Kt();x!=null&&x.name&&(v=v.filter(t=>t.name.includes(x.name))),x!=null&&x.type&&(v=v.filter(t=>t.type===x.type)),x!=null&&x.status&&(v=v.filter(t=>t.status===x.status));const w=(x==null?void 0:x.page)||1,e=(x==null?void 0:x.pageSize)||10,o=(w-1)*e,d=o+e;return{list:v.slice(o,d),total:v.length,page:w,pageSize:e}})},getSmsTemplateDetail(x){return pe(this,null,function*(){yield $e();const w=Kt().find(e=>e.id===x);if(w)return w;throw new Error("模板不存在")})},createSmsTemplate(x){return pe(this,null,function*(){yield $e();const v=Kt(),w=ot(Me({},x),{id:Math.max(...v.map(e=>e.id),0)+1,createTime:new Date().toLocaleString(),updateTime:new Date().toLocaleString(),usage:0});return v.push(w),Yr(v),w})},updateSmsTemplate(x,v){return pe(this,null,function*(){yield $e();const w=Kt(),e=w.findIndex(o=>o.id===x);if(e!==-1)return w[e]=ot(Me(Me({},w[e]),v),{updateTime:new Date().toLocaleString()}),Yr(w),w[e];throw new Error("模板不存在")})},deleteSmsTemplate(x){return pe(this,null,function*(){yield $e();const v=Kt(),w=v.findIndex(e=>e.id===x);if(w!==-1)v.splice(w,1),Yr(v);else throw new Error("模板不存在")})},previewSmsTemplate(x,v){return pe(this,null,function*(){yield $e();let w=x;return Object.entries(v).forEach(([e,o])=>{w=w.replace(new RegExp(`\\{${e}\\}`,"g"),o)}),w})},getSmsApprovalList(x){return pe(this,null,function*(){yield $e();let v=yr();if(x!=null&&x.applicant&&(v=v.filter(t=>t.applicant.includes(x.applicant))),x!=null&&x.status&&(v=v.filter(t=>t.status===x.status)),x!=null&&x.dateRange&&x.dateRange.length===2){const[t,r]=x.dateRange;v=v.filter(s=>{const i=s.applyTime.split(" ")[0];return i>=t&&i<=r})}const w=(x==null?void 0:x.page)||1,e=(x==null?void 0:x.pageSize)||10,o=(w-1)*e,d=o+e;return{list:v.slice(o,d),total:v.length,page:w,pageSize:e}})},getSmsApprovalDetail(x){return pe(this,null,function*(){yield $e();const w=yr().find(e=>e.id===x);if(w)return w;throw new Error("审核记录不存在")})},submitSmsApproval(x){return pe(this,null,function*(){yield $e();const w=Kt().find(d=>d.id===x.templateId);if(!w)throw new Error("模板不存在");const e=yr(),o={id:Math.max(...e.map(d=>d.id),0)+1,applicant:"当前用户",department:"销售部",templateId:x.templateId,templateName:w.name,recipientCount:x.recipients.length,content:w.content,reason:x.reason,status:"pending",applyTime:new Date().toLocaleString(),recipients:x.recipients};return e.push(o),Qr(e),o})},approveSms(x,v){return pe(this,null,function*(){yield $e();const w=yr(),e=w.findIndex(o=>o.id===x);if(e!==-1)return w[e]=ot(Me({},w[e]),{status:"approved",approveTime:new Date().toLocaleString(),approver:"当前用户",approveRemark:v}),Qr(w),w[e];throw new Error("审核记录不存在")})},rejectSms(x,v){return pe(this,null,function*(){yield $e();const w=yr(),e=w.findIndex(o=>o.id===x);if(e!==-1)return w[e]=ot(Me({},w[e]),{status:"rejected",approveTime:new Date().toLocaleString(),approver:"当前用户",approveRemark:v}),Qr(w),w[e];throw new Error("审核记录不存在")})},batchApproveSms(x,v,w){return pe(this,null,function*(){yield $e();const e=yr(),o=[];return x.forEach(d=>{const t=e.findIndex(r=>r.id===d);t!==-1&&(e[t]=ot(Me({},e[t]),{status:v==="approve"?"approved":"rejected",approveTime:new Date().toLocaleString(),approver:"当前用户",approveRemark:w}),o.push(e[t]))}),Qr(e),o})},getSmsSendList(x){return pe(this,null,function*(){yield $e();let v=Zr();if(x!=null&&x.templateName&&(v=v.filter(t=>t.templateName.includes(x.templateName))),x!=null&&x.status&&(v=v.filter(t=>t.status===x.status)),x!=null&&x.dateRange&&x.dateRange.length===2){const[t,r]=x.dateRange;v=v.filter(s=>{const i=s.sendTime.split(" ")[0];return i>=t&&i<=r})}const w=(x==null?void 0:x.page)||1,e=(x==null?void 0:x.pageSize)||10,o=(w-1)*e,d=o+e;return{list:v.slice(o,d),total:v.length,page:w,pageSize:e}})},getSmsSendDetail(x){return pe(this,null,function*(){yield $e();const w=Zr().find(e=>e.id===x);if(w)return w;throw new Error("发送记录不存在")})},sendSms(x){return pe(this,null,function*(){yield $e();const v=Kt(),w=v.find(t=>t.id===x.templateId);if(!w)throw new Error("模板不存在");const e=Zr(),o={id:Math.max(...e.map(t=>t.id),0)+1,templateId:x.templateId,templateName:w.name,content:w.content,recipients:x.recipients,successCount:x.recipients.length,failCount:0,status:"success",sendTime:new Date().toLocaleString(),operator:"当前用户",cost:x.recipients.length*.05};e.push(o),Za(e);const d=v.findIndex(t=>t.id===x.templateId);return d!==-1&&(v[d].usage+=x.recipients.length,Yr(v)),o})},testSms(x,v){return pe(this,null,function*(){return yield $e(),/^1[3-9]\d{9}$/.test(x)?{success:!0,message:"测试短信发送成功"}:{success:!1,message:"手机号格式不正确"}})},getSmsStatistics(x){return pe(this,null,function*(){yield $e();const v=Zr(),w=Kt(),e=v.reduce((i,u)=>i+u.successCount,0),o=v.reduce((i,u)=>i+u.failCount,0),d=e+o>0?e/(e+o)*100:0,t=v.reduce((i,u)=>i+u.cost,0),r=w.map(i=>({templateName:i.name,count:i.usage})),s=[{date:"2024-01-10",count:45,cost:2.25},{date:"2024-01-11",count:67,cost:3.35},{date:"2024-01-12",count:89,cost:4.45},{date:"2024-01-13",count:123,cost:6.15},{date:"2024-01-14",count:156,cost:7.8},{date:"2024-01-15",count:134,cost:6.7}];return{totalSent:e,successRate:Math.round(d*100)/100,totalCost:Math.round(t*100)/100,monthlyUsage:e,dailyUsage:Math.round(e/30),templateUsage:r,trendData:s}})},getSmsTrend(x,v="daily"){return pe(this,null,function*(){return yield $e(),[{date:"2024-01-10",count:45,cost:2.25},{date:"2024-01-11",count:67,cost:3.35},{date:"2024-01-12",count:89,cost:4.45},{date:"2024-01-13",count:123,cost:6.15},{date:"2024-01-14",count:156,cost:7.8},{date:"2024-01-15",count:134,cost:6.7}]})},getLogisticsStatusList(x){return pe(this,null,function*(){yield $e();const v=localStorage.getItem(sn);let w=[];if(v)try{w=JSON.parse(v)}catch(c){console.error("解析订单数据失败:",c)}const e=w.filter(c=>c.status==="shipped"&&c.trackingNumber&&c.expressCompany).map(c=>{var f,p;return{id:c.id,orderNo:c.orderNumber,customerName:c.customerName,customerPhone:c.receiverPhone,productName:((f=c.products)==null?void 0:f.map(y=>y.name).join("、"))||"商品",quantity:((p=c.products)==null?void 0:p.reduce((y,m)=>y+m.quantity,0))||1,amount:c.totalAmount,status:c.logisticsStatus||"shipped",trackingNo:c.trackingNumber,logisticsCompany:c.expressCompany,createTime:c.createTime,updateTime:c.shippingTime||c.createTime,shippingTime:c.shippingTime,remark:c.remark||"已发货"}}),o=new Date,d=c=>{const f=c.getFullYear(),p=String(c.getMonth()+1).padStart(2,"0"),y=String(c.getDate()).padStart(2,"0"),m=String(Math.floor(Math.random()*12)+9).padStart(2,"0"),g=String(Math.floor(Math.random()*60)).padStart(2,"0");return`${f}-${p}-${y} ${m}:${g}:00`},t=[{id:"test1",orderNo:"ORD202401005",customerName:"张三",customerPhone:"13800138005",productName:"蓝牙耳机",quantity:2,amount:599,status:"shipped",trackingNo:"SF1234567890",logisticsCompany:"顺丰速运",createTime:d(o),updateTime:d(o),shippingTime:d(o),remark:"今日发货"},{id:"test2",orderNo:"ORD202401006",customerName:"李四",customerPhone:"13800138006",productName:"手机壳",quantity:1,amount:89,status:"shipped",trackingNo:"YTO9876543210",logisticsCompany:"圆通速递",createTime:d(new Date(o.getTime()-3*24*60*60*1e3)),updateTime:d(new Date(o.getTime()-3*24*60*60*1e3)),shippingTime:d(new Date(o.getTime()-3*24*60*60*1e3)),remark:"3天前发货"},{id:"test3",orderNo:"ORD202401007",customerName:"王五",customerPhone:"13800138007",productName:"数据线",quantity:3,amount:150,status:"delivered",trackingNo:"ZTO1122334455",logisticsCompany:"中通快递",createTime:d(new Date(o.getTime()-5*24*60*60*1e3)),updateTime:d(new Date(o.getTime()-2*24*60*60*1e3)),shippingTime:d(new Date(o.getTime()-5*24*60*60*1e3)),remark:"5天前发货，已签收"},{id:"test4",orderNo:"ORD202401008",customerName:"赵六",customerPhone:"13800138008",productName:"充电宝",quantity:1,amount:299,status:"delivered",trackingNo:"EMS6677889900",logisticsCompany:"邮政EMS",createTime:d(new Date(o.getTime()-10*24*60*60*1e3)),updateTime:d(new Date(o.getTime()-7*24*60*60*1e3)),shippingTime:d(new Date(o.getTime()-10*24*60*60*1e3)),remark:"10天前发货，已签收"},{id:"todo1",orderNo:"ORD202401004",customerName:"钱七",customerPhone:"13800138004",productName:"智能手表",quantity:1,amount:1299,status:"todo",trackingNo:"ZTO5555666677",logisticsCompany:"中通快递",createTime:d(new Date(o.getTime()-2*24*60*60*1e3)),updateTime:d(new Date),shippingTime:d(new Date(o.getTime()-2*24*60*60*1e3)),remark:"需要跟进"}],r=[...e,...t];let s=r;if(x!=null&&x.tab&&(x.tab==="pending"?s=r.filter(c=>c.status==="shipped"):x.tab==="updated"?s=r.filter(c=>["delivered","rejected","returned","abnormal"].includes(c.status)):x.tab==="todo"&&(s=r.filter(c=>c.status==="todo"))),x!=null&&x.dateRange&&x.dateRange.length===2){const[c,f]=x.dateRange;s=s.filter(p=>{const m=(p.shippingTime||p.createTime).split(" ")[0];return!c&&f?m<=f:c&&f?m>=c&&m<=f:c&&!f?m>=c:!0})}if(x!=null&&x.keyword){const c=x.keyword.toLowerCase();s=s.filter(f=>f.orderNo.toLowerCase().includes(c)||f.customerName.toLowerCase().includes(c)||f.trackingNo.toLowerCase().includes(c))}const i=(x==null?void 0:x.page)||1,u=(x==null?void 0:x.pageSize)||20,a=(i-1)*u,n=a+u;return{list:s.slice(a,n),total:s.length,page:i,pageSize:u}})},getLogisticsStatusSummary(x){return pe(this,null,function*(){yield $e();const v=localStorage.getItem(sn);let w=[];if(v)try{w=JSON.parse(v)}catch(a){console.error("解析订单数据失败:",a)}const e=w.filter(a=>a.status==="shipped"&&a.trackingNumber&&a.expressCompany).map(a=>({status:a.logisticsStatus||"shipped",shippingTime:a.shippingTime,createTime:a.createTime})),o=[{status:"todo",shippingTime:"2024-01-12 15:30:00",createTime:"2024-01-12 11:20:00"}],d=[...e,...o];let t=d;if(x!=null&&x.dateRange&&x.dateRange.length===2){const[a,n]=x.dateRange;t=d.filter(l=>{const c=l.shippingTime||l.createTime;return c>=a&&c<=n})}const r=t.filter(a=>a.status==="shipped").length,s=t.filter(a=>["delivered","rejected","returned","abnormal"].includes(a.status)).length,i=t.filter(a=>a.status==="todo").length,u=t.length;return{pending:r,updated:s,todo:i,total:u}})},updateOrderLogisticsStatus(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 更新订单物流状态",x),{success:!0,message:"状态更新成功"}})},batchUpdateOrderLogisticsStatus(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 批量更新订单物流状态",x),{success:!0,message:"批量更新成功"}})},setOrderTodo(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 设置订单待办",x),{success:!0,message:"待办设置成功"}})},getLogisticsTracking(x){return pe(this,null,function*(){return yield $e(),{trackingNo:x,company:"顺丰速运",status:"in_transit",tracks:[{time:"2024-01-16 10:30:00",location:"北京分拣中心",status:"已发出",description:"快件已从北京分拣中心发出"},{time:"2024-01-15 18:20:00",location:"北京收件点",status:"已收件",description:"快件已在北京收件点收件"}]}})},getUserLogisticsPermission(){return pe(this,null,function*(){return yield $e(),{canAccess:!0,canUpdate:!0,canSetTodo:!0,canAutoUpdate:!1}})},getLogisticsStatusLog(x){return pe(this,null,function*(){yield $e();const v=[{id:"1",orderNo:"ORD202401002",oldStatus:"pending",newStatus:"shipped",operator:"张销售",operateTime:"2024-01-15 14:30:00",remark:"已发货，快递单号：SF1234567890"}];return{list:v,total:v.length,page:(x==null?void 0:x.page)||1,pageSize:(x==null?void 0:x.pageSize)||20}})},exportLogisticsStatusData(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 导出物流状态数据",x),{success:!0,downloadUrl:"/mock/logistics-export.xlsx"}})},getSystemLogs(x){return pe(this,null,function*(){yield $e(),console.log("Mock API: 获取系统日志",x);const v=[{id:"1",timestamp:"2024-01-15 10:30:00",level:"INFO",module:"客户管理",message:"新增客户成功",details:"客户编号: XH202401151030, 客户姓名: 张三"},{id:"2",timestamp:"2024-01-15 10:25:00",level:"INFO",module:"订单管理",message:"订单状态更新",details:"订单号: ORD202401151025, 状态: 已发货"},{id:"3",timestamp:"2024-01-15 10:20:00",level:"WARN",module:"系统监控",message:"内存使用率较高",details:"当前内存使用率: 85%"},{id:"4",timestamp:"2024-01-15 10:15:00",level:"INFO",module:"用户管理",message:"用户登录",details:"用户: admin, IP: 192.168.1.100"},{id:"5",timestamp:"2024-01-15 10:10:00",level:"ERROR",module:"短信服务",message:"短信发送失败",details:"目标号码: 13800138001, 错误: 余额不足"}];let w=v;return x!=null&&x.level&&x.level!=="ALL"&&(w=v.filter(e=>e.level===x.level)),x!=null&&x.limit&&(w=w.slice(0,x.limit)),{success:!0,data:w,total:w.length}})},clearSystemLogs(){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 清空系统日志"),{success:!0,message:"系统日志已清空",clearedFiles:5}})},getMessageSubscriptions(){return pe(this,null,function*(){yield $e(),console.log("Mock API: 获取消息订阅列表");const x=[{id:"1",messageType:"order_created",name:"新建订单",description:"当有新订单创建时发送通知",isSubscribed:!0,notificationMethods:["system_message","email"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"2",messageType:"order_signed",name:"订单签收",description:"当订单签收成功时发送通知",isSubscribed:!0,notificationMethods:["dingtalk","system_message"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"3",messageType:"order_audit_rejected",name:"订单审核拒绝",description:"当订单审核被拒绝时发送通知",isSubscribed:!1,notificationMethods:["email"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"4",messageType:"order_audit_approved",name:"订单审核通过",description:"当订单审核通过时发送通知",isSubscribed:!0,notificationMethods:["wechat_work","system_message"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"5",messageType:"customer_created",name:"新增客户",description:"当有新客户创建时发送通知",isSubscribed:!0,notificationMethods:["system_message"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"6",messageType:"payment_received",name:"收款确认",description:"当收到客户付款时发送通知",isSubscribed:!0,notificationMethods:["dingtalk","wechat_work","system_message"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"7",messageType:"payment_overdue",name:"付款逾期",description:"当客户付款逾期时发送通知",isSubscribed:!0,notificationMethods:["email","system_message"],createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"}];return{data:x,total:x.length}})},updateMessageSubscription(x,v){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 更新消息订阅",x,v),{success:!0,message:"订阅设置更新成功"}})},getAnnouncements(x){return pe(this,null,function*(){yield $e(),console.log("Mock API: 获取公告列表",x);const v=[{id:"1",title:"系统维护通知",content:"系统将于本周六晚上22:00-24:00进行维护升级，期间可能影响正常使用，请提前做好相关准备。",type:"company",targetDepartments:[],isPopup:!0,isMarquee:!0,publishedAt:"2024-01-15 09:00:00",status:"published",createdBy:"admin",createdAt:"2024-01-15 08:30:00",updatedAt:"2024-01-15 09:00:00"},{id:"2",title:"销售部门会议通知",content:"销售部门月度总结会议将于明天下午2点在会议室A举行，请相关人员准时参加。",type:"department",targetDepartments:["sales"],isPopup:!1,isMarquee:!0,publishedAt:"2024-01-14 16:00:00",status:"published",createdBy:"sales_manager",createdAt:"2024-01-14 15:30:00",updatedAt:"2024-01-14 16:00:00"},{id:"3",title:"新功能上线通知",content:"客户管理系统新增了消息管理功能，支持消息订阅和公告发布，欢迎大家使用。",type:"company",targetDepartments:[],isPopup:!1,isMarquee:!1,scheduledAt:"2024-01-16 10:00:00",status:"scheduled",createdBy:"admin",createdAt:"2024-01-15 14:00:00",updatedAt:"2024-01-15 14:00:00"}];return{data:v,total:v.length}})},createAnnouncement(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 创建公告",x),{data:ot(Me({id:Date.now().toString()},x),{createdAt:new Date().toISOString().replace("T"," ").substring(0,19),updatedAt:new Date().toISOString().replace("T"," ").substring(0,19)}),message:"公告创建成功"}})},updateAnnouncement(x,v){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 更新公告",x,v),{success:!0,message:"公告更新成功"}})},deleteAnnouncement(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 删除公告",x),{success:!0,message:"公告删除成功"}})},getMessageConfigs(){return pe(this,null,function*(){yield $e(),console.log("Mock API: 获取消息配置列表");const x=[{id:"1",type:"dingtalk",name:"钉钉机器人",config:{webhook:"https://oapi.dingtalk.com/robot/send?access_token=xxx",secret:"SEC***"},isEnabled:!0,createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"2",type:"wechat_work",name:"企业微信群机器人",config:{webhook:"https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx",groupName:"技术部通知群",mentionAll:!1,mentionedList:"13800138001,13800138002"},isEnabled:!0,createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"3",type:"email",name:"邮件通知",config:{smtpHost:"smtp.qq.com",smtpPort:587,username:"service@company.com",password:"***"},isEnabled:!1,createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"},{id:"4",type:"wechat_official",name:"微信公众号",config:{appId:"wx***",appSecret:"***"},isEnabled:!1,createdAt:"2024-01-01 10:00:00",updatedAt:"2024-01-15 14:30:00"}];return{data:x,total:x.length}})},updateMessageConfig(x,v){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 更新消息配置",x,v),{success:!0,message:"配置更新成功"}})},testMessageConfig(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 测试消息配置",x),{success:!0,message:"配置测试成功"}})},getSystemMessages(x){return pe(this,null,function*(){yield $e(),console.log("Mock API: 获取系统消息列表",x);const v=[];return{success:!0,data:{messages:v,total:v.length}}})},markMessageAsRead(x){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 标记消息已读",x),{success:!0,message:"消息已标记为已读"}})},markAllMessagesAsRead(){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 标记所有消息已读"),{success:!0,message:"所有消息已标记为已读"}})},getMessageStats(){return pe(this,null,function*(){return yield $e(),console.log("Mock API: 获取消息统计"),{data:{totalSubscriptions:7,activeSubscriptions:5,totalAnnouncements:3,publishedAnnouncements:2,unreadMessages:2,totalMessages:4,configuredChannels:2,totalChannels:4}}})}},Dt=()=>!1,rr=class rr{constructor(){qe(this,"api");this.api=un}static getInstance(){return rr.instance||(rr.instance=new rr),rr.instance}login(v){return pe(this,null,function*(){var w;try{if(Dt())throw new Error("Mock模式已禁用，请使用真实API进行登录");const e=yield this.api.post("/auth/login",v);if((w=e.tokens)!=null&&w.accessToken&&(this.api.setAuthToken(e.tokens.accessToken),localStorage.setItem("refresh_token",e.tokens.refreshToken),localStorage.setItem("user_info",JSON.stringify(e.user)),v.rememberMe)){const o=Date.now()+2592e6;localStorage.setItem("token_expiry",o.toString())}return console.log("[Auth] 登录成功:",e.user.username),e}catch(e){throw console.error("[Auth] 登录失败:",e),e}})}logout(){return pe(this,null,function*(){try{yield this.api.post("/auth/logout")}catch(v){console.warn("[Auth] 登出请求失败:",v)}finally{this.clearAuthData(),console.log("[Auth] 已清除本地认证数据")}})}refreshToken(){return pe(this,null,function*(){var v;try{const w=localStorage.getItem("refresh_token");if(!w)throw new Error("没有刷新token");if(Dt()){const o=localStorage.getItem("user_info"),t={user:o?JSON.parse(o):{id:1,username:"admin",email:"admin@example.com",realName:"系统管理员",phone:"13800138000",avatar:"",role:"admin",status:"active",permissions:["*"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},tokens:{accessToken:`mock-token-${Date.now()}`,refreshToken:`mock-refresh-${Date.now()}`},expiresIn:3600};this.api.setAuthToken(t.tokens.accessToken),localStorage.setItem("refresh_token",t.tokens.refreshToken),localStorage.setItem("user_info",JSON.stringify(t.user));const r=Date.now()+30*24*60*60*1e3;return localStorage.setItem("token_expiry",r.toString()),console.log("[Auth] Mock API模式 - Token刷新成功"),t}const e=yield this.api.post("/auth/refresh",{refreshToken:w});return(v=e.tokens)!=null&&v.accessToken&&(this.api.setAuthToken(e.tokens.accessToken),localStorage.setItem("refresh_token",e.tokens.refreshToken),localStorage.setItem("user_info",JSON.stringify(e.user))),console.log("[Auth] Token刷新成功"),e}catch(w){throw console.error("[Auth] Token刷新失败:",w),this.clearAuthData(),w}})}getCurrentUser(v=!1){return pe(this,null,function*(){try{if(Dt()){const o={id:1,username:"admin",email:"admin@example.com",realName:"系统管理员",phone:"13800138000",avatar:"",role:"admin",status:"active",permissions:["*"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return localStorage.setItem("user_info",JSON.stringify(o)),console.log("[Auth] Mock API模式 - 返回模拟用户数据"),o}const w=v?{metadata:{isTokenValidation:!0}}:void 0,e=yield this.api.get("/auth/me",void 0,w);return localStorage.setItem("user_info",JSON.stringify(e)),e}catch(w){throw v||console.error("[Auth] 获取用户信息失败:",w),w}})}updateCurrentUser(v){return pe(this,null,function*(){try{const w=yield this.api.put("/auth/me",v);return localStorage.setItem("user_info",JSON.stringify(w)),console.log("[Auth] 用户信息更新成功"),w}catch(w){throw console.error("[Auth] 更新用户信息失败:",w),w}})}changePassword(v){return pe(this,null,function*(){try{yield this.api.put("/auth/password",v),console.log("[Auth] 密码修改成功")}catch(w){throw console.error("[Auth] 密码修改失败:",w),w}})}validateToken(){return pe(this,null,function*(){try{return localStorage.getItem("auth_token")?Dt()?(console.log("[Auth] Mock API模式 - Token验证通过"),!0):(yield this.getCurrentUser(!0),!0):!1}catch(v){return!1}})}isAuthenticated(){const v=localStorage.getItem("auth_token"),w=localStorage.getItem("user_info");return!!(v&&w)}getLocalUserInfo(){try{const v=localStorage.getItem("user_info");return v?JSON.parse(v):null}catch(v){return console.error("[Auth] 解析本地用户信息失败:",v),null}}getUserPermissions(){const v=this.getLocalUserInfo();return(v==null?void 0:v.permissions)||[]}hasPermission(v){const w=this.getUserPermissions();return w.includes(v)||w.includes("*")}hasRole(v){const w=this.getLocalUserInfo();return w?(Array.isArray(v)?v:[v]).includes(w.role):!1}isAdmin(){return this.hasRole("admin")}isManagerOrAdmin(){return this.hasRole(["admin","manager"])}clearAuthData(){this.api.clearAuthToken(),localStorage.removeItem("user_info"),localStorage.removeItem("token_expiry")}autoRefreshToken(){return pe(this,null,function*(){try{const v=localStorage.getItem("auth_token"),w=localStorage.getItem("refresh_token");if(!v||!w)return;if(Dt()){console.log("[Auth] Mock API模式 - 跳过token过期检查");return}const e=localStorage.getItem("token_expiry");if(e){const o=parseInt(e),d=Date.now(),t=5*60*1e3;d>=o-t&&(console.log("[Auth] Token即将过期，自动刷新"),yield this.refreshToken())}}catch(v){console.error("[Auth] 自动刷新token失败:",v)}})}startAutoRefresh(){setInterval(()=>{this.autoRefreshToken()},5*60*1e3)}};qe(rr,"instance");let Dn=rr;const ur=Dn.getInstance();typeof window!="undefined"&&ur.startAutoRefresh();const Mn={BASE_URL:"/api/v1",TIMEOUT:1e4,HEADERS:{"Content-Type":"application/json",Accept:"application/json"}},Xt={CUSTOMERS:{LIST:"/customers",CREATE:"/customers",UPDATE:x=>`/customers/${x}`,DELETE:x=>`/customers/${x}`,DETAIL:x=>`/customers/${x}`,SEARCH:"/customers/search",GROUPS:{LIST:"/customers/groups",CREATE:"/customers/groups",UPDATE:x=>`/customers/groups/${x}`,DELETE:x=>`/customers/groups/${x}`,DETAIL:x=>`/customers/groups/${x}`},TAGS:{LIST:"/customers/tags",CREATE:"/customers/tags",UPDATE:x=>`/customers/tags/${x}`,DELETE:x=>`/customers/tags/${x}`,DETAIL:x=>`/customers/tags/${x}`}},ORDERS:{LIST:"/orders",CREATE:"/orders",UPDATE:x=>`/orders/${x}`,DELETE:x=>`/orders/${x}`,DETAIL:x=>`/orders/${x}`,AUDIT:x=>`/orders/${x}/audit`,SUBMIT_AUDIT:x=>`/orders/${x}/submit-audit`,CANCEL_REQUEST:"/orders/cancel-request",PENDING_CANCEL:"/orders/pending-cancel",CANCEL_AUDIT:x=>`/orders/${x}/cancel-audit`,AUDITED_CANCEL:"/orders/audited-cancel",STATISTICS:"/orders/statistics"},PRODUCTS:{LIST:"/products",CREATE:"/products",UPDATE:x=>`/products/${x}`,DELETE:x=>`/products/${x}`,DETAIL:x=>`/products/${x}`,CATEGORIES:{LIST:"/products/categories",CREATE:"/products/categories",UPDATE:x=>`/products/categories/${x}`,DELETE:x=>`/products/categories/${x}`,DETAIL:x=>`/products/categories/${x}`,TREE:"/products/categories/tree"}},USERS:{LOGIN:"/auth/login",LOGOUT:"/auth/logout",PROFILE:"/auth/profile",LIST:"/users",CREATE:"/users",UPDATE:x=>`/users/${x}`,DELETE:x=>`/users/${x}`},SYSTEM:{SETTINGS:"/system/settings",ROLES:"/system/roles",PERMISSIONS:"/system/permissions"},SMS:{TEMPLATES:"/sms/templates",APPROVALS:"/sms/approvals",SENDS:"/sms/sends",STATISTICS:"/sms/statistics",CONFIG:"/sms/config"},LOGISTICS:{LIST:"/logistics/list",COMPANIES:"/logistics/companies",TRACKING:"/logistics/tracking",TRACE:"/logistics/trace",BATCH_SYNC:"/logistics/batch-sync",UPDATE:x=>`/logistics/tracking/${x}`}},qa=()=>localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),eo=(x,v)=>{const w=Mn.BASE_URL.replace(/\/+$/,""),e=String(x||"").replace(/^\/+/,""),o=new URL(`${w}/${e}`);return v&&Object.keys(v).forEach(d=>{v[d]!==void 0&&v[d]!==null&&o.searchParams.append(d,String(v[d]))}),o.toString()},to=x=>pe(void 0,null,function*(){const v=x.headers.get("content-type");let w;if(v&&v.includes("application/json")?w=yield x.json():w=yield x.text(),!x.ok){const e=new Error((w==null?void 0:w.message)||`HTTP Error: ${x.status}`);throw e.status=x.status,e.data=w,e}return w}),jn={"GET:/orders":x=>et.getOrderList(x),"PUT:/orders/([^/]+)":(x,v,w)=>et.updateOrder(w,v),"POST:/orders/([^/]+)/submit-audit":(x,v,w)=>et.submitOrderAudit(w,v),"POST:/orders/cancel-request":(x,v)=>et.submitCancelRequest(v),"GET:/orders/pending-cancel":()=>et.getPendingCancelOrderList(),"GET:/orders/audited-cancel":()=>et.getAuditedCancelOrderList(),"POST:/orders/([^/]+)/cancel-audit":(x,v,w)=>et.auditCancelRequest(w,v),"GET:/orders/statistics":()=>et.getOrderStatistics(),"GET:/customers":x=>et.getCustomerList(x),"GET:/customers/check-exists":x=>(console.log("Mock API Route: /customers/check-exists 被调用"),console.log("Mock API Route: 接收到的参数:",x),console.log("Mock API Route: 手机号参数:",x==null?void 0:x.phone),et.checkCustomerExists(x==null?void 0:x.phone)),"POST:/customers":(x,v)=>et.createCustomer(v),"PUT:/customers/([^/]+)":(x,v,w)=>et.updateCustomer(w,v),"DELETE:/customers/([^/]+)":(x,v,w)=>et.deleteCustomer(w),"GET:/customers/([^/]+)":(x,v,w)=>et.getCustomerDetail(w),"GET:/sms/templates":x=>et.getSmsTemplateList(x),"GET:/sms/approvals":x=>et.getSmsApprovalList(x),"GET:/sms/sends":x=>et.getSmsSendList(x),"GET:/sms/statistics":()=>et.getSmsStatistics(),"GET:/logs/system":x=>et.getSystemLogs(x),"DELETE:/logs/clear":()=>et.clearSystemLogs(),"GET:/message/subscriptions":()=>et.getMessageSubscriptions(),"PUT:/message/subscriptions/([^/]+)":(x,v,w)=>et.updateMessageSubscription(w,v),"GET:/message/announcements":x=>et.getAnnouncements(x),"POST:/message/announcements":(x,v)=>et.createAnnouncement(v),"PUT:/message/announcements/([^/]+)":(x,v,w)=>et.updateAnnouncement(w,v),"DELETE:/message/announcements/([^/]+)":(x,v,w)=>et.deleteAnnouncement(w),"GET:/message/configs":()=>et.getMessageConfigs(),"PUT:/message/configs/([^/]+)":(x,v,w)=>et.updateMessageConfig(w,v),"POST:/message/configs/([^/]+)/test":(x,v,w)=>et.testMessageConfig(w),"GET:/message/system-messages":x=>et.getSystemMessages(x),"PUT:/message/system-messages/([^/]+)/read":(x,v,w)=>et.markMessageAsRead(w),"PUT:/message/system-messages/read-all":()=>et.markAllMessagesAsRead(),"GET:/message/stats":()=>et.getMessageStats(),"GET:/health":()=>Promise.resolve({status:"ok",timestamp:new Date().toISOString()})},Et=(w,...e)=>pe(void 0,[w,...e],function*(x,v={}){const{method:o="GET",headers:d={},params:t,data:r,timeout:s=Mn.TIMEOUT}=v;if(Dt()){const n=`${o}:${x}`;if(console.log("Mock API: 尝试匹配路由",n),console.log("Mock API: 请求参数",t),console.log("Mock API: 请求数据",r),jn[n]){console.log("Mock API: 找到直接匹配的路由",n);try{const l=yield jn[n](t,r);return console.log("Mock API: 路由处理结果",l),{code:200,message:"success",data:l,success:!0}}catch(l){return console.error("Mock API: 路由处理失败",l),{code:400,message:(l==null?void 0:l.message)||"请求失败",data:null,success:!1}}}console.log("Mock API: 开始正则匹配");for(const[l,c]of Object.entries(jn)){const[f,p]=l.split(":");if(f===o){const y=new RegExp(`^${p}$`),m=x.match(y);if(console.log(`Mock API: 尝试匹配模式 ${l}, 结果:`,m),m){console.log("Mock API: 找到正则匹配的路由",l);try{const g=yield c(t,r,...m.slice(1));return console.log("Mock API: 正则路由处理结果",g),{code:200,message:"success",data:g,success:!0}}catch(g){return console.error("Mock API: 正则路由处理失败",g),{code:400,message:(g==null?void 0:g.message)||"请求失败",data:null,success:!1}}}}}return console.warn(`Mock API: 未找到匹配的路由 ${o}:${x}`),{code:404,message:`Mock API: 未找到匹配的路由 ${o}:${x}`,data:null,success:!1}}const i=Me(Me({},Mn.HEADERS),d),u=qa();u&&(i.Authorization=`Bearer ${u}`);const a={method:o,headers:i,signal:AbortSignal.timeout(s)};r&&["POST","PUT","PATCH"].includes(o)&&(a.body=JSON.stringify(r));try{const n=eo(x,t),l=yield fetch(n,a);return yield to(l)}catch(n){throw(n==null?void 0:n.name)==="AbortError"?new Error("请求超时"):n}}),St={get:(x,v)=>Et(x,{method:"GET",params:v}),post:(x,v)=>Et(x,{method:"POST",data:v}),put:(x,v)=>Et(x,{method:"PUT",data:v}),patch:(x,v)=>Et(x,{method:"PATCH",data:v}),delete:x=>Et(x,{method:"DELETE"})};var Qe=(x=>(x.PENDING="pending",x.PICKED_UP="picked_up",x.IN_TRANSIT="in_transit",x.OUT_FOR_DELIVERY="out_for_delivery",x.DELIVERED="delivered",x.EXCEPTION="exception",x.REJECTED="rejected",x.RETURNED="returned",x))(Qe||{});const ro=x=>St.get("/logistics/list",x),no=x=>St.post("/logistics/tracking",x),Os=x=>St.get("/logistics/trace",x),ks=x=>St.post("/logistics/batch-sync",x),so=()=>St.get("/logistics/companies"),ao=Os,oo=()=>ks({trackingIds:[]}),io=x=>{var w,e;const v={page:x.page,pageSize:x.pageSize,trackingNo:x.keyword,status:x.status,startDate:(w=x.dateRange)==null?void 0:w[0],endDate:(e=x.dateRange)==null?void 0:e[1]};return ro(v)},lo=x=>{var v,w;return St.get("/logistics/summary",{startDate:(v=x==null?void 0:x.dateRange)==null?void 0:v[0],endDate:(w=x==null?void 0:x.dateRange)==null?void 0:w[1]})},co=x=>St.post("/logistics/order/status",x),uo=x=>St.post("/logistics/order/batch-status",x),fo=x=>St.post("/logistics/order/todo",x),po=()=>St.get("/logistics/permission"),An=wr("logisticsStatus",()=>{const x=Ie(!1),v=Ie([]),w=Nt({pending:0,updated:0,todo:0,total:0}),e=Nt({canAccess:!1,canUpdate:!1,canSetTodo:!1,canAutoUpdate:!1}),o=Nt({currentPage:1,pageSize:20,total:0}),d=Nt({tab:"pending",dateRange:[],keyword:"",status:""}),t=()=>pe(void 0,null,function*(){x.value=!0;try{const h={tab:d.tab,dateRange:d.dateRange.length===2?d.dateRange:void 0,keyword:d.keyword||void 0,status:d.status||void 0,page:o.currentPage,pageSize:o.pageSize},_=yield io(h);return v.value=_.data.list||[],o.total=_.data.total||0,_}catch(h){throw console.error("获取订单列表失败:",h),h}finally{x.value=!1}}),r=()=>pe(void 0,null,function*(){try{const h={dateRange:d.dateRange.length===2?d.dateRange:void 0},_=yield lo(h);return Object.assign(w,_.data),_}catch(h){throw console.error("获取汇总数据失败:",h),h}});return{loading:x,orderList:v,summary:w,userPermission:e,pagination:o,filters:d,fetchOrderList:t,fetchSummary:r,updateOrderStatus:(h,_,j)=>pe(void 0,null,function*(){try{const T=yield co({orderNo:h,newStatus:_,remark:j}),S=v.value.find(b=>b.orderNo===h);return S&&(S.status=_),yield r(),T}catch(T){throw console.error("更新订单状态失败:",T),T}}),batchUpdateOrderStatus:(h,_,j)=>pe(void 0,null,function*(){try{const T=yield uo({orderNos:h,newStatus:_,remark:j});return h.forEach(S=>{const b=v.value.find(E=>E.orderNo===S);b&&(b.status=_)}),yield r(),T}catch(T){throw console.error("批量更新订单状态失败:",T),T}}),setTodoOrder:(h,_,j)=>pe(void 0,null,function*(){try{const T=yield fo({orderNo:h,days:_,remark:j}),S=v.value.find(b=>b.orderNo===h);if(S){const b=new Date;b.setDate(b.getDate()+_),S.todoDate=b.toISOString().split("T")[0],S.todoRemark=j}return yield r(),T}catch(T){throw console.error("设置待办失败:",T),T}}),fetchTrackingInfo:h=>pe(void 0,null,function*(){try{return(yield ao(h)).data||[]}catch(_){throw console.error("获取物流轨迹失败:",_),_}}),autoUpdateStatus:()=>pe(void 0,null,function*(){try{const h=yield oo();return yield Promise.all([t(),r()]),h}catch(h){throw console.error("自动更新物流状态失败:",h),h}}),fetchUserPermission:()=>pe(void 0,null,function*(){try{const h=yield po();return Object.assign(e,h.data),h}catch(h){throw console.error("获取用户权限失败:",h),h}}),setFilters:h=>{Object.assign(d,h)},setPagination:h=>{Object.assign(o,h)},resetFilters:()=>{d.tab="pending",d.dateRange=[],d.keyword="",d.status="",o.currentPage=1},refreshData:()=>pe(void 0,null,function*(){yield Promise.all([t(),r()])}),getStatusText:h=>({shipped:"已发货",delivered:"已签收",rejected:"拒收",returned:"拒收已退回",refunded:"退货退款",abnormal:"状态异常"})[h]||h,getStatusType:h=>({shipped:"info",delivered:"success",rejected:"warning",returned:"danger",refunded:"danger",abnormal:"danger"})[h]||"info"}}),qr={getList:x=>pe(void 0,null,function*(){return Dt()?{data:yield et.getCustomerList(x),code:200,message:"success",success:!0}:St.get(Xt.CUSTOMERS.LIST,x)}),checkExists:x=>pe(void 0,null,function*(){try{if(console.log("Customer API: checkExists 调用",x),!x||typeof x!="string")return console.error("Customer API: 无效的手机号参数:",x),{data:null,code:400,message:"无效的手机号参数",success:!1};console.log("Customer API: 调用路径:",`${Xt.CUSTOMERS.LIST}/check-exists`);try{return yield St.get(`${Xt.CUSTOMERS.LIST}/check-exists`,{phone:x})}catch(v){return console.error("Customer API: API 调用失败:",v),{data:null,code:500,message:"API 调用失败",success:!1}}}catch(v){return console.error("Customer API: checkExists 执行失败:",v),{data:null,code:500,message:"检查客户存在性失败",success:!1}}}),create:x=>pe(void 0,null,function*(){return Dt()?{data:yield et.createCustomer(x),code:200,message:"success",success:!0}:St.post(Xt.CUSTOMERS.CREATE,x)}),update:(x,v)=>pe(void 0,null,function*(){return Dt()?{data:yield et.updateCustomer(x,v),code:200,message:"success",success:!0}:St.put(Xt.CUSTOMERS.UPDATE(x),v)}),delete:x=>pe(void 0,null,function*(){return Dt()?(yield et.deleteCustomer(x),{data:null,code:200,message:"success",success:!0}):St.delete(Xt.CUSTOMERS.DELETE(x))}),getDetail:x=>pe(void 0,null,function*(){return Dt()?{data:yield et.getCustomerDetail(x),code:200,message:"success",success:!0}:St.get(Xt.CUSTOMERS.DETAIL(x))}),search:x=>pe(void 0,null,function*(){return Dt()?{data:yield et.getCustomerList(x),code:200,message:"success",success:!0}:St.get(Xt.CUSTOMERS.SEARCH,x)})};function gs(){const x=new Date,v=x.getFullYear().toString(),w=(x.getMonth()+1).toString().padStart(2,"0"),e=x.getDate().toString().padStart(2,"0"),o=x.getHours().toString().padStart(2,"0"),d=x.getMinutes().toString().padStart(2,"0"),t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let r="";for(let s=0;s<2;s++)r+=t.charAt(Math.floor(Math.random()*t.length));return`${r}${v}${w}${e}${o}${d}`}function pf(x){return pe(this,null,function*(){try{if(navigator.clipboard&&window.isSecureContext)return yield navigator.clipboard.writeText(x),!0;{const v=document.createElement("textarea");v.value=x,v.style.position="fixed",v.style.left="-999999px",v.style.top="-999999px",document.body.appendChild(v),v.focus(),v.select();const w=document.execCommand("copy");return document.body.removeChild(v),w}}catch(v){return console.error("复制到剪贴板失败:",v),!1}})}const mo={PRODUCTION:{VERSION:"1.0.0",TTL:7*24*60*60*1e3,SAVE_INTERVAL:5*60*1e3,MAX_STORAGE_SIZE:6*1024*1024,EXCLUDE_FIELDS:["password","token","secret","privateKey","sessionId"]}};function ho(){return mo.PRODUCTION}function mf(){return{localStorage:typeof Storage!="undefined"&&!!window.localStorage,sessionStorage:typeof Storage!="undefined"&&!!window.sessionStorage,indexedDB:typeof indexedDB!="undefined",webSQL:typeof openDatabase!="undefined"}}function hf(){try{let x=0;for(let o=0;o<localStorage.length;o++){const d=localStorage.key(o);if(d){const t=localStorage.getItem(d);t&&(x+=d.length+t.length)}}const v=10*1024*1024,w=v-x,e=x/v*100;return{used:x,available:w,percentage:e}}catch(x){return console.error("获取存储使用情况失败:",x),{used:0,available:0,percentage:0}}}const nr=class nr{constructor(){qe(this,"storageKeys",new Set);qe(this,"isStorageAvailable");this.isStorageAvailable=this.checkStorageAvailability()}static getInstance(){return nr.instance||(nr.instance=new nr),nr.instance}checkStorageAvailability(){try{if(typeof Storage=="undefined"||!window.localStorage)return console.warn("[Storage] localStorage不可用"),!1;const v="__storage_test__",w="test";localStorage.setItem(v,w);const e=localStorage.getItem(v);return localStorage.removeItem(v),e!==w?(console.warn("[Storage] localStorage功能异常"),!1):!0}catch(v){return console.warn("[Storage] localStorage不可用:",v),!1}}checkStorageQuota(v){try{let w=0;for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r){const s=localStorage.getItem(r);s&&(w+=r.length+s.length)}}const o=ho().MAX_STORAGE_SIZE,d=v.length*2;return!(w+d>o)}catch(w){return!0}}save(v,w){if(!this.isStorageAvailable)return console.warn(`[Storage] localStorage不可用，跳过保存 ${v.key}`),!1;try{const e={data:w,timestamp:Date.now(),version:v.version||"1.0.0",ttl:v.ttl},o=JSON.stringify(e);return!this.checkStorageQuota(o)&&(console.warn("[Storage] 存储空间不足，尝试清理过期数据"),this.cleanupExpiredData(),!this.checkStorageQuota(o))?(console.error(`[Storage] 存储空间仍然不足，无法保存 ${v.key}`),!1):(localStorage.setItem(v.key,o),this.storageKeys.add(v.key),console.log(`[Storage] 已保存数据到 ${v.key}`),!0)}catch(e){if(console.error(`[Storage] 保存数据失败 ${v.key}:`,e),e instanceof DOMException&&e.code===22){console.warn("[Storage] 存储空间不足，尝试清理数据"),this.cleanupExpiredData();try{return localStorage.setItem(v.key,JSON.stringify({data:w,timestamp:Date.now(),version:v.version||"1.0.0",ttl:v.ttl})),this.storageKeys.add(v.key),console.log(`[Storage] 重试保存成功 ${v.key}`),!0}catch(o){console.error(`[Storage] 重试保存仍然失败 ${v.key}:`,o)}}return!1}}cleanupExpiredData(){try{const v=[];for(let w=0;w<localStorage.length;w++){const e=localStorage.key(w);if(e&&e.startsWith("crm_store_"))try{const o=localStorage.getItem(e);if(o){const d=JSON.parse(o);d.ttl&&Date.now()-d.timestamp>d.ttl&&v.push(e)}}catch(o){v.push(e)}}v.forEach(w=>{localStorage.removeItem(w),this.storageKeys.delete(w)}),v.length>0&&console.log(`[Storage] 已清理 ${v.length} 个过期数据`)}catch(v){console.error("[Storage] 清理过期数据失败:",v)}}load(v){if(!this.isStorageAvailable)return console.warn(`[Storage] localStorage不可用，跳过加载 ${v.key}`),null;try{const w=localStorage.getItem(v.key);if(!w)return null;let e;try{e=JSON.parse(w)}catch(o){return console.error(`[Storage] 数据格式错误，清除损坏数据 ${v.key}:`,o),this.remove(v.key),null}return!e||typeof e!="object"||!e.hasOwnProperty("data")?(console.warn(`[Storage] 数据结构无效，清除 ${v.key}`),this.remove(v.key),null):v.version&&e.version!==v.version?(console.warn(`[Storage] 版本不匹配，清除旧数据 ${v.key}`),this.remove(v.key),null):e.ttl&&Date.now()-e.timestamp>e.ttl?(console.warn(`[Storage] 数据已过期，清除 ${v.key}`),this.remove(v.key),null):(console.log(`[Storage] 已加载数据从 ${v.key}`),e.data)}catch(w){return console.error(`[Storage] 加载数据失败 ${v.key}:`,w),this.remove(v.key),null}}remove(v){localStorage.removeItem(v),this.storageKeys.delete(v),console.log(`[Storage] 已删除数据 ${v}`)}clear(){this.storageKeys.forEach(v=>{localStorage.removeItem(v)}),this.storageKeys.clear(),console.log("[Storage] 已清除所有数据")}getStats(){let v=0;const w=Array.from(this.storageKeys);return w.forEach(e=>{const o=localStorage.getItem(e);o&&(v+=o.length)}),{keys:w,totalSize:v}}};qe(nr,"instance");let an=nr;function Hn(x,v,w={}){return wr(x,()=>{const e={key:`crm_store_${x}`,version:w.version||"1.0.0",ttl:w.ttl},o=an.getInstance(),d=v(),t=o.load(e);if(t&&typeof t=="object")try{Object.keys(t).forEach(s=>{if(d[s]&&typeof d[s]=="object"&&"value"in d[s])try{const i=typeof d[s].value,u=typeof t[s];i===u||Array.isArray(d[s].value)&&Array.isArray(t[s])?d[s].value=t[s]:console.warn(`[Store] ${x}.${s} 数据类型不匹配，跳过恢复`)}catch(i){console.warn(`[Store] 恢复字段 ${s} 失败:`,i)}}),console.log(`[Store] 已恢复 ${x} 的数据`)}catch(s){console.error(`[Store] ${x} 数据恢复过程中发生错误:`,s)}const r=()=>{try{const s={};Object.keys(d).forEach(u=>{if(d[u]&&typeof d[u]=="object"&&"value"in d[u])try{s[u]=JSON.parse(JSON.stringify(d[u].value))}catch(a){console.warn(`[Store] 序列化字段 ${u} 失败，跳过保存:`,a)}}),w.exclude&&w.exclude.length>0&&w.exclude.forEach(u=>{delete s[u]}),o.save(e,s)||console.warn(`[Store] ${x} 数据保存失败`)}catch(s){console.error(`[Store] ${x} 保存过程中发生错误:`,s)}};return Object.keys(d).forEach(s=>{d[s]&&typeof d[s]=="object"&&"value"in d[s]&&cn(d[s],()=>{r()},{deep:!0})}),w.saveInterval&&w.saveInterval>0&&setInterval(()=>{r()},w.saveInterval),d})}an.getInstance();const Cs=Hn("customer",()=>{const x=Ie([]),v=()=>{x.value.length===0&&console.log("Customer Store: 初始化模拟数据")},w=Ie(!1),e=Ie(null),o=De(()=>x.value.length),d=De(()=>x.value.filter(k=>k.level==="gold")),t=De(()=>x.value.filter(k=>k.level==="silver")),r=De(()=>x.value.filter(k=>k.level==="normal")),s=De(()=>{const A=Ct().currentUser;return console.log("Customer Store: 临时修复 - 返回所有客户",x.value.length),console.log("Customer Store: 当前用户信息:",A),x.value}),i=De(()=>s.value.length),u=De(()=>s.value.filter(k=>k.level==="gold")),a=De(()=>s.value.filter(k=>k.level==="silver")),n=De(()=>s.value.filter(k=>k.level==="normal")),l=k=>{console.log("addCustomer 开始，当前客户数量:",x.value.length);const I=Ct().currentUser,D=ot(Me({},k),{id:`customer_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,code:gs(),createTime:new Date().toISOString(),orderCount:0,status:"active",createdBy:(I==null?void 0:I.id)||"admin",salesPersonId:k.salesPersonId||(I==null?void 0:I.id)||"admin"});return console.log("准备添加新客户:",D),x.value.unshift(D),console.log("addCustomer 完成，客户数量:",x.value.length),D},c=(k,A)=>{const I=x.value.findIndex(D=>D.id===k);return I!==-1?(x.value[I]=Me(Me({},x.value[I]),A),x.value[I]):null},f=k=>{const A=x.value.findIndex(I=>I.id===k);return A!==-1?(x.value.splice(A,1),!0):!1},p=k=>x.value.find(A=>A.id===k),y=k=>x.value.find(A=>A.code===k),m=k=>pe(void 0,null,function*(){try{return w.value=!0,e.value=null,(yield qr.search(k)).data.list}catch(A){return e.value=A instanceof Error?A.message:"搜索客户失败",console.error("搜索客户失败:",A),[]}finally{w.value=!1}}),g=k=>{const A=x.value.find(I=>I.id===k);A&&A.orderCount++},h=k=>{const A=x.value.find(I=>I.id===k);A&&A.orderCount>0&&A.orderCount--},_=(k,A)=>{const I=x.value.find(D=>D.id===k);I&&A.orderCount!==void 0&&(I.orderCount=A.orderCount)},j=k=>{k.forEach(({customerId:A,stats:I})=>{_(A,I)})},T=k=>pe(void 0,null,function*(){try{w.value=!0,e.value=null,console.log("=== createCustomer 开始 ==="),console.log("要添加的客户数据:",k),console.log("当前客户列表长度:",x.value.length);const A=ot(Me({},k),{code:gs()}),D=(yield qr.create(A)).data;console.log("API 返回的新客户:",D);const F=[D,...x.value];return yield ps(),x.value=F,yield ps(),console.log("新客户已添加到本地store，客户总数:",x.value.length),console.log("强制响应式更新完成，filteredCustomers应该已更新"),console.log("=== createCustomer 完成 ==="),D}catch(A){throw e.value=A instanceof Error?A.message:"创建客户失败",console.error("创建客户失败:",A),A}finally{w.value=!1}}),S=k=>pe(void 0,null,function*(){console.log("=== 强制刷新客户数据开始 ==="),console.log("刷新前客户数量:",x.value.length),console.log("刷新参数:",k);try{w.value=!0,e.value=null;const A=Me({page:1,pageSize:1e3},k?{name:k.name,phone:k.phone,level:k.level,dateRange:k.dateRange}:{});console.log("一次性获取所有客户数据:",A);const I=yield qr.getList(A);if(!I||!I.data)throw new Error("API响应数据为空");if(!Array.isArray(I.data.list))console.warn("API响应中list不是数组，使用空数组:",I.data),x.value=[];else{const D=[...x.value],F=I.data.list;console.log("API返回客户数量:",F.length),console.log("当前内存客户数量:",D.length);const Q=[...D];F.forEach(te=>{D.some(Z=>Z.id===te.id||Z.phone===te.phone)||Q.push(te)}),x.value=Q.sort((te,$)=>{const Z=new Date(te.createTime).getTime();return new Date($.createTime).getTime()-Z}),console.log("合并后客户数量:",x.value.length)}console.log("API响应总数量:",I.data.total||0),console.log("最终客户数量:",x.value.length),console.log("=== 强制刷新客户数据完成，最终客户数量:",x.value.length,"==="),console.log("当前客户列表:",x.value.map(D=>({id:D.id,name:D.name,phone:D.phone})))}catch(A){e.value=A instanceof Error?A.message:"强制刷新客户数据失败",console.error("强制刷新客户数据失败:",A),console.log("API调用失败，保持当前客户数据不变，客户数量:",x.value.length)}finally{w.value=!1}}),b=k=>pe(void 0,null,function*(){try{w.value=!0,e.value=null,console.log("loadCustomers 被调用，参数:",k);const A=yield qr.getList(k);if(!A||!A.data)throw new Error("API响应数据为空");if(!Array.isArray(A.data.list))console.warn("API响应中list不是数组，使用空数组:",A.data),x.value=[];else{const I=[...x.value],D=A.data.list;console.log("loadCustomers - API返回客户数量:",D.length),console.log("loadCustomers - 当前内存客户数量:",I.length);const F=[...I];D.forEach(Q=>{I.some($=>$.id===Q.id||$.phone===Q.phone)||F.push(Q)}),x.value=F.sort((Q,te)=>{const $=new Date(Q.createTime).getTime();return new Date(te.createTime).getTime()-$}),console.log("loadCustomers - 合并后客户数量:",x.value.length)}return console.log("loadCustomers 完成，客户数量:",x.value.length),console.log("当前客户列表:",x.value.map(I=>({id:I.id,name:I.name,phone:I.phone}))),x.value}catch(A){return e.value=A instanceof Error?A.message:"加载客户列表失败",console.error("加载客户列表失败:",A),x.value=[],x.value}finally{w.value=!1}}),E=()=>pe(void 0,null,function*(){try{console.log("=== 强制数据同步开始 ===");const k=x.value.length;return console.log(`当前内存中客户数量: ${k}`),x.value.length===0&&(console.log("本地无数据，从API加载..."),yield b()),console.log("=== 强制数据同步完成 ==="),console.log("最终客户数量:",x.value.length),x.value}catch(k){throw console.error("强制数据同步失败:",k),k}}),O=k=>{const A=p(k);return A?A.phones&&Array.isArray(A.phones)?A.phones:A.phone?[{id:"main",phone:A.phone,remark:"主电话",isDefault:!0}]:[]:(console.warn("未找到客户:",k),[])},C=(k,A,I)=>{const D=p(k);if(!D)return console.warn("未找到客户:",k),!1;if(D.phones||(D.phones=[]),D.phones.find(te=>te.phone===A))return console.warn("电话号码已存在:",A),!1;const Q={id:Date.now().toString(),phone:A,remark:I||"",isDefault:D.phones.length===0};return D.phones.push(Q),D.phones.length===1&&(D.phone=A),console.log("已为客户添加电话号码:",D.name,A),!0};return v(),{customers:x,loading:w,error:e,customerCount:o,goldCustomers:d,silverCustomers:t,normalCustomers:r,filteredCustomers:s,filteredCustomerCount:i,filteredGoldCustomers:u,filteredSilverCustomers:a,filteredNormalCustomers:n,addCustomer:l,updateCustomer:c,deleteCustomer:f,getCustomerById:p,getCustomerByCode:y,searchCustomers:m,incrementOrderCount:g,decrementOrderCount:h,updateCustomerStats:_,batchUpdateCustomerStats:j,loadCustomers:b,forceRefreshCustomers:S,createCustomer:T,forceSyncData:E,getCustomerPhones:O,addCustomerPhone:C,initMockData:v}},{version:"1.0.0",saveInterval:300}),xn={SF:{name:"顺丰速运",code:"SF",apiCode:"shunfeng"},JD:{name:"京东物流",code:"JD",apiCode:"jd"},YTO:{name:"圆通速递",code:"YTO",apiCode:"yuantong"},ZTO:{name:"中通快递",code:"ZTO",apiCode:"zhongtong"},STO:{name:"申通快递",code:"STO",apiCode:"shentong"},YD:{name:"韵达速递",code:"YD",apiCode:"yunda"},HTKY:{name:"百世快递",code:"HTKY",apiCode:"huitongkuaidi"},EMS:{name:"中国邮政",code:"EMS",apiCode:"ems"},DBKD:{name:"德邦快递",code:"DBKD",apiCode:"debangkuaidi"},UC:{name:"优速快递",code:"UC",apiCode:"youshuwuliu"}},In={kuaidi100:{customer:"demo_customer",key:"demo_key"}},sr=class sr{constructor(){qe(this,"cache",new Map);qe(this,"CACHE_DURATION",5*60*1e3)}static getInstance(){return sr.instance||(sr.instance=new sr),sr.instance}queryLogistics(v,w){return pe(this,null,function*(){const e=`${w}_${v}`,o=this.cache.get(e);if(o&&Date.now()-o.timestamp<this.CACHE_DURATION)return o.data;try{const d=yield Os({trackingNo:v,companyCode:w});if(d.code===200&&d.data){const t=this.transformApiResponse(d.data);return this.cache.set(e,{data:t,timestamp:Date.now()}),t}else throw new Error(d.message||"查询失败")}catch(d){console.error("物流查询失败:",d);try{return yield this.mockApiCall(v,w)}catch(t){throw new Error("物流信息查询失败，请稍后重试")}}})}transformApiResponse(v){var w,e;if(v.traces&&Array.isArray(v.traces)){const o=v;return{trackingNumber:o.trackingNo,expressCompany:o.companyName||o.companyCode,currentStatus:o.status,tracks:((w=o.traces)==null?void 0:w.map(d=>({time:new Date(d.traceTime).toISOString(),location:d.location,description:d.description,status:d.status,statusText:this.getDescriptionByStatus(d.status,o.companyName)})))||[],lastUpdateTime:o.lastUpdateTime?new Date(o.lastUpdateTime).toISOString():new Date().toISOString(),estimatedDeliveryTime:o.estimatedDeliveryTime?new Date(o.estimatedDeliveryTime).toISOString():void 0}}else return{trackingNumber:v.trackingNumber||"",expressCompany:v.expressCompany||"",currentStatus:v.status||Qe.PENDING,tracks:((e=v.traces)==null?void 0:e.map(o=>({time:o.time,location:o.location,description:o.description,status:o.status,statusText:o.statusText})))||[],lastUpdateTime:v.lastUpdateTime||new Date().toISOString(),estimatedDeliveryTime:v.estimatedDeliveryTime}}batchQueryLogistics(v){return pe(this,null,function*(){const w=v.map(o=>this.queryLogistics(o.trackingNumber,o.expressCompany).catch(d=>(console.error(`查询 ${o.trackingNumber} 失败:`,d),null)));return(yield Promise.all(w)).filter(o=>o!==null)})}createLogisticsTracking(v,w,e,o=!0){return pe(this,null,function*(){try{const d=yield no({orderId:v,trackingNo:w,companyCode:e,autoSyncEnabled:o});if(d.code===200&&d.data)return Se.success("物流跟踪创建成功"),d.data;throw new Error(d.message||"创建失败")}catch(d){return console.error("创建物流跟踪失败:",d),Se.error("创建物流跟踪失败"),null}})}getSupportedCompanies(){return pe(this,null,function*(){try{const v=yield so();return v.code===200&&v.data?v.data.companies||[]:Object.values(xn).map(w=>({code:w.apiCode,name:w.name,phone:"400-000-0000"}))}catch(v){return console.error("获取快递公司列表失败:",v),Object.values(xn).map(w=>({code:w.apiCode,name:w.name,phone:"400-000-0000"}))}})}syncLogisticsStatus(v,w){return pe(this,null,function*(){try{const e=`${w}_${v}`;this.cache.delete(e);const o=yield this.queryLogistics(v,w);return this.emitStatusUpdate(o),o}catch(e){return console.error("物流状态同步失败:",e),null}})}batchSyncLogistics(v){return pe(this,null,function*(){try{const w=yield ks({trackingIds:v});if(w.code===200)return Se.success("批量同步成功"),this.cache.clear(),!0;throw new Error(w.message||"同步失败")}catch(w){return console.error("批量同步物流状态失败:",w),Se.error("批量同步失败"),!1}})}mockApiCall(v,w){return pe(this,null,function*(){const e=xn[w];if(!e)throw new Error("不支持的物流公司");try{const o=yield this.callKuaidi100API(v,e.apiCode);if(o&&o.data&&o.data.length>0){const d=o.data.map(r=>({time:r.time,location:r.context||"未知位置",description:r.context||"状态更新",status:this.mapApiStatusToLogisticsStatus(r.status)})),t=d.length>0?d[0].status:Qe.PENDING;return{trackingNumber:v,expressCompany:e.name,currentStatus:t,tracks:d,lastUpdateTime:new Date().toLocaleString("zh-CN"),estimatedDeliveryTime:t===Qe.DELIVERED?void 0:new Date(Date.now()+24*60*60*1e3).toLocaleString("zh-CN")}}else return this.generateMockData(v,e)}catch(o){return console.warn("调用快递API失败，使用模拟数据:",o),this.generateMockData(v,e)}})}callKuaidi100API(v,w){return pe(this,null,function*(){const e="https://poll.kuaidi100.com/poll/query.do",o={customer:In.kuaidi100.customer,sign:this.generateSign(v,w),param:JSON.stringify({com:w,num:v,phone:"",from:"",to:"",resultv2:"1"})},d=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(o)});if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const t=yield d.json();if(t.returnCode!=="200")throw new Error(t.message||"查询失败");return t})}generateSign(v,w){const e=JSON.stringify({com:w,num:v});return btoa(e+In.kuaidi100.key+In.kuaidi100.customer)}mapApiStatusToLogisticsStatus(v){return{0:Qe.PENDING,1:Qe.PICKED_UP,2:Qe.IN_TRANSIT,3:Qe.DELIVERED,4:Qe.REJECTED,5:Qe.OUT_FOR_DELIVERY,6:Qe.RETURNED,7:Qe.EXCEPTION}[v]||Qe.PENDING}generateMockData(v,w){const e=[Qe.PENDING,Qe.PICKED_UP,Qe.IN_TRANSIT,Qe.OUT_FOR_DELIVERY,Qe.DELIVERED],o=Math.floor(Math.random()*e.length),d=e[o],t=[],r=new Date;for(let s=0;s<=o;s++){const i=e[s],u=new Date(r.getTime()-(o-s)*24*60*60*1e3);t.push({time:u.toLocaleString("zh-CN"),location:this.getLocationByStatus(i),description:this.getDescriptionByStatus(i,w.name),status:i,statusText:go(i)})}return{trackingNumber:v,expressCompany:w.name,currentStatus:d,tracks:t.reverse(),lastUpdateTime:new Date().toLocaleString("zh-CN"),estimatedDeliveryTime:d===Qe.DELIVERED?void 0:new Date(Date.now()+24*60*60*1e3).toLocaleString("zh-CN")}}getLocationByStatus(v){return{[Qe.PENDING]:"发货地",[Qe.PICKED_UP]:"分拨中心",[Qe.IN_TRANSIT]:"转运中心",[Qe.OUT_FOR_DELIVERY]:"派送网点",[Qe.DELIVERED]:"收货地址",[Qe.EXCEPTION]:"中转站",[Qe.REJECTED]:"收货地址",[Qe.RETURNED]:"退货仓库"}[v]||"未知位置"}getDescriptionByStatus(v,w){return{[Qe.PENDING]:`${w}已接单，等待揽收`,[Qe.PICKED_UP]:"快件已被揽收",[Qe.IN_TRANSIT]:"快件正在运输途中",[Qe.OUT_FOR_DELIVERY]:"快件已到达派送网点，正在安排派送",[Qe.DELIVERED]:"快件已签收，感谢使用",[Qe.EXCEPTION]:"快件运输异常，正在处理",[Qe.REJECTED]:"客户拒绝签收",[Qe.RETURNED]:"快件已退回发货地"}[v]||"状态更新"}emitStatusUpdate(v){window.dispatchEvent(new CustomEvent("logistics-status-update",{detail:v}))}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}};qe(sr,"instance");let Nn=sr;const yo=Nn.getInstance(),go=x=>({[Qe.PENDING]:"待揽收",[Qe.PICKED_UP]:"已揽收",[Qe.IN_TRANSIT]:"运输中",[Qe.OUT_FOR_DELIVERY]:"派送中",[Qe.DELIVERED]:"已签收",[Qe.EXCEPTION]:"异常",[Qe.REJECTED]:"拒收",[Qe.RETURNED]:"已退回"})[x]||"未知状态",Ln=Hn("order",()=>{Cs();const x=Ct(),v=j=>{const T=x.currentUser;return T?T.role==="admin"||T.role==="manager"?j:T.role==="sales_staff"?j.filter(S=>S.createdBy===T.id):T.role==="customer_service"?j.filter(S=>S.servicePersonId===T.id):j.filter(S=>S.createdBy===T.id):[]},w=Ie([]),e=De(()=>w.value.length),o=De(()=>w.value.filter(j=>j.status==="pending_transfer").length),d=()=>v(w.value),t=j=>w.value.find(T=>T.id===j),r=j=>w.value.find(T=>T.orderNumber===j),s=j=>{w.value.push(j)},i=(j,T)=>{const S=w.value.findIndex(b=>b.id===j);S!==-1&&(w.value[S]=Me(Me({},w.value[S]),T))},u=j=>{const T=w.value.findIndex(S=>S.id===j);T!==-1&&w.value.splice(T,1)},a=()=>{const j=new Date,T=j.getFullYear(),S=String(j.getMonth()+1).padStart(2,"0"),b=String(j.getDate()).padStart(2,"0"),E=j.getTime().toString().slice(-6);return`ORD${T}${S}${b}${E}`},n=(j,T,S)=>{const b=t(j);if(b){const E=x.currentUser,O=new Date().toISOString().slice(0,19).replace("T"," ");i(j,{auditStatus:T?"approved":"rejected",auditTime:O,auditBy:(E==null?void 0:E.name)||"unknown",auditRemark:S,status:T?"pending_shipment":"audit_rejected",hasBeenAudited:!0}),b.statusHistory&&b.statusHistory.push({status:T?"pending_shipment":"audit_rejected",time:O,operator:(E==null?void 0:E.name)||"unknown",description:T?"订单审核通过，等待发货":"订单审核被拒绝",remark:S}),b.operationLogs&&b.operationLogs.push({id:`op_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,time:O,operator:(E==null?void 0:E.name)||"unknown",action:T?"审核通过":"审核拒绝",description:T?"订单审核通过，等待发货":"订单审核被拒绝",remark:S})}},l=(j,T,S)=>{const b=t(j);if(b){const E=x.currentUser,O=new Date().toISOString().slice(0,19).replace("T"," ");i(j,{status:"shipped",shippingTime:O,expressCompany:T,trackingNumber:S,logisticsStatus:"picked_up"}),b.statusHistory&&b.statusHistory.push({status:"shipped",time:O,operator:(E==null?void 0:E.name)||"unknown",description:"订单已发货",remark:`${T}，单号：${S}`}),b.operationLogs&&b.operationLogs.push({id:`op_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,time:O,operator:(E==null?void 0:E.name)||"unknown",action:"订单发货",description:`订单已通过${T}发货，快递单号：${S}`,remark:"正常发货"})}},c=(j,T)=>{const S=t(j);if(S){const b=x.currentUser,E=new Date().toISOString().slice(0,19).replace("T"," ");i(j,{status:"cancelled",cancelReason:T,cancelTime:E}),S.statusHistory&&S.statusHistory.push({status:"cancelled",time:E,operator:(b==null?void 0:b.name)||"unknown",description:"订单已取消",remark:T}),S.operationLogs&&S.operationLogs.push({id:`op_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,time:E,operator:(b==null?void 0:b.name)||"unknown",action:"取消订单",description:"订单已取消",remark:T})}},f=j=>pe(void 0,null,function*(){try{const T=yield yo.queryLogistics(j),S=w.value.find(b=>b.trackingNumber===j);return S&&T&&i(S.id,{logisticsStatus:T.status,logisticsHistory:T.traces}),T}catch(T){return console.error("更新物流状态失败:",T),null}});return{orders:w,totalOrders:e,pendingOrders:o,getOrders:d,getOrderById:t,getOrderByNumber:r,addOrder:s,updateOrder:i,deleteOrder:u,generateOrderNumber:a,auditOrder:n,shipOrder:l,cancelOrder:c,updateLogisticsStatus:f,batchUpdateLogisticsStatus:()=>pe(void 0,null,function*(){const j=w.value.filter(S=>S.status==="shipped"&&S.trackingNumber&&S.logisticsStatus!=="delivered");return yield Promise.allSettled(j.map(S=>f(S.trackingNumber)))}),getOrderStats:()=>{const j=v(w.value);return{total:j.length,pending:j.filter(T=>T.status==="pending_transfer").length,pendingAudit:j.filter(T=>T.status==="pending_audit").length,pendingShipment:j.filter(T=>T.status==="pending_shipment").length,shipped:j.filter(T=>T.status==="shipped").length,delivered:j.filter(T=>T.status==="delivered").length,cancelled:j.filter(T=>T.status==="cancelled").length}},searchOrders:j=>{const T=v(w.value);return j?T.filter(S=>S.orderNumber.toLowerCase().includes(j.toLowerCase())||S.customerName.toLowerCase().includes(j.toLowerCase())||S.customerPhone.includes(j)||S.receiverName.toLowerCase().includes(j.toLowerCase())||S.receiverPhone.includes(j)):T},filterOrdersByStatus:j=>{const T=v(w.value);return j==="all"?T:T.filter(S=>S.status===j)},filterOrdersByDateRange:(j,T)=>v(w.value).filter(b=>{const E=b.createTime.split(" ")[0];return E>=j&&E<=T}),checkAndTransferOrders:()=>{const j=new Date;x.currentUser,w.value.forEach(T=>{if(T.status==="pending_transfer"&&T.auditTransferTime){const S=new Date(T.auditTransferTime);j>=S&&!T.isAuditTransferred&&(i(T.id,{status:"pending_audit",isAuditTransferred:!0}),T.statusHistory&&T.statusHistory.push({status:"pending_audit",time:j.toISOString().slice(0,19).replace("T"," "),operator:"system",description:"订单自动流转到审核状态",remark:"3分钟后自动流转"}),T.operationLogs&&T.operationLogs.push({id:`op_${Date.now()}_${Math.random().toString(36).substr(2,6)}`,time:j.toISOString().slice(0,19).replace("T"," "),operator:"system",action:"自动流转",description:"订单自动流转到审核状态",remark:"系统自动执行"}))}})}}});var qt=(x=>(x.ORDER_CREATED="order_created",x.ORDER_SUBMITTED="order_submitted",x.ORDER_PAID="order_paid",x.ORDER_SHIPPED="order_shipped",x.ORDER_DELIVERED="order_delivered",x.ORDER_SIGNED="order_signed",x.ORDER_CANCELLED="order_cancelled",x.ORDER_CANCEL_REQUEST="order_cancel_request",x.ORDER_CANCEL_APPROVED="order_cancel_approved",x.ORDER_MODIFY_APPROVED="order_modify_approved",x.ORDER_REFUNDED="order_refunded",x.AFTER_SALES_CREATED="after_sales_created",x.AFTER_SALES_PROCESSING="after_sales_processing",x.AFTER_SALES_URGENT="after_sales_urgent",x.AFTER_SALES_COMPLETED="after_sales_completed",x.CUSTOMER_CREATED="customer_created",x.CUSTOMER_UPDATED="customer_updated",x.CUSTOMER_CALL="customer_call",x.CUSTOMER_COMPLAINT="customer_complaint",x.CUSTOMER_REJECTED="customer_rejected",x.PRODUCT_CREATED="product_created",x.PRODUCT_UPDATED="product_updated",x.PRODUCT_OUT_OF_STOCK="product_out_of_stock",x.SYSTEM_MAINTENANCE="system_maintenance",x.SYSTEM_UPDATE="system_update",x.USER_LOGIN="user_login",x.USER_CREATED="user_created",x.PERMISSION_CONFIGURED="permission_configured",x.DATA_EXPORT_SUCCESS="data_export_success",x.DATA_IMPORT_COMPLETED="data_import_completed",x.LOGISTICS_PICKUP="logistics_pickup",x.LOGISTICS_IN_TRANSIT="logistics_in_transit",x.LOGISTICS_DELIVERED="logistics_delivered",x.PACKAGE_ANOMALY="package_anomaly",x.AUDIT_PENDING="audit_pending",x.AUDIT_APPROVED="audit_approved",x.AUDIT_REJECTED="audit_rejected",x.PERFORMANCE_SHARE_CREATED="performance_share_created",x.PERFORMANCE_SHARE_RECEIVED="performance_share_received",x.PERFORMANCE_SHARE_CONFIRMED="performance_share_confirmed",x.PERFORMANCE_SHARE_REJECTED="performance_share_rejected",x.PERFORMANCE_SHARE_CANCELLED="performance_share_cancelled",x.SMS_TEMPLATE_APPLIED="sms_template_applied",x.SMS_TEMPLATE_APPROVED="sms_template_approved",x.SMS_TEMPLATE_REJECTED="sms_template_rejected",x.SMS_SEND_APPLIED="sms_send_applied",x.SMS_SEND_APPROVED="sms_send_approved",x.SMS_SEND_REJECTED="sms_send_rejected",x.SMS_SEND_SUCCESS="sms_send_success",x.SMS_SEND_FAILED="sms_send_failed",x))(qt||{}),Ps=(x=>(x.LOW="low",x.NORMAL="normal",x.HIGH="high",x.URGENT="urgent",x))(Ps||{});const vo={order_created:{title:"新订单创建",icon:"Plus",color:"#409EFF",category:"订单通知",priority:"normal"},order_submitted:{title:"订单提交成功",icon:"DocumentAdd",color:"#67C23A",category:"订单通知",priority:"high"},order_paid:{title:"订单已支付",icon:"Money",color:"#67C23A",category:"订单通知",priority:"high"},order_shipped:{title:"订单已发货",icon:"Van",color:"#409EFF",category:"物流通知",priority:"normal"},order_delivered:{title:"订单已送达",icon:"Check",color:"#67C23A",category:"物流通知",priority:"normal"},order_signed:{title:"订单已签收",icon:"CircleCheck",color:"#67C23A",category:"订单通知",priority:"high"},order_cancelled:{title:"订单已取消",icon:"Close",color:"#F56C6C",category:"订单通知",priority:"normal"},order_cancel_request:{title:"订单取消申请",icon:"Document",color:"#E6A23C",category:"审核通知",priority:"high"},order_cancel_approved:{title:"订单取消通过",icon:"CircleCheck",color:"#67C23A",category:"审核通知",priority:"high"},order_modify_approved:{title:"订单修改申请通过",icon:"CircleCheck",color:"#67C23A",category:"审核通知",priority:"high"},order_refunded:{title:"订单已退款",icon:"RefreshLeft",color:"#E6A23C",category:"订单通知",priority:"high"},after_sales_created:{title:"新售后申请",icon:"Service",color:"#E6A23C",category:"售后通知",priority:"high"},after_sales_processing:{title:"售后处理",icon:"Loading",color:"#409EFF",category:"售后通知",priority:"normal"},after_sales_urgent:{title:"紧急售后",icon:"Warning",color:"#F56C6C",category:"售后通知",priority:"urgent"},after_sales_completed:{title:"售后完成",icon:"CircleCheck",color:"#67C23A",category:"售后通知",priority:"normal"},customer_created:{title:"客户添加成功",icon:"User",color:"#13C2C2",category:"客户通知",priority:"normal"},customer_updated:{title:"客户信息更新",icon:"Edit",color:"#409EFF",category:"客户通知",priority:"low"},customer_call:{title:"客户来电",icon:"Phone",color:"#722ED1",category:"客服通知",priority:"high"},customer_complaint:{title:"客户投诉",icon:"Warning",color:"#F56C6C",category:"客服通知",priority:"high"},customer_rejected:{title:"客户拒收",icon:"Close",color:"#F56C6C",category:"客户通知",priority:"high"},product_created:{title:"商品添加成功",icon:"Goods",color:"#67C23A",category:"商品通知",priority:"normal"},product_updated:{title:"商品信息更新",icon:"Edit",color:"#409EFF",category:"商品通知",priority:"low"},product_out_of_stock:{title:"商品缺货",icon:"Warning",color:"#E6A23C",category:"商品通知",priority:"high"},system_maintenance:{title:"系统维护",icon:"Tools",color:"#909399",category:"系统通知",priority:"normal"},system_update:{title:"系统更新",icon:"Refresh",color:"#409EFF",category:"系统通知",priority:"low"},user_login:{title:"用户登录",icon:"User",color:"#67C23A",category:"系统通知",priority:"low"},user_created:{title:"系统用户添加成功",icon:"UserFilled",color:"#67C23A",category:"系统通知",priority:"normal"},permission_configured:{title:"权限配置成功",icon:"Key",color:"#67C23A",category:"系统通知",priority:"normal"},data_export_success:{title:"导出成功",icon:"Download",color:"#67C23A",category:"系统通知",priority:"normal"},data_import_completed:{title:"导入完成",icon:"Upload",color:"#67C23A",category:"系统通知",priority:"normal"},logistics_pickup:{title:"快递已揽收",icon:"Box",color:"#409EFF",category:"物流通知",priority:"normal"},logistics_in_transit:{title:"快递运输中",icon:"Van",color:"#409EFF",category:"物流通知",priority:"low"},logistics_delivered:{title:"快递已送达",icon:"Check",color:"#67C23A",category:"物流通知",priority:"normal"},package_anomaly:{title:"包裹异常",icon:"Warning",color:"#E6A23C",category:"异常通知",priority:"high"},audit_pending:{title:"待审核",icon:"Clock",color:"#E6A23C",category:"审核通知",priority:"normal"},audit_approved:{title:"审核通过",icon:"CircleCheck",color:"#67C23A",category:"审核通知",priority:"normal"},audit_rejected:{title:"审核拒绝",icon:"Close",color:"#F56C6C",category:"审核通知",priority:"high"},performance_share_created:{title:"业绩分享创建",icon:"Share",color:"#409EFF",category:"业绩通知",priority:"normal"},performance_share_received:{title:"收到业绩分享",icon:"Gift",color:"#722ED1",category:"业绩通知",priority:"high"},performance_share_confirmed:{title:"业绩分享确认",icon:"CircleCheck",color:"#67C23A",category:"业绩通知",priority:"high"},performance_share_rejected:{title:"业绩分享拒绝",icon:"Close",color:"#F56C6C",category:"业绩通知",priority:"high"},performance_share_cancelled:{title:"业绩分享取消",icon:"CircleClose",color:"#E6A23C",category:"业绩通知",priority:"normal"},sms_template_applied:{title:"短信模板申请",icon:"DocumentAdd",color:"#409EFF",category:"短信通知",priority:"high"},sms_template_approved:{title:"短信模板审核通过",icon:"CircleCheck",color:"#67C23A",category:"短信通知",priority:"high"},sms_template_rejected:{title:"短信模板审核拒绝",icon:"CircleClose",color:"#F56C6C",category:"短信通知",priority:"high"},sms_send_applied:{title:"短信发送申请",icon:"Message",color:"#409EFF",category:"短信通知",priority:"high"},sms_send_approved:{title:"短信发送审核通过",icon:"CircleCheck",color:"#67C23A",category:"短信通知",priority:"high"},sms_send_rejected:{title:"短信发送审核拒绝",icon:"CircleClose",color:"#F56C6C",category:"短信通知",priority:"high"},sms_send_success:{title:"短信发送成功",icon:"SuccessFilled",color:"#67C23A",category:"短信通知",priority:"normal"},sms_send_failed:{title:"短信发送失败",icon:"CircleClose",color:"#F56C6C",category:"短信通知",priority:"high"}},en=wr("notification",()=>{const x=Ie([]),v=De(()=>x.value.filter(a=>!a.read).length),w=De(()=>x.value.sort((a,n)=>new Date(n.time).getTime()-new Date(a.time).getTime()).slice(0,10)),e=De(()=>{const a={};return x.value.forEach(n=>{a[n.category]||(a[n.category]=[]),a[n.category].push(n)}),a}),o=(a,n,l)=>{const c=vo[a],f={id:`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:a,title:c.title,content:n,priority:c.priority,time:new Date().toLocaleString("zh-CN"),read:!1,icon:c.icon,color:c.color,category:c.category,relatedId:l==null?void 0:l.relatedId,relatedType:l==null?void 0:l.relatedType,actionUrl:l==null?void 0:l.actionUrl};return x.value.unshift(f),f};return{messages:x,unreadCount:v,recentMessages:w,messagesByCategory:e,sendMessage:o,markAsRead:a=>{const n=x.value.find(l=>l.id===a);n&&(n.read=!0)},markAllAsRead:()=>{x.value.forEach(a=>{a.read=!0})},deleteMessage:a=>{const n=x.value.findIndex(l=>l.id===a);n>-1&&x.value.splice(n,1)},clearAllMessages:()=>{x.value=[]},batchSendMessages:a=>a.map(n=>o(n.type,n.content,n.options)),loadMessagesFromAPI:(...n)=>pe(void 0,[...n],function*(a={}){try{const{messageApi:l}=yield Ce(()=>pe(void 0,null,function*(){const{messageApi:f}=yield import("./index-BwmIV1hk.js").then(p=>p.b);return{messageApi:f}}),__vite__mapDeps([0,1,2,3,4])),c=yield l.getSystemMessages(Me({limit:50},a));if(c.success&&c.data){x.value=[];const f=c.data.messages||[];return f.forEach(p=>{const y={id:p.id||`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:p.type||"system_update",title:p.title||"系统通知",content:p.content||"",priority:p.priority||"normal",time:p.createdAt||new Date().toLocaleString("zh-CN"),read:p.read||!1,icon:p.icon||"Bell",color:p.color||"#409EFF",category:p.category||"系统通知",relatedId:p.relatedId,relatedType:p.relatedType,actionUrl:p.actionUrl};x.value.push(y)}),f}return[]}catch(l){throw console.error("从API加载消息失败:",l),l}}),MessageType:qt,MessagePriority:Ps}}),bo=x=>Et.get("/performance/shares",{params:x}),wo=x=>Et.post("/performance/shares",x),So=()=>Et.get("/performance/stats"),yf=x=>Et.get("/performance/export",{params:x,responseType:(x==null?void 0:x.format)==="csv"?"blob":"json"}),_o=x=>Et.get("/performance/analysis/personal",{params:x}),To=x=>Et.get("/performance/analysis/department",{params:x}),Eo=x=>Et.get("/performance/analysis/company",{params:x}),jo=x=>Et.get("/performance/analysis/metrics",{params:x}),gf=x=>Et.get("/performance/analysis/trend",{params:x}),Ao=Hn("performance",()=>{const x=Ln(),v=Cs(),w=Ct(),e=Ie(null),o=Ie([{id:"sales1",name:"小明",position:"高级销售",avatar:"",salesAmount:108500,orderCount:35,customerCount:28,targetCompletion:125,performance:"excellent",commission:10850},{id:"sales2",name:"张三",position:"销售经理",avatar:"",salesAmount:92300,orderCount:32,customerCount:25,targetCompletion:118,performance:"excellent",commission:9230},{id:"sales3",name:"李四",position:"销售专员",avatar:"",salesAmount:85600,orderCount:30,customerCount:22,targetCompletion:95,performance:"good",commission:8560}]),d=Ie([{id:"1",name:"产品A",salesAmount:35200,orderCount:28,trend:12.5},{id:"2",name:"产品B",salesAmount:28900,orderCount:22,trend:8.3},{id:"3",name:"产品C",salesAmount:22300,orderCount:18,trend:-2.1}]),t=Ie([]),r=De(()=>{const $=t.value,Z=$.length,ne=$.reduce((X,U)=>X+U.orderAmount,0),ie=new Set($.flatMap(X=>X.shareMembers.map(U=>U.userId))).size,J=$.length,Y=$.filter(X=>X.status==="active").length,K=$.filter(X=>X.status==="completed").length;return{totalShares:Z,totalAmount:ne,involvedMembers:ie,sharedOrders:J,pendingShares:Y,completedShares:K}}),s=De(()=>{var X;const $=(X=w.currentUser)==null?void 0:X.id;if(!$)return{totalSales:0,salesTrend:0,totalOrders:0,ordersTrend:0,newCustomers:0,customersTrend:0,conversionRate:0,conversionTrend:0};const Z=x.orders.filter(U=>U.salesPersonId===$&&U.auditStatus==="approved"),ne=v.customers.filter(U=>U.salesPersonId===$),ie=Z.reduce((U,se)=>U+se.totalAmount,0),J=Z.length,Y=ne.length,K=J>0?J/Y*100:0;return{totalSales:ie,salesTrend:12.5,totalOrders:J,ordersTrend:8.3,newCustomers:Y,customersTrend:-2.1,conversionRate:K,conversionTrend:5.2}}),i=De(()=>{const $=o.value.reduce((Y,K)=>Y+K.salesAmount,0),Z=o.value.reduce((Y,K)=>Y+K.orderCount,0),ne=o.value.length,ie=o.value.filter(Y=>Y.orderCount>0).length,J=ne>0?$/ne:0;return{totalSales:$,salesTrend:15.8,memberCount:ne,activeMemberCount:ie,totalOrders:Z,ordersTrend:12.3,avgPerformance:J,avgTrend:8.7}}),u=De(()=>[...o.value].sort(($,Z)=>Z.salesAmount-$.salesAmount).map(($,Z)=>ot(Me({},$),{rank:Z+1}))),a=$=>{e.value=$},n=$=>{const Z=x.orders.filter(X=>X.salesPersonId===$&&X.auditStatus==="approved"),ne=v.customers.filter(X=>X.salesPersonId===$),ie=Z.reduce((X,U)=>X+U.totalAmount,0),J=Z.length,Y=ne.length,K=J>0?J/Y*100:0;return{totalSales:ie,salesTrend:12.5,totalOrders:J,ordersTrend:8.3,newCustomers:Y,customersTrend:-2.1,conversionRate:K,conversionTrend:5.2}},l=($,Z)=>{const ne=o.value.findIndex(ie=>ie.id===$);ne!==-1&&(o.value[ne]=Me(Me({},o.value[ne]),Z))},c=$=>{o.value.push($)},f=$=>{const Z=o.value.findIndex(ne=>ne.id===$);Z!==-1&&o.value.splice(Z,1)},p=()=>[...d.value].sort(($,Z)=>Z.salesAmount-$.salesAmount),y=()=>pe(void 0,null,function*(){yield new Promise($=>setTimeout($,1e3)),console.log("业绩数据已刷新")}),m=$=>pe(void 0,null,function*(){try{const Z=en(),ne=yield wo({orderId:$.orderId,orderNumber:$.orderNumber,orderAmount:$.orderAmount,shareMembers:$.shareMembers.map(ie=>({userId:ie.userId,userName:ie.userName,percentage:ie.percentage})),description:$.description});if(ne.data.success){const ie=ne.data.data;return t.value.unshift(ie),yield b(ie),ie.shareMembers.forEach(J=>{var Y,K;J.userId!==((Y=w.currentUser)==null?void 0:Y.id)&&Z.sendMessage(qt.PERFORMANCE_SHARE_RECEIVED,`${(K=w.currentUser)==null?void 0:K.name} 与您分享了订单 ${ie.orderNumber} 的业绩，您的分成比例为 ${J.percentage}%，金额为 ¥${J.shareAmount.toFixed(2)}`,{relatedId:ie.id,relatedType:"performance_share",actionUrl:`/performance/share?id=${ie.id}`})}),Z.sendMessage(qt.PERFORMANCE_SHARE_CREATED,`成功创建业绩分享，订单 ${ie.orderNumber}，共分享给 ${ie.shareMembers.length} 位成员`,{relatedId:ie.id,relatedType:"performance_share",actionUrl:`/performance/share?id=${ie.id}`}),ie}else throw new Error(ne.data.message||"创建业绩分享失败")}catch(Z){throw console.error("创建业绩分享失败:",Z),Z}}),g=($,Z)=>pe(void 0,null,function*(){const ne=t.value.findIndex(ie=>ie.id===$);if(ne!==-1){const ie=Me({},t.value[ne]);return t.value[ne]=Me(Me({},t.value[ne]),Z),Z.shareMembers&&(t.value[ne].shareMembers=Z.shareMembers.map(J=>ot(Me({},J),{shareAmount:t.value[ne].orderAmount*J.percentage/100}))),yield b(t.value[ne],ie),t.value[ne]}return null}),h=$=>pe(void 0,null,function*(){const Z=en(),ne=t.value.find(ie=>ie.id===$);return ne&&ne.status==="active"?(ne.status="cancelled",yield E(ne),ne.shareMembers.forEach(ie=>{var J,Y;ie.userId!==((J=w.currentUser)==null?void 0:J.id)&&Z.sendMessage(qt.PERFORMANCE_SHARE_CANCELLED,`${(Y=w.currentUser)==null?void 0:Y.name} 取消了业绩分享，订单 ${ne.orderNumber}`,{relatedId:$,relatedType:"performance_share",actionUrl:`/performance/share?id=${$}`})}),!0):!1}),_=($,Z)=>pe(void 0,null,function*(){const ne=en(),ie=t.value.find(J=>J.id===$);if(ie){const J=ie.shareMembers.find(Y=>Y.userId===Z);if(J&&J.status==="pending")return J.status="confirmed",J.confirmTime=new Date().toLocaleString(),ie.shareMembers.every(K=>K.status==="confirmed")&&(ie.status="completed",ie.completedTime=new Date().toLocaleString()),ne.sendMessage(qt.PERFORMANCE_SHARE_CONFIRMED,`${J.userName} 已确认业绩分享，订单 ${ie.orderNumber}，分成金额 ¥${J.shareAmount.toFixed(2)}`,{relatedId:$,relatedType:"performance_share",actionUrl:`/performance/share?id=${$}`}),!0}return!1}),j=($,Z,ne)=>pe(void 0,null,function*(){const ie=en(),J=t.value.find(Y=>Y.id===$);if(J){const Y=J.shareMembers.find(K=>K.userId===Z);if(Y&&Y.status==="pending")return Y.status="rejected",Y.confirmTime=new Date().toLocaleString(),ie.sendMessage(qt.PERFORMANCE_SHARE_REJECTED,`${Y.userName} 拒绝了业绩分享，订单 ${J.orderNumber}${ne?`，原因：${ne}`:""}`,{relatedId:$,relatedType:"performance_share",actionUrl:`/performance/share?id=${$}`}),!0}return!1}),T=$=>t.value.filter(Z=>Z.shareMembers.some(ne=>ne.userId===$)||Z.createdById===$),S=$=>t.value.filter(Z=>Z.orderId===$),b=($,Z)=>pe(void 0,null,function*(){Z&&(yield E(Z));for(const ne of $.shareMembers){const ie=o.value.find(J=>J.id===ne.userId);ie&&(ie.salesAmount+=ne.shareAmount,ie.commission+=ne.shareAmount*.1)}}),E=$=>pe(void 0,null,function*(){for(const Z of $.shareMembers){const ne=o.value.find(ie=>ie.id===Z.userId);ne&&(ne.salesAmount-=Z.shareAmount,ne.commission-=Z.shareAmount*.1)}}),O=$=>{const Z=w.user;return Z?Z.role==="super_admin"?$:Z.role==="department_head"?$.filter(ne=>{var ie,J;return((ie=ne.salesPerson)==null?void 0:ie.departmentId)===Z.departmentId||((J=ne.customerService)==null?void 0:J.departmentId)===Z.departmentId}):Z.role==="sales"?$.filter(ne=>ne.salesPersonId===Z.id):Z.role==="customer_service"?$.filter(ne=>ne.customerServiceId===Z.id):$.filter(ne=>ne.salesPersonId===Z.id||ne.customerServiceId===Z.id):[]},C=()=>pe(void 0,null,function*(){const $=Ln();Ct(),o.value.forEach(ne=>{ne.salesAmount=0,ne.orderCount=0,ne.commission=0}),O($.orders).forEach(ne=>{if(ne.status==="completed"||ne.status==="signed"){const ie=o.value.find(J=>J.id===ne.salesPersonId);ie&&(ie.salesAmount+=ne.totalAmount,ie.orderCount+=1,ie.commission+=ne.totalAmount*.1)}}),t.value.filter(ne=>ne.status==="active"||ne.status==="completed").forEach(ne=>{ne.shareMembers.forEach(ie=>{if(ie.status==="confirmed"){const J=o.value.find(Y=>Y.id===ie.userId);J&&(J.salesAmount+=ie.shareAmount,J.commission+=ie.shareAmount*.1)}})}),o.value.forEach(ne=>{ne.targetCompletion>=120?ne.performance="excellent":ne.targetCompletion>=100?ne.performance="good":ne.targetCompletion>=80?ne.performance="normal":ne.performance="poor"})}),k=()=>{cn(()=>t.value,()=>{C()},{deep:!0})},A=$=>pe(void 0,null,function*(){try{const Z=yield bo($);if(Z.data.success)return t.value=Z.data.data.shares,Z.data.data;throw new Error(Z.data.message||"加载业绩分享数据失败")}catch(Z){throw console.error("加载业绩分享数据失败:",Z),Z}}),I=()=>pe(void 0,null,function*(){try{const $=yield So();if($.data.success)return $.data.data;throw new Error($.data.message||"加载统计数据失败")}catch($){throw console.error("加载统计数据失败:",$),$}}),D=$=>pe(void 0,null,function*(){try{const Z=yield _o($);if(Z.data.success)return Z.data.data;throw new Error(Z.data.message||"获取个人业绩分析数据失败")}catch(Z){throw console.error("获取个人业绩分析数据失败:",Z),Z}}),F=$=>pe(void 0,null,function*(){try{const Z=yield To($);if(Z.data.success)return Z.data.data;throw new Error(Z.data.message||"获取部门业绩分析数据失败")}catch(Z){throw console.error("获取部门业绩分析数据失败:",Z),Z}}),Q=$=>pe(void 0,null,function*(){try{const Z=yield Eo($);if(Z.data.success)return Z.data.data;throw new Error(Z.data.message||"获取公司业绩分析数据失败")}catch(Z){throw console.error("获取公司业绩分析数据失败:",Z),Z}}),te=$=>pe(void 0,null,function*(){try{const Z=yield jo($);if(Z.data.success)return Z.data.data;throw new Error(Z.data.message||"获取业绩统计指标失败")}catch(Z){throw console.error("获取业绩统计指标失败:",Z),Z}});return k(),{dateRange:e,teamMembers:o,productPerformance:d,performanceShares:t,personalPerformance:s,teamPerformance:i,salesRanking:u,shareStats:r,updateDateRange:a,getUserPerformance:n,updateTeamMember:l,addTeamMember:c,removeTeamMember:f,getProductRanking:p,refreshPerformanceData:y,syncPerformanceData:C,createPerformanceShare:m,updatePerformanceShare:g,cancelPerformanceShare:h,confirmShareMember:_,rejectShareMember:j,getUserShares:T,loadPerformanceShares:A,loadShareStats:I,getOrderShares:S,getPersonalAnalysisData:D,getDepartmentAnalysisData:F,getCompanyAnalysisData:Q,getAnalysisMetrics:te}});class xo{constructor(){qe(this,"config",{enabled:!1,interval:30,batchSize:50,retryCount:3,syncToPerformance:!0,syncToOrderList:!0});qe(this,"syncTimer",null);qe(this,"isRunning",!1);qe(this,"lastSyncTime","");this.loadConfig()}loadConfig(){const v=localStorage.getItem("autoStatusSyncConfig");if(v)try{this.config=Me(Me({},this.config),JSON.parse(v))}catch(w){console.error("加载自动同步配置失败:",w)}}saveConfig(){try{localStorage.setItem("autoStatusSyncConfig",JSON.stringify(this.config))}catch(v){console.error("保存自动同步配置失败:",v)}}getConfig(){return Me({},this.config)}updateConfig(v){this.config=Me(Me({},this.config),v),this.saveConfig(),v.enabled!==void 0?v.enabled?this.start():this.stop():this.config.enabled&&v.interval&&this.restart()}start(){this.isRunning||!this.config.enabled||(this.isRunning=!0,this.syncTimer=setInterval(()=>{this.performAutoSync()},this.config.interval*60*1e3),console.log(`自动状态同步服务已启动，检测间隔: ${this.config.interval}分钟`),Se.success("自动状态同步服务已启动"))}stop(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null),this.isRunning=!1,console.log("自动状态同步服务已停止")}restart(){this.stop(),this.config.enabled&&this.start()}performAutoSync(){return pe(this,null,function*(){const v={success:!1,updatedCount:0,errorCount:0,errors:[],lastSyncTime:new Date().toISOString()};try{console.log("开始执行自动状态同步...");const w=An(),e=yield this.getPendingOrders();if(e.length===0)return console.log("没有需要同步的订单"),v.success=!0,this.lastSyncTime=v.lastSyncTime,v;const o=this.chunkArray(e,this.config.batchSize);for(const d of o)try{const t=yield this.processBatch(d);v.updatedCount+=t.updatedCount,v.errorCount+=t.errorCount,v.errors.push(...t.errors)}catch(t){console.error("批次处理失败:",t),v.errorCount+=d.length,v.errors.push(`批次处理失败: ${t}`)}v.updatedCount>0&&(yield this.syncToOtherModules(v.updatedCount)),v.success=v.errorCount===0,this.lastSyncTime=v.lastSyncTime,console.log(`自动同步完成: 更新${v.updatedCount}个订单, 错误${v.errorCount}个`),v.updatedCount>0&&Se.success(`自动同步完成，更新了${v.updatedCount}个订单状态`)}catch(w){console.error("自动同步执行失败:",w),v.errors.push(`同步执行失败: ${w}`),v.errorCount++}return v})}getPendingOrders(){return pe(this,null,function*(){const v=An(),w=["shipping","delivering","picked"],e=[];for(const o of w)try{const d=yield v.fetchOrderList({status:o,pageSize:this.config.batchSize});e.push(...d.filter(t=>t.trackingNo))}catch(d){console.error(`获取${o}状态订单失败:`,d)}return e})}processBatch(v){return pe(this,null,function*(){const w={updatedCount:0,errorCount:0,errors:[]},e=An();for(const o of v){let d=0,t=!1;for(;d<this.config.retryCount&&!t;)try{const r=yield e.fetchTrackingInfo(o.trackingNo);if(r.length>0){const s=r[0],i=this.determineStatusFromTracking(s.description);i&&i!==o.status&&(yield e.updateOrderStatus(o.id,{status:i,remark:`自动同步: ${s.description}`,autoUpdated:!0}),w.updatedCount++,console.log(`订单${o.orderNo}状态已更新: ${o.status} -> ${i}`))}t=!0}catch(r){d++,console.error(`处理订单${o.orderNo}失败 (重试${d}/${this.config.retryCount}):`,r),d>=this.config.retryCount?(w.errorCount++,w.errors.push(`订单${o.orderNo}处理失败: ${r}`)):yield new Promise(s=>setTimeout(s,1e3*d))}}return w})}determineStatusFromTracking(v){const w=v.toLowerCase();return w.includes("签收")||w.includes("已收货")?"delivered":w.includes("拒收")||w.includes("拒绝")?"rejected":w.includes("派送")||w.includes("配送")?"delivering":w.includes("运输")||w.includes("转运")?"shipping":w.includes("揽收")||w.includes("收件")?"picked":null}syncToOtherModules(v){return pe(this,null,function*(){try{if(this.config.syncToPerformance){const w=Ao();w.refreshData&&(yield w.refreshData())}if(this.config.syncToOrderList){const w=Ln();w.refreshData&&(yield w.refreshData())}}catch(w){console.error("同步到其他模块失败:",w)}})}chunkArray(v,w){const e=[];for(let o=0;o<v.length;o+=w)e.push(v.slice(o,o+w));return e}manualSync(){return pe(this,null,function*(){if(this.isRunning)throw new Error("自动同步正在运行中，请稍后再试");return yield this.performAutoSync()})}getStatus(){return{isRunning:this.isRunning,lastSyncTime:this.lastSyncTime,config:this.getConfig()}}}const Jt=new xo,Rs=[{id:"dashboard",name:"数据看板",code:"dashboard",type:"menu",icon:"Odometer",sort:1,children:[{id:"dashboard_view",name:"查看数据看板",code:"dashboard:view",type:"action",parentId:"dashboard"}]},{id:"customer",name:"客户管理",code:"customer",type:"menu",icon:"User",sort:2,children:[{id:"customer_list",name:"客户列表",code:"customer:list",type:"page",parentId:"customer",children:[{id:"customer_list_view",name:"查看客户",code:"customer:list:view",type:"action",parentId:"customer_list"},{id:"customer_list_create",name:"新增客户",code:"customer:list:create",type:"action",parentId:"customer_list"},{id:"customer_list_edit",name:"编辑客户",code:"customer:list:edit",type:"action",parentId:"customer_list"},{id:"customer_list_delete",name:"删除客户",code:"customer:list:delete",type:"action",parentId:"customer_list"},{id:"customer_list_export",name:"导出客户",code:"customer:list:export",type:"action",parentId:"customer_list"},{id:"customer_list_assign",name:"分配客户",code:"customer:list:assign",type:"action",parentId:"customer_list"}]},{id:"customer_add",name:"新增客户",code:"customer:add",type:"page",parentId:"customer",children:[{id:"customer_add_create",name:"创建客户",code:"customer:add:create",type:"action",parentId:"customer_add"}]},{id:"customer_tags",name:"客户标签",code:"customer:tags",type:"page",parentId:"customer",children:[{id:"customer_tags_view",name:"查看标签",code:"customer:tags:view",type:"action",parentId:"customer_tags"},{id:"customer_tags_manage",name:"管理标签",code:"customer:tags:manage",type:"action",parentId:"customer_tags"}]},{id:"customer_groups",name:"客户分组",code:"customer:groups",type:"page",parentId:"customer",children:[{id:"customer_groups_view",name:"查看分组",code:"customer:groups:view",type:"action",parentId:"customer_groups"},{id:"customer_groups_manage",name:"管理分组",code:"customer:groups:manage",type:"action",parentId:"customer_groups"}]}]},{id:"order",name:"订单管理",code:"order",type:"menu",icon:"ShoppingCart",sort:3,children:[{id:"order_list",name:"订单列表",code:"order:list",type:"page",parentId:"order",children:[{id:"order_list_view",name:"查看订单",code:"order:list:view",type:"action",parentId:"order_list"},{id:"order_list_edit",name:"编辑订单",code:"order:list:edit",type:"action",parentId:"order_list"},{id:"order_list_delete",name:"删除订单",code:"order:list:delete",type:"action",parentId:"order_list"},{id:"order_list_export",name:"导出订单",code:"order:list:export",type:"action",parentId:"order_list"}]},{id:"order_add",name:"新增订单",code:"order:add",type:"page",parentId:"order",children:[{id:"order_add_create",name:"创建订单",code:"order:add:create",type:"action",parentId:"order_add"}]},{id:"order_audit",name:"订单审核",code:"order:audit",type:"page",parentId:"order",children:[{id:"order_audit_view",name:"查看审核",code:"order:audit:view",type:"action",parentId:"order_audit"},{id:"order_audit_approve",name:"通过审核",code:"order:audit:approve",type:"action",parentId:"order_audit"},{id:"order_audit_reject",name:"拒绝审核",code:"order:audit:reject",type:"action",parentId:"order_audit"}]}]},{id:"service_management",name:"服务管理",code:"service_management",type:"menu",icon:"Headset",sort:4,children:[{id:"service_call",name:"通话管理",code:"service:call",type:"page",parentId:"service_management",children:[{id:"service_call_view",name:"查看通话",code:"service:call:view",type:"action",parentId:"service_call"},{id:"service_call_record",name:"录音管理",code:"service:call:record",type:"action",parentId:"service_call"},{id:"service_call_config",name:"电话配置",code:"service:call:config",type:"action",parentId:"service_call"}]},{id:"service_sms",name:"短信管理",code:"service:sms",type:"page",parentId:"service_management",children:[{id:"service_sms_view",name:"查看短信",code:"service:sms:view",type:"action",parentId:"service_sms"},{id:"service_sms_send",name:"发送短信",code:"service:sms:send",type:"action",parentId:"service_sms"},{id:"service_sms_audit",name:"短信审核",code:"service:sms:audit",type:"action",parentId:"service_sms"},{id:"service_sms_analyze",name:"短信统计",code:"service:sms:analyze",type:"action",parentId:"service_sms"}]}]},{id:"performance",name:"业绩统计",code:"performance",type:"menu",icon:"TrendCharts",sort:5,children:[{id:"performance_personal",name:"个人业绩",code:"performance:personal",type:"page",parentId:"performance",children:[{id:"performance_personal_view",name:"查看个人业绩",code:"performance:personal:view",type:"action",parentId:"performance_personal"}]},{id:"performance_team",name:"团队业绩",code:"performance:team",type:"page",parentId:"performance",children:[{id:"performance_team_view",name:"查看团队业绩",code:"performance:team:view",type:"action",parentId:"performance_team"}]},{id:"performance_analysis",name:"业绩分析",code:"performance:analysis",type:"page",parentId:"performance",children:[{id:"performance_analysis_view",name:"查看业绩分析",code:"performance:analysis:view",type:"action",parentId:"performance_analysis"}]},{id:"performance_share",name:"业绩分享",code:"performance:share",type:"page",parentId:"performance",children:[{id:"performance_share_view",name:"查看分享",code:"performance:share:view",type:"action",parentId:"performance_share"},{id:"performance_share_create",name:"创建分享",code:"performance:share:create",type:"action",parentId:"performance_share"}]}]},{id:"logistics",name:"物流管理",code:"logistics",type:"menu",icon:"Van",sort:6,children:[{id:"logistics_shipping",name:"发货列表",code:"logistics:shipping",type:"page",parentId:"logistics",children:[{id:"logistics_shipping_view",name:"查看发货",code:"logistics:shipping:view",type:"action",parentId:"logistics_shipping"},{id:"logistics_shipping_edit",name:"编辑发货",code:"logistics:shipping:edit",type:"action",parentId:"logistics_shipping"},{id:"logistics_shipping_send",name:"确认发货",code:"logistics:shipping:send",type:"action",parentId:"logistics_shipping"}]},{id:"logistics_list",name:"物流列表",code:"logistics:list",type:"page",parentId:"logistics",children:[{id:"logistics_list_view",name:"查看物流",code:"logistics:list:view",type:"action",parentId:"logistics_list"}]},{id:"logistics_status_update",name:"状态更新",code:"logistics:status_update",type:"page",parentId:"logistics",children:[{id:"logistics_status_update_edit",name:"更新状态",code:"logistics:status_update:edit",type:"action",parentId:"logistics_status_update"}]},{id:"logistics_track",name:"物流跟踪",code:"logistics:track",type:"page",parentId:"logistics",children:[{id:"logistics_track_view",name:"查看跟踪",code:"logistics:track:view",type:"action",parentId:"logistics_track"}]},{id:"logistics_companies",name:"物流公司",code:"logistics:companies",type:"page",parentId:"logistics",children:[{id:"logistics_companies_view",name:"查看公司",code:"logistics:companies:view",type:"action",parentId:"logistics_companies"},{id:"logistics_companies_manage",name:"管理公司",code:"logistics:companies:manage",type:"action",parentId:"logistics_companies"}]}]},{id:"service",name:"售后管理",code:"service",type:"menu",icon:"CustomerService",sort:7,children:[{id:"service_list",name:"售后订单",code:"service:list",type:"page",parentId:"service",children:[{id:"service_list_view",name:"查看售后",code:"service:list:view",type:"action",parentId:"service_list"},{id:"service_list_edit",name:"处理售后",code:"service:list:edit",type:"action",parentId:"service_list"},{id:"service_list_close",name:"关闭售后",code:"service:list:close",type:"action",parentId:"service_list"}]},{id:"service_add",name:"新建售后",code:"service:add",type:"page",parentId:"service",children:[{id:"service_add_create",name:"创建售后",code:"service:add:create",type:"action",parentId:"service_add"}]},{id:"service_data",name:"售后数据",code:"service:data",type:"page",parentId:"service",children:[{id:"service_data_view",name:"查看数据",code:"service:data:view",type:"action",parentId:"service_data"}]}]},{id:"data",name:"资料管理",code:"data",type:"menu",icon:"Files",sort:8,children:[{id:"data_list",name:"资料列表",code:"data:list",type:"page",parentId:"data",children:[{id:"data_list_view",name:"查看资料",code:"data:list:view",type:"action",parentId:"data_list"},{id:"data_list_assign",name:"分配资料",code:"data:list:assign",type:"action",parentId:"data_list"},{id:"data_list_transfer",name:"转移资料",code:"data:list:transfer",type:"action",parentId:"data_list"}]},{id:"data_search",name:"客户查询",code:"data:search",type:"page",parentId:"data",children:[{id:"data_search_view",name:"查询客户",code:"data:search:view",type:"action",parentId:"data_search"}]},{id:"data_recycle",name:"回收站",code:"data:recycle",type:"page",parentId:"data",children:[{id:"data_recycle_view",name:"查看回收站",code:"data:recycle:view",type:"action",parentId:"data_recycle"},{id:"data_recycle_restore",name:"恢复数据",code:"data:recycle:restore",type:"action",parentId:"data_recycle"},{id:"data_recycle_delete",name:"永久删除",code:"data:recycle:delete",type:"action",parentId:"data_recycle"}]}]},{id:"product",name:"商品管理",code:"product",type:"menu",icon:"Box",sort:9,children:[{id:"product_list",name:"商品列表",code:"product:list",type:"page",parentId:"product",children:[{id:"product_list_view",name:"查看商品",code:"product:list:view",type:"action",parentId:"product_list"},{id:"product_list_edit",name:"编辑商品",code:"product:list:edit",type:"action",parentId:"product_list"}]},{id:"product_add",name:"新增商品",code:"product:add",type:"page",parentId:"product",children:[{id:"product_add_create",name:"创建商品",code:"product:add:create",type:"action",parentId:"product_add"}]},{id:"product_category",name:"商品分类",code:"product:category",type:"page",parentId:"product",children:[{id:"product_category_view",name:"查看分类",code:"product:category:view",type:"action",parentId:"product_category"},{id:"product_category_manage",name:"管理分类",code:"product:category:manage",type:"action",parentId:"product_category"}]},{id:"product_inventory",name:"库存管理",code:"product:inventory",type:"page",parentId:"product",children:[{id:"product_inventory_view",name:"查看库存",code:"product:inventory:view",type:"action",parentId:"product_inventory"},{id:"product_inventory_manage",name:"管理库存",code:"product:inventory:manage",type:"action",parentId:"product_inventory"}]},{id:"product_analytics",name:"商品分析",code:"product:analytics",type:"page",parentId:"product",children:[{id:"product_analytics_view",name:"查看分析",code:"product:analytics:view",type:"action",parentId:"product_analytics"}]}]},{id:"system",name:"系统管理",code:"system",type:"menu",icon:"Setting",sort:10,children:[{id:"system_departments",name:"部门管理",code:"system:departments",type:"page",parentId:"system",children:[{id:"system_departments_view",name:"查看部门",code:"system:departments:view",type:"action",parentId:"system_departments"},{id:"system_departments_manage",name:"管理部门",code:"system:departments:manage",type:"action",parentId:"system_departments"}]},{id:"system_users",name:"用户管理",code:"system:users",type:"page",parentId:"system",children:[{id:"system_users_view",name:"查看用户",code:"system:users:view",type:"action",parentId:"system_users"},{id:"system_users_create",name:"创建用户",code:"system:users:create",type:"action",parentId:"system_users"},{id:"system_users_edit",name:"编辑用户",code:"system:users:edit",type:"action",parentId:"system_users"},{id:"system_users_delete",name:"删除用户",code:"system:users:delete",type:"action",parentId:"system_users"}]},{id:"system_roles",name:"角色权限",code:"system:roles",type:"page",parentId:"system",children:[{id:"system_roles_view",name:"查看角色",code:"system:roles:view",type:"action",parentId:"system_roles"},{id:"system_roles_create",name:"创建角色",code:"system:roles:create",type:"action",parentId:"system_roles"},{id:"system_roles_edit",name:"编辑角色",code:"system:roles:edit",type:"action",parentId:"system_roles"},{id:"system_roles_delete",name:"删除角色",code:"system:roles:delete",type:"action",parentId:"system_roles"},{id:"system_roles_permission",name:"权限设置",code:"system:roles:permission",type:"action",parentId:"system_roles"}]},{id:"system_permissions",name:"权限管理",code:"system:permissions",type:"page",parentId:"system",children:[{id:"system_permissions_view",name:"查看权限",code:"system:permissions:view",type:"action",parentId:"system_permissions"},{id:"system_permissions_manage",name:"管理权限",code:"system:permissions:manage",type:"action",parentId:"system_permissions"}]},{id:"system_message",name:"消息管理",code:"system:message",type:"page",parentId:"system",children:[{id:"system_message_view",name:"查看消息",code:"system:message:view",type:"action",parentId:"system_message"},{id:"system_message_send",name:"发送消息",code:"system:message:send",type:"action",parentId:"system_message"}]},{id:"system_settings",name:"系统设置",code:"system:settings",type:"page",parentId:"system",children:[{id:"system_settings_view",name:"查看设置",code:"system:settings:view",type:"action",parentId:"system_settings"},{id:"system_settings_edit",name:"修改设置",code:"system:settings:edit",type:"action",parentId:"system_settings"}]}]}],vf={basic:{name:"基础权限",description:"基本的查看和操作权限",permissions:["dashboard:view","customer:list:view","order:list:view","performance:personal:view"]},advanced:{name:"高级权限",description:"包含编辑和管理权限",permissions:["dashboard:view","customer:list:view","customer:list:edit","customer:list:create","order:list:view","order:list:edit","order:add:create","performance:personal:view","performance:team:view"]},manager:{name:"经理权限",description:"部门经理级别权限",permissions:["dashboard:view","customer:list:view","customer:list:edit","customer:list:create","customer:list:assign","order:list:view","order:list:edit","order:add:create","order:audit:view","order:audit:approve","performance:personal:view","performance:team:view","performance:analysis:view","product:add:create","product:inventory:manage"]},admin:{name:"管理员权限",description:"系统管理员权限",permissions:["dashboard:view","customer","order","service_management","performance","logistics","service","data","product","system:departments","system:users","system:roles","system:message","system:settings"]}};let kr=[];function On(x){kr=x}function dn(x){if(!x||kr.includes("*")||kr.includes("admin")||kr.includes("system")||kr.includes(x))return!0;const v=Oo(x);if(v&&v.parentId){const w=ko(v.parentId);if(w)return dn(w.code)}return!1}function Io(x){return x.some(v=>dn(v))}function bf(x){return x.every(v=>dn(v))}function Oo(x){function v(w){for(const e of w){if(e.code===x)return e;if(e.children){const o=v(e.children);if(o)return o}}return null}return v(Rs)}function ko(x){function v(w){for(const e of w){if(e.id===x)return e;if(e.children){const o=v(e.children);if(o)return o}}return null}return v(Rs)}function wf(x,v){const{value:w}=v;if(w){let e=!1;Array.isArray(w)?e=Io(w):e=dn(w),e||(x.style.display="none")}}const vs=[{id:"system",name:"系统管理",code:"system",type:"menu",path:"/system",icon:"Setting",sort:1,status:"active",children:[{id:"system.user",name:"用户管理",code:"system.user",type:"menu",path:"/system/user",icon:"User",sort:1,status:"active",children:[{id:"system.user.view",name:"查看用户",code:"system.user.view",type:"action",sort:1,status:"active"},{id:"system.user.create",name:"创建用户",code:"system.user.create",type:"action",sort:2,status:"active"},{id:"system.user.edit",name:"编辑用户",code:"system.user.edit",type:"action",sort:3,status:"active"},{id:"system.user.delete",name:"删除用户",code:"system.user.delete",type:"action",sort:4,status:"active"},{id:"system.user.permissions",name:"权限设置",code:"system.user.permissions",type:"action",sort:5,status:"active"},{id:"system.user.reset_password",name:"重置密码",code:"system.user.reset_password",type:"action",sort:6,status:"active"}]},{id:"system.role",name:"角色管理",code:"system.role",type:"menu",path:"/system/role",icon:"UserFilled",sort:2,status:"active",children:[{id:"system.role.view",name:"查看角色",code:"system.role.view",type:"action",sort:1,status:"active"},{id:"system.role.create",name:"创建角色",code:"system.role.create",type:"action",sort:2,status:"active"},{id:"system.role.edit",name:"编辑角色",code:"system.role.edit",type:"action",sort:3,status:"active"},{id:"system.role.delete",name:"删除角色",code:"system.role.delete",type:"action",sort:4,status:"active"},{id:"system.role.assign_permissions",name:"分配权限",code:"system.role.assign_permissions",type:"action",sort:5,status:"active"}]},{id:"system.department",name:"部门管理",code:"system.department",type:"menu",path:"/system/department",icon:"OfficeBuilding",sort:3,status:"active",children:[{id:"system.department.view",name:"查看部门",code:"system.department.view",type:"action",sort:1,status:"active"},{id:"system.department.create",name:"创建部门",code:"system.department.create",type:"action",sort:2,status:"active"},{id:"system.department.edit",name:"编辑部门",code:"system.department.edit",type:"action",sort:3,status:"active"},{id:"system.department.delete",name:"删除部门",code:"system.department.delete",type:"action",sort:4,status:"active"},{id:"system.department.members",name:"管理成员",code:"system.department.members",type:"action",sort:5,status:"active"}]},{id:"system.permission",name:"权限管理",code:"system.permission",type:"menu",path:"/system/permission",icon:"Lock",sort:4,status:"active",children:[{id:"system.permission.view",name:"查看权限",code:"system.permission.view",type:"action",sort:1,status:"active"},{id:"system.permission.assign",name:"分配权限",code:"system.permission.assign",type:"action",sort:2,status:"active"},{id:"system.permission.sensitive",name:"敏感信息权限",code:"system.permission.sensitive",type:"action",sort:3,status:"active"}]},{id:"system.settings",name:"系统设置",code:"system.settings",type:"menu",path:"/system/settings",icon:"Tools",sort:5,status:"active",children:[{id:"system.settings.view",name:"查看设置",code:"system.settings.view",type:"action",sort:1,status:"active"},{id:"system.settings.edit",name:"修改设置",code:"system.settings.edit",type:"action",sort:2,status:"active"},{id:"system.settings.sms",name:"短信配置",code:"system.settings.sms",type:"action",sort:3,status:"active"},{id:"system.settings.call",name:"通话配置",code:"system.settings.call",type:"action",sort:4,status:"active"}]}]},{id:"customer",name:"客户管理",code:"customer",type:"menu",path:"/customer",icon:"Avatar",sort:2,status:"active",children:[{id:"customer.list",name:"客户列表",code:"customer.list",type:"menu",path:"/customer/list",icon:"List",sort:1,status:"active",children:[{id:"customer.list.view",name:"查看客户列表",code:"customer.list.view",type:"action",sort:1,status:"active"},{id:"customer.list.export",name:"导出客户数据",code:"customer.list.export",type:"action",sort:2,status:"active"},{id:"customer.list.import",name:"导入客户数据",code:"customer.list.import",type:"action",sort:3,status:"active"}]},{id:"customer.add",name:"新增客户",code:"customer.add",type:"menu",path:"/customer/add",icon:"Plus",sort:2,status:"active",children:[{id:"customer.add.create",name:"创建客户",code:"customer.add.create",type:"action",sort:1,status:"active"},{id:"customer.add.batch",name:"批量新增",code:"customer.add.batch",type:"action",sort:2,status:"active"}]},{id:"customer.edit",name:"编辑客户",code:"customer.edit",type:"action",sort:3,status:"active"},{id:"customer.delete",name:"删除客户",code:"customer.delete",type:"action",sort:4,status:"active"},{id:"customer.follow",name:"客户跟进",code:"customer.follow",type:"action",sort:5,status:"active"},{id:"customer.tags",name:"客户标签",code:"customer.tags",type:"menu",path:"/customer/tags",icon:"PriceTag",sort:6,status:"active",children:[{id:"customer.tags.view",name:"查看标签",code:"customer.tags.view",type:"action",sort:1,status:"active"},{id:"customer.tags.create",name:"新增标签",code:"customer.tags.create",type:"action",sort:2,status:"active"},{id:"customer.tags.edit",name:"编辑标签",code:"customer.tags.edit",type:"action",sort:3,status:"active"},{id:"customer.tags.delete",name:"删除标签",code:"customer.tags.delete",type:"action",sort:4,status:"active"},{id:"customer.tags.assign",name:"分配标签",code:"customer.tags.assign",type:"action",sort:5,status:"active"}]},{id:"customer.groups",name:"客户分组",code:"customer.groups",type:"menu",path:"/customer/groups",icon:"Collection",sort:7,status:"active",children:[{id:"customer.groups.view",name:"查看分组",code:"customer.groups.view",type:"action",sort:1,status:"active"},{id:"customer.groups.create",name:"新增分组",code:"customer.groups.create",type:"action",sort:2,status:"active"},{id:"customer.groups.edit",name:"编辑分组",code:"customer.groups.edit",type:"action",sort:3,status:"active"},{id:"customer.groups.delete",name:"删除分组",code:"customer.groups.delete",type:"action",sort:4,status:"active"},{id:"customer.groups.manage",name:"管理分组",code:"customer.groups.manage",type:"action",sort:5,status:"active"}]}]},{id:"order",name:"订单管理",code:"order",type:"menu",path:"/order",icon:"Document",sort:3,status:"active",children:[{id:"order.list",name:"订单列表",code:"order.list",type:"menu",path:"/order/list",icon:"List",sort:1,status:"active",children:[{id:"order.list.view",name:"查看订单",code:"order.list.view",type:"action",sort:1,status:"active"},{id:"order.list.export",name:"导出订单",code:"order.list.export",type:"action",sort:2,status:"active"},{id:"order.list.edit",name:"编辑订单",code:"order.list.edit",type:"action",sort:3,status:"active"},{id:"order.list.delete",name:"删除订单",code:"order.list.delete",type:"action",sort:4,status:"active"},{id:"order.list.cancel",name:"取消订单",code:"order.list.cancel",type:"action",sort:5,status:"active"},{id:"order.list.batchOperation",name:"批量操作",code:"order.list.batchOperation",type:"action",sort:6,status:"active"}]},{id:"order.create",name:"创建订单",code:"order.create",type:"action",sort:2,status:"active"},{id:"order.edit",name:"编辑订单",code:"order.edit",type:"action",sort:3,status:"active"},{id:"order.delete",name:"删除订单",code:"order.delete",type:"action",sort:4,status:"active"},{id:"order.status",name:"订单状态管理",code:"order.status",type:"action",sort:5,status:"active"},{id:"order.audit",name:"订单审核",code:"order.audit",type:"menu",path:"/order/audit",icon:"Check",sort:6,status:"active",children:[{id:"order.audit.view",name:"查看审核",code:"order.audit.view",type:"action",sort:1,status:"active"},{id:"order.audit.approve",name:"通过审核",code:"order.audit.approve",type:"action",sort:2,status:"active"},{id:"order.audit.reject",name:"拒绝审核",code:"order.audit.reject",type:"action",sort:3,status:"active"},{id:"order.audit.revoke",name:"撤销审核",code:"order.audit.revoke",type:"action",sort:4,status:"active"},{id:"order.audit.batchApprove",name:"批量审核",code:"order.audit.batchApprove",type:"action",sort:5,status:"active"}]}]},{id:"product",name:"商品管理",code:"product",type:"menu",path:"/product",icon:"Goods",sort:4,status:"active",children:[{id:"product.list",name:"商品列表",code:"product.list",type:"menu",path:"/product/list",icon:"List",sort:1,status:"active",children:[{id:"product.list.view",name:"查看商品",code:"product.list.view",type:"action",sort:1,status:"active"},{id:"product.list.export",name:"导出商品",code:"product.list.export",type:"action",sort:2,status:"active"},{id:"product.list.edit",name:"编辑商品",code:"product.list.edit",type:"action",sort:3,status:"active"},{id:"product.list.delete",name:"删除商品",code:"product.list.delete",type:"action",sort:4,status:"active"},{id:"product.list.batchOperation",name:"批量操作",code:"product.list.batchOperation",type:"action",sort:5,status:"active"},{id:"product.list.priceAdjust",name:"价格调整",code:"product.list.priceAdjust",type:"action",sort:6,status:"active"}]},{id:"product.add",name:"新增商品",code:"product.add",type:"menu",path:"/product/add",icon:"Plus",sort:2,status:"active",children:[{id:"product.add.create",name:"创建商品",code:"product.add.create",type:"action",sort:1,status:"active"},{id:"product.add.batch",name:"批量新增",code:"product.add.batch",type:"action",sort:2,status:"active"}]},{id:"product.category",name:"商品分类",code:"product.category",type:"menu",path:"/product/category",icon:"Collection",sort:3,status:"active",children:[{id:"product.category.view",name:"查看分类",code:"product.category.view",type:"action",sort:1,status:"active"},{id:"product.category.create",name:"新增分类",code:"product.category.create",type:"action",sort:2,status:"active"},{id:"product.category.edit",name:"编辑分类",code:"product.category.edit",type:"action",sort:3,status:"active"},{id:"product.category.delete",name:"删除分类",code:"product.category.delete",type:"action",sort:4,status:"active"},{id:"product.category.manage",name:"管理分类",code:"product.category.manage",type:"action",sort:5,status:"active"}]},{id:"product.inventory",name:"库存管理",code:"product.inventory",type:"menu",path:"/product/inventory",icon:"Box",sort:4,status:"active",children:[{id:"product.inventory.view",name:"查看库存",code:"product.inventory.view",type:"action",sort:1,status:"active"},{id:"product.inventory.adjust",name:"库存调整",code:"product.inventory.adjust",type:"action",sort:2,status:"active"},{id:"product.inventory.inbound",name:"入库管理",code:"product.inventory.inbound",type:"action",sort:3,status:"active"},{id:"product.inventory.outbound",name:"出库管理",code:"product.inventory.outbound",type:"action",sort:4,status:"active"},{id:"product.inventory.transfer",name:"库存转移",code:"product.inventory.transfer",type:"action",sort:5,status:"active"},{id:"product.inventory.alert",name:"库存预警",code:"product.inventory.alert",type:"action",sort:6,status:"active"}]},{id:"product.analytics",name:"商品分析",code:"product.analytics",type:"menu",path:"/product/analytics",icon:"DataAnalysis",sort:5,status:"active",children:[{id:"product.analytics.view",name:"查看分析",code:"product.analytics.view",type:"action",sort:1,status:"active"},{id:"product.analytics.sales",name:"销售分析",code:"product.analytics.sales",type:"action",sort:2,status:"active"},{id:"product.analytics.profit",name:"利润分析",code:"product.analytics.profit",type:"action",sort:3,status:"active"},{id:"product.analytics.trend",name:"趋势分析",code:"product.analytics.trend",type:"action",sort:4,status:"active"},{id:"product.analytics.export",name:"导出报表",code:"product.analytics.export",type:"action",sort:5,status:"active"}]}]},{id:"service",name:"服务管理",code:"service",type:"menu",path:"/service",icon:"Headset",sort:5,status:"active",children:[{id:"service.ticket",name:"工单管理",code:"service.ticket",type:"menu",path:"/service/ticket",icon:"Tickets",sort:1,status:"active",children:[{id:"service.ticket.view",name:"查看工单",code:"service.ticket.view",type:"action",sort:1,status:"active"},{id:"service.ticket.create",name:"创建工单",code:"service.ticket.create",type:"action",sort:2,status:"active"},{id:"service.ticket.edit",name:"编辑工单",code:"service.ticket.edit",type:"action",sort:3,status:"active"},{id:"service.ticket.delete",name:"删除工单",code:"service.ticket.delete",type:"action",sort:4,status:"active"},{id:"service.ticket.assign",name:"分配工单",code:"service.ticket.assign",type:"action",sort:5,status:"active"},{id:"service.ticket.close",name:"关闭工单",code:"service.ticket.close",type:"action",sort:6,status:"active"},{id:"service.ticket.export",name:"导出工单",code:"service.ticket.export",type:"action",sort:7,status:"active"}]},{id:"service.chat",name:"在线客服",code:"service.chat",type:"menu",path:"/service/chat",icon:"ChatDotRound",sort:2,status:"active",children:[{id:"service.chat.view",name:"查看对话",code:"service.chat.view",type:"action",sort:1,status:"active"},{id:"service.chat.reply",name:"回复消息",code:"service.chat.reply",type:"action",sort:2,status:"active"},{id:"service.chat.transfer",name:"转接客服",code:"service.chat.transfer",type:"action",sort:3,status:"active"},{id:"service.chat.history",name:"查看历史",code:"service.chat.history",type:"action",sort:4,status:"active"},{id:"service.chat.settings",name:"客服设置",code:"service.chat.settings",type:"action",sort:5,status:"active"}]},{id:"service.knowledge",name:"知识库",code:"service.knowledge",type:"menu",path:"/service/knowledge",icon:"Collection",sort:3,status:"active",children:[{id:"service.knowledge.view",name:"查看知识库",code:"service.knowledge.view",type:"action",sort:1,status:"active"},{id:"service.knowledge.create",name:"创建文档",code:"service.knowledge.create",type:"action",sort:2,status:"active"},{id:"service.knowledge.edit",name:"编辑文档",code:"service.knowledge.edit",type:"action",sort:3,status:"active"},{id:"service.knowledge.delete",name:"删除文档",code:"service.knowledge.delete",type:"action",sort:4,status:"active"},{id:"service.knowledge.category",name:"分类管理",code:"service.knowledge.category",type:"action",sort:5,status:"active"},{id:"service.knowledge.publish",name:"发布文档",code:"service.knowledge.publish",type:"action",sort:6,status:"active"}]},{id:"service.call",name:"通话管理",code:"service.call",type:"menu",path:"/service/call",icon:"Phone",sort:4,status:"active",children:[{id:"service.call.view",name:"查看通话记录",code:"service.call.view",type:"action",sort:1,status:"active"},{id:"service.call.make",name:"发起通话",code:"service.call.make",type:"action",sort:2,status:"active"},{id:"service.call.record",name:"录音管理",code:"service.call.record",type:"action",sort:3,status:"active"},{id:"service.call.statistics",name:"通话统计",code:"service.call.statistics",type:"action",sort:4,status:"active"}]},{id:"service.sms",name:"短信管理",code:"service.sms",type:"menu",path:"/service/sms",icon:"Message",sort:5,status:"active",children:[{id:"service.sms.view",name:"查看短信记录",code:"service.sms.view",type:"action",sort:1,status:"active"},{id:"service.sms.send",name:"发送短信",code:"service.sms.send",type:"action",sort:2,status:"active"},{id:"service.sms.template",name:"模板管理",code:"service.sms.template",type:"action",sort:3,status:"active"},{id:"service.sms.batch",name:"批量发送",code:"service.sms.batch",type:"action",sort:4,status:"active"},{id:"service.sms.statistics",name:"短信统计",code:"service.sms.statistics",type:"action",sort:5,status:"active"}]}]},{id:"data",name:"资料管理",code:"data",type:"menu",path:"/data",icon:"FolderOpened",sort:6,status:"active",children:[{id:"data.list",name:"资料列表",code:"data.list",type:"menu",path:"/data/list",icon:"List",sort:1,status:"active",children:[{id:"data.list.view",name:"查看资料列表",code:"data.list.view",type:"action",sort:1,status:"active"},{id:"data.list.export",name:"导出资料",code:"data.list.export",type:"action",sort:2,status:"active"},{id:"data.list.import",name:"导入资料",code:"data.list.import",type:"action",sort:3,status:"active"},{id:"data.list.assign",name:"分配资料",code:"data.list.assign",type:"action",sort:4,status:"active"}]},{id:"data.search",name:"客户查询",code:"data.search",type:"menu",path:"/data/search",icon:"Search",sort:2,status:"active",children:[{id:"data.search.basic",name:"基础查询",code:"data.search.basic",type:"action",sort:1,status:"active"},{id:"data.search.advanced",name:"高级查询",code:"data.search.advanced",type:"action",sort:2,status:"active"},{id:"data.search.export",name:"导出查询结果",code:"data.search.export",type:"action",sort:3,status:"active"}]},{id:"data.recycle",name:"回收站",code:"data.recycle",type:"menu",path:"/data/recycle",icon:"Delete",sort:3,status:"active",children:[{id:"data.recycle.view",name:"查看回收站",code:"data.recycle.view",type:"action",sort:1,status:"active"},{id:"data.recycle.restore",name:"恢复数据",code:"data.recycle.restore",type:"action",sort:2,status:"active"},{id:"data.recycle.delete",name:"彻底删除",code:"data.recycle.delete",type:"action",sort:3,status:"active"}]}]},{id:"performance",name:"业绩统计",code:"performance",type:"menu",path:"/performance",icon:"TrendCharts",sort:7,status:"active",children:[{id:"performance.personal",name:"个人业绩",code:"performance.personal",type:"menu",path:"/performance/personal",icon:"User",sort:1,status:"active",children:[{id:"performance.personal.view",name:"查看个人业绩",code:"performance.personal.view",type:"action",sort:1,status:"active"},{id:"performance.personal.export",name:"导出个人数据",code:"performance.personal.export",type:"action",sort:2,status:"active"}]},{id:"performance.team",name:"团队业绩",code:"performance.team",type:"menu",path:"/performance/team",icon:"UserFilled",sort:2,status:"active",children:[{id:"performance.team.view",name:"查看团队业绩",code:"performance.team.view",type:"action",sort:1,status:"active"},{id:"performance.team.export",name:"导出团队数据",code:"performance.team.export",type:"action",sort:2,status:"active"},{id:"performance.team.compare",name:"业绩对比",code:"performance.team.compare",type:"action",sort:3,status:"active"}]},{id:"performance.analysis",name:"业绩分析",code:"performance.analysis",type:"menu",path:"/performance/analysis",icon:"DataAnalysis",sort:3,status:"active",children:[{id:"performance.analysis.view",name:"查看分析报告",code:"performance.analysis.view",type:"action",sort:1,status:"active"},{id:"performance.analysis.trend",name:"趋势分析",code:"performance.analysis.trend",type:"action",sort:2,status:"active"},{id:"performance.analysis.forecast",name:"业绩预测",code:"performance.analysis.forecast",type:"action",sort:3,status:"active"}]},{id:"performance.share",name:"业绩分享",code:"performance.share",type:"menu",path:"/performance/share",icon:"Share",sort:4,status:"active",children:[{id:"performance.share.view",name:"查看分享",code:"performance.share.view",type:"action",sort:1,status:"active"},{id:"performance.share.create",name:"创建分享",code:"performance.share.create",type:"action",sort:2,status:"active"},{id:"performance.share.manage",name:"管理分享",code:"performance.share.manage",type:"action",sort:3,status:"active"}]}]},{id:"afterSales",name:"售后管理",code:"afterSales",type:"menu",path:"/afterSales",icon:"Tools",sort:8,status:"active",children:[{id:"afterSales.list",name:"售后订单",code:"afterSales.list",type:"menu",path:"/afterSales/list",icon:"List",sort:1,status:"active",children:[{id:"afterSales.list.view",name:"查看售后订单",code:"afterSales.list.view",type:"action",sort:1,status:"active"},{id:"afterSales.list.export",name:"导出售后数据",code:"afterSales.list.export",type:"action",sort:2,status:"active"}]},{id:"afterSales.add",name:"新建售后",code:"afterSales.add",type:"menu",path:"/afterSales/add",icon:"Plus",sort:2,status:"active",children:[{id:"afterSales.add.create",name:"创建售后单",code:"afterSales.add.create",type:"action",sort:1,status:"active"},{id:"afterSales.add.batch",name:"批量创建",code:"afterSales.add.batch",type:"action",sort:2,status:"active"}]},{id:"afterSales.detail",name:"售后详情",code:"afterSales.detail",type:"menu",path:"/afterSales/detail",icon:"View",sort:3,status:"active",children:[{id:"afterSales.detail.view",name:"查看售后详情",code:"afterSales.detail.view",type:"action",sort:1,status:"active"},{id:"afterSales.detail.edit",name:"编辑售后单",code:"afterSales.detail.edit",type:"action",sort:2,status:"active"},{id:"afterSales.detail.process",name:"处理售后",code:"afterSales.detail.process",type:"action",sort:3,status:"active"}]},{id:"afterSales.data",name:"售后数据",code:"afterSales.data",type:"menu",path:"/afterSales/data",icon:"DataAnalysis",sort:4,status:"active",children:[{id:"afterSales.data.view",name:"查看售后数据",code:"afterSales.data.view",type:"action",sort:1,status:"active"},{id:"afterSales.data.analysis",name:"售后分析",code:"afterSales.data.analysis",type:"action",sort:2,status:"active"},{id:"afterSales.data.report",name:"售后报告",code:"afterSales.data.report",type:"action",sort:3,status:"active"}]}]},{id:"logistics",name:"物流管理",code:"logistics",type:"menu",path:"/logistics",icon:"Van",sort:9,status:"active",children:[{id:"logistics.list",name:"物流列表",code:"logistics.list",type:"menu",path:"/logistics/list",icon:"List",sort:1,status:"active",children:[{id:"logistics.list.view",name:"查看物流列表",code:"logistics.list.view",type:"action",sort:1,status:"active"},{id:"logistics.list.export",name:"导出物流数据",code:"logistics.list.export",type:"action",sort:2,status:"active"}]},{id:"logistics.track",name:"物流跟踪",code:"logistics.track",type:"menu",path:"/logistics/track",icon:"Position",sort:2,status:"active",children:[{id:"logistics.track.view",name:"查看跟踪信息",code:"logistics.track.view",type:"action",sort:1,status:"active"},{id:"logistics.track.update",name:"更新跟踪状态",code:"logistics.track.update",type:"action",sort:2,status:"active"}]},{id:"logistics.companies",name:"物流公司",code:"logistics.companies",type:"menu",path:"/logistics/companies",icon:"OfficeBuilding",sort:3,status:"active",children:[{id:"logistics.companies.view",name:"查看物流公司",code:"logistics.companies.view",type:"action",sort:1,status:"active"},{id:"logistics.companies.create",name:"添加物流公司",code:"logistics.companies.create",type:"action",sort:2,status:"active"},{id:"logistics.companies.edit",name:"编辑物流公司",code:"logistics.companies.edit",type:"action",sort:3,status:"active"},{id:"logistics.companies.delete",name:"删除物流公司",code:"logistics.companies.delete",type:"action",sort:4,status:"active"}]},{id:"logistics.shipping",name:"发货列表",code:"logistics.shipping",type:"menu",path:"/logistics/shipping",icon:"Box",sort:4,status:"active",children:[{id:"logistics.shipping.view",name:"查看发货列表",code:"logistics.shipping.view",type:"action",sort:1,status:"active"},{id:"logistics.shipping.create",name:"创建发货单",code:"logistics.shipping.create",type:"action",sort:2,status:"active"},{id:"logistics.shipping.edit",name:"编辑发货单",code:"logistics.shipping.edit",type:"action",sort:3,status:"active"},{id:"logistics.shipping.batchExport",name:"批量导出",code:"logistics.shipping.batchExport",type:"action",sort:4,status:"active"}]},{id:"logistics.status",name:"状态更新",code:"logistics.status",type:"menu",path:"/logistics/status",icon:"Refresh",sort:5,status:"active",children:[{id:"logistics.status.view",name:"查看状态",code:"logistics.status.view",type:"action",sort:1,status:"active"},{id:"logistics.status.update",name:"更新状态",code:"logistics.status.update",type:"action",sort:2,status:"active"},{id:"logistics.status.batch",name:"批量更新",code:"logistics.status.batch",type:"action",sort:3,status:"active"}]}]}],Co={SUPER_ADMIN:[],ADMIN:["system.user.view","system.user.create","system.user.edit","system.user.permissions","system.user.reset_password","system.role.view","system.role.create","system.role.edit","system.role.assign_permissions","system.department.view","system.department.create","system.department.edit","system.department.members","system.permission.view","system.permission.assign","system.settings.view","system.settings.edit","system.settings.sms","system.settings.call","customer.list.view","customer.list.export","customer.add.create","customer.edit","customer.follow","order.list.view","order.create","order.edit","order.status","product.list","product.add","product.edit","product.category","product.inventory","product.analytics","service.ticket.view","service.ticket.create","service.ticket.edit","service.ticket.delete","service.ticket.assign","service.ticket.close","service.ticket.export","service.chat.view","service.chat.reply","service.chat.transfer","service.chat.history","service.chat.settings","service.knowledge.view","service.knowledge.create","service.knowledge.edit","service.knowledge.delete","service.knowledge.category","service.knowledge.publish","service.call.view","service.call.make","service.call.record","service.call.statistics","service.sms.view","service.sms.send","service.sms.template","service.sms.batch","service.sms.statistics","data.list.view","data.list.export","data.list.import","data.list.assign","data.search.basic","data.search.advanced","data.search.export","performance.personal.view","performance.team.view","performance.analysis.view"],MANAGER:["system.user.view","system.department.view","customer.list.view","customer.list.export","customer.add.create","customer.edit","customer.follow","order.list.view","order.create","order.edit","order.status","product.list","product.add","product.edit","product.category","product.analytics","service.ticket.view","service.ticket.create","service.ticket.edit","service.ticket.assign","service.ticket.close","service.ticket.export","service.chat.view","service.chat.reply","service.chat.transfer","service.chat.history","service.chat.settings","service.knowledge.view","service.knowledge.create","service.knowledge.edit","service.knowledge.category","service.knowledge.publish","service.call.view","service.call.make","service.call.record","service.call.statistics","service.sms.view","service.sms.send","service.sms.template","service.sms.batch","service.sms.statistics","data.list.view","data.search.basic","data.search.advanced","performance.personal.view","performance.team.view","performance.analysis.view"],EMPLOYEE:["customer.list.view","customer.follow","order.list.view","order.create","product.list","service.ticket.view","service.ticket.create","service.ticket.edit","service.chat.view","service.chat.reply","service.chat.history","service.knowledge.view","service.call.view","service.call.make","service.sms.view","service.sms.send","data.list.view","data.search.basic","performance.personal.view"],CUSTOMER_SERVICE:["customer.list.view","customer.follow","order.list.view","service.ticket.view","service.ticket.create","service.ticket.edit","service.ticket.assign","service.ticket.close","service.chat.view","service.chat.reply","service.chat.transfer","service.chat.history","service.chat.settings","service.knowledge.view","service.knowledge.create","service.knowledge.edit","service.knowledge.category","service.call.view","service.call.make","service.call.record","service.sms.view","service.sms.send","service.sms.template","data.list.view","data.search.basic"]};class Po{constructor(){this.permissionUpdateListeners=[]}addPermissionUpdateListener(v){this.permissionUpdateListeners.push(v)}removePermissionUpdateListener(v){const w=this.permissionUpdateListeners.indexOf(v);w>-1&&this.permissionUpdateListeners.splice(w,1)}notifyPermissionUpdate(v){console.log(`通知权限更新: 角色${v}`),this.permissionUpdateListeners.forEach(w=>{try{w(v)}catch(e){console.error("权限更新监听器执行失败:",e)}})}getAllPermissions(){return JSON.parse(JSON.stringify(vs))}getFlatPermissions(){const v=[],w=(e,o=null)=>{e.forEach(d=>{v.push(ot(Me({},d),{parentId:(o==null?void 0:o.id)||null,module:(o==null?void 0:o.name)||d.name})),d.children&&d.children.length>0&&w(d.children,d)})};return w(vs),v}getRoleDefaultPermissions(v){return v==="SUPER_ADMIN"?this.getFlatPermissions().filter(w=>w.type==="action").map(w=>w.id):Co[v]||[]}getRolePermissions(v){return pe(this,null,function*(){try{const r=localStorage.getItem("role_permissions");if(r){const s=JSON.parse(r);if(s[v])return console.log(`从localStorage读取角色${v}的权限配置`),s[v]}}catch(r){console.warn("从localStorage读取角色权限失败:",r)}console.log(`使用角色${v}的默认权限配置`),yield new Promise(r=>setTimeout(r,300));const e={1:{code:"SUPER_ADMIN",name:"超级管理员"},2:{code:"ADMIN",name:"管理员"},3:{code:"MANAGER",name:"经理"},4:{code:"EMPLOYEE",name:"员工"},5:{code:"CUSTOMER_SERVICE",name:"客服"}}[v]||{code:"EMPLOYEE",name:"员工"},o=this.getRoleDefaultPermissions(e.code),t=this.getFlatPermissions().filter(r=>o.includes(r.id));return{roleId:v,roleName:e.name,roleCode:e.code,permissions:t}})}getUserPersonalPermissions(v){return pe(this,null,function*(){yield new Promise(t=>setTimeout(t,200));const e={1:["customer.list.import","order.list.export"],2:["customer.list.import"],3:["order.list.export"],4:[],5:["customer.list.export"]}[v]||[],d=this.getFlatPermissions().filter(t=>e.includes(t.id));return{userId:v,permissions:d}})}saveUserPersonalPermissions(v,w){return pe(this,null,function*(){return yield new Promise(e=>setTimeout(e,500)),console.log(`保存用户 ${v} 的个人权限:`,w),{success:!0,message:"个人权限保存成功"}})}getUserDepartmentPermissions(v){return pe(this,null,function*(){try{const w=yield Ce(()=>Promise.resolve().then(()=>Do),void 0),e=yield Ce(()=>import("./departmentPermissionService--eajZN4h.js"),__vite__mapDeps([5,2,1,3])),o=w.default.getUserById(v);if(!o||!o.departmentId)return{departmentId:null,departmentName:null,permissions:[],inheritedPermissions:[],managerExtraPermissions:[],isManager:!1};const d=yield e.default.getDepartmentPermissions(o.departmentId),r=(yield Ce(()=>import("./department-CTOju6hT.js"),__vite__mapDeps([6,1,2,3]))).default.getDepartmentById(o.departmentId),s=(r==null?void 0:r.managerId)===v;let i=[...d.permissions||[]],u=[];d.inheritFromParent&&(r!=null&&r.parentId)&&(u=(yield e.default.getDepartmentPermissions(r.parentId)).permissions||[],i=[...i,...u]);let a=[];return s&&(a=d.managerExtraPermissions||["data.department.view_all","performance.department.view_all","customer.department.view_all"],i=[...i,...a]),i=[...new Set(i)],{departmentId:o.departmentId,departmentName:(r==null?void 0:r.name)||"",permissions:i,inheritedPermissions:u,managerExtraPermissions:a,isManager:s,dataScope:d.dataScope||"department"}}catch(w){return console.error("获取用户部门权限失败:",w),{departmentId:null,departmentName:null,permissions:[],inheritedPermissions:[],managerExtraPermissions:[],isManager:!1}}})}getUserFullPermissions(v,w){return pe(this,null,function*(){const[e,o,d]=yield Promise.all([this.getRolePermissions(w),this.getUserPersonalPermissions(v),this.getUserDepartmentPermissions(v)]),t=e.permissions.map(c=>c.id),r=o.permissions.map(c=>c.id),s=d.permissions||[],i=this.getFlatPermissions(),u=i.filter(c=>s.includes(c.code)||s.includes(c.id)),a=u.map(c=>c.id),n=[...new Set([...t,...r,...a])],l=i.filter(c=>n.includes(c.id));return{userId:v,roleId:w,roleName:e.roleName,rolePermissions:e.permissions,personalPermissions:o.permissions,departmentPermissions:{departmentId:d.departmentId,departmentName:d.departmentName,permissions:u,inheritedPermissions:d.inheritedPermissions,managerExtraPermissions:d.managerExtraPermissions,isManager:d.isManager,dataScope:d.dataScope},allPermissions:l}})}hasPermission(d,t,r){return pe(this,arguments,function*(v,w,e,o={}){const s=yield this.getUserFullPermissions(v,w);return!!(s.allPermissions.some(u=>u.code===e)||s.departmentPermissions.isManager&&(["customer.list.view","order.list.view","data.list.view","performance.personal.view","performance.team.view","user.department.view"].includes(e)||o.targetDepartmentId&&o.targetDepartmentId===s.departmentPermissions.departmentId&&["data.department.view_all","performance.department.view_all","customer.department.view_all"].some(n=>e.includes(n.split(".")[0]))))})}canAccessDepartmentData(v,w,e){return pe(this,null,function*(){const o=yield this.getUserFullPermissions(v,w);return!!(o.allPermissions.some(d=>d.code==="system")||o.departmentPermissions.departmentId===e||o.departmentPermissions.isManager&&o.departmentPermissions.departmentId===e)})}getUserDataScope(v,w){return pe(this,null,function*(){const e=yield this.getUserFullPermissions(v,w);return e.allPermissions.some(o=>o.code==="system")?{scope:"all",departmentIds:[],userIds:[]}:e.departmentPermissions.isManager?{scope:"department",departmentIds:[e.departmentPermissions.departmentId],userIds:[]}:{scope:"self",departmentIds:[],userIds:[v]}})}}const Ds=new Po,Ro=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"})),ar=class ar{constructor(){qe(this,"api");this.api=un}static getInstance(){return ar.instance||(ar.instance=new ar),ar.instance}getRoleNameById(v){return{1:"超级管理员",2:"管理员",3:"经理",4:"员工",5:"客服"}[v]||"未知角色"}getRolePermissions(v){return pe(this,null,function*(){try{const e=JSON.parse(localStorage.getItem("crm_role_permissions")||"{}");if(e[v]){console.log(`[RolePermissionAPI] 从本地存储获取角色权限: ${v}`);const o=yield this.getAllPermissions(),d=e[v].permissionIds,t=o.filter(r=>d.includes(r.id));return{roleId:v,roleName:this.getRoleNameById(v),permissions:t}}try{const o=yield this.api.get(`/roles/${v}/permissions`);return console.log(`[RolePermissionAPI] 从API获取角色权限成功: ${v}`),o}catch(o){return console.warn(`[RolePermissionAPI] API获取失败，使用默认权限: ${v}`,o),{roleId:v,roleName:this.getRoleNameById(v),permissions:[]}}}catch(w){throw console.error(`[RolePermissionAPI] 获取角色权限失败 (Role: ${v}):`,w),w}})}saveRolePermissions(v,w){return pe(this,null,function*(){try{const e="crm_role_permissions",o=JSON.parse(localStorage.getItem(e)||"{}");o[v]={roleId:v,permissionIds:w,updatedAt:new Date().toISOString()},localStorage.setItem(e,JSON.stringify(o));try{yield this.api.put(`/roles/${v}/permissions`,{permissionIds:w})}catch(d){console.warn(`[RolePermissionAPI] 后端API调用失败，但本地存储已保存: ${v}`,d)}Ds.notifyPermissionUpdate(v),console.log(`[RolePermissionAPI] 保存角色权限成功: ${v}`,w)}catch(e){throw console.error(`[RolePermissionAPI] 保存角色权限失败 (Role: ${v}):`,e),e}})}getAllPermissions(){return pe(this,null,function*(){try{const v=yield this.api.get("/permissions");return console.log("[RolePermissionAPI] 获取所有权限成功"),v}catch(v){throw console.error("[RolePermissionAPI] 获取所有权限失败:",v),v}})}getUserPersonalPermissions(v){return pe(this,null,function*(){try{const w=yield this.api.get(`/users/${v}/personal-permissions`);return console.log(`[RolePermissionAPI] 获取用户个人权限成功: ${v}`),w}catch(w){throw console.error(`[RolePermissionAPI] 获取用户个人权限失败 (User: ${v}):`,w),w}})}saveUserPersonalPermissions(v,w){return pe(this,null,function*(){try{yield this.api.put(`/users/${v}/personal-permissions`,{permissionIds:w}),console.log(`[RolePermissionAPI] 保存用户个人权限成功: ${v}`)}catch(e){throw console.error(`[RolePermissionAPI] 保存用户个人权限失败 (User: ${v}):`,e),e}})}getUserOperationLogs(e){return pe(this,arguments,function*(v,w={}){try{const o=yield this.api.paginate(`/users/${v}/operation-logs`,w);return console.log(`[RolePermissionAPI] 获取用户操作日志成功: ${v}`),o}catch(o){throw console.error(`[RolePermissionAPI] 获取用户操作日志失败 (User: ${v}):`,o),o}})}exportUserOperationLogs(e){return pe(this,arguments,function*(v,w={}){try{const o=yield this.api.download(`/users/${v}/operation-logs/export`,w);return console.log(`[RolePermissionAPI] 导出用户操作日志成功: ${v}`),o}catch(o){throw console.error(`[RolePermissionAPI] 导出用户操作日志失败 (User: ${v}):`,o),o}})}};qe(ar,"instance");let Bn=ar;const bs=Bn.getInstance(),Ct=wr("user",()=>{const x=Ie(null),v=Ie(""),w=Ie([]),e=Ie(!1),o=Ie([]),d=Ie({enabled:!0,whitelist:[]}),t=G=>{console.log(`收到权限更新通知，角色ID: ${G}`),x.value&&r(x.value.role)===G&&(console.log("当前用户角色权限已更新，重新加载权限"),s())},r=G=>({admin:"2",manager:"3",employee:"4",customer_service:"5"})[G]||"4",s=()=>pe(void 0,null,function*(){if(x.value)try{const G=r(x.value.role),R=yield bs.getRolePermissions(G);if(R&&R.permissions){const L=R.permissions.map(M=>M.code);w.value=L,On(L),console.log("用户权限已刷新:",L)}}catch(G){console.error("刷新用户权限失败:",G)}});(()=>{Ce(()=>Promise.resolve().then(()=>Ro),void 0).then(G=>{G.default.addPermissionUpdateListener(t),console.log("权限更新监听器已初始化")}).catch(G=>{console.error("初始化权限监听器失败:",G)})})();const u=De(()=>{var G;return((G=x.value)==null?void 0:G.role)==="admin"}),a=De(()=>{var G;return((G=x.value)==null?void 0:G.role)==="department_manager"}),n=De(()=>{var G;return((G=x.value)==null?void 0:G.role)==="sales_staff"}),l=De(()=>{var G;return((G=x.value)==null?void 0:G.role)==="customer_service"}),c=De(()=>a.value||u.value),f=De(()=>n.value),p=De(()=>u.value||a.value),y=De(()=>x.value),m=De(()=>x.value?x.value.role==="admin"||x.value.userRole===it.SUPER_ADMIN:!1),g=De(()=>x.value?x.value.userRole===it.WHITELIST_MEMBER||a.value||m.value:!1),h=De(()=>{if(!x.value)return lt.RESTRICTED;const G=pt.getUserPermission(x.value.id);return(G==null?void 0:G.permissions[0])||lt.RESTRICTED}),_=De(()=>x.value?u.value?!0:d.value.enabled?d.value.whitelist.includes(x.value.id):!1:!1),j=De(()=>G=>x.value?pt.checkSensitiveInfoAccess(x.value.id,G).hasAccess:!1),T=De(()=>(G,R)=>x.value?pt.checkDataAccess(x.value.id,G,R).hasAccess:!1),S=De(()=>{if(!x.value)return jt.SELF;const G=pt.getUserPermission(x.value.id);return(G==null?void 0:G.dataScope)||jt.SELF}),b=De(()=>x.value?pt.getAccessibleDepartments(x.value.id):[]),E=De(()=>x.value?u.value?!0:w.value.includes("service:process")||w.value.includes("service:write")||a.value:!1),O=De(()=>x.value?u.value?!0:w.value.includes("service:edit")||w.value.includes("service:write")||a.value:!1),C=De(()=>x.value?u.value?!0:w.value.includes("service:close")||w.value.includes("service:write")||a.value:!1),k=G=>x.value?u.value?!0:w.value.includes(G):!1,A=De(()=>x.value?!!(m.value||g.value||w.value.includes("logistics:status_update")||a.value||x.value.department==="logistics"&&x.value.position==="supervisor"):!1),I=G=>x.value?u.value?!0:w.value.includes(G):!1,D=()=>{localStorage.removeItem("userDatabase"),console.log("[Dev] 用户数据库缓存已清除，将使用最新的默认数据")},F=(G,R)=>pe(void 0,null,function*(){const L=()=>{const M=localStorage.getItem("userDatabase");if(M){const le=JSON.parse(M);if(le.some(W=>W.username==="manager"&&W.roleId==="manager"||W.username==="sales001"&&W.roleId==="employee"||W.username==="service001"&&W.roleId==="employee"))console.log("[Dev] 检测到旧的角色配置，清除缓存使用新配置"),localStorage.removeItem("userDatabase");else return le}return[{id:"admin",username:"admin",realName:"系统管理员",email:"admin@example.com",phone:"13800138000",roleId:"admin",status:"active",isOnline:!1,avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",lastLoginTime:null,loginCount:0,createTime:"2024-01-01 00:00:00",remark:"系统管理员账户",password:"admin123",needChangePassword:!1},{id:"dept_manager",username:"dept_manager",realName:"部门管理员",email:"dept_manager@example.com",phone:"13800138001",roleId:"department_manager",status:"active",isOnline:!1,avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",lastLoginTime:null,loginCount:0,createTime:"2024-01-01 00:00:00",remark:"部门管理员账户",password:"dept123",needChangePassword:!1,departmentId:"dept_001",departmentIds:["dept_001"]},{id:"sales001",username:"sales001",realName:"销售员工",email:"sales001@example.com",phone:"13800138002",roleId:"sales_staff",status:"active",isOnline:!1,avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",lastLoginTime:null,loginCount:0,createTime:"2024-01-01 00:00:00",remark:"销售员工账户",password:"sales123",needChangePassword:!1,departmentId:"dept_001"},{id:"service001",username:"service001",realName:"客服员工",email:"service001@example.com",phone:"13800138003",roleId:"customer_service",status:"active",isOnline:!1,avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",lastLoginTime:null,loginCount:0,createTime:"2024-01-01 00:00:00",remark:"客服员工账户",password:"service123",needChangePassword:!1,customerServiceType:"general"}]};return new Promise((M,le)=>{setTimeout(()=>{const ce=L(),W=ce.find(N=>N.username===G);if(!W){le(new Error("用户不存在"));return}if(W.status!=="active"){le(new Error("用户已被禁用"));return}if(W.password!==R){le(new Error("密码错误"));return}v.value="token-"+W.id+"-"+Date.now(),e.value=!0,W.lastLoginTime=new Date().toLocaleString(),W.loginCount=(W.loginCount||0)+1,W.isOnline=!0,localStorage.setItem("userDatabase",JSON.stringify(ce)),x.value={id:W.id,name:W.realName,email:W.email,role:W.roleId==="admin"?"super_admin":W.roleId==="department_manager"?"department_manager":W.roleId==="sales_staff"?"sales_staff":W.roleId==="customer_service"?"customer_service":"employee",department:W.department||"销售部",avatar:W.avatar,userRole:W.roleId==="admin"?it.SUPER_ADMIN:W.roleId==="department_manager"?it.DEPARTMENT_MANAGER:W.roleId==="sales_staff"?it.SALES_STAFF:W.roleId==="customer_service"?it.CUSTOMER_SERVICE:it.REGULAR_USER,permissionLevel:W.roleId==="admin"?lt.FULL_ACCESS:W.roleId==="department_manager"?lt.PARTIAL_ACCESS:lt.RESTRICTED,dataScope:W.dataScope||(W.roleId==="admin"?jt.ALL:W.roleId==="department_manager"?jt.DEPARTMENT:jt.SELF),departmentId:W.departmentId,departmentIds:W.departmentIds,customerServiceType:W.customerServiceType,forcePasswordChange:W.needChangePassword};let ee=[];W.roleId==="admin"?(ee=["*"],pt.setUserPermission({userId:W.id,role:it.SUPER_ADMIN,permissions:[lt.FULL_ACCESS],dataScope:jt.ALL})):W.roleId==="department_manager"?(ee=["dashboard:view","customer:list:view","customer:list:edit","customer:list:create","customer:list:assign","order:list:view","order:list:edit","order:add:create","order:audit:view","order:audit:approve","performance:personal:view","performance:team:view","performance:analysis:view","product:add:create","product:inventory:manage"],pt.setUserPermission({userId:W.id,role:it.DEPARTMENT_MANAGER,permissions:[lt.PARTIAL_ACCESS],dataScope:jt.DEPARTMENT,departmentId:W.departmentId||"dept_001",departmentIds:W.departmentIds||["dept_001"],whitelistTypes:[At.PHONE,At.EMAIL,At.WECHAT]})):W.roleId==="sales_staff"?(ee=["dashboard","dashboard:personal","customer","customer:list","customer:view:personal","customer:add","customer:groups","customer:tags","order","order:list","order:view:personal","order:add","service","service:call","service:call:view","service:call:add","service:call:edit","service:sms","performance","performance:personal","performance:personal:view","performance:team","performance:team:view","performance:share","logistics","logistics:list","logistics:view","logistics:tracking","logistics:tracking:view","logistics:shipping","aftersale","aftersale:order","aftersale:view:personal","aftersale:add","data","data:customer","data:customer:search","data:list"],pt.setUserPermission({userId:W.id,role:it.SALES_STAFF,permissions:[lt.RESTRICTED],dataScope:jt.SELF,departmentId:W.departmentId||"dept_001"})):W.roleId==="customer_service"?(ee=["dashboard:view","customer:list:view","customer:list:edit","order:list:view","order:list:edit","service:list:view","service:list:edit"],pt.setUserPermission({userId:W.id,role:it.CUSTOMER_SERVICE,permissions:[lt.RESTRICTED],dataScope:jt.CUSTOM,customerServiceType:W.customerServiceType||js.GENERAL,customPermissions:W.customPermissions||[]})):(ee=["dashboard:view","customer:list:view","order:list:view","performance:personal:view"],pt.setUserPermission({userId:W.id,role:it.REGULAR_USER,permissions:[lt.RESTRICTED],dataScope:jt.SELF})),w.value=ee,On(ee),localStorage.setItem("auth_token",v.value),localStorage.setItem("user",JSON.stringify(x.value)),Jt.getConfig().enabled&&Jt.start(),M(!0)},1e3)})}),Q=(G,R,L=!1)=>pe(void 0,null,function*(){var M;try{const le=yield ur.login({username:G,password:R,rememberMe:L});v.value=le.tokens.accessToken,e.value=!0,console.log("[Auth] 登录成功，token已设置:",le.tokens.accessToken?le.tokens.accessToken.substring(0,20)+"...":"undefined"),x.value={id:le.user.id.toString(),name:le.user.realName,email:le.user.email,role:le.user.role==="admin"?"super_admin":le.user.role==="department_manager"?"department_manager":le.user.role==="sales_staff"?"sales_staff":le.user.role==="customer_service"?"customer_service":"employee",department:((M=le.user.department)==null?void 0:M.name)||"未分配",avatar:le.user.avatar,userRole:le.user.role==="admin"?it.SUPER_ADMIN:le.user.role==="department_manager"?it.DEPARTMENT_MANAGER:le.user.role==="sales_staff"?it.SALES_STAFF:le.user.role==="customer_service"?it.CUSTOMER_SERVICE:it.REGULAR_USER,permissionLevel:le.user.role==="admin"?lt.FULL_ACCESS:le.user.role==="department_manager"?lt.PARTIAL_ACCESS:lt.RESTRICTED,dataScope:le.user.dataScope||(le.user.role==="admin"?jt.ALL:le.user.role==="department_manager"?jt.DEPARTMENT:jt.SELF),departmentId:le.user.departmentId,departmentIds:le.user.departmentIds,customerServiceType:le.user.customerServiceType,forcePasswordChange:!1};let ce=[];const ee={admin:"1",manager:"3",department_manager:"3",sales:"4",sales_staff:"4",employee:"4",service:"5",customer_service:"5"}[le.user.role]||"4";try{const N=yield bs.getRolePermissions(ee);if(N&&N.permissions.length>0)ce=N.permissions.map(V=>V.code||V.id),console.log(`[Auth] 从配置加载角色权限: ${le.user.role}`,ce);else throw new Error("No configured permissions found")}catch(N){console.warn(`[Auth] 无法获取角色权限配置，使用默认权限: ${le.user.role}`,N),le.user.role==="admin"?ce=["*"]:le.user.role==="department_manager"?ce=["dashboard:view","customer:list:view","customer:list:edit","customer:list:create","customer:list:assign","order:list:view","order:list:edit","order:add:create","order:audit:view","order:audit:approve","performance:personal:view","performance:team:view","performance:analysis:view","product:add:create","product:inventory:manage"]:le.user.role==="sales"?ce=["dashboard:view","customer:list:view","customer:list:edit","customer:list:create","order:list:view","order:list:edit","order:add:create","performance:personal:view","performance:team:view"]:ce=["dashboard:view","customer:list:view","order:list:view","performance:personal:view"]}return le.user.role==="admin"?pt.setUserPermission({userId:le.user.id.toString(),role:it.SUPER_ADMIN,permissions:[lt.FULL_ACCESS]}):le.user.role==="department_manager"?pt.setUserPermission({userId:le.user.id.toString(),role:it.DEPARTMENT_MANAGER,permissions:[lt.PARTIAL_ACCESS],whitelistTypes:[At.PHONE,At.EMAIL,At.WECHAT]}):pt.setUserPermission({userId:le.user.id.toString(),role:it.REGULAR_USER,permissions:[lt.RESTRICTED]}),w.value=ce,On(ce),localStorage.setItem("auth_token",v.value),localStorage.setItem("user",JSON.stringify(x.value)),Jt.getConfig().enabled&&Jt.start(),!0}catch(le){throw console.error("API登录失败:",le),le}});return{currentUser:x,user:y,token:v,permissions:w,isLoggedIn:e,users:o,isAdmin:u,isManager:c,isEmployee:f,isDepartmentManager:a,isSalesStaff:n,isCustomerService:l,isDepartmentHead:p,isSuperAdmin:m,isWhitelistMember:g,userPermissionLevel:h,canViewPhone:_,canAccessSensitiveInfo:j,canAccessData:T,userDataScope:S,accessibleDepartments:b,canProcessAfterSales:E,canEditAfterSales:O,canCloseAfterSales:C,hasAfterSalesPermission:k,canAccessLogisticsStatusUpdate:A,hasLogisticsPermission:I,phoneViewSettings:d,login:F,loginWithApi:Q,loginWithRetry:(G,R,L=!1,M=3)=>pe(void 0,null,function*(){var ce,W;let le;for(let ee=1;ee<=M;ee++)try{const z=yield Q(G,R,L);if(z&&v.value&&e.value)return console.log("[Auth] 登录重试成功，状态已同步"),z}catch(z){if(le=z,((ce=z.message)!=null&&ce.includes("频繁")||(W=z.message)!=null&&W.includes("429")||z.message==="RATE_LIMITED")&&ee<M){const N=Math.min(1e3*Math.pow(2,ee-1),1e4);console.log(`[Auth] 登录重试 ${ee}/${M}，${N}ms后重试...`),yield new Promise(V=>setTimeout(V,N));continue}if(ee===M)throw le}throw le||new Error("登录失败，请稍后重试")}),logout:()=>{ur.logout().catch(console.error),x.value=null,v.value="",w.value=[],e.value=!1,o.value=[],localStorage.removeItem("auth_token"),localStorage.removeItem("user")},loadUsers:()=>pe(void 0,null,function*(){try{const G=localStorage.getItem("userDatabase");if(G){const R=JSON.parse(G);o.value=R.map(L=>({id:L.id,name:L.name,email:L.email,role:L.role,department:L.department,avatar:L.avatar,status:L.status||"active"}))}else o.value=[{id:"admin",name:"超级管理员",email:"admin@company.com",role:"admin",department:"管理部",status:"active"},{id:"sales1",name:"小明",email:"xiaoming@company.com",role:"sales_staff",department:"销售部",status:"active"},{id:"sales2",name:"张三",email:"zhangsan@company.com",role:"sales_staff",department:"销售部",status:"active"},{id:"sales3",name:"李四",email:"lisi@company.com",role:"sales_staff",department:"销售部",status:"active"},{id:"dept_manager1",name:"部门经理",email:"deptmanager@company.com",role:"department_manager",department:"销售部",status:"active"}],localStorage.setItem("userDatabase",JSON.stringify(o.value))}catch(G){console.error("加载用户列表失败:",G),o.value=[{id:"sales1",name:"小明",email:"xiaoming@company.com",role:"sales_staff",department:"销售部",status:"active"},{id:"sales2",name:"张三",email:"zhangsan@company.com",role:"sales_staff",department:"销售部",status:"active"},{id:"sales3",name:"李四",email:"lisi@company.com",role:"sales_staff",department:"销售部",status:"active"}]}}),getUserById:G=>o.value.find(R=>R.id===G),initUser:()=>pe(void 0,null,function*(){var L,M,le,ce;const G=localStorage.getItem("auth_token"),R=localStorage.getItem("user");if(!G||!R){console.log("[Auth] 没有保存的登录信息，跳过初始化");return}if(G&&R)try{if(G.startsWith("token-"))v.value=G,x.value=JSON.parse(R),e.value=!0,console.log("[Auth] 模拟登录状态已恢复:",(L=x.value)==null?void 0:L.name),((M=x.value)==null?void 0:M.role)==="admin"?(w.value=["customer.export","customer.edit","customer.delete","order.export","order.edit","service:read","service:write","service:edit","service:process","service:close","service:assign"],pt.setUserPermission({userId:x.value.id,role:it.SUPER_ADMIN,permissions:[lt.FULL_ACCESS]}),console.log("[Auth] 超级管理员权限已设置:",x.value.id)):((le=x.value)==null?void 0:le.role)==="department_manager"?(w.value=["customer.export","customer.edit","order.export","service:read","service:write","service:process","service:close","service:assign"],pt.setUserPermission({userId:x.value.id,role:it.DEPARTMENT_MANAGER,permissions:[lt.PARTIAL_ACCESS],whitelistTypes:[At.PHONE,At.EMAIL,At.WECHAT]})):(w.value=["customer.view","order.view","service:read"],pt.setUserPermission({userId:x.value.id,role:it.REGULAR_USER,permissions:[lt.RESTRICTED]})),Jt.getConfig().enabled&&Jt.start();else if(yield ur.validateToken()){v.value=G;const ee=JSON.parse(R);x.value=ee,e.value=!0,console.log("[Auth] API登录状态已恢复:",(ce=x.value)==null?void 0:ce.name),(ee==null?void 0:ee.role)==="admin"?(pt.setUserPermission({userId:ee.id,role:it.SUPER_ADMIN,permissions:[lt.FULL_ACCESS]}),console.log("[Auth] API超级管理员权限已设置:",ee.id)):(ee==null?void 0:ee.role)==="department_manager"?pt.setUserPermission({userId:ee.id,role:it.DEPARTMENT_MANAGER,permissions:[lt.PARTIAL_ACCESS],whitelistTypes:[At.PHONE,At.EMAIL,At.WECHAT]}):pt.setUserPermission({userId:ee.id,role:it.REGULAR_USER,permissions:[lt.RESTRICTED]}),Jt.getConfig().enabled&&Jt.start()}else console.log("[Auth] Token已过期，静默清除本地登录状态"),x.value=null,v.value="",w.value=[],e.value=!1,localStorage.removeItem("auth_token"),localStorage.removeItem("user")}catch(W){console.log("[Auth] 登录状态恢复失败，静默清除本地登录状态:",W),x.value=null,v.value="",w.value=[],e.value=!1,localStorage.removeItem("auth_token"),localStorage.removeItem("user")}}),updateUser:G=>{x.value=Me(Me({},x.value),G)},hasPermission:G=>w.value.includes("*")?!0:w.value.includes(G)||u.value,updatePhoneViewSettings:G=>{d.value=Me(Me({},d.value),G),localStorage.setItem("phoneViewSettings",JSON.stringify(d.value))},addToPhoneWhitelist:G=>{d.value.whitelist.includes(G)||(d.value.whitelist.push(G),localStorage.setItem("phoneViewSettings",JSON.stringify(d.value)))},removeFromPhoneWhitelist:G=>{const R=d.value.whitelist.indexOf(G);R>-1&&(d.value.whitelist.splice(R,1),localStorage.setItem("phoneViewSettings",JSON.stringify(d.value)))},initPhoneViewSettings:()=>{const G=localStorage.getItem("phoneViewSettings");G&&(d.value=JSON.parse(G))},checkSensitiveInfoAccess:G=>x.value?pt.checkSensitiveInfoAccess(x.value.id,G):!1,getUserPermissionInfo:()=>x.value?pt.getUserPermission(x.value.id):null,updateUserPermission:(G,R)=>{if(!x.value)return!1;const L={userId:x.value.id,role:G,permissions:G===it.SUPER_ADMIN?[lt.FULL_ACCESS]:G===it.WHITELIST_MEMBER?[lt.PARTIAL_ACCESS]:[lt.RESTRICTED],whitelistTypes:R};return pt.setUserPermission(L),x.value.userRole=G,x.value.permissionLevel=L.permissions[0],x.value.sensitiveInfoAccess=R,!0},clearUserDatabaseCache:D}}),Do=Object.freeze(Object.defineProperty({__proto__:null,useUserStore:Ct},Symbol.toStringTag,{value:"Module"}));function ws(x,v,w={}){const e=x.currentRoute.value;if(typeof v=="string")return v===e.path&&!w.force?Promise.resolve():(w.replace?x.replace:x.push)(v).catch(n=>{const l=n.message||n.toString()||"";if(l.includes("Avoided redundant navigation")||l.includes("Navigation cancelled")||l.includes("NavigationDuplicated")||l.includes("with a new navigation")||n.name==="NavigationDuplicated")return Promise.resolve();throw console.error("导航失败:",l),n});const o=v.path,d=e.path,t=e.query,r=v.query||{},s=o===d,i=JSON.stringify(t)===JSON.stringify(r);return s&&i&&!w.force?Promise.resolve():(w.replace?x.replace:x.push)(v).catch(a=>{const n=a.message||a.toString()||"";if(n.includes("Avoided redundant navigation")||n.includes("Navigation cancelled")||n.includes("NavigationDuplicated")||n.includes("with a new navigation")||a.name==="NavigationDuplicated")return Promise.resolve();throw console.error("导航失败:",n),a})}function Mo(x){return{push:(v,w)=>ws(x,v,ot(Me({},w),{replace:!1})),replace:(v,w)=>ws(x,v,ot(Me({},w),{replace:!0}))}}const on=wr("app",()=>{const x=Ie(new Map),v=Ie(!1),w=Ie("加载中..."),e=Ie(-1),o=Ie(new Map),d=Ie(navigator.onLine),t=De(()=>x.value.size>0||v.value),r=De(()=>o.value.size>0),s=De(()=>x.value.size),i=(h={})=>{const _=h.id||`loading_${Date.now()}_${Math.random()}`;return h.id==="global"?(v.value=!0,w.value=h.text||"加载中...",e.value=h.progress||-1,_):(x.value.set(_,{id:_,text:h.text||"加载中...",progress:h.progress,cancelable:h.cancelable,onCancel:h.onCancel}),_)},u=h=>{if(!h){x.value.clear(),v.value=!1;return}if(h==="global"){v.value=!1,w.value="加载中...",e.value=-1;return}x.value.delete(h)},a=(h,_)=>{if(h==="global"){e.value=_;return}const j=x.value.get(h);j&&(j.progress=_,x.value.set(h,j))},n=h=>{const _=h.id||`error_${Date.now()}_${Math.random()}`,j={id:_,title:h.title||"错误",message:h.message,type:h.type||"error",duration:h.duration,showClose:h.showClose,onClose:h.onClose};return o.value.set(_,j),h.type==="error"?Sn.error({title:j.title,message:j.message,duration:h.duration||4500,showClose:h.showClose!==!1,onClose:()=>{var T;l(_),(T=h.onClose)==null||T.call(h)}}):h.type==="warning"?Sn.warning({title:j.title,message:j.message,duration:h.duration||4500,showClose:h.showClose!==!1,onClose:()=>{var T;l(_),(T=h.onClose)==null||T.call(h)}}):Sn.info({title:j.title,message:j.message,duration:h.duration||4500,showClose:h.showClose!==!1,onClose:()=>{var T;l(_),(T=h.onClose)==null||T.call(h)}}),_},l=h=>{o.value.delete(h)},c=()=>{o.value.clear()},f=h=>{const _=!d.value;d.value=h,h&&_?Se.success("网络连接已恢复"):h||Se.warning("网络连接已断开")};return{loadingStates:x,globalLoading:v,globalLoadingText:w,globalLoadingProgress:e,errors:o,isOnline:d,hasLoading:t,hasErrors:r,loadingCount:s,showLoading:i,hideLoading:u,updateLoadingProgress:a,showError:n,hideError:l,clearErrors:c,setOnlineStatus:f,withLoading:(j,...T)=>pe(void 0,[j,...T],function*(h,_={}){const S=i({id:_.loadingId,text:_.loadingText});try{return yield h}catch(b){if(_.showError!==!1){const E=b instanceof Error?b.message:"未知错误";n({title:_.errorTitle||"操作失败",message:E,type:"error"})}throw b}finally{u(S)}}),withRetry:(j,...T)=>pe(void 0,[j,...T],function*(h,_={}){var O;const S=_.maxRetries||3,b=_.delay||1e3;let E;for(let C=1;C<=S;C++)try{return yield h()}catch(k){if(E=k,C===S)break;(O=_.onRetry)==null||O.call(_,C,k),yield new Promise(A=>setTimeout(A,b*C))}throw E}),initNetworkListener:()=>{window.addEventListener("online",()=>f(!0)),window.addEventListener("offline",()=>f(!1))},cleanup:()=>{x.value.clear(),o.value.clear(),v.value=!1}}}),Rr=wr("config",()=>{const x=Ie({systemName:"CRM客户管理系统",systemVersion:"1.0.0",companyName:"示例科技有限公司",contactPhone:"400-123-4567",contactEmail:"contact@example.com",websiteUrl:"https://www.example.com",companyAddress:"北京市朝阳区示例大厦",systemDescription:"专业的客户关系管理系统，帮助企业提升客户服务质量和销售效率。",systemLogo:""}),v=Ie({passwordMinLength:8,passwordComplexity:["lowercase","number"],passwordExpireDays:90,loginFailLock:!0,maxLoginFails:5,lockDuration:30,sessionTimeout:120,forceHttps:!1,ipWhitelist:""}),w=Ie({maxDiscountPercent:30,adminMaxDiscount:50,managerMaxDiscount:30,salesMaxDiscount:15,discountApprovalThreshold:20,allowPriceModification:!0,priceModificationRoles:["admin","department_manager"],enablePriceHistory:!0,pricePrecision:"2",enableInventory:!0,lowStockThreshold:10,allowNegativeStock:!1,defaultCategory:"未分类",maxCategoryLevel:3,enableCategoryCode:!0,enablePermissionControl:!0,costPriceViewRoles:["super_admin","admin","finance"],salesDataViewRoles:["super_admin","admin","department_manager"],stockInfoViewRoles:["super_admin","admin","department_manager","warehouse"],operationLogsViewRoles:["super_admin","admin","audit"],sensitiveInfoHideMethod:"eye_icon"}),e=Ie({primaryColor:"#409EFF",sidebarCollapsed:!1,language:"zh-CN",timezone:"Asia/Shanghai"}),o=Ie({provider:"aliyun",accessKey:"",secretKey:"",signName:"",dailyLimit:100,monthlyLimit:3e3,enabled:!1,requireApproval:!1,testPhone:""}),d=Ie({storageType:"local",localPath:"/uploads",localDomain:"http://localhost:3000",accessKey:"",secretKey:"",bucketName:"",region:"",customDomain:"",maxFileSize:10,allowedTypes:"jpg,png,gif,pdf,doc,docx,xls,xlsx"}),t=De(()=>v.value.passwordComplexity.length>0),r=De(()=>b=>w.value.allowPriceModification&&w.value.priceModificationRoles.includes(b)),s=De(()=>b=>{switch(b){case"admin":return w.value.adminMaxDiscount;case"department_manager":return w.value.managerMaxDiscount;case"sales":return w.value.salesMaxDiscount;default:return 0}}),i=b=>{Object.assign(x.value,b),p("system",x.value)},u=b=>{Object.assign(v.value,b),p("security",v.value)},a=b=>{Object.assign(w.value,b),p("product",w.value)},n=b=>{Object.assign(e.value,b),p("theme",e.value),b.primaryColor&&document.documentElement.style.setProperty("--el-color-primary",b.primaryColor)},l=()=>{const b=localStorage.getItem("crm_config_theme");if(b)try{const E=JSON.parse(b);Object.assign(e.value,E)}catch(E){console.error("加载主题配置失败:",E)}n({})},c=b=>{Object.assign(o.value,b),p("sms",o.value)},f=b=>{Object.assign(d.value,b),p("storage",d.value)},p=(b,E)=>{try{localStorage.setItem(`crm_config_${b}`,JSON.stringify(E))}catch(O){console.error("保存配置失败:",O)}},y=()=>{try{const b=localStorage.getItem("crm_config_system");b&&Object.assign(x.value,JSON.parse(b));const E=localStorage.getItem("crm_config_security");E&&Object.assign(v.value,JSON.parse(E));const O=localStorage.getItem("crm_config_product");O&&Object.assign(w.value,JSON.parse(O));const C=localStorage.getItem("crm_config_theme");C&&(Object.assign(e.value,JSON.parse(C)),n({}));const k=localStorage.getItem("crm_config_storage");k&&Object.assign(d.value,JSON.parse(k))}catch(b){console.error("加载配置失败:",b)}},m=b=>{(b==="system"||b==="all")&&(x.value={systemName:"CRM客户管理系统",systemVersion:"1.0.0",companyName:"示例科技有限公司",contactPhone:"400-123-4567",contactEmail:"contact@example.com",websiteUrl:"https://www.example.com",companyAddress:"北京市朝阳区示例大厦",systemDescription:"专业的客户关系管理系统，帮助企业提升客户服务质量和销售效率。",systemLogo:""},p("system",x.value)),(b==="security"||b==="all")&&(v.value={passwordMinLength:8,passwordComplexity:["lowercase","number"],passwordExpireDays:90,loginFailLock:!0,maxLoginFails:5,lockDuration:30,sessionTimeout:120,forceHttps:!1,ipWhitelist:""},p("security",v.value)),(b==="product"||b==="all")&&(w.value={maxDiscountPercent:30,adminMaxDiscount:50,managerMaxDiscount:30,salesMaxDiscount:15,discountApprovalThreshold:20,allowPriceModification:!0,priceModificationRoles:["admin","manager"],enablePriceHistory:!0,pricePrecision:"2",enableInventory:!0,lowStockThreshold:10,allowNegativeStock:!1,defaultCategory:"未分类",maxCategoryLevel:3,enableCategoryCode:!0},p("product",w.value)),(b==="theme"||b==="all")&&(e.value={primaryColor:"#409EFF",sidebarCollapsed:!1,language:"zh-CN",timezone:"Asia/Shanghai"},p("theme",e.value),n({})),(b==="sms"||b==="all")&&(o.value={provider:"aliyun",accessKey:"",secretKey:"",signName:"",dailyLimit:100,monthlyLimit:3e3,enabled:!1,requireApproval:!0,testPhone:""},p("sms",o.value))};return{systemConfig:x,securityConfig:v,productConfig:w,themeConfig:e,smsConfig:o,storageConfig:d,isPasswordComplexityEnabled:t,canUserModifyPrice:r,getMaxDiscountForRole:s,updateSystemConfig:i,updateSecurityConfig:u,updateProductConfig:a,updateThemeConfig:n,initTheme:l,updateSmsConfig:c,updateStorageConfig:f,resetConfig:m,resetSystemConfig:()=>{m("system")},resetSecurityConfig:()=>{m("security")},resetProductConfig:()=>{m("product")},resetThemeConfig:()=>{m("theme")},resetSmsConfig:()=>{m("sms")},initConfig:()=>{y()}}}),Kn=(x,v)=>{const w=x.__vccOpts||x;for(const[e,o]of v)w[e]=o;return w},or=class or{constructor(){qe(this,"STORAGE_KEY","health_check_notification_preferences");qe(this,"preferences",Ie(new Map));this.loadPreferences()}static getInstance(){return or.instance||(or.instance=new or),or.instance}shouldShowNotification(v){if(!Ct().isSuperAdmin)return!1;const e=this.preferences.value.get(v);if(!e)return!0;const o=Date.now();return e.suppressUntil&&o<e.suppressUntil?!1:(e.suppressUntil&&o>=e.suppressUntil&&this.resetSuppression(v),!0)}showHealthCheckFailureNotification(v){return pe(this,null,function*(){var o;const e=(o=Ct().currentUser)==null?void 0:o.id;if(!(!e||!this.shouldShowNotification(e)))try{const d=yield bt({title:"API健康检查失败",message:`
          <div style="margin-bottom: 15px;">
            <p style="color: #E6A23C; font-weight: bold;">⚠️ API服务连接失败</p>
            <p style="color: #666; margin: 8px 0;">错误信息: ${v}</p>
            <p style="color: #666; margin: 8px 0;">系统已自动切换到本地存储模式，数据功能不受影响。</p>
            <p style="color: #909399; font-size: 12px;">注: 只有超级管理员才能看到此提醒</p>
          </div>
        `,dangerouslyUseHTMLString:!0,showCancelButton:!0,confirmButtonText:"我知道了",cancelButtonText:"提醒选项",distinguishCancelAndClose:!0,type:"warning"});this.updateLastNotificationTime(e)}catch(d){d==="cancel"&&(yield this.showNotificationPreferences(e))}})}showNotificationPreferences(v){return pe(this,null,function*(){try{const w=yield bt({title:"通知偏好设置",message:`
          <div style="margin-bottom: 15px;">
            <p style="margin-bottom: 12px;">选择API健康检查失败通知的提醒频率:</p>
          </div>
        `,dangerouslyUseHTMLString:!0,showCancelButton:!0,confirmButtonText:"今天不再提醒",cancelButtonText:"一个月不再提醒",distinguishCancelAndClose:!0,type:"info"});this.setSuppression(v,"today"),Se.success("已设置今天不再提醒API健康检查失败")}catch(w){w==="cancel"&&(this.setSuppression(v,"month"),Se.success("已设置一个月内不再提醒API健康检查失败"))}})}setSuppression(v,w){const e=Date.now();let o;if(w==="today"){const t=new Date;t.setDate(t.getDate()+1),t.setHours(0,0,0,0),o=t.getTime()}else o=e+30*24*60*60*1e3;const d={userId:v,suppressUntil:o,suppressType:w,lastNotificationTime:e};this.preferences.value.set(v,d),this.savePreferences()}resetSuppression(v){const w=this.preferences.value.get(v);w&&(w.suppressUntil=null,w.suppressType="none",this.preferences.value.set(v,w),this.savePreferences())}updateLastNotificationTime(v){const w=this.preferences.value.get(v)||{userId:v,suppressUntil:null,suppressType:"none",lastNotificationTime:null};w.lastNotificationTime=Date.now(),this.preferences.value.set(v,w),this.savePreferences()}loadPreferences(){try{const v=localStorage.getItem(this.STORAGE_KEY);if(v){const w=JSON.parse(v),e=new Map;Object.entries(w).forEach(([o,d])=>{e.set(o,d)}),this.preferences.value=e,console.log("[HealthCheckNotification] 偏好设置已加载")}}catch(v){console.error("[HealthCheckNotification] 加载偏好设置失败:",v)}}savePreferences(){try{const v={};this.preferences.value.forEach((w,e)=>{v[e]=w}),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(v)),console.log("[HealthCheckNotification] 偏好设置已保存")}catch(v){console.error("[HealthCheckNotification] 保存偏好设置失败:",v)}}getUserPreference(v){return this.preferences.value.get(v)||null}clearAllPreferences(){this.preferences.value.clear(),localStorage.removeItem(this.STORAGE_KEY),console.log("[HealthCheckNotification] 所有偏好设置已清除")}};qe(or,"instance");let Un=or;const vr=Un.getInstance(),ir=class ir{constructor(){qe(this,"config",Ie({mode:"local",autoSync:!1,syncInterval:5,fallbackToLocal:!0,showModeIndicator:!0}));qe(this,"status",Ie({currentMode:"local",apiAvailable:!1,lastSyncTime:null,syncInProgress:!1,errorCount:0,lastError:null}));qe(this,"syncTimer",null);qe(this,"healthCheckTimer",null);this.loadConfig(),this.initializeMode(),this.startHealthCheck(),this.setupWatchers()}static getInstance(){return ir.instance||(ir.instance=new ir),ir.instance}getConfig(){return De(()=>this.config.value)}getStatus(){return De(()=>this.status.value)}getCurrentMode(){return this.status.value.currentMode}isApiMode(){return this.status.value.currentMode==="api"}isLocalMode(){return this.status.value.currentMode==="local"}isApiAvailable(){return this.status.value.apiAvailable}switchMode(v,w=!1){return pe(this,null,function*(){try{if(console.log(`[StorageMode] 尝试切换到 ${v} 模式`),v==="api"){if(!(yield this.checkApiHealth()))return Se.error("API服务不可用，无法切换到API模式"),!1;if(!ur.isAuthenticated())return Se.error("用户未登录，无法切换到API模式"),!1}if(!w&&(yield bt.confirm(`确定要切换到${v==="api"?"API":"本地"}存储模式吗？`,"切换存储模式",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}))!=="confirm")return!1;const e=this.status.value.currentMode;return this.status.value.currentMode=v,this.config.value.mode=v,this.saveConfig(),this.restartSyncTimer(),Se.success(`已切换到${v==="api"?"API":"本地"}存储模式`),console.log(`[StorageMode] 模式切换成功: ${e} -> ${v}`),!0}catch(e){return console.error("[StorageMode] 模式切换失败:",e),Se.error("模式切换失败"),!1}})}autoSelectMode(){return pe(this,null,function*(){try{return(yield this.checkApiHealth())&&ur.isAuthenticated()?(console.log("[StorageMode] API可用且已认证，选择API模式"),yield this.switchMode("api",!0),"api"):(console.log("[StorageMode] API不可用或未认证，选择本地模式"),yield this.switchMode("local",!0),"local")}catch(v){return console.error("[StorageMode] 自动选择模式失败:",v),yield this.switchMode("local",!0),"local"}})}checkApiHealth(){return pe(this,null,function*(){try{const v=yield un.healthCheck();return this.status.value.apiAvailable=v,v&&(this.status.value.errorCount=0,this.status.value.lastError=null),v}catch(v){console.warn("[StorageMode] API健康检查失败:",v),this.status.value.apiAvailable=!1,this.status.value.errorCount++;const w=v instanceof Error?v.message:"未知错误";return this.status.value.lastError=w,yield vr.showHealthCheckFailureNotification(w),!1}})}syncData(v="auto"){return pe(this,null,function*(){if(this.status.value.syncInProgress)return console.warn("[StorageMode] 同步正在进行中，跳过"),!1;try{this.status.value.syncInProgress=!0,console.log(`[StorageMode] 开始数据同步: ${v}`);let w=!1;return v==="auto"?this.isApiMode()&&this.isApiAvailable()?w=yield this.syncLocalToApi():this.isLocalMode()&&(w=yield this.syncApiToLocal()):v==="toApi"?w=yield this.syncLocalToApi():v==="toLocal"&&(w=yield this.syncApiToLocal()),w&&(this.status.value.lastSyncTime=Date.now(),Se.success("数据同步成功")),w}catch(w){return console.error("[StorageMode] 数据同步失败:",w),Se.error("数据同步失败"),!1}finally{this.status.value.syncInProgress=!1}})}updateConfig(v){Object.assign(this.config.value,v),this.saveConfig(),this.restartSyncTimer(),console.log("[StorageMode] 配置已更新:",this.config.value)}getModeIndicator(){return De(()=>{const v=this.status.value.currentMode,w=this.status.value.apiAvailable,e=this.status.value.syncInProgress;return{text:v==="api"?"API模式":"本地模式",color:v==="api"?w?"success":"warning":"info",icon:v==="api"?"CloudUpload":"Folder",status:e?"同步中...":v==="api"&&!w?"连接异常":"正常",showIndicator:this.config.value.showModeIndicator}})}initializeMode(){return pe(this,null,function*(){try{this.config.value.mode==="api"?(yield this.checkApiHealth())&&ur.isAuthenticated()?this.status.value.currentMode="api":(this.status.value.currentMode="local",this.config.value.fallbackToLocal&&console.log("[StorageMode] API不可用，回退到本地模式")):this.status.value.currentMode="local",this.restartSyncTimer(),console.log(`[StorageMode] 初始化完成，当前模式: ${this.status.value.currentMode}`)}catch(v){console.error("[StorageMode] 初始化失败:",v),this.status.value.currentMode="local"}})}syncLocalToApi(){return pe(this,null,function*(){return console.log("[StorageMode] 从本地同步到API"),!0})}syncApiToLocal(){return pe(this,null,function*(){return console.log("[StorageMode] 从API同步到本地"),!0})}startHealthCheck(){this.healthCheckTimer=window.setInterval(()=>{this.checkApiHealth()},3e4)}restartSyncTimer(){if(this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null),this.config.value.autoSync&&this.config.value.syncInterval>0){const v=this.config.value.syncInterval*60*1e3;this.syncTimer=window.setInterval(()=>{this.syncData("auto")},v),console.log(`[StorageMode] 自动同步定时器已启动，间隔: ${this.config.value.syncInterval}分钟`)}}setupWatchers(){cn(this.config,()=>{this.saveConfig()},{deep:!0})}loadConfig(){try{const v=localStorage.getItem("storage_mode_config");if(v){const w=JSON.parse(v);Object.assign(this.config.value,w)}}catch(v){console.error("[StorageMode] 加载配置失败:",v)}}saveConfig(){try{localStorage.setItem("storage_mode_config",JSON.stringify(this.config.value))}catch(v){console.error("[StorageMode] 保存配置失败:",v)}}destroy(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null),this.healthCheckTimer&&(clearInterval(this.healthCheckTimer),this.healthCheckTimer=null)}};qe(ir,"instance");let Fn=ir;const Ms=Fn.getInstance();typeof window!="undefined"&&window.addEventListener("beforeunload",()=>{Ms.destroy()});const fn=$a({history:Va("/"),routes:[{path:"/",redirect:"/dashboard"},{path:"/login",name:"Login",component:()=>Ce(()=>import("./Login-ZW9gRjwh.js"),__vite__mapDeps([7,1,2,3,8])),meta:{title:"登录",requiresAuth:!1}},{path:"/change-password",name:"ChangePassword",component:()=>Ce(()=>import("./ChangePassword-SGcZEZN1.js"),__vite__mapDeps([9,1,2,3,10])),meta:{title:"修改密码",requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:()=>Ce(()=>import("./Dashboard-7Slxs5NG.js"),__vite__mapDeps([11,1,3,0,2,4,12])),meta:{title:"数据看板",requiresAuth:!0}},{path:"/customer/list",name:"CustomerList",component:()=>Ce(()=>import("./List-4p-NnXmH.js"),__vite__mapDeps([13,1,2,14,15,3,16,17,18])),meta:{title:"客户列表",requiresAuth:!0}},{path:"/customer/add",name:"CustomerAdd",component:()=>Ce(()=>import("./Add-D1nDS72Q.js"),__vite__mapDeps([19,1,2,20,0,3,4,21,22])),meta:{title:"新增客户",requiresAuth:!0}},{path:"/customer/edit/:id",name:"CustomerEdit",component:()=>Ce(()=>import("./Edit-CJTuOdiD.js"),__vite__mapDeps([23,1,2,21,14,20,3,24])),meta:{title:"编辑客户",requiresAuth:!0}},{path:"/customer/detail/:id",name:"CustomerDetail",component:()=>Ce(()=>import("./Detail-BBjVpBng.js"),__vite__mapDeps([25,1,2,26,27,28,14,29,30,3,31])),meta:{title:"客户详情",requiresAuth:!0}},{path:"/customer/tags",name:"CustomerTags",component:()=>Ce(()=>import("./Tags-PvbR96e8.js"),__vite__mapDeps([32,2,1,20,3,33])),meta:{title:"客户标签",requiresAuth:!0}},{path:"/customer/groups",name:"CustomerGroups",component:()=>Ce(()=>import("./Groups-DJMiaNPb.js"),__vite__mapDeps([34,2,1,14,3,35])),meta:{title:"客户分组",requiresAuth:!0}},{path:"/order/list",name:"OrderList",component:()=>Ce(()=>import("./List-DggyE5c4.js"),__vite__mapDeps([36,1,2,15,3,37,28,38])),meta:{title:"订单列表",requiresAuth:!0}},{path:"/order/add",name:"OrderAdd",component:()=>Ce(()=>import("./Add-D1W92if2.js"),__vite__mapDeps([39,1,2,40,28,14,3,41])),meta:{title:"新增订单",requiresAuth:!0}},{path:"/order/edit/:id",name:"OrderEdit",component:()=>Ce(()=>import("./Edit-DZEaHNNW.js"),__vite__mapDeps([42,1,2,40,3,43])),meta:{title:"编辑订单",requiresAuth:!0}},{path:"/order/detail/:id",name:"OrderDetail",component:()=>Ce(()=>import("./Detail-BX5W_Kyf.js"),__vite__mapDeps([44,1,2,26,28,14,3,45])),meta:{title:"订单详情",requiresAuth:!0}},{path:"/order/audit",name:"OrderAudit",component:()=>Ce(()=>import("./Audit-B4e8-EsI.js"),__vite__mapDeps([46,1,2,37,28,14,16,17,3,47])),meta:{title:"订单审核",requiresAuth:!0}},{path:"/performance/personal",name:"PerformancePersonal",component:()=>Ce(()=>import("./Personal-DclnUUda.js"),__vite__mapDeps([48,1,2,3,28,40,49])),meta:{title:"个人业绩",requiresAuth:!0}},{path:"/performance/team",name:"PerformanceTeam",component:()=>Ce(()=>import("./Team-CvnEviVL.js"),__vite__mapDeps([50,1,6,2,3,51])),meta:{title:"团队业绩",requiresAuth:!0}},{path:"/performance/analysis",name:"PerformanceAnalysis",component:()=>Ce(()=>import("./Analysis-BXsaQBGN.js"),__vite__mapDeps([52,1,6,2,3,53])),meta:{title:"业绩分析",requiresAuth:!0}},{path:"/performance/share",name:"PerformanceShare",component:()=>Ce(()=>import("./Share-hwxspHbH.js"),__vite__mapDeps([54,1,2,3,55])),meta:{title:"业绩分享",requiresAuth:!0,requiresAdmin:!0}},{path:"/logistics/list",name:"LogisticsList",component:()=>Ce(()=>import("./List-xUfRHIf6.js"),__vite__mapDeps([56,1,2,16,17,3,57])),meta:{title:"物流列表",requiresAuth:!0}},{path:"/logistics/detail/:id",name:"LogisticsDetail",component:()=>Ce(()=>import("./Detail-Bp2j51kz.js"),__vite__mapDeps([58,1,2,28,3,59])),meta:{title:"物流详情",requiresAuth:!0}},{path:"/logistics/edit/:id",name:"LogisticsEdit",component:()=>Ce(()=>import("./Edit-B1XFWTo3.js"),__vite__mapDeps([60,1,2,3,61])),meta:{title:"编辑物流",requiresAuth:!0}},{path:"/logistics/track",name:"LogisticsTrack",component:()=>Ce(()=>import("./Track-ivV5KuLT.js"),__vite__mapDeps([62,1,2,3,63])),meta:{title:"物流跟踪",requiresAuth:!0}},{path:"/logistics/companies",name:"LogisticsCompanies",component:()=>Ce(()=>import("./Companies-CLs04PRm.js"),__vite__mapDeps([64,1,2,3,65])),meta:{title:"物流公司",requiresAuth:!0}},{path:"/logistics/track/detail/:trackingNo",name:"LogisticsTrackDetail",component:()=>Ce(()=>import("./TrackDetail-liQntMZI.js"),__vite__mapDeps([66,1,2,3,67])),meta:{title:"物流跟踪详情",requiresAuth:!0}},{path:"/logistics/company/detail/:id",name:"LogisticsCompanyDetail",component:()=>Ce(()=>import("./CompanyDetail-Dw2oNFbJ.js"),__vite__mapDeps([68,1,2,28,3,69])),meta:{title:"物流公司详情",requiresAuth:!0}},{path:"/logistics/shipping",name:"LogisticsShipping",component:()=>Ce(()=>import("./Shipping-CE4LzXx4.js"),__vite__mapDeps([70,1,2,6,3,15,28,71,72,16,17,73])),meta:{title:"发货列表",requiresAuth:!0}},{path:"/logistics/status-update",name:"LogisticsStatusUpdate",component:()=>Ce(()=>import("./StatusUpdate-Dm08PVHY.js"),__vite__mapDeps([74,2,1,71,28,72,3,75])),meta:{title:"状态更新",requiresAuth:!0,requiresSpecialPermission:!0}},{path:"/service/list",name:"ServiceList",component:()=>Ce(()=>import("./List-B2F1jpCs.js"),__vite__mapDeps([76,1,2,26,28,16,17,3,77])),meta:{title:"售后订单",requiresAuth:!0}},{path:"/service/add",name:"ServiceAdd",component:()=>Ce(()=>import("./Add-CZ82LPeh.js"),__vite__mapDeps([78,1,2,0,3,4,26,28,79,80])),meta:{title:"新建售后",requiresAuth:!0}},{path:"/service/detail/:id",name:"ServiceDetail",component:()=>Ce(()=>import("./Detail-Sgg99Ar5.js"),__vite__mapDeps([81,1,2,28,3,82])),meta:{title:"售后详情",requiresAuth:!0}},{path:"/service/edit/:id",name:"ServiceEdit",component:()=>Ce(()=>import("./Edit-DRTK3z6b.js"),__vite__mapDeps([83,1,2,0,3,4,28,79,84])),meta:{title:"编辑售后",requiresAuth:!0}},{path:"/service/data",name:"ServiceData",component:()=>Ce(()=>import("./Data-DOeCtfX4.js"),__vite__mapDeps([85,1,2,26,3,86])),meta:{title:"售后数据",requiresAuth:!0}},{path:"/data/list",name:"DataList",component:()=>Ce(()=>import("./List-DFRYhGie.js"),__vite__mapDeps([87,1,2,88,6,3,14,16,17,89])),meta:{title:"资料列表",requiresAuth:!0}},{path:"/data/search",name:"DataSearch",component:()=>Ce(()=>import("./Search-B4gZEkZk.js"),__vite__mapDeps([90,1,2,88,14,3,91])),meta:{title:"客户查询",requiresAuth:!0}},{path:"/data/recycle",name:"DataRecycle",component:()=>Ce(()=>import("./Recycle-Ba-1b7Qe.js"),__vite__mapDeps([92,2,1,88,14,3,93])),meta:{title:"回收站",requiresAuth:!0}},{path:"/product/list",name:"ProductList",component:()=>Ce(()=>import("./List-ClfWcJYj.js"),__vite__mapDeps([94,1,2,40,16,17,3,95])),meta:{title:"商品列表",requiresAuth:!0}},{path:"/product/add",name:"ProductAdd",component:()=>Ce(()=>import("./Add-BYxlWXou.js"),__vite__mapDeps([96,97,1,2,40,3,98])),meta:{title:"新增商品",requiresAuth:!0,requiresManager:!0}},{path:"/product/edit/:id",name:"ProductEdit",component:()=>Ce(()=>import("./Edit-CprYmHLM.js"),__vite__mapDeps([97,1,2,40,3,98])),meta:{title:"编辑商品",requiresAuth:!0,requiresManager:!0}},{path:"/product/detail/:id",name:"ProductDetail",component:()=>Ce(()=>import("./Detail-CCHNXXk9.js"),__vite__mapDeps([99,1,2,40,3,100])),meta:{title:"商品详情",requiresAuth:!0}},{path:"/product/category",name:"ProductCategory",component:()=>Ce(()=>import("./Category-C5DLEiwM.js"),__vite__mapDeps([101,1,2,40,3,102])),meta:{title:"商品分类",requiresAuth:!0}},{path:"/product/inventory",name:"ProductInventory",component:()=>Ce(()=>import("./Stock-DwwUBqqu.js"),__vite__mapDeps([103,1,40,2,3,104])),meta:{title:"库存管理",requiresAuth:!0,requiresManager:!0}},{path:"/product/analytics",name:"ProductAnalytics",component:()=>Ce(()=>import("./Analytics-Db25TVPi.js"),__vite__mapDeps([105,2,1,3,40,106])),meta:{title:"商品分析",requiresAuth:!0}},{path:"/service-management/sms",name:"ServiceSmsManagement",component:()=>Ce(()=>import("./SmsManagement-Tb97lD5S.js"),__vite__mapDeps([107,1,2,29,30,3,108])),meta:{title:"短信管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/service-management/call",name:"ServiceCallManagement",component:()=>Ce(()=>import("./CallManagement-CllgqIdv.js"),__vite__mapDeps([109,1,27,2,110,3,111,14,112])),meta:{title:"通话管理",requiresAuth:!0}},{path:"/service-management/call/dashboard",name:"CallDashboard",component:()=>Ce(()=>import("./Dashboard-1_z0Vulk.js"),__vite__mapDeps([113,27,1,2,3,114])),meta:{title:"通话数据汇总",requiresAuth:!0}},{path:"/service-management/call/outbound",name:"CallOutbound",component:()=>Ce(()=>import("./OutboundList-CTSFdKU6.js"),__vite__mapDeps([115,27,1,2,28,3,116])),meta:{title:"呼出列表",requiresAuth:!0}},{path:"/service-management/call/records",name:"CallRecords",component:()=>Ce(()=>import("./CallRecords-Bc1oz1o_.js"),__vite__mapDeps([117,27,1,2,28,3,118])),meta:{title:"通话记录",requiresAuth:!0}},{path:"/service-management/call/followup",name:"CallFollowUp",component:()=>Ce(()=>import("./FollowUpRecords-fabzpiQY.js"),__vite__mapDeps([119,27,1,2,28,3,120])),meta:{title:"跟进记录",requiresAuth:!0}},{path:"/service-management/call/recordings",name:"CallRecordings",component:()=>Ce(()=>import("./RecordingManagement-DTQ6ywsg.js"),__vite__mapDeps([121,27,1,2,28,3,122])),meta:{title:"录音管理",requiresAuth:!0}},{path:"/service-management/call/config",name:"CallConfig",component:()=>Ce(()=>import("./PhoneConfig-ARo-D0wE.js"),__vite__mapDeps([123,27,1,2,3,124])),meta:{title:"电话配置",requiresAuth:!0}},{path:"/debug/storage",name:"DebugStorage",component:()=>Ce(()=>import("./Storage-B2d6jg0o.js"),__vite__mapDeps([125,1,2,3,126])),meta:{title:"存储调试",requiresAuth:!0}},{path:"/debug/user-permissions",name:"DebugUserPermissions",component:()=>Ce(()=>import("./UserPermissions-BqujbImk.js"),__vite__mapDeps([127,1,2,3,128])),meta:{title:"用户权限调试",requiresAuth:!0}},{path:"/system/users",name:"SystemUsers",component:()=>Ce(()=>import("./User-DY3_kK5l.js"),__vite__mapDeps([129,6,1,2,3,28,14,0,4,130,131,26,88,16,17,132])),meta:{title:"用户管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/roles",name:"SystemRoles",component:()=>Ce(()=>import("./Role-C_hbjXEu.js"),__vite__mapDeps([133,131,2,1,3,134])),meta:{title:"角色权限",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/departments",name:"SystemDepartments",component:()=>Ce(()=>import("./Departments-BGgWThrK.js"),__vite__mapDeps([135,1,2,6,3,136,5,137,16,17,138])),meta:{title:"部门管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/department/detail/:id",name:"DepartmentDetail",component:()=>Ce(()=>import("./DepartmentDetail-BhsPmmdL.js"),__vite__mapDeps([139,1,2,6,3,136,5,137,140])),meta:{title:"部门详情",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/department/members/:id",name:"DepartmentMembers",component:()=>Ce(()=>import("./DepartmentMembers-DqEDC2hw.js"),__vite__mapDeps([141,1,2,6,3,142])),meta:{title:"部门成员配置",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/department-roles",name:"DepartmentRoles",component:()=>Ce(()=>import("./DepartmentRoles-AnC1oA65.js"),__vite__mapDeps([143,1,2,6,3,144])),meta:{title:"部门角色管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/settings",name:"SystemSettings",component:()=>Ce(()=>Promise.resolve().then(()=>of),void 0),meta:{title:"系统设置",requiresAuth:!0}},{path:"/system/sms-templates",name:"SmsTemplates",component:()=>Ce(()=>import("./SmsTemplates-CBrYwxmk.js"),__vite__mapDeps([145,1,2,3,146])),meta:{title:"短信模板管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/sms-approval",name:"SmsApproval",component:()=>Ce(()=>import("./SmsApproval-tSIhGjVm.js"),__vite__mapDeps([147,6,1,2,3,14,148])),meta:{title:"短信审核管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/sms-send-records",name:"SmsSendRecords",component:()=>Ce(()=>import("./SmsSendRecords-CGPagost.js"),__vite__mapDeps([149,2,1,3,150])),meta:{title:"短信发送记录",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/sms-statistics",name:"SmsStatistics",component:()=>Ce(()=>import("./SmsStatistics-4tKTN9n4.js"),__vite__mapDeps([151,2,1,3,152])),meta:{title:"短信统计分析",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/sms-config",name:"SmsConfig",component:()=>Ce(()=>import("./SmsConfig-hazkBaGy.js"),__vite__mapDeps([153,2,1,3,154])),meta:{title:"短信配置管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/permissions",name:"SystemPermissions",component:()=>Ce(()=>import("./largeComponents-BajLPRq2.js").then(x=>x.P),__vite__mapDeps([155,1,2,156])),meta:{title:"权限管理",requiresAuth:!0,requiresSuperAdmin:!0}},{path:"/system/super-admin-panel",name:"SuperAdminPanel",component:()=>Ce(()=>import("./largeComponents-BajLPRq2.js").then(x=>x.S),__vite__mapDeps([155,1,2,156])),meta:{title:"超级管理员权限面板",requiresAuth:!0,requiresSuperAdmin:!0}},{path:"/system/customer-service-permissions",name:"CustomerServicePermissions",component:()=>Ce(()=>import("./CustomerServicePermissionManager-7eSTJOym.js"),__vite__mapDeps([157,2,1,3,158])),meta:{title:"客服权限管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/sensitive-info-permissions",name:"SensitiveInfoPermissions",component:()=>Ce(()=>import("./SensitiveInfoPermissionManager-CiNKdZE6.js"),__vite__mapDeps([159,2,1,3,160])),meta:{title:"敏感信息权限管理",requiresAuth:!0,requiresSuperAdmin:!0}},{path:"/system/permission-guide",name:"PermissionGuide",component:()=>Ce(()=>import("./PermissionManagementGuide-DaoLDNE0.js"),__vite__mapDeps([161,1,2,3,162])),meta:{title:"权限管理指南",requiresAuth:!0}},{path:"/system/call-test",name:"SystemCallTest",component:()=>Ce(()=>import("./CallTest-DQPU95Oc.js"),__vite__mapDeps([163,27,1,2,3,164])),meta:{title:"通话功能测试",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/mobile-sdk",name:"SystemMobileSDK",component:()=>Ce(()=>import("./MobileSDK-DfjwKvyi.js"),__vite__mapDeps([165,2,1,3,166])),meta:{title:"移动SDK管理",requiresAuth:!0,requiresAdmin:!0}},{path:"/system/message-management",name:"MessageManagement",component:()=>Ce(()=>import("./MessageManagement-C3LAmygt.js"),__vite__mapDeps([167,0,1,2,3,4,168])),meta:{title:"消息管理",requiresAuth:!0}},{path:"/mobile-sdk-install",name:"MobileSDKInstall",component:()=>Ce(()=>import("./MobileSDKInstall-pt-Tg6Le.js"),__vite__mapDeps([169,1,2,3,170])),meta:{title:"移动SDK安装指南",requiresAuth:!1}},{path:"/help-center",name:"HelpCenter",component:()=>Ce(()=>import("./HelpCenter-2OhUSStD.js"),__vite__mapDeps([171,2,1,3,172])),meta:{title:"帮助中心",requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>Ce(()=>import("./NotFound-B0LwJ5Cd.js"),__vite__mapDeps([173,1,2,3,174])),meta:{title:"页面未找到",requiresAuth:!1}}]});fn.beforeEach((x,v,w)=>pe(void 0,null,function*(){var o,d,t,r,s;const e=Ct();if(x.meta.title&&(document.title=`${x.meta.title} - CRM系统`),x.path==="/login"&&e.token){w("/dashboard");return}if(x.meta.requiresAuth&&!e.token){Se.error("请先登录"),w("/login");return}if(x.meta.requiresAdmin&&!e.isAdmin){Se.error("需要管理员权限"),w("/dashboard");return}if(x.meta.requiresManager&&!e.isManager&&!e.isAdmin){Se.error("需要经理权限"),w("/dashboard");return}if(x.meta.requiresSuperAdmin&&!e.isSuperAdmin){Se.error("需要超级管理员权限"),w("/dashboard");return}if(x.meta.requiresSpecialPermission&&!(e.isSuperAdmin||e.isWhitelistMember||((o=e.permissions)==null?void 0:o.includes("logistics:status_update"))||((d=e.currentUser)==null?void 0:d.role)==="manager"||((t=e.currentUser)==null?void 0:t.role)==="department_head"||((r=e.currentUser)==null?void 0:r.department)==="logistics"&&((s=e.currentUser)==null?void 0:s.position)==="supervisor")){Se.error("您没有访问该功能的权限，请联系管理员"),w("/dashboard");return}w()}));fn.onError(x=>{x.message&&(x.message.includes("Avoided redundant navigation")||x.message.includes("Navigation cancelled")||x.message.includes("with a new navigation")||x.message.includes("NavigationDuplicated"))||(console.error("路由错误:",x),Se.error("页面加载失败，请刷新重试"))});fn.afterEach((x,v,w)=>{if(w){if(w.message&&(w.message.includes("Avoided redundant navigation")||w.message.includes("Navigation cancelled")||w.message.includes("with a new navigation")||w.message.includes("NavigationDuplicated")))return;console.error("导航失败:",w),Se.error("页面导航失败，请重试")}});const Vt=zn.create({baseURL:"/api/v1",timeout:3e4,headers:{"Content-Type":"application/json"}});let Mt=0;const Cr=new Map,$n=x=>`${x.method}_${x.url}_${JSON.stringify(x.params)}_${JSON.stringify(x.data)}`;Vt.interceptors.request.use(x=>{var d,t,r;const v=Ct(),w=on();v.token&&(x.headers=x.headers||{},x.headers.Authorization=`Bearer ${v.token}`),x.headers=x.headers||{},x.headers["X-Request-ID"]=`req_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;const e=$n(x);Cr.has(e)&&((d=Cr.get(e))==null||d.abort());const o=new AbortController;return x.signal=o.signal,Cr.set(e,o),x.showLoading!==!1&&(Mt++,Mt===1&&w.showLoading({id:"global",text:x.loadingText||"加载中..."})),((t=x.method)==null?void 0:t.toLowerCase())==="get"&&(x.params=ot(Me({},x.params),{_t:Date.now()})),console.log(`[API Request] ${(r=x.method)==null?void 0:r.toUpperCase()} ${x.url}`,{params:x.params,data:x.data,headers:x.headers}),x},x=>{const v=on();return Mt=Math.max(0,Mt-1),Mt===0&&v.hideLoading("global"),console.error("[API Request Error]",x),Promise.reject(x)});Vt.interceptors.response.use(x=>{var s;const v=on(),w=x.config;Mt=Math.max(0,Mt-1),Mt===0&&v.hideLoading("global");const e=$n(w);Cr.delete(e),console.log(`[API Response] ${(s=w.method)==null?void 0:s.toUpperCase()} ${w.url}`,{status:x.status,data:x.data});const{code:o,message:d,data:t,success:r}=x.data;if(!r||o!==200){const i=d||"请求失败";switch(o){case 401:Ss();break;case 403:Se.error("没有权限访问此资源");break;case 404:Se.error("请求的资源不存在");break;case 429:Se.warning("请求过于频繁，请稍后重试");break;default:w.showError!==!1&&v.showError({title:w.errorTitle||"请求失败",message:i,type:"error"})}return Promise.reject(new Error(i))}return t},x=>pe(void 0,null,function*(){var o,d;const v=on(),w=x.config;if(Mt=Math.max(0,Mt-1),Mt===0&&v.hideLoading("global"),w){const t=$n(w);Cr.delete(t)}if(console.error(`[API Error] ${(o=w==null?void 0:w.method)==null?void 0:o.toUpperCase()} ${w==null?void 0:w.url}`,x),zn.isCancel(x))return console.log("Request canceled:",x.message),Promise.reject(x);let e="网络错误，请稍后重试";if(x.response){const{status:t,data:r}=x.response;switch(t){case 400:e=(r==null?void 0:r.message)||"请求参数错误";break;case 401:return Ss(),Promise.reject(x);case 403:e="没有权限访问此资源";break;case 404:e="请求的资源不存在";break;case 408:e="请求超时，请重试";break;case 429:e="请求过于频繁，请稍后重试";break;case 500:e="服务器内部错误";break;case 502:e="网关错误";break;case 503:e="服务暂时不可用";break;case 504:e="网关超时";break;default:e=(r==null?void 0:r.message)||`服务器错误 (${t})`}}else x.request&&(navigator.onLine?e="网络连接失败，请检查网络设置":(e="网络连接已断开，请检查网络设置",v.setOnlineStatus(!1)));return w!=null&&w.retry&&(w.maxRetries||3)>0?(w.maxRetries=(w.maxRetries||3)-1,yield new Promise(t=>setTimeout(t,1e3)),console.log(`[API Retry] ${(d=w.method)==null?void 0:d.toUpperCase()} ${w.url}, remaining retries: ${w.maxRetries}`),Vt(w)):((w==null?void 0:w.showError)!==!1&&v.showError({title:(w==null?void 0:w.errorTitle)||"请求失败",message:e,type:"error"}),Promise.reject(new Error(e)))}));const Ss=()=>{const x=Ct(),v=Mo(fn);bt.confirm("登录状态已过期，请重新登录","提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then(()=>{x.logout(),v.push("/login")}).catch(()=>{})},Pt={get(x,v){return Vt.get(x,v)},post(x,v,w){return Vt.post(x,v,w)},put(x,v,w){return Vt.put(x,v,w)},delete(x,v){return Vt.delete(x,v)},patch(x,v,w){return Vt.patch(x,v,w)},upload(x,v,w){const e=new FormData;return e.append("file",v),Vt.post(x,e,ot(Me({},w),{headers:Me({"Content-Type":"multipart/form-data"},w==null?void 0:w.headers),onUploadProgress:o=>{if(o.total&&(w!=null&&w.onProgress)){const d=Math.round(o.loaded*100/o.total);w.onProgress(d)}}}))}},No=x=>Pt({url:"/alternative-connection/bluetooth/start",method:"post",data:x}),Lo=()=>Pt({url:"/alternative-connection/bluetooth/stop",method:"post"}),Bo=()=>Pt({url:"/alternative-connection/bluetooth/status",method:"get"}),Uo=x=>Pt({url:"/alternative-connection/network/start",method:"post",data:x}),Fo=()=>Pt({url:"/alternative-connection/network/stop",method:"post"}),$o=()=>Pt({url:"/alternative-connection/network/status",method:"get"}),Vo=x=>Pt({url:"/alternative-connection/digital/start",method:"post",data:x}),Go=()=>Pt({url:"/alternative-connection/digital/stop",method:"post"}),Wo=()=>Pt({url:"/alternative-connection/digital/status",method:"get"}),zo=()=>Pt({url:"/alternative-connection/digital/generate-code",method:"post"}),Ho=()=>Pt({url:"/alternative-connection/devices",method:"get"}),Ko=x=>Pt({url:`/alternative-connection/devices/${x}`,method:"delete"}),Xo=()=>Pt({url:"/alternative-connection/statistics",method:"get"});function tn(x){throw new Error('Could not dynamically require "'+x+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ns={exports:{}};(function(x,v){(function(w){(function(e){x.exports=e()})(function(){return function(){function e(o,d,t){function r(u,a){if(!d[u]){if(!o[u]){var n=typeof tn=="function"&&tn;if(!a&&n)return n(u,!0);if(s)return s(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=d[u]={exports:{}};o[u][0].call(c.exports,function(f){var p=o[u][1][f];return r(p||f)},c,c.exports,e,o,d,t)}return d[u].exports}for(var s=typeof tn=="function"&&tn,i=0;i<t.length;i++)r(t[i]);return r}return e}()({1:[function(e,o,d){var t=e("./browser/client");t.Buffer=e("buffer").Buffer,t.urllib=e("../shims/xhr"),t.version=e("./browser/version").version,o.exports=t},{"../shims/xhr":546,"./browser/client":3,"./browser/version":6,buffer:103}],2:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator"));e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.slice.js");var i=e("assert"),u=e("../common/utils/checkBucketName"),a=u.checkBucketName,n=d;function l(f){return Array.isArray?Array.isArray(f):Object.prototype.toString.call(f)==="[object Array]"}function c(f){return f?l(f)?f:[f]:[]}n.useBucket=function(p){return a(p),this.options.bucket=p,this},n.setBucket=function(p){return a(p),this.options.bucket=p,this},n.getBucket=function(){return this.options.bucket},n.deleteBucket=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_;return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h=this._bucketRequestParams("DELETE",m,"",g),T.next=3,this.request(h);case 3:if(_=T.sent,!(_.status===200||_.status===204)){T.next=6;break}return T.abrupt("return",{res:_.res});case 6:return T.next=8,this.requestError(_);case 8:throw T.sent;case 9:case"end":return T.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.putBucketACL=function(){var f=(0,s.default)(r.default.mark(function y(m,g,h){var _,j;return r.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _=this._bucketRequestParams("PUT",m,"acl",h),_.headers={"x-oss-acl":g},_.successStatuses=[200],S.next=5,this.request(_);case 5:return j=S.sent,S.abrupt("return",{bucket:j.headers.location&&j.headers.location.substring(1)||null,res:j.res});case 7:case"end":return S.stop()}},y,this)}));function p(y,m,g){return f.apply(this,arguments)}return p}(),n.getBucketACL=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_;return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h=this._bucketRequestParams("GET",m,"acl",g),h.successStatuses=[200],h.xmlResponse=!0,T.next=5,this.request(h);case 5:return _=T.sent,T.abrupt("return",{acl:_.data.AccessControlList.Grant,owner:{id:_.data.Owner.ID,displayName:_.data.Owner.DisplayName},res:_.res});case 7:case"end":return T.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.putBucketLogging=function(){var f=(0,s.default)(r.default.mark(function y(m,g,h){var _,j,T;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _=this._bucketRequestParams("PUT",m,"logging",h),j=`<?xml version="1.0" encoding="UTF-8"?>
<BucketLoggingStatus>
<LoggingEnabled>
<TargetBucket>`.concat(m,`</TargetBucket>
`),g&&(j+="<TargetPrefix>".concat(g,`</TargetPrefix>
`)),j+=`</LoggingEnabled>
</BucketLoggingStatus>`,_.content=j,_.mime="xml",_.successStatuses=[200],b.next=9,this.request(_);case 9:return T=b.sent,b.abrupt("return",{res:T.res});case 11:case"end":return b.stop()}},y,this)}));function p(y,m,g){return f.apply(this,arguments)}return p}(),n.getBucketLogging=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_,j;return r.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=this._bucketRequestParams("GET",m,"logging",g),h.successStatuses=[200],h.xmlResponse=!0,S.next=5,this.request(h);case 5:return _=S.sent,j=_.data.LoggingEnabled,S.abrupt("return",{enable:!!j,prefix:j&&j.TargetPrefix||null,res:_.res});case 8:case"end":return S.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.deleteBucketLogging=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_;return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h=this._bucketRequestParams("DELETE",m,"logging",g),h.successStatuses=[204,200],T.next=4,this.request(h);case 4:return _=T.sent,T.abrupt("return",{res:_.res});case 6:case"end":return T.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.putBucketCORS=function(){var f=(0,s.default)(r.default.mark(function y(m,g,h){var _,j,T,S,b,E,O,C,k,A;return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:for(g=g||[],i(g.length,"rules is required"),g.forEach(function(F){i(F.allowedOrigin,"allowedOrigin is required"),i(F.allowedMethod,"allowedMethod is required")}),_=this._bucketRequestParams("PUT",m,"cors",h),j=`<?xml version="1.0" encoding="UTF-8"?>
<CORSConfiguration>`,T=function(Q){j+="<AllowedOrigin>".concat(Q,"</AllowedOrigin>")},S=function(Q){j+="<AllowedMethod>".concat(Q,"</AllowedMethod>")},b=function(Q){j+="<AllowedHeader>".concat(Q,"</AllowedHeader>")},E=function(Q){j+="<ExposeHeader>".concat(Q,"</ExposeHeader>")},O=0,C=g.length;O<C;O++)k=g[O],j+="<CORSRule>",c(k.allowedOrigin).forEach(T),c(k.allowedMethod).forEach(S),c(k.allowedHeader).forEach(b),c(k.exposeHeader).forEach(E),k.maxAgeSeconds&&(j+="<MaxAgeSeconds>".concat(k.maxAgeSeconds,"</MaxAgeSeconds>")),j+="</CORSRule>";return j+="</CORSConfiguration>",_.content=j,_.mime="xml",_.successStatuses=[200],D.next=16,this.request(_);case 16:return A=D.sent,D.abrupt("return",{res:A.res});case 18:case"end":return D.stop()}},y,this)}));function p(y,m,g){return f.apply(this,arguments)}return p}(),n.getBucketCORS=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_,j,T;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=this._bucketRequestParams("GET",m,"cors",g),h.successStatuses=[200],h.xmlResponse=!0,b.next=5,this.request(h);case 5:return _=b.sent,j=[],_.data&&_.data.CORSRule&&(T=_.data.CORSRule,l(T)||(T=[T]),T.forEach(function(E){var O={};Object.keys(E).forEach(function(C){O[C.slice(0,1).toLowerCase()+C.slice(1,C.length)]=E[C]}),j.push(O)})),b.abrupt("return",{rules:j,res:_.res});case 9:case"end":return b.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.deleteBucketCORS=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_;return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return h=this._bucketRequestParams("DELETE",m,"cors",g),h.successStatuses=[204],T.next=4,this.request(h);case 4:return _=T.sent,T.abrupt("return",{res:_.res});case 6:case"end":return T.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.putBucketReferer=function(){var f=(0,s.default)(r.default.mark(function y(m,g,h,_){var j,T,S,b;return r.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(j=this._bucketRequestParams("PUT",m,"referer",_),T=`<?xml version="1.0" encoding="UTF-8"?>
<RefererConfiguration>
`,T+="  <AllowEmptyReferer>".concat(g?"true":"false",`</AllowEmptyReferer>
`),h&&h.length>0){for(T+=`  <RefererList>
`,S=0;S<h.length;S++)T+="    <Referer>".concat(h[S],`</Referer>
`);T+=`  </RefererList>
`}else T+=`  <RefererList />
`;return T+="</RefererConfiguration>",j.content=T,j.mime="xml",j.successStatuses=[200],O.next=10,this.request(j);case 10:return b=O.sent,O.abrupt("return",{res:b.res});case 12:case"end":return O.stop()}},y,this)}));function p(y,m,g,h){return f.apply(this,arguments)}return p}(),n.getBucketReferer=function(){var f=(0,s.default)(r.default.mark(function y(m,g){var h,_,j;return r.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return h=this._bucketRequestParams("GET",m,"referer",g),h.successStatuses=[200],h.xmlResponse=!0,S.next=5,this.request(h);case 5:return _=S.sent,j=_.data.RefererList.Referer||null,j&&(l(j)||(j=[j])),S.abrupt("return",{allowEmpty:_.data.AllowEmptyReferer==="true",referers:j,res:_.res});case 9:case"end":return S.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n.deleteBucketReferer=function(){var f=(0,s.default)(r.default.mark(function y(m,g){return r.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.putBucketReferer(m,!0,null,g);case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},y,this)}));function p(y,m){return f.apply(this,arguments)}return p}(),n._bucketRequestParams=function(p,y,m,g){return{method:p,bucket:y,subres:m,additionalHeaders:g&&g.additionalHeaders,timeout:g&&g.timeout,ctx:g&&g.ctx}}},{"../common/utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,assert:95,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/web.dom-collections.for-each.js":380}],3:[function(e,o,d){(function(t,r){(function(){var s=e("@babel/runtime/helpers/interopRequireDefault"),i=s(e("@babel/runtime/regenerator")),u=s(e("@babel/runtime/helpers/asyncToGenerator"));e("core-js/modules/es.function.name.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.regexp.to-string.js");var a=e("debug")("ali-oss"),n=e("xml2js"),l=e("agentkeepalive"),c=e("merge-descriptors"),f=e("platform"),p=e("utility"),y=e("urllib"),m=e("./version"),g=e("bowser"),h=e("../common/signUtils"),_=e("../common/client/initOptions"),j=e("../common/utils/createRequest"),T=j.createRequest,S=e("../common/utils/encoder"),b=S.encoder,E=e("../common/client/getReqUrl"),O=E.getReqUrl,C=e("../common/utils/setSTSToken"),k=C.setSTSToken,A=e("../common/utils/retry"),I=A.retry,D=e("../common/utils/isFunction"),F=D.isFunction,Q=e("../common/utils/getStandardRegion"),te=Q.getStandardRegion,$=new l;function Z(){var X=f.name,U=f.version;X&&X.toLowerCase&&X.toLowerCase()==="ie"&&U.split(".")[0]<10&&console.warn("ali-oss does not support the current browser")}function ne(){return location&&location.protocol==="https:"}function ie(X,U){if(Z(),!(this instanceof ie))return new ie(X,U);X&&X.inited?this.options=X:this.options=ie.initOptions(X),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=y,this.agent=this.options.agent||$),this.ctx=U,this.userAgent=this._getUserAgent(),this.stsTokenFreshTime=new Date,this.options.amendTimeSkewed=0}o.exports=ie,ie.initOptions=function(U){U.stsToken||console.warn("Please use STS Token for safety, see more details at https://help.aliyun.com/document_detail/32077.html");var se=Object.assign({secure:ne(),useFetch:!1},U);return _(se)};var J=ie.prototype;J.debug=a,c(J,e("./object")),c(J,e("./bucket")),c(J,e("../common/bucket/getBucketWebsite")),c(J,e("../common/bucket/putBucketWebsite")),c(J,e("../common/bucket/deleteBucketWebsite")),c(J,e("../common/bucket/getBucketLifecycle")),c(J,e("../common/bucket/putBucketLifecycle")),c(J,e("../common/bucket/deleteBucketLifecycle")),c(J,e("../common/bucket/putBucketVersioning")),c(J,e("../common/bucket/getBucketVersioning")),c(J,e("../common/bucket/getBucketInventory")),c(J,e("../common/bucket/deleteBucketInventory")),c(J,e("../common/bucket/listBucketInventory")),c(J,e("../common/bucket/putBucketInventory")),c(J,e("../common/bucket/abortBucketWorm")),c(J,e("../common/bucket/completeBucketWorm")),c(J,e("../common/bucket/extendBucketWorm")),c(J,e("../common/bucket/getBucketWorm")),c(J,e("../common/bucket/initiateBucketWorm")),c(J,e("./managed-upload")),c(J,e("../common/multipart-copy")),c(J,e("../common/multipart")),c(J,e("../common/parallel")),J.signature=function(U){return this.debug("authorization stringToSign: %s",U,"info"),h.computeSignature(this.options.accessKeySecret,U,this.options.headerEncoding)},J._getReqUrl=O,J.authorization=function(U,se,oe,ae){var de=h.buildCanonicalString(U.toUpperCase(),se,{headers:ae,parameters:oe});return h.authorization(this.options.accessKeyId,this.options.accessKeySecret,de,this.options.headerEncoding)},J.authorizationV4=function(U,se,oe,ae,de){return h.authorizationV4(this.options.accessKeyId,this.options.accessKeySecret,te(this.options.region),U,se,oe,ae,de,this.options.headerEncoding)},J.request=function(){var X=(0,u.default)(i.default.mark(function U(se){var oe=this;return i.default.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(!this.options.retryMax){de.next=6;break}return de.next=3,I(Y.bind(this),this.options.retryMax,{errorHandler:function(R){var L=function(le){if(se.stream)return!1;var ce=[-1,-2].includes(le.status),W=oe.options.requestErrorRetryHandle||function(){return!0};return ce&&W(le)};return!!L(R)}})(se);case 3:return de.abrupt("return",de.sent);case 6:return de.abrupt("return",Y.call(this,se));case 7:case"end":return de.stop()}},U,this)}));return function(U){return X.apply(this,arguments)}}();function Y(X){return K.apply(this,arguments)}function K(){return K=(0,u.default)(i.default.mark(function X(U){var se,oe,ae,de,G,R;return i.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!(this.options.stsToken&&F(this.options.refreshSTSToken))){M.next=3;break}return M.next=3,k.call(this);case 3:return se=T.call(this,U),this.options.useFetch||(se.params.mode="disable-fetch"),de=!!U.stream,M.prev=6,M.next=9,this.urllib.request(se.url,se.params);case 9:oe=M.sent,this.debug("response %s %s, got %s, headers: %j",U.method,se.url,oe.status,oe.headers,"info"),M.next=16;break;case 13:M.prev=13,M.t0=M.catch(6),ae=M.t0;case 16:if(!(oe&&U.successStatuses&&U.successStatuses.indexOf(oe.status)===-1)){M.next=28;break}return M.next=19,this.requestError(oe);case 19:if(G=M.sent,!(G.code==="RequestTimeTooSkewed"&&!de)){M.next=25;break}return this.options.amendTimeSkewed=+new Date(G.serverTime)-new Date,M.next=24,this.request(U);case 24:return M.abrupt("return",M.sent);case 25:G.params=U,M.next=32;break;case 28:if(!ae){M.next=32;break}return M.next=31,this.requestError(ae);case 31:G=M.sent;case 32:if(!G){M.next=34;break}throw G;case 34:if(!U.xmlResponse){M.next=39;break}return M.next=37,this.parseXML(oe.data);case 37:R=M.sent,oe.data=R;case 39:return M.abrupt("return",oe);case 40:case"end":return M.stop()}},X,this,[[6,13]])})),K.apply(this,arguments)}J._getResource=function(U){var se="/";return U.bucket&&(se+="".concat(U.bucket,"/")),U.object&&(se+=b(U.object,this.options.headerEncoding)),se},J._escape=function(U){return p.encodeURIComponent(U).replace(/%2F/g,"/")},J._getUserAgent=function(){var U=r&&r.browser?"js":"nodejs",se="aliyun-sdk-".concat(U,"/").concat(m.version),oe=f.description;return!oe&&r&&(oe="Node.js ".concat(r.version.slice(1)," on ").concat(r.platform," ").concat(r.arch)),this._checkUserAgent("".concat(se," ").concat(oe))},J._checkUserAgent=function(U){var se=U.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta");return se},J.checkBrowserAndVersion=function(U,se){return g.name===U&&g.version.split(".")[0]===se},J.parseXML=function(U){return new Promise(function(se,oe){t.isBuffer(U)&&(U=U.toString()),n.parseString(U,{explicitRoot:!1,explicitArray:!1},function(ae,de){ae?oe(ae):se(de)})})},J.requestError=function(){var X=(0,u.default)(i.default.mark(function se(oe){var ae=this,de,G,R,L,M;return i.default.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(de=null,G=function(){var W=(0,u.default)(i.default.mark(function ee(z){var N,V;return i.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.prev=0,ue.next=3,ae.parseXML(z);case 3:if(ue.t0=ue.sent,ue.t0){ue.next=6;break}ue.t0={};case 6:N=ue.t0,ue.next=16;break;case 9:return ue.prev=9,ue.t1=ue.catch(0),ae.debug(z,"error"),ue.t1.message+=`
raw xml: `.concat(z),ue.t1.status=oe.status,ue.t1.requestId=oe.headers&&oe.headers["x-oss-request-id"],ue.abrupt("return",ue.t1);case 16:return V=N.Message||"unknow request error, status: ".concat(oe.status),N.Condition&&(V+=" (condition: ".concat(N.Condition,")")),de=new Error(V),de.name=N.Code?"".concat(N.Code,"Error"):"UnknownError",de.status=oe.status,de.code=N.Code,de.ecCode=N.EC,de.requestId=N.RequestId,de.hostId=N.HostId,de.serverTime=N.ServerTime,ue.abrupt("return",de);case 27:case"end":return ue.stop()}},ee,null,[[0,9]])}));return function(z){return W.apply(this,arguments)}}(),!(!oe.data||!oe.data.length)){ce.next=38;break}if(!(oe.status===-1||oe.status===-2)){ce.next=10;break}de=new Error(oe.message),de.name=oe.name,de.status=oe.status,de.code=oe.name,ce.next=36;break;case 10:if(oe.status!==404){ce.next=17;break}de=new Error("Object not exists"),de.name="NoSuchKeyError",de.status=404,de.code="NoSuchKey",ce.next=34;break;case 17:if(oe.status!==412){ce.next=24;break}de=new Error("Pre condition failed"),de.name="PreconditionFailedError",de.status=412,de.code="PreconditionFailed",ce.next=34;break;case 24:if(de=new Error("Unknow error, status: ".concat(oe.status)),de.name="UnknownError",de.status=oe.status,de.res=oe,R=oe.headers&&oe.headers["x-oss-err"],!R){ce.next=34;break}return L=atob(R),ce.next=33,G(L);case 33:de=ce.sent;case 34:de.requestId=oe.headers&&oe.headers["x-oss-request-id"],de.host="";case 36:ce.next=43;break;case 38:return M=String(oe.data),this.debug("request response error data: %s",M,"error"),ce.next=42,G(M);case 42:de=ce.sent;case 43:return this.debug("generate error %j",de,"error"),ce.abrupt("return",de);case 45:case"end":return ce.stop()}},se,this)}));function U(se){return X.apply(this,arguments)}return U}()}).call(this)}).call(this,{isBuffer:e("../../node_modules/is-buffer/index.js")},e("_process"))},{"../../node_modules/is-buffer/index.js":409,"../common/bucket/abortBucketWorm":7,"../common/bucket/completeBucketWorm":8,"../common/bucket/deleteBucketInventory":9,"../common/bucket/deleteBucketLifecycle":10,"../common/bucket/deleteBucketWebsite":11,"../common/bucket/extendBucketWorm":12,"../common/bucket/getBucketInventory":13,"../common/bucket/getBucketLifecycle":14,"../common/bucket/getBucketVersioning":15,"../common/bucket/getBucketWebsite":16,"../common/bucket/getBucketWorm":17,"../common/bucket/initiateBucketWorm":18,"../common/bucket/listBucketInventory":19,"../common/bucket/putBucketInventory":20,"../common/bucket/putBucketLifecycle":21,"../common/bucket/putBucketVersioning":22,"../common/bucket/putBucketWebsite":23,"../common/client/getReqUrl":25,"../common/client/initOptions":26,"../common/multipart":30,"../common/multipart-copy":29,"../common/parallel":51,"../common/signUtils":52,"../common/utils/createRequest":58,"../common/utils/encoder":62,"../common/utils/getStandardRegion":65,"../common/utils/isFunction":72,"../common/utils/retry":80,"../common/utils/setSTSToken":82,"./bucket":2,"./managed-upload":4,"./object":5,"./version":6,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,_process:538,agentkeepalive:94,bowser:101,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.replace.js":345,"core-js/modules/es.symbol.description.js":351,"core-js/modules/es.symbol.js":354,debug:536,"merge-descriptors":428,platform:440,urllib:546,utility:545,xml2js:496}],4:[function(e,o,d){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),s=r(e("@babel/runtime/regenerator"));e("core-js/modules/es.function.name.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.array.from.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.find.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js");var i=r(e("@babel/runtime/helpers/asyncToGenerator")),u=e("util"),a=e("path"),n=e("mime"),l=e("copy-to"),c=e("../common/utils/isBlob"),f=c.isBlob,p=e("../common/utils/isFile"),y=p.isFile,m=e("../common/utils/isBuffer"),g=m.isBuffer,h=d;h.multipartUpload=function(){var b=(0,i.default)(s.default.mark(function O(C,k){var A,I,D,F,Q,te,$,Z,ne,ie=arguments;return s.default.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(A=ie.length>2&&ie[2]!==void 0?ie[2]:{},this.resetCancelFlag(),A.disabledMD5=A.disabledMD5===void 0?!0:!!A.disabledMD5,!(A.checkpoint&&A.checkpoint.uploadId)){Y.next=8;break}return k&&y(k)&&(A.checkpoint.file=k),Y.next=7,this._resumeMultipart(A.checkpoint,A);case 7:return Y.abrupt("return",Y.sent);case 8:return I=102400,A.mime||(y(k)?A.mime=n.getType(a.extname(k.name)):f(k)?A.mime=k.type:g(k)?A.mime="":A.mime=n.getType(a.extname(k))),A.headers=A.headers||{},this._convertMetaToHeaders(A.meta,A.headers),Y.next=14,this._getFileSize(k);case 14:if(D=Y.sent,!(D<I)){Y.next=26;break}return A.contentLength=D,Y.next=19,this.put(C,k,A);case 19:if(F=Y.sent,!(A&&A.progress)){Y.next=23;break}return Y.next=23,A.progress(1);case 23:return Q={res:F.res,bucket:this.options.bucket,name:C,etag:F.res.headers.etag},(A.headers&&A.headers["x-oss-callback"]||A.callback)&&(Q.data=F.data),Y.abrupt("return",Q);case 26:if(!(A.partSize&&parseInt(A.partSize,10)!==A.partSize)){Y.next=28;break}throw new Error("partSize must be int number");case 28:if(!(A.partSize&&A.partSize<I)){Y.next=30;break}throw new Error("partSize must not be smaller than ".concat(I));case 30:return Y.next=32,this.initMultipartUpload(C,A);case 32:if(te=Y.sent,$=te.uploadId,Z=this._getPartSize(D,A.partSize),ne={file:k,name:C,fileSize:D,partSize:Z,uploadId:$,doneParts:[]},!(A&&A.progress)){Y.next=39;break}return Y.next=39,A.progress(0,ne,te.res);case 39:return Y.next=41,this._resumeMultipart(ne,A);case 41:return Y.abrupt("return",Y.sent);case 42:case"end":return Y.stop()}},O,this)}));function E(O,C){return b.apply(this,arguments)}return E}(),h._resumeMultipart=function(){var b=(0,i.default)(s.default.mark(function O(C,k){var A,I,D,F,Q,te,$,Z,ne,ie,J,Y,K,X,U,se,oe,ae,de;return s.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(A=this,!this.isCancel()){R.next=3;break}throw this._makeCancelEvent();case 3:return I=C.file,D=C.fileSize,F=C.partSize,Q=C.uploadId,te=C.doneParts,$=C.name,Z=[],te.length>0&&l(te).to(Z),ne=this._divideParts(D,F),ie=ne.length,J=!1,Y=function(M,le){return new Promise(function(){var ce=(0,i.default)(s.default.mark(function W(ee,z){var N,V,q,ue,fe;return s.default.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(_e.prev=0,M.isCancel()){_e.next=29;break}return N=ne[le-1],_e.next=5,M._createBuffer(I,N.start,N.end);case 5:return V=_e.sent,q={content:V,size:N.end-N.start},_e.prev=7,_e.next=10,M._uploadPart($,Q,le,q,k);case 10:ue=_e.sent,_e.next=18;break;case 13:if(_e.prev=13,_e.t0=_e.catch(7),_e.t0.status!==404){_e.next=17;break}throw M._makeAbortEvent();case 17:throw _e.t0;case 18:if(!(!M.isCancel()&&!J)){_e.next=26;break}if(C.doneParts.push({number:le,etag:ue.res.headers.etag}),!k.progress){_e.next=23;break}return _e.next=23,k.progress(te.length/(ie+1),C,ue.res);case 23:ee({number:le,etag:ue.res.headers.etag}),_e.next=27;break;case 26:ee();case 27:_e.next=30;break;case 29:ee();case 30:_e.next=41;break;case 32:_e.prev=32,_e.t1=_e.catch(0),fe=new Error,fe.name=_e.t1.name,fe.message=_e.t1.message,fe.stack=_e.t1.stack,fe.partNum=le,l(_e.t1).to(fe),z(fe);case 41:case"end":return _e.stop()}},W,null,[[0,32],[7,13]])}));return function(W,ee){return ce.apply(this,arguments)}}())},K=Array.from(new Array(ie),function(L,M){return M+1}),X=Z.map(function(L){return L.number}),U=K.filter(function(L){return X.indexOf(L)<0}),se=5,oe=k.parallel||se,R.next=17,this._parallel(U,oe,function(L){return new Promise(function(M,le){Y(A,L).then(function(ce){ce&&Z.push(ce),M()}).catch(function(ce){le(ce)})})});case 17:if(ae=R.sent,J=!0,de=ae.find(function(L){return L.name==="abort"}),!de){R.next=22;break}throw de;case 22:if(!this.isCancel()){R.next=25;break}throw Y=null,this._makeCancelEvent();case 25:if(!(ae&&ae.length>0)){R.next=28;break}throw ae[0].message="Failed to upload some parts with error: ".concat(ae[0].toString()," part_num: ").concat(ae[0].partNum),ae[0];case 28:return R.next=30,this.completeMultipartUpload($,Q,Z,k);case 30:return R.abrupt("return",R.sent);case 31:case"end":return R.stop()}},O,this)}));function E(O,C){return b.apply(this,arguments)}return E}(),h._getFileSize=function(){var b=(0,i.default)(s.default.mark(function O(C){return s.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!g(C)){A.next=4;break}return A.abrupt("return",C.length);case 4:if(!(f(C)||y(C))){A.next=6;break}return A.abrupt("return",C.size);case 6:throw new Error("_getFileSize requires Buffer/File/Blob.");case 7:case"end":return A.stop()}},O)}));function E(O){return b.apply(this,arguments)}return E}();var _=e("stream"),j=_.Readable;function T(b,E){if(!(this instanceof T))return new T(b,E);j.call(this,E),this.file=b,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}u.inherits(T,j),T.prototype.readFileAndPush=function(E){if(this.fileBuffer)for(var O=!0;O&&this.fileBuffer&&this.start<this.fileBuffer.length;){var C=this.start,k=C+E;k=k>this.fileBuffer.length?this.fileBuffer.length:k,this.start=k,O=this.push(this.fileBuffer.slice(C,k))}},T.prototype._read=function(E){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||this.start===0&&!this.file){this.finish||(this.fileBuffer=null,this.finish=!0),this.push(null);return}var O=16*1024;E=E||O;var C=this;this.reader.onload=function(A){C.fileBuffer=t.from(new Uint8Array(A.target.result)),C.file=null,C.readFileAndPush(E)},this.start===0?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(E)};function S(b){return b.arrayBuffer?b.arrayBuffer():new Promise(function(E,O){var C=new FileReader;C.onload=function(k){E(k.target.result)},C.onerror=function(k){O(k)},C.readAsArrayBuffer(b)})}h._createBuffer=function(){var b=(0,i.default)(s.default.mark(function O(C,k,A){var I,D;return s.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(f(C)||y(C))){Q.next=8;break}return I=C.slice(k,A),Q.next=4,S(I);case 4:return D=Q.sent,Q.abrupt("return",t.from(D));case 8:if(!g(C)){Q.next=12;break}return Q.abrupt("return",C.subarray(k,A));case 12:throw new Error("_createBuffer requires File/Blob/Buffer.");case 13:case"end":return Q.stop()}},O)}));function E(O,C,k){return b.apply(this,arguments)}return E}(),h._getPartSize=function(E,O){var C=1e4,k=1*1024*1024;O||(O=k);var A=Math.ceil(E/C);return O<A&&(O=A,console.warn("partSize has been set to ".concat(O,", because the partSize you provided causes partNumber to be greater than 10,000"))),O},h._divideParts=function(E,O){for(var C=Math.ceil(E/O),k=[],A=0;A<C;A++){var I=O*A,D=Math.min(I+O,E);k.push({start:I,end:D})}return k}}).call(this)}).call(this,e("buffer").Buffer)},{"../common/utils/isBlob":68,"../common/utils/isBuffer":69,"../common/utils/isFile":71,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,buffer:103,"copy-to":107,"core-js/modules/es.array-buffer.slice.js":309,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.filter.js":312,"core-js/modules/es.array.find.js":313,"core-js/modules/es.array.from.js":314,"core-js/modules/es.array.iterator.js":316,"core-js/modules/es.array.map.js":318,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.iterator.js":343,"core-js/modules/es.typed-array.copy-within.js":356,"core-js/modules/es.typed-array.every.js":357,"core-js/modules/es.typed-array.fill.js":358,"core-js/modules/es.typed-array.filter.js":359,"core-js/modules/es.typed-array.find-index.js":360,"core-js/modules/es.typed-array.find.js":361,"core-js/modules/es.typed-array.for-each.js":362,"core-js/modules/es.typed-array.includes.js":363,"core-js/modules/es.typed-array.index-of.js":364,"core-js/modules/es.typed-array.iterator.js":365,"core-js/modules/es.typed-array.join.js":366,"core-js/modules/es.typed-array.last-index-of.js":367,"core-js/modules/es.typed-array.map.js":368,"core-js/modules/es.typed-array.reduce-right.js":369,"core-js/modules/es.typed-array.reduce.js":370,"core-js/modules/es.typed-array.reverse.js":371,"core-js/modules/es.typed-array.set.js":372,"core-js/modules/es.typed-array.slice.js":373,"core-js/modules/es.typed-array.some.js":374,"core-js/modules/es.typed-array.sort.js":375,"core-js/modules/es.typed-array.subarray.js":376,"core-js/modules/es.typed-array.to-locale-string.js":377,"core-js/modules/es.typed-array.to-string.js":378,"core-js/modules/es.typed-array.uint8-array.js":379,mime:430,path:439,stream:468,util:489}],5:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.function.name.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.number.constructor.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.promise.js");var r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("fs"),u=e("copy-to"),a=e("path"),n=e("mime"),l=e("../common/callback"),c=e("merge-descriptors"),f=e("../common/utils/isBlob"),p=f.isBlob,y=e("../common/utils/isFile"),m=y.isFile,g=e("../common/utils/isBuffer"),h=g.isBuffer,_=e("../common/utils/obj2xml"),j=_.obj2xml,T=e("../common/utils/parseRestoreInfo"),S=T.parseRestoreInfo,b=d;b.append=function(){var E=(0,s.default)(r.default.mark(function C(k,A,I){var D;return r.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return I=I||{},I.position===void 0&&(I.position="0"),I.subres={append:"",position:I.position},I.method="POST",Q.next=6,this.put(k,A,I);case 6:return D=Q.sent,D.nextAppendPosition=D.res.headers["x-oss-next-append-position"],Q.abrupt("return",D);case 9:case"end":return Q.stop()}},C,this)}));function O(C,k,A){return E.apply(this,arguments)}return O}(),b.put=function(){var E=(0,s.default)(r.default.mark(function C(k,A,I){var D,F,Q,te,$;return r.default.wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(I=I||{},I.disabledMD5=I.disabledMD5===void 0?!0:!!I.disabledMD5,I.headers=I.headers||{},k=this._objectName(k),!h(A)){ne.next=8;break}D=A,ne.next=19;break;case 8:if(!(p(A)||m(A))){ne.next=18;break}return I.mime||(m(A)?I.mime=n.getType(a.extname(A.name)):I.mime=A.type),ne.next=12,this._createBuffer(A,0,A.size);case 12:return D=ne.sent,ne.next=15,this._getFileSize(A);case 15:I.contentLength=ne.sent,ne.next=19;break;case 18:throw new TypeError("Must provide Buffer/Blob/File for put.");case 19:return this._convertMetaToHeaders(I.meta,I.headers),F=I.method||"PUT",Q=this._objectRequestParams(F,k,I),l.encodeCallback(Q,I),Q.mime=I.mime,Q.disabledMD5=I.disabledMD5,Q.content=D,Q.successStatuses=[200],ne.next=29,this.request(Q);case 29:return te=ne.sent,$={name:k,url:this._objectUrl(k),res:te.res},Q.headers&&Q.headers["x-oss-callback"]&&($.data=JSON.parse(te.data.toString())),ne.abrupt("return",$);case 33:case"end":return ne.stop()}},C,this)}));function O(C,k,A){return E.apply(this,arguments)}return O}(),b.putStream=function(){var E=(0,s.default)(r.default.mark(function C(k,A,I){var D,F,Q,te;return r.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return I=I||{},I.headers=I.headers||{},k=this._objectName(k),I.contentLength?I.headers["Content-Length"]=I.contentLength:I.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(I.meta,I.headers),D=I.method||"PUT",F=this._objectRequestParams(D,k,I),l.encodeCallback(F,I),F.mime=I.mime,F.stream=A,F.successStatuses=[200],Z.next=13,this.request(F);case 13:return Q=Z.sent,te={name:k,url:this._objectUrl(k),res:Q.res},F.headers&&F.headers["x-oss-callback"]&&(te.data=JSON.parse(Q.data.toString())),Z.abrupt("return",te);case 17:case"end":return Z.stop()}},C,this)}));function O(C,k,A){return E.apply(this,arguments)}return O}(),c(b,e("../common/object/copyObject")),c(b,e("../common/object/getObjectTagging")),c(b,e("../common/object/putObjectTagging")),c(b,e("../common/object/deleteObjectTagging")),c(b,e("../common/image")),c(b,e("../common/object/getBucketVersions")),c(b,e("../common/object/getACL")),c(b,e("../common/object/putACL")),c(b,e("../common/object/head")),c(b,e("../common/object/delete")),c(b,e("../common/object/get")),c(b,e("../common/object/putSymlink")),c(b,e("../common/object/getSymlink")),c(b,e("../common/object/deleteMulti")),c(b,e("../common/object/getObjectMeta")),c(b,e("../common/object/getObjectUrl")),c(b,e("../common/object/generateObjectUrl")),c(b,e("../common/object/signatureUrl")),c(b,e("../common/object/asyncSignatureUrl")),c(b,e("../common/object/signatureUrlV4")),c(b,e("../common/object/signPostObjectPolicyV4")),b.putMeta=function(){var E=(0,s.default)(r.default.mark(function C(k,A,I){var D;return r.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this.copy(k,k,{meta:A||{},timeout:I&&I.timeout,ctx:I&&I.ctx});case 2:return D=Q.sent,Q.abrupt("return",D);case 4:case"end":return Q.stop()}},C,this)}));function O(C,k,A){return E.apply(this,arguments)}return O}(),b.list=function(){var E=(0,s.default)(r.default.mark(function C(k,A){var I,D,F,Q,te;return r.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return I=this._objectRequestParams("GET","",A),I.query=k,I.xmlResponse=!0,I.successStatuses=[200],Z.next=6,this.request(I);case 6:return D=Z.sent,F=D.data.Contents||[],Q=this,F&&(Array.isArray(F)||(F=[F]),F=F.map(function(ne){return{name:ne.Key,url:Q._objectUrl(ne.Key),lastModified:ne.LastModified,etag:ne.ETag,type:ne.Type,size:Number(ne.Size),storageClass:ne.StorageClass,owner:{id:ne.Owner.ID,displayName:ne.Owner.DisplayName},restoreInfo:S(ne.RestoreInfo)}})),te=D.data.CommonPrefixes||null,te&&(Array.isArray(te)||(te=[te]),te=te.map(function(ne){return ne.Prefix})),Z.abrupt("return",{res:D.res,objects:F,prefixes:te,nextMarker:D.data.NextMarker||null,isTruncated:D.data.IsTruncated==="true"});case 13:case"end":return Z.stop()}},C,this)}));function O(C,k){return E.apply(this,arguments)}return O}(),b.listV2=function(){var E=(0,s.default)(r.default.mark(function C(k){var A,I,D,F,Q,te,$,Z=arguments;return r.default.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return A=Z.length>1&&Z[1]!==void 0?Z[1]:{},I=k["continuation-token"]||k.continuationToken,I&&(A.subres=Object.assign({"continuation-token":I},A.subres)),D=this._objectRequestParams("GET","",A),D.query=Object.assign({"list-type":2},k),delete D.query["continuation-token"],delete D.query.continuationToken,D.xmlResponse=!0,D.successStatuses=[200],ie.next=11,this.request(D);case 11:return F=ie.sent,Q=F.data.Contents||[],te=this,Q&&(Array.isArray(Q)||(Q=[Q]),Q=Q.map(function(J){var Y=null;return J.Owner&&(Y={id:J.Owner.ID,displayName:J.Owner.DisplayName}),{name:J.Key,url:te._objectUrl(J.Key),lastModified:J.LastModified,etag:J.ETag,type:J.Type,size:Number(J.Size),storageClass:J.StorageClass,owner:Y,restoreInfo:S(J.RestoreInfo)}})),$=F.data.CommonPrefixes||null,$&&(Array.isArray($)||($=[$]),$=$.map(function(J){return J.Prefix})),ie.abrupt("return",{res:F.res,objects:Q,prefixes:$,isTruncated:F.data.IsTruncated==="true",keyCount:+F.data.KeyCount,continuationToken:F.data.ContinuationToken||null,nextContinuationToken:F.data.NextContinuationToken||null});case 18:case"end":return ie.stop()}},C,this)}));function O(C){return E.apply(this,arguments)}return O}(),b.restore=function(){var E=(0,s.default)(r.default.mark(function C(k){var A,I,D,F,Q=arguments;return r.default.wrap(function($){for(;;)switch($.prev=$.next){case 0:return A=Q.length>1&&Q[1]!==void 0?Q[1]:{type:"Archive"},A=A||{},A.subres=Object.assign({restore:""},A.subres),A.versionId&&(A.subres.versionId=A.versionId),I=this._objectRequestParams("POST",k,A),D={RestoreRequest:{Days:A.Days?A.Days:2}},(A.type==="ColdArchive"||A.type==="DeepColdArchive")&&(D.RestoreRequest.JobParameters={Tier:A.JobParameters?A.JobParameters:"Standard"}),I.content=j(D,{headers:!0}),I.mime="xml",I.successStatuses=[202],$.next=12,this.request(I);case 12:return F=$.sent,$.abrupt("return",{res:F.res});case 14:case"end":return $.stop()}},C,this)}));function O(C){return E.apply(this,arguments)}return O}(),b._objectUrl=function(O){return this._getReqUrl({bucket:this.options.bucket,object:O})},b._objectRequestParams=function(O,C,k){if(!this.options.bucket&&!this.options.cname)throw new Error("Please create a bucket first");k=k||{},C=this._objectName(C);var A={object:C,bucket:this.options.bucket,method:O,subres:k&&k.subres,additionalHeaders:k&&k.additionalHeaders,timeout:k&&k.timeout,ctx:k&&k.ctx};return k.headers&&(A.headers={},u(k.headers).to(A.headers)),A},b._objectName=function(O){return O.replace(/^\/+/,"")},b._convertMetaToHeaders=function(O,C){O&&Object.keys(O).forEach(function(k){C["x-oss-meta-".concat(k)]=O[k]})},b._deleteFileSafe=function(O){var C=this;return new Promise(function(k){i.exists(O,function(A){A?i.unlink(O,function(I){I&&C.debug("unlink %j error: %s",O,I,"error"),k()}):k()})})}},{"../common/callback":24,"../common/image":27,"../common/object/asyncSignatureUrl":31,"../common/object/copyObject":32,"../common/object/delete":33,"../common/object/deleteMulti":34,"../common/object/deleteObjectTagging":35,"../common/object/generateObjectUrl":36,"../common/object/get":37,"../common/object/getACL":38,"../common/object/getBucketVersions":39,"../common/object/getObjectMeta":40,"../common/object/getObjectTagging":41,"../common/object/getObjectUrl":42,"../common/object/getSymlink":43,"../common/object/head":44,"../common/object/putACL":45,"../common/object/putObjectTagging":46,"../common/object/putSymlink":47,"../common/object/signPostObjectPolicyV4":48,"../common/object/signatureUrl":49,"../common/object/signatureUrlV4":50,"../common/utils/isBlob":68,"../common/utils/isBuffer":69,"../common/utils/isFile":71,"../common/utils/obj2xml":76,"../common/utils/parseRestoreInfo":78,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"copy-to":107,"core-js/modules/es.array.map.js":318,"core-js/modules/es.function.name.js":322,"core-js/modules/es.number.constructor.js":324,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380,fs:102,"merge-descriptors":428,mime:430,path:439}],6:[function(e,o,d){d.version="6.23.0"},{}],7:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.abortBucketWorm=void 0;var i=e("../utils/checkBucketName");function u(n,l){return a.apply(this,arguments)}function a(){return a=(0,s.default)(r.default.mark(function n(l,c){var f,p;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return i.checkBucketName(l),f=this._bucketRequestParams("DELETE",l,"worm",c),m.next=4,this.request(f);case 4:return p=m.sent,m.abrupt("return",{res:p.res,status:p.status});case 6:case"end":return m.stop()}},n,this)})),a.apply(this,arguments)}d.abortBucketWorm=u},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],8:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.completeBucketWorm=void 0;var i=e("../utils/checkBucketName");function u(n,l,c){return a.apply(this,arguments)}function a(){return a=(0,s.default)(r.default.mark(function n(l,c,f){var p,y;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i.checkBucketName(l),p=this._bucketRequestParams("POST",l,{wormId:c},f),g.next=4,this.request(p);case 4:return y=g.sent,g.abrupt("return",{res:y.res,status:y.status});case 6:case"end":return g.stop()}},n,this)})),a.apply(this,arguments)}d.completeBucketWorm=u},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],9:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.deleteBucketInventory=void 0;var i=e("../utils/checkBucketName");function u(n,l){return a.apply(this,arguments)}function a(){return a=(0,s.default)(r.default.mark(function n(l,c){var f,p,y,m,g=arguments;return r.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return f=g.length>2&&g[2]!==void 0?g[2]:{},p=Object.assign({inventory:"",inventoryId:c},f.subres),i.checkBucketName(l),y=this._bucketRequestParams("DELETE",l,p,f),y.successStatuses=[204],_.next=7,this.request(y);case 7:return m=_.sent,_.abrupt("return",{status:m.status,res:m.res});case 9:case"end":return _.stop()}},n,this)})),a.apply(this,arguments)}d.deleteBucketInventory=u},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],10:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=d;a.deleteBucketLifecycle=function(){var n=(0,s.default)(r.default.mark(function c(f,p){var y,m;return r.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u(f),y=this._bucketRequestParams("DELETE",f,"lifecycle",p),y.successStatuses=[204],h.next=5,this.request(y);case 5:return m=h.sent,h.abrupt("return",{res:m.res});case 7:case"end":return h.stop()}},c,this)}));function l(c,f){return n.apply(this,arguments)}return l}()},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],11:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=d;a.deleteBucketWebsite=function(){var n=(0,s.default)(r.default.mark(function c(f,p){var y,m;return r.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u(f),y=this._bucketRequestParams("DELETE",f,"website",p),y.successStatuses=[204],h.next=5,this.request(y);case 5:return m=h.sent,h.abrupt("return",{res:m.res});case 7:case"end":return h.stop()}},c,this)}));function l(c,f){return n.apply(this,arguments)}return l}()},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],12:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.extendBucketWorm=void 0;var i=e("../utils/checkBucketName"),u=e("../utils/obj2xml");function a(l,c,f,p){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c,f,p,y){var m,g,h;return r.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return i.checkBucketName(c),m=this._bucketRequestParams("POST",c,{wormExtend:"",wormId:f},y),g={ExtendWormConfiguration:{RetentionPeriodInDays:p}},m.mime="xml",m.content=u.obj2xml(g,{headers:!0}),m.successStatuses=[200],j.next=8,this.request(m);case 8:return h=j.sent,j.abrupt("return",{res:h.res,status:h.status});case 10:case"end":return j.stop()}},l,this)})),n.apply(this,arguments)}d.extendBucketWorm=a},{"../utils/checkBucketName":53,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],13:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.getBucketInventory=void 0;var i=e("../utils/checkBucketName"),u=e("../utils/formatInventoryConfig");function a(l,c){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c,f){var p,y,m,g,h=arguments;return r.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return p=h.length>2&&h[2]!==void 0?h[2]:{},y=Object.assign({inventory:"",inventoryId:f},p.subres),i.checkBucketName(c),m=this._bucketRequestParams("GET",c,y,p),m.successStatuses=[200],m.xmlResponse=!0,j.next=8,this.request(m);case 8:return g=j.sent,j.abrupt("return",{status:g.status,res:g.res,inventory:u.formatInventoryConfig(g.data)});case 10:case"end":return j.stop()}},l,this)})),n.apply(this,arguments)}d.getBucketInventory=a},{"../utils/checkBucketName":53,"../utils/formatInventoryConfig":63,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],14:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.map.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("../utils/isArray"),n=a.isArray,l=e("../utils/formatObjKey"),c=l.formatObjKey,f=d;f.getBucketLifecycle=function(){var p=(0,s.default)(r.default.mark(function m(g,h){var _,j,T;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return u(g),_=this._bucketRequestParams("GET",g,"lifecycle",h),_.successStatuses=[200],_.xmlResponse=!0,b.next=6,this.request(_);case 6:return j=b.sent,T=j.data.Rule||null,T&&(n(T)||(T=[T]),T=T.map(function(E){return E.ID&&(E.id=E.ID,delete E.ID),E.Tag&&!n(E.Tag)&&(E.Tag=[E.Tag]),c(E,"firstLowerCase")})),b.abrupt("return",{rules:T,res:j.res});case 10:case"end":return b.stop()}},m,this)}));function y(m,g){return p.apply(this,arguments)}return y}()},{"../utils/checkBucketName":53,"../utils/formatObjKey":64,"../utils/isArray":67,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.map.js":318}],15:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=d;a.getBucketVersioning=function(){var n=(0,s.default)(r.default.mark(function c(f,p){var y,m,g;return r.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return u(f),y=this._bucketRequestParams("GET",f,"versioning",p),y.xmlResponse=!0,y.successStatuses=[200],_.next=6,this.request(y);case 6:return m=_.sent,g=m.data.Status,_.abrupt("return",{status:m.status,versionStatus:g,res:m.res});case 9:case"end":return _.stop()}},c,this)}));function l(c,f){return n.apply(this,arguments)}return l}()},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],16:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("../utils/isObject"),n=a.isObject,l=d;l.getBucketWebsite=function(){var c=(0,s.default)(r.default.mark(function p(y,m){var g,h,_;return r.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return u(y),g=this._bucketRequestParams("GET",y,"website",m),g.successStatuses=[200],g.xmlResponse=!0,T.next=6,this.request(g);case 6:return h=T.sent,_=[],h.data.RoutingRules&&h.data.RoutingRules.RoutingRule&&(n(h.data.RoutingRules.RoutingRule)?_=[h.data.RoutingRules.RoutingRule]:_=h.data.RoutingRules.RoutingRule),T.abrupt("return",{index:h.data.IndexDocument&&h.data.IndexDocument.Suffix||"",supportSubDir:h.data.IndexDocument&&h.data.IndexDocument.SupportSubDir||"false",type:h.data.IndexDocument&&h.data.IndexDocument.Type,routingRules:_,error:h.data.ErrorDocument&&h.data.ErrorDocument.Key||null,res:h.res});case 10:case"end":return T.stop()}},p,this)}));function f(p,y){return c.apply(this,arguments)}return f}()},{"../utils/checkBucketName":53,"../utils/isObject":74,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],17:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.getBucketWorm=void 0;var i=e("../utils/checkBucketName"),u=e("../utils/dataFix");function a(l,c){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c,f){var p,y;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i.checkBucketName(c),p=this._bucketRequestParams("GET",c,"worm",f),p.successStatuses=[200],p.xmlResponse=!0,g.next=6,this.request(p);case 6:return y=g.sent,u.dataFix(y.data,{lowerFirst:!0,rename:{RetentionPeriodInDays:"days"}}),g.abrupt("return",Object.assign(Object.assign({},y.data),{res:y.res,status:y.status}));case 9:case"end":return g.stop()}},l,this)})),n.apply(this,arguments)}d.getBucketWorm=a},{"../utils/checkBucketName":53,"../utils/dataFix":59,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],18:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.initiateBucketWorm=void 0;var i=e("../utils/obj2xml"),u=e("../utils/checkBucketName");function a(l,c,f){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c,f,p){var y,m,g;return r.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return u.checkBucketName(c),y=this._bucketRequestParams("POST",c,"worm",p),m={InitiateWormConfiguration:{RetentionPeriodInDays:f}},y.mime="xml",y.content=i.obj2xml(m,{headers:!0}),y.successStatuses=[200],_.next=8,this.request(y);case 8:return g=_.sent,_.abrupt("return",{res:g.res,wormId:g.res.headers["x-oss-worm-id"],status:g.status});case 10:case"end":return _.stop()}},l,this)})),n.apply(this,arguments)}d.initiateBucketWorm=a},{"../utils/checkBucketName":53,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],19:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.listBucketInventory=void 0;var i=e("../utils/checkBucketName"),u=e("../utils/formatInventoryConfig");function a(l){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c){var f,p,y,m,g,h,_,j,T=arguments;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=T.length>1&&T[1]!==void 0?T[1]:{},p=f.continuationToken,y=Object.assign({inventory:""},p&&{"continuation-token":p},f.subres),i.checkBucketName(c),m=this._bucketRequestParams("GET",c,y,f),m.successStatuses=[200],m.xmlResponse=!0,b.next=9,this.request(m);case 9:return g=b.sent,h=g.data,_=g.res,j=g.status,b.abrupt("return",{isTruncated:h.IsTruncated==="true",nextContinuationToken:h.NextContinuationToken,inventoryList:u.formatInventoryConfig(h.InventoryConfiguration,!0),status:j,res:_});case 12:case"end":return b.stop()}},l,this)})),n.apply(this,arguments)}d.listBucketInventory=a},{"../utils/checkBucketName":53,"../utils/formatInventoryConfig":63,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],20:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.concat.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.putBucketInventory=void 0;var i=e("../utils/checkBucketName"),u=e("../utils/obj2xml");function a(l,c){return n.apply(this,arguments)}function n(){return n=(0,s.default)(r.default.mark(function l(c,f){var p,y,m,g,h,_,j,T,S,b,E,O=arguments;return r.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return p=O.length>2&&O[2]!==void 0?O[2]:{},y=Object.assign({inventory:"",inventoryId:f.id},p.subres),i.checkBucketName(c),m=f.OSSBucketDestination,g=f.optionalFields,h=f.includedObjectVersions,_="acs:oss:::",j="acs:ram::".concat(m.accountId,":role/"),T={InventoryConfiguration:{Id:f.id,IsEnabled:f.isEnabled,Filter:{Prefix:f.prefix||""},Destination:{OSSBucketDestination:{Format:m.format,AccountId:m.accountId,RoleArn:"".concat(j).concat(m.rolename),Bucket:"".concat(_).concat(m.bucket),Prefix:m.prefix||"",Encryption:m.encryption||""}},Schedule:{Frequency:f.frequency},IncludedObjectVersions:h,OptionalFields:{Field:(g==null?void 0:g.field)||[]}}},S=u.obj2xml(T,{headers:!0,firstUpperCase:!0}),b=this._bucketRequestParams("PUT",c,y,p),b.successStatuses=[200],b.mime="xml",b.content=S,k.next=14,this.request(b);case 14:return E=k.sent,k.abrupt("return",{status:E.status,res:E.res});case 16:case"end":return k.stop()}},l,this)})),n.apply(this,arguments)}d.putBucketInventory=a},{"../utils/checkBucketName":53,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.object.assign.js":325}],21:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.array.includes.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("../utils/isArray"),n=a.isArray,l=e("../utils/deepCopy"),c=l.deepCopy,f=e("../utils/isObject"),p=f.isObject,y=e("../utils/obj2xml"),m=y.obj2xml,g=e("../utils/checkObjectTag"),h=g.checkObjectTag,_=e("../utils/getStrBytesCount"),j=_.getStrBytesCount,T=d;T.putBucketLifecycle=function(){var A=(0,s.default)(r.default.mark(function D(F,Q,te){var $,Z,ne,ie,J;return r.default.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(u(F),n(Q)){K.next=3;break}throw new Error("rules must be Array");case 3:return $=this._bucketRequestParams("PUT",F,"lifecycle",te),Z=[],ne={LifecycleConfiguration:{Rule:Z}},Q.forEach(function(X){S(X),k(X),X.id&&(X.ID=X.id,delete X.id),Z.push(X)}),ie=m(ne,{headers:!0,firstUpperCase:!0}),$.content=ie,$.mime="xml",$.successStatuses=[200],K.next=13,this.request($);case 13:return J=K.sent,K.abrupt("return",{res:J.res});case 15:case"end":return K.stop()}},D,this)}));function I(D,F,Q){return A.apply(this,arguments)}return I}();function S(A){A.days&&(A.expiration={days:A.days}),A.date&&(A.expiration={createdBeforeDate:A.date})}function b(A,I){var D=A.days,F=A.createdBeforeDate;if(!D&&!F)throw new Error("".concat(I," must includes days or createdBeforeDate"));if(D&&(n(D)||!/^[1-9][0-9]*$/.test(D)))throw new Error("days must be a positive integer");if(F&&!/\d{4}-\d{2}-\d{2}T00:00:00.000Z/.test(F))throw new Error("createdBeforeDate must be date and conform to iso8601 format")}function E(A,I){var D=A.noncurrentDays;if(D){if(D&&(n(D)||!/^[1-9][0-9]*$/.test(D)))throw new Error("noncurrentDays must be a positive integer")}else throw new Error("".concat(I," must includes noncurrentDays"))}function O(A){if(!n(A)&&!p(A))throw new Error("tag must be Object or Array");A=p(A)?[A]:A;var I={},D=c(A);D.forEach(function(F){I[F.key]=F.value}),h(I)}function C(A){if(!["IA","Archive","ColdArchive","DeepColdArchive"].includes(A))throw new Error("StorageClass must be IA or Archive or ColdArchive or DeepColdArchive")}function k(A){if(A.id&&j(A.id)>255)throw new Error("ID is composed of 255 bytes at most");if(A.prefix===void 0)throw new Error("Rule must includes prefix");if(!["Enabled","Disabled"].includes(A.status))throw new Error("Status must be Enabled or Disabled");if(!A.expiration&&!A.noncurrentVersionExpiration&&!A.abortMultipartUpload&&!A.transition&&!A.noncurrentVersionTransition)throw new Error("Rule must includes expiration or noncurrentVersionExpiration or abortMultipartUpload or transition or noncurrentVersionTransition");if(A.transition&&(C(A.transition.storageClass),b(A.transition,"Transition")),A.expiration){if(!A.expiration.expiredObjectDeleteMarker)b(A.expiration,"Expiration");else if(A.expiration.days||A.expiration.createdBeforeDate)throw new Error("expiredObjectDeleteMarker cannot be used with days or createdBeforeDate")}if(A.abortMultipartUpload&&b(A.abortMultipartUpload,"AbortMultipartUpload"),A.noncurrentVersionTransition&&(C(A.noncurrentVersionTransition.storageClass),E(A.noncurrentVersionTransition,"NoncurrentVersionTransition")),A.noncurrentVersionExpiration&&E(A.noncurrentVersionExpiration,"NoncurrentVersionExpiration"),A.tag){if(A.abortMultipartUpload)throw new Error("Tag cannot be used with abortMultipartUpload");O(A.tag)}}},{"../utils/checkBucketName":53,"../utils/checkObjectTag":56,"../utils/deepCopy":60,"../utils/getStrBytesCount":66,"../utils/isArray":67,"../utils/isObject":74,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/web.dom-collections.for-each.js":380}],22:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.includes.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("../utils/obj2xml"),n=a.obj2xml,l=d;l.putBucketVersioning=function(){var c=(0,s.default)(r.default.mark(function p(y,m){var g,h,_,j,T=arguments;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(g=T.length>2&&T[2]!==void 0?T[2]:{},u(y),["Enabled","Suspended"].includes(m)){b.next=4;break}throw new Error("status must be Enabled or Suspended");case 4:return h=this._bucketRequestParams("PUT",y,"versioning",g),_={VersioningConfiguration:{Status:m}},h.mime="xml",h.content=n(_,{headers:!0}),b.next=10,this.request(h);case 10:return j=b.sent,b.abrupt("return",{res:j.res,status:j.status});case 12:case"end":return b.stop()}},p,this)}));function f(p,y){return c.apply(this,arguments)}return f}()},{"../utils/checkBucketName":53,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.includes.js":315}],23:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator")),s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("../utils/obj2xml"),n=a.obj2xml,l=e("../utils/isArray"),c=l.isArray,f=d;f.putBucketWebsite=function(){var p=(0,s.default)(r.default.mark(function m(g){var h,_,j,T,S,b,E,O=arguments;return r.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(h=O.length>1&&O[1]!==void 0?O[1]:{},_=O.length>2?O[2]:void 0,u(g),j=this._bucketRequestParams("PUT",g,"website",_),T={Suffix:h.index||"index.html"},S={IndexDocument:T},b={WebsiteConfiguration:S},h.supportSubDir&&(T.SupportSubDir=h.supportSubDir),h.type&&(T.Type=h.type),h.error&&(S.ErrorDocument={Key:h.error}),h.routingRules===void 0){k.next=14;break}if(c(h.routingRules)){k.next=13;break}throw new Error("RoutingRules must be Array");case 13:S.RoutingRules={RoutingRule:h.routingRules};case 14:return b=n(b),j.content=b,j.mime="xml",j.successStatuses=[200],k.next=20,this.request(j);case 20:return E=k.sent,k.abrupt("return",{res:E.res});case 22:case"end":return k.stop()}},m,this)}));function y(m){return p.apply(this,arguments)}return y}()},{"../utils/checkBucketName":53,"../utils/isArray":67,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93}],24:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),d.encodeCallback=function(s,i){if(s.headers=s.headers||{},!Object.prototype.hasOwnProperty.call(s.headers,"x-oss-callback")&&i.callback){var u={callbackUrl:encodeURI(i.callback.url),callbackBody:i.callback.body};i.callback.host&&(u.callbackHost=i.callback.host),i.callback.contentType&&(u.callbackBodyType=i.callback.contentType),i.callback.callbackSNI&&(u.callbackSNI=i.callback.callbackSNI);var a=t.from(JSON.stringify(u)).toString("base64");if(s.headers["x-oss-callback"]=a,i.callback.customValue){var n={};Object.keys(i.callback.customValue).forEach(function(l){n["x:".concat(l)]=i.callback.customValue[l].toString()}),s.headers["x-oss-callback-var"]=t.from(JSON.stringify(n)).toString("base64")}}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:103,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/web.dom-collections.for-each.js":380}],25:[function(e,o,d){e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js");var t=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(d,"__esModule",{value:!0}),d.getReqUrl=void 0;var r=t(e("copy-to")),s=t(e("url")),i=t(e("merge-descriptors")),u=t(e("is-type-of")),a=e("../utils/isIP"),n=e("../utils/checkConfigValid");function l(c){var f={},p=this.options.cname;n.checkConfigValid(this.options.endpoint,"endpoint"),r.default(this.options.endpoint,!1).to(f),c.bucket&&!p&&!a.isIP(f.hostname)&&!this.options.sldEnable&&(f.host="".concat(c.bucket,".").concat(f.host));var y="/";c.bucket&&this.options.sldEnable&&(y+="".concat(c.bucket,"/")),c.object&&(y+=this._escape(c.object).replace(/\+/g,"%2B")),f.pathname=y;var m={};if(c.query&&i.default(m,c.query),c.subres){var g={};u.default.string(c.subres)?g[c.subres]="":u.default.array(c.subres)?c.subres.forEach(function(h){g[h]=""}):g=c.subres,i.default(m,g)}return f.query=m,s.default.format(f)}d.getReqUrl=l},{"../utils/checkConfigValid":54,"../utils/isIP":73,"copy-to":107,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380,"is-type-of":537,"merge-descriptors":428,url:543}],26:[function(e,o,d){e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.string.trim.js");var t=e("humanize-ms"),r=e("url"),s=e("../utils/checkBucketName"),i=s.checkBucketName,u=e("../utils/setRegion"),a=u.setRegion,n=e("../utils/checkConfigValid"),l=n.checkConfigValid;function c(f,p){l(f,"endpoint");var y=r.parse(f);if(y.protocol||(y=r.parse("http".concat(p?"s":"","://").concat(f))),y.protocol!=="http:"&&y.protocol!=="https:")throw new Error("Endpoint protocol must be http or https.");return y}o.exports=function(f){if(!f||!f.accessKeyId||!f.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");f.stsToken&&!f.refreshSTSToken&&!f.refreshSTSTokenInterval&&console.warn("It's recommended to set 'refreshSTSToken' and 'refreshSTSTokenInterval' to refresh stsToken、accessKeyId、accessKeySecret automatically when sts token has expired"),f.bucket&&i(f.bucket);var p=Object.assign({region:"oss-cn-hangzhou",internal:!1,secure:!1,timeout:6e4,bucket:null,endpoint:null,cname:!1,isRequestPay:!1,sldEnable:!1,headerEncoding:"utf-8",refreshSTSToken:null,refreshSTSTokenInterval:6e4*5,retryMax:0,authorizationV4:!1},f);if(p.accessKeyId=p.accessKeyId.trim(),p.accessKeySecret=p.accessKeySecret.trim(),p.timeout&&(p.timeout=t(p.timeout)),p.endpoint)p.endpoint=c(p.endpoint,p.secure);else if(p.region)p.endpoint=a(p.region,p.internal,p.secure);else throw new Error("require options.endpoint or options.region");return p.inited=!0,p}},{"../utils/checkBucketName":53,"../utils/checkConfigValid":54,"../utils/setRegion":81,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.string.trim.js":349,"humanize-ms":399,url:543}],27:[function(e,o,d){var t=e("merge-descriptors"),r=d;t(r,e("./processObjectSave"))},{"./processObjectSave":28,"merge-descriptors":428}],28:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.concat.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkBucketName"),u=i.checkBucketName,a=e("querystring"),n=e("js-base64"),l=n.Base64.encode,c=d;c.processObjectSave=function(){var p=(0,s.default)(r.default.mark(function m(g,h,_,j){var T,S,b,E;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return f(g,"sourceObject"),f(h,"targetObject"),f(_,"process"),h=this._objectName(h),j&&u(j),T=this._objectRequestParams("POST",g,{subres:"x-oss-process"}),S=j?",b_".concat(l(j)):"",h=l(h),b={"x-oss-process":"".concat(_,"|sys/saveas,o_").concat(h).concat(S)},T.content=a.stringify(b),C.next=12,this.request(T);case 12:return E=C.sent,C.abrupt("return",{res:E.res,status:E.res.status});case 14:case"end":return C.stop()}},m,this)}));function y(m,g,h,_){return p.apply(this,arguments)}return y}();function f(p,y){if(!p)throw new Error("".concat(y," is required"));if(typeof p!="string")throw new Error("".concat(y," must be String"))}},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.concat.js":310,"js-base64":413,querystring:451}],29:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.array.from.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.find.js"),e("core-js/modules/es.regexp.to-string.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("debug")("ali-oss:multipart-copy"),u=e("copy-to"),a=d;a.uploadPartCopy=function(){var n=(0,s.default)(r.default.mark(function c(f,p,y,m,g){var h,_,j,T,S,b=arguments;return r.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return h=b.length>5&&b[5]!==void 0?b[5]:{},h.headers=h.headers||{},_=h.versionId||h.subres&&h.subres.versionId||null,_?j="/".concat(g.sourceBucketName,"/").concat(encodeURIComponent(g.sourceKey),"?versionId=").concat(_):j="/".concat(g.sourceBucketName,"/").concat(encodeURIComponent(g.sourceKey)),h.headers["x-oss-copy-source"]=j,m&&(h.headers["x-oss-copy-source-range"]="bytes=".concat(m)),h.subres={partNumber:y,uploadId:p},T=this._objectRequestParams("PUT",f,h),T.mime=h.mime,T.successStatuses=[200],O.next=12,this.request(T);case 12:return S=O.sent,O.abrupt("return",{name:f,etag:S.res.headers.etag,res:S.res});case 14:case"end":return O.stop()}},c,this)}));function l(c,f,p,y,m){return n.apply(this,arguments)}return l}(),a.multipartUploadCopy=function(){var n=(0,s.default)(r.default.mark(function c(f,p){var y,m,g,h,_,j,T,S,b,E,O,C,k=arguments;return r.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return y=k.length>2&&k[2]!==void 0?k[2]:{},this.resetCancelFlag(),m=y.versionId,g=m===void 0?null:m,h={versionId:g},I.next=6,this._getObjectMeta(p.sourceBucketName,p.sourceKey,h);case 6:if(_=I.sent,j=_.res.headers["content-length"],p.startOffset=p.startOffset||0,p.endOffset=p.endOffset||j,!(y.checkpoint&&y.checkpoint.uploadId)){I.next=14;break}return I.next=13,this._resumeMultipartCopy(y.checkpoint,p,y);case 13:return I.abrupt("return",I.sent);case 14:if(T=102400,S=p.endOffset-p.startOffset,!(S<T)){I.next=18;break}throw new Error("copySize must not be smaller than ".concat(T));case 18:if(!(y.partSize&&y.partSize<T)){I.next=20;break}throw new Error("partSize must not be smaller than ".concat(T));case 20:return I.next=22,this.initMultipartUpload(f,y);case 22:if(b=I.sent,E=b.uploadId,O=this._getPartSize(S,y.partSize),C={name:f,copySize:S,partSize:O,uploadId:E,doneParts:[]},!(y&&y.progress)){I.next=29;break}return I.next=29,y.progress(0,C,b.res);case 29:return I.next=31,this._resumeMultipartCopy(C,p,y);case 31:return I.abrupt("return",I.sent);case 32:case"end":return I.stop()}},c,this)}));function l(c,f){return n.apply(this,arguments)}return l}(),a._resumeMultipartCopy=function(){var n=(0,s.default)(r.default.mark(function c(f,p,y){var m,g,h,_,j,T,S,b,E,O,C,k,A,I,D,F,Q,te,$,Z,ne;return r.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!this.isCancel()){J.next=2;break}throw this._makeCancelEvent();case 2:if(m=y.versionId,g=m===void 0?null:m,h={versionId:g},_=f.copySize,j=f.partSize,T=f.uploadId,S=f.doneParts,b=f.name,E=this._divideMultipartCopyParts(_,j,p.startOffset),O=E.length,C={headers:{}},y.copyheaders&&u(y.copyheaders).to(C.headers),g&&u(h).to(C),k=function(K,X,U){return new Promise(function(){var se=(0,s.default)(r.default.mark(function oe(ae,de){var G,R,L;return r.default.wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(le.prev=0,K.isCancel()){le.next=22;break}return G=E[X-1],R="".concat(G.start,"-").concat(G.end-1),le.prev=4,le.next=7,K.uploadPartCopy(b,T,X,R,U,C);case 7:L=le.sent,le.next=15;break;case 10:if(le.prev=10,le.t0=le.catch(4),le.t0.status!==404){le.next=14;break}throw K._makeAbortEvent();case 14:throw le.t0;case 15:if(K.isCancel()){le.next=22;break}if(i("content-range ".concat(L.res.headers["content-range"])),S.push({number:X,etag:L.res.headers.etag}),f.doneParts=S,!(y&&y.progress)){le.next=22;break}return le.next=22,y.progress(S.length/O,f,L.res);case 22:ae(),le.next=29;break;case 25:le.prev=25,le.t1=le.catch(0),le.t1.partNum=X,de(le.t1);case 29:case"end":return le.stop()}},oe,null,[[0,25],[4,10]])}));return function(oe,ae){return se.apply(this,arguments)}}())},A=Array.from(new Array(O),function(Y,K){return K+1}),I=S.map(function(Y){return Y.number}),D=A.filter(function(Y){return I.indexOf(Y)<0}),F=5,Q=y.parallel||F,!(this.checkBrowserAndVersion("Internet Explorer","10")||Q===1)){J.next=28;break}te=0;case 18:if(!(te<D.length)){J.next=26;break}if(!this.isCancel()){J.next=21;break}throw this._makeCancelEvent();case 21:return J.next=23,k(this,D[te],p);case 23:te++,J.next=18;break;case 26:J.next=40;break;case 28:return J.next=30,this._parallelNode(D,Q,k,p);case 30:if($=J.sent,Z=$.find(function(Y){return Y.name==="abort"}),!Z){J.next=34;break}throw Z;case 34:if(!this.isCancel()){J.next=36;break}throw this._makeCancelEvent();case 36:if(!($&&$.length>0)){J.next=40;break}throw ne=$[0],ne.message="Failed to copy some parts with error: ".concat(ne.toString()," part_num: ").concat(ne.partNum),ne;case 40:return J.next=42,this.completeMultipartUpload(b,T,S,y);case 42:return J.abrupt("return",J.sent);case 43:case"end":return J.stop()}},c,this)}));function l(c,f,p){return n.apply(this,arguments)}return l}(),a._divideMultipartCopyParts=function(l,c,f){for(var p=Math.ceil(l/c),y=[],m=0;m<p;m++){var g=c*m+f,h=Math.min(g+c,l+f);y.push({start:g,end:h})}return y},a._getObjectMeta=function(){var n=(0,s.default)(r.default.mark(function c(f,p,y){var m,g;return r.default.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return m=this.getBucket(),this.setBucket(f),_.next=4,this.head(p,y);case 4:return g=_.sent,this.setBucket(m),_.abrupt("return",g);case 7:case"end":return _.stop()}},c,this)}));function l(c,f,p){return n.apply(this,arguments)}return l}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"copy-to":107,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.filter.js":312,"core-js/modules/es.array.find.js":313,"core-js/modules/es.array.from.js":314,"core-js/modules/es.array.map.js":318,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.iterator.js":343,debug:536}],30:[function(e,o,d){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),s=r(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.map.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.array.sort.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.regexp.to-string.js");var i=r(e("@babel/runtime/helpers/asyncToGenerator")),u=e("copy-to"),a=e("./callback"),n=e("./utils/deepCopy"),l=n.deepCopyWith,c=e("./utils/isBuffer"),f=c.isBuffer,p=e("./utils/omit"),y=p.omit,m=d;m.listUploads=function(){var g=(0,i.default)(s.default.mark(function _(j,T){var S,b,E,O;return s.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return T=T||{},S={},u(T).to(S),S.subres="uploads",b=this._objectRequestParams("GET","",S),b.query=j,b.xmlResponse=!0,b.successStatuses=[200],k.next=10,this.request(b);case 10:return E=k.sent,O=E.data.Upload||[],Array.isArray(O)||(O=[O]),O=O.map(function(A){return{name:A.Key,uploadId:A.UploadId,initiated:A.Initiated}}),k.abrupt("return",{res:E.res,uploads:O,bucket:E.data.Bucket,nextKeyMarker:E.data.NextKeyMarker,nextUploadIdMarker:E.data.NextUploadIdMarker,isTruncated:E.data.IsTruncated==="true"});case 15:case"end":return k.stop()}},_,this)}));function h(_,j){return g.apply(this,arguments)}return h}(),m.listParts=function(){var g=(0,i.default)(s.default.mark(function _(j,T,S,b){var E,O,C;return s.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return b=b||{},E={},u(b).to(E),E.subres={uploadId:T},O=this._objectRequestParams("GET",j,E),O.query=S,O.xmlResponse=!0,O.successStatuses=[200],A.next=10,this.request(O);case 10:return C=A.sent,A.abrupt("return",{res:C.res,uploadId:C.data.UploadId,bucket:C.data.Bucket,name:C.data.Key,partNumberMarker:C.data.PartNumberMarker,nextPartNumberMarker:C.data.NextPartNumberMarker,maxParts:C.data.MaxParts,isTruncated:C.data.IsTruncated,parts:C.data.Part||[]});case 12:case"end":return A.stop()}},_,this)}));function h(_,j,T,S){return g.apply(this,arguments)}return h}(),m.abortMultipartUpload=function(){var g=(0,i.default)(s.default.mark(function _(j,T,S){var b,E,O;return s.default.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return this._stop(),S=S||{},b={},u(S).to(b),b.subres={uploadId:T},E=this._objectRequestParams("DELETE",j,b),E.successStatuses=[204],k.next=9,this.request(E);case 9:return O=k.sent,k.abrupt("return",{res:O.res});case 11:case"end":return k.stop()}},_,this)}));function h(_,j,T){return g.apply(this,arguments)}return h}(),m.initMultipartUpload=function(){var g=(0,i.default)(s.default.mark(function _(j,T){var S,b,E;return s.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return T=T||{},S={},u(T).to(S),S.headers=S.headers||{},this._convertMetaToHeaders(T.meta,S.headers),S.subres="uploads",b=this._objectRequestParams("POST",j,S),b.mime=T.mime,b.xmlResponse=!0,b.successStatuses=[200],C.next=12,this.request(b);case 12:return E=C.sent,C.abrupt("return",{res:E.res,bucket:E.data.Bucket,name:E.data.Key,uploadId:E.data.UploadId});case 14:case"end":return C.stop()}},_,this)}));function h(_,j){return g.apply(this,arguments)}return h}(),m.uploadPart=function(){var g=(0,i.default)(s.default.mark(function _(j,T,S,b,E,O,C){var k,A;return s.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(k={size:O-E},A=t&&t.browser,!A){D.next=8;break}return D.next=5,this._createBuffer(b,E,O);case 5:k.content=D.sent,D.next=11;break;case 8:return D.next=10,this._createStream(b,E,O);case 10:k.stream=D.sent;case 11:return D.next=13,this._uploadPart(j,T,S,k,C);case 13:return D.abrupt("return",D.sent);case 14:case"end":return D.stop()}},_,this)}));function h(_,j,T,S,b,E,O){return g.apply(this,arguments)}return h}(),m.completeMultipartUpload=function(){var g=(0,i.default)(s.default.mark(function _(j,T,S,b){var E,O,C,k,A,I,D,F;return s.default.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:for(E=S.concat().sort(function($,Z){return $.number-Z.number}).filter(function($,Z,ne){return!Z||$.number!==ne[Z-1].number}),O=`<?xml version="1.0" encoding="UTF-8"?>
<CompleteMultipartUpload>
`,C=0;C<E.length;C++)k=E[C],O+=`<Part>
`,O+="<PartNumber>".concat(k.number,`</PartNumber>
`),O+="<ETag>".concat(k.etag,`</ETag>
`),O+=`</Part>
`;return O+="</CompleteMultipartUpload>",b=b||{},A={},A=l(b,function($){if(f($))return null}),A.subres={uploadId:T},A.headers=y(A.headers,["x-oss-server-side-encryption","x-oss-storage-class"]),I=this._objectRequestParams("POST",j,A),a.encodeCallback(I,A),I.mime="xml",I.content=O,I.headers&&I.headers["x-oss-callback"]||(I.xmlResponse=!0),I.successStatuses=[200],te.next=17,this.request(I);case 17:if(D=te.sent,!b.progress){te.next=21;break}return te.next=21,b.progress(1,null,D.res);case 21:return F={res:D.res,bucket:I.bucket,name:j,etag:D.res.headers.etag},I.headers&&I.headers["x-oss-callback"]&&(F.data=JSON.parse(D.data.toString())),te.abrupt("return",F);case 24:case"end":return te.stop()}},_,this)}));function h(_,j,T,S){return g.apply(this,arguments)}return h}(),m._uploadPart=function(){var g=(0,i.default)(s.default.mark(function _(j,T,S,b,E){var O,C,k,A;return s.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return E=E||{},O={},u(E).to(O),O.headers=O.headers||{},O.headers["Content-Length"]=b.size,O.headers=y(O.headers,["x-oss-server-side-encryption","x-oss-storage-class"]),O.subres={partNumber:S,uploadId:T},C=this._objectRequestParams("PUT",j,O),C.mime=O.mime,k=t&&t.browser,k?C.content=b.content:C.stream=b.stream,C.successStatuses=[200],C.disabledMD5=E.disabledMD5,D.next=15,this.request(C);case 15:if(A=D.sent,A.res.headers.etag){D.next=18;break}throw new Error(`Please set the etag of expose-headers in OSS 
 https://help.aliyun.com/document_detail/32069.html`);case 18:return b.stream&&(b.stream=null,C.stream=null),D.abrupt("return",{name:j,etag:A.res.headers.etag,res:A.res});case 20:case"end":return D.stop()}},_,this)}));function h(_,j,T,S,b){return g.apply(this,arguments)}return h}()}).call(this)}).call(this,e("_process"))},{"./callback":24,"./utils/deepCopy":60,"./utils/isBuffer":69,"./utils/omit":77,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,_process:538,"copy-to":107,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.filter.js":312,"core-js/modules/es.array.map.js":318,"core-js/modules/es.array.sort.js":320,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339}],31:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.regexp.exec.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("url"),u=e("utility"),a=e("copy-to"),n=e("../../common/signUtils"),l=e("../utils/isIP"),c=l.isIP,f=e("../utils/setSTSToken"),p=f.setSTSToken,y=e("../utils/isFunction"),m=y.isFunction,g=d;g.asyncSignatureUrl=function(){var h=(0,s.default)(r.default.mark(function j(T,S){var b,E,O,C,k,A,I=arguments;return r.default.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(b=I.length>2&&I[2]!==void 0?I[2]:!0,!c(this.options.endpoint.hostname)){F.next=3;break}throw new Error("can not get the object URL when endpoint is IP");case 3:if(!(b&&/^\?/.test(T))){F.next=5;break}throw new Error("Invalid object name ".concat(T));case 5:if(S=S||{},T=this._objectName(T),S.method=S.method||"GET",E=u.timestamp()+(S.expires||1800),O={bucket:this.options.bucket,object:T},C=this._getResource(O),!(this.options.stsToken&&m(this.options.refreshSTSToken))){F.next=14;break}return F.next=14,p.call(this);case 14:return this.options.stsToken&&(S["security-token"]=this.options.stsToken),k=n._signatureForURL(this.options.accessKeySecret,S,C,E),A=i.parse(this._getReqUrl(O)),A.query={OSSAccessKeyId:this.options.accessKeyId,Expires:E,Signature:k.Signature},a(k.subResource).to(A.query),F.abrupt("return",A.format());case 20:case"end":return F.stop()}},j,this)}));function _(j,T){return h.apply(this,arguments)}return _}()},{"../../common/signUtils":52,"../utils/isFunction":72,"../utils/isIP":73,"../utils/setSTSToken":82,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"copy-to":107,"core-js/modules/es.regexp.exec.js":338,url:543,utility:545}],32:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.find.js"),e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js");var s=t(e("@babel/runtime/helpers/typeof")),i=t(e("@babel/runtime/helpers/asyncToGenerator")),u=e("../utils/checkBucketName"),a=u.checkBucketName,n=d,l=["content-type","content-encoding","content-language","content-disposition","cache-control","expires"];n.copy=function(){var c=(0,i.default)(r.default.mark(function p(y,m,g,h){var _,j,T;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(0,s.default)(g)==="object"&&(h=g),h=h||{},h.headers=h.headers||{},Object.keys(h.headers).forEach(function(E){h.headers["x-oss-copy-source-".concat(E.toLowerCase())]=h.headers[E]}),(h.meta||Object.keys(h.headers).find(function(E){return l.includes(E.toLowerCase())}))&&(h.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(h.meta,h.headers),m=this._getSourceName(m,g),h.versionId&&(m="".concat(m,"?versionId=").concat(h.versionId)),h.headers["x-oss-copy-source"]=m,_=this._objectRequestParams("PUT",y,h),_.xmlResponse=!0,_.successStatuses=[200,304],b.next=14,this.request(_);case 14:return j=b.sent,T=j.data,T&&(T={etag:T.ETag,lastModified:T.LastModified}),b.abrupt("return",{data:T,res:j.res});case 18:case"end":return b.stop()}},p,this)}));function f(p,y,m,g){return c.apply(this,arguments)}return f}(),n._getSourceName=function(f,p){return typeof p=="string"?f=this._objectName(f):f[0]!=="/"?p=this.options.bucket:(p=f.replace(/\/(.+?)(\/.*)/,"$1"),f=f.replace(/(\/.+?\/)(.*)/,"$2")),a(p),f=encodeURIComponent(f),f="/".concat(p,"/").concat(f),f}},{"../utils/checkBucketName":53,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,"@babel/runtime/regenerator":93,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.find.js":313,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380}],33:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.delete=function(){var u=(0,s.default)(r.default.mark(function n(l){var c,f,p,y=arguments;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=y.length>1&&y[1]!==void 0?y[1]:{},c.subres=Object.assign({},c.subres),c.versionId&&(c.subres.versionId=c.versionId),f=this._objectRequestParams("DELETE",l,c),f.successStatuses=[204],g.next=7,this.request(f);case 7:return p=g.sent,g.abrupt("return",{res:p.res});case 9:case"end":return g.stop()}},n,this)}));function a(n){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],34:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("utility"),u=e("../utils/obj2xml"),a=u.obj2xml,n=d;n.deleteMulti=function(){var l=(0,s.default)(r.default.mark(function f(p){var y,m,g,h,_,j,T,S,b,E,O,C,k,A=arguments;return r.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(y=A.length>1&&A[1]!==void 0?A[1]:{},m=[],!(!p||!p.length)){D.next=4;break}throw new Error("names is required");case 4:for(g=0;g<p.length;g++)h={},typeof p[g]=="string"?h.Key=i.escape(this._objectName(p[g])):(_=p[g],j=_.key,T=_.versionId,h.Key=i.escape(this._objectName(j)),h.VersionId=T),m.push(h);return S={Delete:{Quiet:!!y.quiet,Object:m}},b=a(S,{headers:!0}),y.subres=Object.assign({delete:""},y.subres),y.versionId&&(y.subres.versionId=y.versionId),E=this._objectRequestParams("POST","",y),E.mime="xml",E.content=b,E.xmlResponse=!0,E.successStatuses=[200],D.next=16,this.request(E);case 16:return O=D.sent,C=O.data,k=C&&C.Deleted||null,k&&(Array.isArray(k)||(k=[k])),D.abrupt("return",{res:O.res,deleted:k||[]});case 21:case"end":return D.stop()}},f,this)}));function c(f){return l.apply(this,arguments)}return c}()},{"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325,utility:545}],35:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.deleteObjectTagging=function(){var u=(0,s.default)(r.default.mark(function n(l){var c,f,p,y=arguments;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=y.length>1&&y[1]!==void 0?y[1]:{},c.subres=Object.assign({tagging:""},c.subres),c.versionId&&(c.subres.versionId=c.versionId),l=this._objectName(l),f=this._objectRequestParams("DELETE",l,c),f.successStatuses=[204],g.next=8,this.request(f);case 8:return p=g.sent,g.abrupt("return",{status:p.status,res:p.res});case 10:case"end":return g.stop()}},n,this)}));function a(n){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],36:[function(e,o,d){e("core-js/modules/es.array.concat.js");var t=e("url"),r=e("../utils/isIP"),s=r.isIP,i=d;i.generateObjectUrl=function(a,n){if(s(this.options.endpoint.hostname))throw new Error("can not get the object URL when endpoint is IP");if(n)n[n.length-1]!=="/"&&(n+="/");else{n=this.options.endpoint.format();var l=t.parse(n),c=this.options.bucket;l.hostname="".concat(c,".").concat(l.hostname),l.host="".concat(c,".").concat(l.host),n=l.format()}return n+this._escape(this._objectName(a))}},{"../utils/isIP":73,"core-js/modules/es.array.concat.js":310,url:543}],37:[function(e,o,d){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),s=r(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var i=r(e("@babel/runtime/helpers/asyncToGenerator")),u=e("fs"),a=e("is-type-of"),n=e("../utils/isObject"),l=n.isObject,c=d;c.get=function(){var f=(0,i.default)(s.default.mark(function y(m,g){var h,_,j,T,S,b,E,O,C=arguments;return s.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return h=C.length>2&&C[2]!==void 0?C[2]:{},_=null,j=!1,a.writableStream(g)?_=g:a.string(g)?(_=u.createWriteStream(g),j=!0):l(g)&&(h=g),h=h||{},T=t&&t.browser,S=h.responseCacheControl===null?"":"no-cache",b=T&&S?{"response-cache-control":S}:{},h.subres=Object.assign(b,h.subres),h.versionId&&(h.subres.versionId=h.versionId),h.process&&(h.subres["x-oss-process"]=h.process),A.prev=11,O=this._objectRequestParams("GET",m,h),O.writeStream=_,O.successStatuses=[200,206,304],A.next=17,this.request(O);case 17:E=A.sent,j&&_.destroy(),A.next=28;break;case 21:if(A.prev=21,A.t0=A.catch(11),!j){A.next=27;break}return _.destroy(),A.next=27,this._deleteFileSafe(g);case 27:throw A.t0;case 28:return A.abrupt("return",{res:E.res,content:E.data});case 29:case"end":return A.stop()}},y,this,[[11,21]])}));function p(y,m){return f.apply(this,arguments)}return p}()}).call(this)}).call(this,e("_process"))},{"../utils/isObject":74,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,_process:538,"core-js/modules/es.object.assign.js":325,fs:102,"is-type-of":537}],38:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.getACL=function(){var u=(0,s.default)(r.default.mark(function n(l){var c,f,p,y=arguments;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return c=y.length>1&&y[1]!==void 0?y[1]:{},c.subres=Object.assign({acl:""},c.subres),c.versionId&&(c.subres.versionId=c.versionId),l=this._objectName(l),f=this._objectRequestParams("GET",l,c),f.successStatuses=[200],f.xmlResponse=!0,g.next=9,this.request(f);case 9:return p=g.sent,g.abrupt("return",{acl:p.data.AccessControlList.Grant,owner:{id:p.data.Owner.ID,displayName:p.data.Owner.DisplayName},res:p.res});case 11:case"end":return g.stop()}},n,this)}));function a(n){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],39:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.number.constructor.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d,u=e("../utils/isObject"),a=u.isObject,n=e("../utils/isArray"),l=n.isArray,c=e("../utils/parseRestoreInfo"),f=c.parseRestoreInfo;i.getBucketVersions=p,i.listObjectVersions=p;function p(){return y.apply(this,arguments)}function y(){return y=(0,s.default)(r.default.mark(function h(){var _,j,T,S,b,E,O,C,k=arguments;return r.default.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(_=k.length>0&&k[0]!==void 0?k[0]:{},j=k.length>1&&k[1]!==void 0?k[1]:{},!(_.versionIdMarker&&_.keyMarker===void 0)){I.next=4;break}throw new Error("A version-id marker cannot be specified without a key marker");case 4:return j.subres=Object.assign({versions:""},j.subres),j.versionId&&(j.subres.versionId=j.versionId),T=this._objectRequestParams("GET","",j),T.xmlResponse=!0,T.successStatuses=[200],T.query=g(_),I.next=12,this.request(T);case 12:return S=I.sent,b=S.data.Version||[],E=S.data.DeleteMarker||[],O=this,b&&(Array.isArray(b)||(b=[b]),b=b.map(function(D){return{name:D.Key,url:O._objectUrl(D.Key),lastModified:D.LastModified,isLatest:D.IsLatest==="true",versionId:D.VersionId,etag:D.ETag,type:D.Type,size:Number(D.Size),storageClass:D.StorageClass,owner:{id:D.Owner.ID,displayName:D.Owner.DisplayName},restoreInfo:f(D.RestoreInfo)}})),E&&(l(E)||(E=[E]),E=E.map(function(D){return{name:D.Key,lastModified:D.LastModified,versionId:D.VersionId,owner:{id:D.Owner.ID,displayName:D.Owner.DisplayName}}})),C=S.data.CommonPrefixes||null,C&&(l(C)||(C=[C]),C=C.map(function(D){return D.Prefix})),I.abrupt("return",{res:S.res,objects:b,deleteMarker:E,prefixes:C,nextMarker:S.data.NextKeyMarker||null,NextVersionIdMarker:S.data.NextVersionIdMarker||null,nextKeyMarker:S.data.NextKeyMarker||null,nextVersionIdMarker:S.data.NextVersionIdMarker||null,isTruncated:S.data.IsTruncated==="true"});case 21:case"end":return I.stop()}},h,this)})),y.apply(this,arguments)}function m(h){return h.replace(/([A-Z])/g,"-$1").toLowerCase()}function g(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_={};return a(h)&&Object.keys(h).forEach(function(j){_[m(j)]=h[j]}),_}},{"../utils/isArray":67,"../utils/isObject":74,"../utils/parseRestoreInfo":78,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.map.js":318,"core-js/modules/es.number.constructor.js":324,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380}],40:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.getObjectMeta=function(){var u=(0,s.default)(r.default.mark(function n(l,c){var f,p;return r.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return c=c||{},l=this._objectName(l),c.subres=Object.assign({objectMeta:""},c.subres),c.versionId&&(c.subres.versionId=c.versionId),f=this._objectRequestParams("HEAD",l,c),f.successStatuses=[200],m.next=8,this.request(f);case 8:return p=m.sent,m.abrupt("return",{status:p.status,res:p.res});case 10:case"end":return m.stop()}},n,this)}));function a(n,l){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],41:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d,u=e("../utils/isObject"),a=u.isObject;i.getObjectTagging=function(){var n=(0,s.default)(r.default.mark(function c(f){var p,y,m,g,h,_,j=arguments;return r.default.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return p=j.length>1&&j[1]!==void 0?j[1]:{},p.subres=Object.assign({tagging:""},p.subres),p.versionId&&(p.subres.versionId=p.versionId),f=this._objectName(f),y=this._objectRequestParams("GET",f,p),y.successStatuses=[200],S.next=8,this.request(y);case 8:return m=S.sent,S.next=11,this.parseXML(m.data);case 11:return g=S.sent,h=g.TagSet.Tag,h=h&&a(h)?[h]:h||[],_={},h.forEach(function(b){_[b.Key]=b.Value}),S.abrupt("return",{status:m.status,res:m.res,tag:_});case 17:case"end":return S.stop()}},c,this)}));function l(c){return n.apply(this,arguments)}return l}()},{"../utils/isObject":74,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.to-string.js":329,"core-js/modules/web.dom-collections.for-each.js":380}],42:[function(e,o,d){var t=e("../utils/isIP"),r=t.isIP,s=d;s.getObjectUrl=function(u,a){if(r(this.options.endpoint.hostname))throw new Error("can not get the object URL when endpoint is IP");return a?a[a.length-1]!=="/"&&(a+="/"):a=this.options.endpoint.format(),a+this._escape(this._objectName(u))}},{"../utils/isIP":73}],43:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.getSymlink=function(){var u=(0,s.default)(r.default.mark(function n(l){var c,f,p,y,m=arguments;return r.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return c=m.length>1&&m[1]!==void 0?m[1]:{},c.subres=Object.assign({symlink:""},c.subres),c.versionId&&(c.subres.versionId=c.versionId),l=this._objectName(l),f=this._objectRequestParams("GET",l,c),f.successStatuses=[200],h.next=8,this.request(f);case 8:return p=h.sent,y=p.res.headers["x-oss-symlink-target"],h.abrupt("return",{targetName:decodeURIComponent(y),res:p.res});case 11:case"end":return h.stop()}},n,this)}));function a(n){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],44:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/checkEnv"),u=i.checkEnv,a=d;a.head=function(){var n=(0,s.default)(r.default.mark(function c(f){var p,y,m,g,h=arguments;return r.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return p=h.length>1&&h[1]!==void 0?h[1]:{},u("Because HeadObject has gzip enabled, head cannot get the file size correctly. If you need to get the file size, please use getObjectMeta"),p.subres=Object.assign({},p.subres),p.versionId&&(p.subres.versionId=p.versionId),y=this._objectRequestParams("HEAD",f,p),y.successStatuses=[200,304],j.next=8,this.request(y);case 8:return m=j.sent,g={meta:null,res:m.res,status:m.status},m.status===200&&Object.keys(m.headers).forEach(function(T){T.indexOf("x-oss-meta-")===0&&(g.meta||(g.meta={}),g.meta[T.substring(11)]=m.headers[T])}),j.abrupt("return",g);case 12:case"end":return j.stop()}},c,this)}));function l(c){return n.apply(this,arguments)}return l}()},{"../utils/checkEnv":55,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/web.dom-collections.for-each.js":380}],45:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.putACL=function(){var u=(0,s.default)(r.default.mark(function n(l,c,f){var p,y;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return f=f||{},f.subres=Object.assign({acl:""},f.subres),f.versionId&&(f.subres.versionId=f.versionId),f.headers=f.headers||{},f.headers["x-oss-object-acl"]=c,l=this._objectName(l),p=this._objectRequestParams("PUT",l,f),p.successStatuses=[200],g.next=10,this.request(p);case 10:return y=g.sent,g.abrupt("return",{res:y.res});case 12:case"end":return g.stop()}},n,this)}));function a(n,l,c){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],46:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.object.keys.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("../utils/obj2xml"),u=i.obj2xml,a=e("../utils/checkObjectTag"),n=a.checkObjectTag,l=d;l.putObjectTagging=function(){var c=(0,s.default)(r.default.mark(function p(y,m){var g,h,_,j,T=arguments;return r.default.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=T.length>2&&T[2]!==void 0?T[2]:{},n(m),g.subres=Object.assign({tagging:""},g.subres),g.versionId&&(g.subres.versionId=g.versionId),y=this._objectName(y),h=this._objectRequestParams("PUT",y,g),h.successStatuses=[200],m=Object.keys(m).map(function(E){return{Key:E,Value:m[E]}}),_={Tagging:{TagSet:{Tag:m}}},h.mime="xml",h.content=u(_),b.next=13,this.request(h);case 13:return j=b.sent,b.abrupt("return",{res:j.res,status:j.status});case 15:case"end":return b.stop()}},p,this)}));function f(p,y){return c.apply(this,arguments)}return f}()},{"../utils/checkObjectTag":56,"../utils/obj2xml":76,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.map.js":318,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.keys.js":328}],47:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=d;i.putSymlink=function(){var u=(0,s.default)(r.default.mark(function n(l,c,f){var p,y;return r.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return f=f||{},f.headers=f.headers||{},c=this._escape(this._objectName(c)),this._convertMetaToHeaders(f.meta,f.headers),f.headers["x-oss-symlink-target"]=c,f.subres=Object.assign({symlink:""},f.subres),f.versionId&&(f.subres.versionId=f.versionId),f.storageClass&&(f.headers["x-oss-storage-class"]=f.storageClass),l=this._objectName(l),p=this._objectRequestParams("PUT",l,f),p.successStatuses=[200],g.next=13,this.request(p);case 13:return y=g.sent,g.abrupt("return",{res:y.res});case 15:case"end":return g.stop()}},n,this)}));function a(n,l,c){return u.apply(this,arguments)}return a}()},{"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.object.assign.js":325}],48:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js");var r=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(d,"__esModule",{value:!0}),d.signPostObjectPolicyV4=void 0;var s=r(e("dateformat")),i=e("../utils/getStandardRegion"),u=e("../utils/policy2Str"),a=e("../signUtils");function n(l,c){var f=t.from(u.policy2Str(l),"utf8").toString("base64"),p=s.default(c,"UTC:yyyymmdd'T'HHMMss'Z'"),y=p.split("T")[0],m=a.getSignatureV4(this.options.accessKeySecret,y,i.getStandardRegion(this.options.region),f);return m}d.signPostObjectPolicyV4=n}).call(this)}).call(this,e("buffer").Buffer)},{"../signUtils":52,"../utils/getStandardRegion":65,"../utils/policy2Str":79,buffer:103,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339,dateformat:383}],49:[function(e,o,d){e("core-js/modules/es.regexp.exec.js");var t=e("url"),r=e("utility"),s=e("copy-to"),i=e("../../common/signUtils"),u=e("../utils/isIP"),a=u.isIP,n=d;n.signatureUrl=function(c,f){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(a(this.options.endpoint.hostname))throw new Error("can not get the object URL when endpoint is IP");if(p&&/^\?/.test(c))throw new Error("Invalid object name ".concat(c));f=f||{},c=this._objectName(c),f.method=f.method||"GET";var y=r.timestamp()+(f.expires||1800),m={bucket:this.options.bucket,object:c},g=this._getResource(m);this.options.stsToken&&(f["security-token"]=this.options.stsToken);var h=i._signatureForURL(this.options.accessKeySecret,f,g,y),_=t.parse(this._getReqUrl(m));return _.query={OSSAccessKeyId:this.options.accessKeyId,Expires:y,Signature:h.Signature},s(h.subResource).to(_.query),_.format()}},{"../../common/signUtils":52,"../utils/isIP":73,"copy-to":107,"core-js/modules/es.regexp.exec.js":338,url:543,utility:545}],50:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.array.join.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("dateformat"),u=e("url"),a=e("../../common/signUtils"),n=e("../utils/setSTSToken"),l=n.setSTSToken,c=e("../utils/isFunction"),f=c.isFunction,p=e("../utils/getStandardRegion"),y=p.getStandardRegion,m=d;m.signatureUrlV4=function(){var g=(0,s.default)(r.default.mark(function _(j,T,S,b,E){var O,C,k,A,I,D,F,Q,te,$,Z,ne;return r.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(O=this.options.cloudBoxId,C=a.getProduct(O),k=a.getSignRegion(y(this.options.region),O),A=S&&S.headers||{},I=Object.assign({},S&&S.queries||{}),D=new Date,F=i(D,"UTC:yyyymmdd'T'HHMMss'Z'"),Q=F.split("T")[0],te=a.fixAdditionalHeaders(E),te.length>0&&(I["x-oss-additional-headers"]=te.join(";")),I["x-oss-credential"]=a.getCredential(Q,k,this.options.accessKeyId,C),I["x-oss-date"]=F,I["x-oss-expires"]=T,I["x-oss-signature-version"]="OSS4-HMAC-SHA256",!(this.options.stsToken&&f(this.options.refreshSTSToken))){J.next=17;break}return J.next=17,l.call(this);case 17:return this.options.stsToken&&(I["x-oss-security-token"]=this.options.stsToken),$=a.getCanonicalRequest(j,{headers:A,queries:I},this.options.bucket,b,te),Z=a.getStringToSign(k,F,$,C),I["x-oss-signature"]=a.getSignatureV4(this.options.accessKeySecret,Q,k,Z,C),ne=u.parse(this._getReqUrl({bucket:this.options.bucket,object:b})),ne.query=Object.assign({},I),J.abrupt("return",ne.format());case 24:case"end":return J.stop()}},_,this)}));function h(_,j,T,S,b){return g.apply(this,arguments)}return h}()},{"../../common/signUtils":52,"../utils/getStandardRegion":65,"../utils/isFunction":72,"../utils/setSTSToken":82,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.join.js":317,"core-js/modules/es.object.assign.js":325,dateformat:383,url:543}],51:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.function.name.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator")),i=e("./utils/isArray"),u=i.isArray,a=d;a._parallelNode=function(){var n=(0,s.default)(r.default.mark(function c(f,p,y,m){var g,h,_,j,T,S,b,E;return r.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:g=this,h=[],_=[],j=f.length/p,T=f.length%p,S=T===0?j:(f.length-T)/p+1,b=1,E=0;case 8:if(!(E<f.length)){C.next=26;break}if(!g.isCancel()){C.next=11;break}return C.abrupt("break",26);case 11:if(m?_.push(y(g,f[E],m)):_.push(y(g,f[E])),!(_.length===p||b===S&&E===f.length-1)){C.next=23;break}return C.prev=13,b+=1,C.next=17,Promise.all(_);case 17:C.next=22;break;case 19:C.prev=19,C.t0=C.catch(13),h.push(C.t0);case 22:_=[];case 23:E++,C.next=8;break;case 26:return C.abrupt("return",h);case 27:case"end":return C.stop()}},c,this,[[13,19]])}));function l(c,f,p,y){return n.apply(this,arguments)}return l}(),a._parallel=function(l,c,f){var p=this;return new Promise(function(y){var m=[];if(c<=0||!l){y(m);return}function g(C){return function(){if(C===null)throw new Error("Callback was already called.");var k=C;C=null;for(var A=arguments.length,I=new Array(A),D=0;D<A;D++)I[D]=arguments[D];k.apply(this,I)}}function h(C){var k=-1,A=C.length;return function(){return++k<A&&!p.isCancel()?{value:C[k],key:k}:null}}var _=h(l),j=!1,T=0,S=!1;function b(C){T-=1,C?(j=!0,m.push(C),y(m)):j&&T<=0?(j=!0,y(m)):S||(p.isCancel()?y(m):O())}function E(C,k){f(C).then(function(A){k(null,A)}).catch(function(A){k(A)})}function O(){for(S=!0;T<c&&!j&&!p.isCancel();){var C=_();if(C===null||m.length>0){j=!0,T<=0&&y(m);return}T+=1,E(C.value,g(b))}S=!1}O()})},a.cancel=function(l){this.options.cancelFlag=!0,u(this.multipartUploadStreams)&&this.multipartUploadStreams.forEach(function(c){if(c.destroyed===!1){var f={name:"cancel",message:"cancel"};c.destroy(f)}}),this.multipartUploadStreams=[],l&&this.abortMultipartUpload(l.name,l.uploadId,l.options)},a.isCancel=function(){return this.options.cancelFlag},a.resetCancelFlag=function(){this.options.cancelFlag=!1},a._stop=function(){this.options.cancelFlag=!0},a._makeCancelEvent=function(){var l={status:0,name:"cancel"};return l},a._makeAbortEvent=function(){var l={status:0,name:"abort",message:"upload task has been abort"};return l}},{"./utils/isArray":67,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.iterator.js":316,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.string.iterator.js":343,"core-js/modules/web.dom-collections.for-each.js":380,"core-js/modules/web.dom-collections.iterator.js":381}],52:[function(e,o,d){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),s=r(e("@babel/runtime/helpers/toConsumableArray"));e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.array.sort.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.filter.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.set.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.string.starts-with.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.entries.js"),e("core-js/modules/es.regexp.to-string.js");var i=e("./../../shims/crypto/crypto.js"),u=e("is-type-of"),a=e("qs"),n=e("./utils/lowercaseKeyHeader"),l=n.lowercaseKeyHeader,c=e("./utils/encodeString"),f=c.encodeString;d.getProduct=function(y){return y===void 0?"oss":"oss-cloudbox"},d.getSignRegion=function(y,m){return m===void 0?y:m},d.buildCanonicalizedResource=function(y,m){var g="".concat(y),h="?";if(u.string(m)&&m.trim()!=="")g+=h+m;else if(u.array(m))m.sort(),g+=h+m.join("&");else if(m){var _=function(T){g+=h+T,(m[T]||m[T]===0)&&(g+="=".concat(m[T])),h="&"};Object.keys(m).sort().forEach(_)}return g},d.buildCanonicalString=function(y,m,g,h){g=g||{};var _=l(g.headers),j="x-oss-",T=[],S={},b=[y.toUpperCase(),_["content-md5"]||"",_["content-type"],h||_["x-oss-date"]];return Object.keys(_).forEach(function(E){var O=E.toLowerCase();O.indexOf(j)===0&&(S[O]=String(_[E]).trim())}),Object.keys(S).sort().forEach(function(E){T.push("".concat(E,":").concat(S[E]))}),b=b.concat(T),b.push(this.buildCanonicalizedResource(m,g.parameters)),b.join(`
`)},d.computeSignature=function(y,m){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"utf-8",h=i.createHmac("sha1",y);return h.update(t.from(m,g)).digest("base64")},d.authorization=function(y,m,g,h){return"OSS ".concat(y,":").concat(this.computeSignature(m,g,h))},d.fixAdditionalHeaders=function(p){if(!p)return[];var y="x-oss-";return(0,s.default)(new Set(p.map(function(m){return m.toLowerCase()}))).filter(function(m){return m!=="content-type"&&m!=="content-md5"&&!m.startsWith(y)}).sort()},d.getCanonicalRequest=function(y,m,g,h,_){var j=l(m.headers),T=m.queries||{},S="x-oss-";if(h&&!g)throw Error("Please ensure that bucketName is passed into getCanonicalRequest.");var b=[y.toUpperCase(),f("/".concat(g?"".concat(g,"/"):"").concat(h||"")).replace(/%2F/g,"/")];b.push(a.stringify(T,{encoder:f,sort:function(k,A){return k.localeCompare(A)},strictNullHandling:!0})),_&&_.forEach(function(C){if(!Object.prototype.hasOwnProperty.call(j,C))throw Error("Can't find additional header ".concat(C," in request headers."))});var E=new Set(_);Object.keys(j).forEach(function(C){(C==="content-type"||C==="content-md5"||C.startsWith(S))&&E.add(C)});var O="".concat((0,s.default)(E).sort().map(function(C){return"".concat(C,":").concat(u.string(j[C])?j[C].trim():j[C],`
`)}).join(""));return b.push(O),_&&_.length>0?b.push(_.join(";")):b.push(""),b.push(j["x-oss-content-sha256"]||"UNSIGNED-PAYLOAD"),b.join(`
`)},d.getCredential=function(y,m,g){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"oss",_="".concat(y,"/").concat(m,"/").concat(h,"/aliyun_v4_request");return g?"".concat(g,"/").concat(_):_},d.getStringToSign=function(y,m,g){var h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"oss",_=["OSS4-HMAC-SHA256",m,this.getCredential(m.split("T")[0],y,void 0,h),i.createHash("sha256").update(g).digest("hex")];return _.join(`
`)},d.getSignatureV4=function(y,m,g,h){var _=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"oss",j=i.createHmac("sha256","aliyun_v4".concat(y)).update(m).digest(),T=i.createHmac("sha256",j).update(g).digest(),S=i.createHmac("sha256",T).update(_).digest(),b=i.createHmac("sha256",S).update("aliyun_v4_request").digest(),E=i.createHmac("sha256",b).update(h).digest("hex");return E},d.authorizationV4=function(y,m,g,h,_,j,T,S){var b=arguments.length>8&&arguments[8]!==void 0?arguments[8]:"utf-8",E=arguments.length>9?arguments[9]:void 0,O=this.getProduct(E),C=this.fixAdditionalHeaders(S),k={};Object.entries(_.headers).forEach(function($){k[$[0]]=u.string($[1])?t.from($[1],b).toString():$[1]});var A=k["x-oss-date"]||_.queries&&_.queries["x-oss-date"],I=this.getCanonicalRequest(h,{headers:k,queries:_.queries},j,T,C),D=this.getStringToSign(g,A,I,O),F=A.split("T")[0],Q=this.getSignatureV4(m,F,g,D,O),te=C.length>0?"AdditionalHeaders=".concat(C.join(";"),","):"";return"OSS4-HMAC-SHA256 Credential=".concat(this.getCredential(F,g,y,O),",").concat(te,"Signature=").concat(Q)},d._signatureForURL=function(y){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,_=arguments.length>4?arguments[4]:void 0,j={},T=m.subResource,S=T===void 0?{}:T;if(m.process){var b="x-oss-process";S[b]=m.process}if(m.trafficLimit){var E="x-oss-traffic-limit";S[E]=m.trafficLimit}if(m.response&&Object.keys(m.response).forEach(function(A){var I="response-".concat(A.toLowerCase());S[I]=m.response[A]}),Object.keys(m).forEach(function(A){var I=A.toLowerCase(),D=m[A];I.indexOf("x-oss-")===0?j[I]=D:(I.indexOf("content-md5")===0||I.indexOf("content-type")===0)&&(j[A]=D)}),Object.prototype.hasOwnProperty.call(m,"security-token")&&(S["security-token"]=m["security-token"]),Object.prototype.hasOwnProperty.call(m,"callback")){var O={callbackUrl:encodeURI(m.callback.url),callbackBody:m.callback.body};if(m.callback.host&&(O.callbackHost=m.callback.host),m.callback.contentType&&(O.callbackBodyType=m.callback.contentType),m.callback.callbackSNI&&(O.callbackSNI=m.callback.callbackSNI),S.callback=t.from(JSON.stringify(O)).toString("base64"),m.callback.customValue){var C={};Object.keys(m.callback.customValue).forEach(function(A){C["x:".concat(A)]=m.callback.customValue[A]}),S["callback-var"]=t.from(JSON.stringify(C)).toString("base64")}}var k=this.buildCanonicalString(m.method,g,{headers:j,parameters:S},h.toString());return{Signature:this.computeSignature(y,k,_),subResource:S}}}).call(this)}).call(this,e("buffer").Buffer)},{"./../../shims/crypto/crypto.js":531,"./utils/encodeString":61,"./utils/lowercaseKeyHeader":75,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/toConsumableArray":90,buffer:103,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.filter.js":312,"core-js/modules/es.array.iterator.js":316,"core-js/modules/es.array.join.js":317,"core-js/modules/es.array.map.js":318,"core-js/modules/es.array.sort.js":320,"core-js/modules/es.object.entries.js":326,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.set.js":341,"core-js/modules/es.string.iterator.js":343,"core-js/modules/es.string.replace.js":345,"core-js/modules/es.string.starts-with.js":348,"core-js/modules/es.string.trim.js":349,"core-js/modules/web.dom-collections.for-each.js":380,"core-js/modules/web.dom-collections.iterator.js":381,"is-type-of":537,qs:445}],53:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.checkBucketName=void 0,d.checkBucketName=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=r?/^[a-z0-9][a-z0-9-]{1,61}[a-z0-9]$/:/^[a-z0-9_][a-z0-9-_]{1,61}[a-z0-9_]$/;if(!s.test(t))throw new Error("The bucket must be conform to the specifications")}},{"core-js/modules/es.regexp.exec.js":338}],54:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.checkConfigValid=void 0;var t={endpoint:r,region:/^[a-zA-Z0-9\-_]+$/};function r(s){return typeof s=="string"?/^[a-zA-Z0-9._:/-]+$/.test(s):s.host?/^[a-zA-Z0-9._:/-]+$/.test(s.host):!1}d.checkConfigValid=function(s,i){if(t[i]){var u=!0;if(t[i]instanceof Function?u=t[i](s):u=t[i].test(s),!u)throw new Error("The ".concat(i," must be conform to the specifications"))}}},{"core-js/modules/es.regexp.exec.js":338}],55:[function(e,o,d){(function(t){(function(){Object.defineProperty(d,"__esModule",{value:!0}),d.checkEnv=void 0;function r(s){t.browser&&console.warn(s)}d.checkEnv=r}).call(this)}).call(this,e("_process"))},{_process:538}],56:[function(e,o,d){e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.object.entries.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.checkObjectTag=void 0;var t=e("./checkValid"),r=t.checkValid,s=e("./isObject"),i=s.isObject,u=[{validator:function(c){if(typeof c!="string")throw new Error("the key and value of the tag must be String")}},{pattern:/^[a-zA-Z0-9 +-=._:/]+$/,msg:"tag can contain letters, numbers, spaces, and the following symbols: plus sign (+), hyphen (-), equal sign (=), period (.), underscore (_), colon (:), and forward slash (/)"}],a={key:[].concat(u,[{pattern:/^.{1,128}$/,msg:"tag key can be a maximum of 128 bytes in length"}]),value:[].concat(u,[{pattern:/^.{0,256}$/,msg:"tag value can be a maximum of 256 bytes in length"}])};function n(l){if(!i(l))throw new Error("tag must be Object");var c=Object.entries(l);if(c.length>10)throw new Error("maximum of 10 tags for a object");var f=["key","value"];c.forEach(function(p){p.forEach(function(y,m){r(y,a[f[m]])})})}d.checkObjectTag=n},{"./checkValid":57,"./isObject":74,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.object.entries.js":326,"core-js/modules/es.object.to-string.js":329,"core-js/modules/web.dom-collections.for-each.js":380}],57:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.regexp.exec.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.checkValid=void 0;function t(r,s){s.forEach(function(i){if(i.validator)i.validator(r);else if(i.pattern&&!i.pattern.test(r))throw new Error(i.msg)})}d.checkValid=t},{"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/web.dom-collections.for-each.js":380}],58:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.string.includes.js"),e("core-js/modules/es.object.assign.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.entries.js"),e("core-js/modules/es.array.concat.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.createRequest=void 0;var r=e("./../../../shims/crypto/crypto.js"),s=e("debug")("ali-oss"),i=e("lodash/isString"),u=e("lodash/isArray"),a=e("lodash/isObject"),n=e("mime"),l=e("dateformat"),c=e("copy-to"),f=e("path"),p=e("./encoder"),y=p.encoder,m=e("./isIP"),g=m.isIP,h=e("./setRegion"),_=h.setRegion,j=e("../client/getReqUrl"),T=j.getReqUrl,S=e("./isDingTalk"),b=S.isDingTalk;function E(k,A){return k[A]||k[A.toLowerCase()]}function O(k,A){delete k[A],delete k[A.toLowerCase()]}function C(k){var A=new Date;this.options.amendTimeSkewed&&(A=+new Date+this.options.amendTimeSkewed);var I={"x-oss-date":l(A,this.options.authorizationV4?"UTC:yyyymmdd'T'HHMMss'Z'":"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'")};this.options.authorizationV4&&(I["x-oss-content-sha256"]="UNSIGNED-PAYLOAD"),typeof window!="undefined"&&(I["x-oss-user-agent"]=this.userAgent),this.userAgent.includes("nodejs")&&(I["User-Agent"]=this.userAgent),this.options.isRequestPay&&Object.assign(I,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(I["x-oss-security-token"]=this.options.stsToken),c(k.headers).to(I),E(I,"Content-Type")||(k.mime&&k.mime.indexOf("/")>0?I["Content-Type"]=k.mime:b()?I["Content-Type"]="application/octet-stream":I["Content-Type"]=n.getType(k.mime||f.extname(k.object||""))),E(I,"Content-Type")||O(I,"Content-Type"),k.content&&(k.disabledMD5||(!k.headers||!k.headers["Content-MD5"]?I["Content-MD5"]=r.createHash("md5").update(t.from(k.content,"utf8")).digest("base64"):I["Content-MD5"]=k.headers["Content-MD5"]),I["Content-Length"]||(I["Content-Length"]=k.content.length));var D=Object.prototype.hasOwnProperty;for(var F in I)I[F]&&D.call(I,F)&&(I[F]=y(String(I[F]),this.options.headerEncoding));var Q={};if(i(k.subres)?Q[k.subres]=null:u(k.subres)?k.subres.forEach(function(X){Q[X]=null}):a(k.subres)&&Object.entries(k.subres).forEach(function(X){Q[X[0]]=X[1]===""?null:X[1]}),a(k.query)&&Object.entries(k.query).forEach(function(X){Q[X[0]]=X[1]}),I.authorization=this.options.authorizationV4?this.authorizationV4(k.method,{headers:I,queries:Q},k.bucket,k.object,k.additionalHeaders):this.authorization(k.method,this._getResource(k),k.subres,I,this.options.headerEncoding),g(this.options.endpoint.hostname)){var te=this.options,$=te.region,Z=te.internal,ne=te.secure,ie=_($,Z,ne);I.host="".concat(k.bucket,".").concat(ie.host)}var J=T.bind(this)(k);s("request %s %s, with headers %j, !!stream: %s",k.method,J,I,!!k.stream);var Y=k.timeout||this.options.timeout,K={method:k.method,content:k.content,stream:k.stream,headers:I,timeout:Y,writeStream:k.writeStream,customResponse:k.customResponse,ctx:k.ctx||this.ctx};return this.agent&&(K.agent=this.agent),this.httpsAgent&&(K.httpsAgent=this.httpsAgent),K.enableProxy=!!this.options.enableProxy,K.proxy=this.options.proxy?this.options.proxy:null,{url:J,params:K}}d.createRequest=C}).call(this)}).call(this,e("buffer").Buffer)},{"../client/getReqUrl":25,"./../../../shims/crypto/crypto.js":531,"./encoder":62,"./isDingTalk":70,"./isIP":73,"./setRegion":81,buffer:103,"copy-to":107,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.entries.js":326,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.string.includes.js":342,"core-js/modules/web.dom-collections.for-each.js":380,dateformat:383,debug:536,"lodash/isArray":422,"lodash/isObject":423,"lodash/isString":425,mime:430,path:439}],59:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.entries.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.object.keys.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.dataFix=void 0;var t=e("./isObject"),r=["true","TRUE","1",1],s=["false","FALSE","0",0];function i(n,l,c){if(t.isObject(n)){var f=l.remove,p=f===void 0?[]:f,y=l.rename,m=y===void 0?{}:y,g=l.camel,h=g===void 0?[]:g,_=l.bool,j=_===void 0?[]:_,T=l.lowerFirst,S=T===void 0?!1:T;return p.forEach(function(b){return delete n[b]}),Object.entries(m).forEach(function(b){n[b[0]]&&(n[b[1]]||(n[b[1]]=n[b[0]],delete n[b[0]]))}),h.forEach(function(b){if(n[b]){var E=b.replace(/^(.)/,function(O){return O.toLowerCase()}).replace(/-(\w)/g,function(O,C){return C.toUpperCase()});n[E]||(n[E]=n[b])}}),j.forEach(function(b){n[b]=u(n[b])}),typeof c=="function"&&c(n),a(n,S),i}}d.dataFix=i;function u(n){return n?r.includes(n)?!0:s.includes(n)?!1:n:!1}function a(n,l){l&&Object.keys(n).forEach(function(c){var f=c.replace(/^\w/,function(p){return p.toLowerCase()});typeof n[f]=="undefined"&&(n[f]=n[c],delete n[c])})}},{"./isObject":74,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.object.entries.js":326,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380}],60:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js");var r=t(e("@babel/runtime/helpers/typeof"));Object.defineProperty(d,"__esModule",{value:!0}),d.deepCopyWith=d.deepCopy=void 0;var s=e("./isBuffer");d.deepCopy=function(i){if(i===null||(0,r.default)(i)!=="object")return i;if(s.isBuffer(i))return i.slice();var u=Array.isArray(i)?[]:{};return Object.keys(i).forEach(function(a){u[a]=d.deepCopy(i[a])}),u},d.deepCopyWith=function(i,u){function a(n,l,c){var f=u(n,l,c);if(f!==void 0)return f;if(n===null||(0,r.default)(n)!=="object")return n;if(s.isBuffer(n))return n.slice();var p=Array.isArray(n)?[]:{};return Object.keys(n).forEach(function(y){p[y]=a(n[y],y,n)}),p}return u?a(i,"",null):d.deepCopy(i)}},{"./isBuffer":69,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/web.dom-collections.for-each.js":380}],61:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js");var t=function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.encodeString=void 0;var r=t(e("lodash/toString"));function s(i){var u=r.default(i);return encodeURIComponent(u).replace(/[!'()*]/g,function(a){return"%".concat(a.charCodeAt(0).toString(16).toUpperCase())})}d.encodeString=s},{"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.replace.js":345,"lodash/toString":427}],62:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.encoder=void 0;function r(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf-8";return i==="utf-8"?s:t.from(s).toString("latin1")}d.encoder=r}).call(this)}).call(this,e("buffer").Buffer)},{buffer:103,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339}],63:[function(e,o,d){e("core-js/modules/es.array.map.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.formatInventoryConfig=void 0;var t=e("../utils/dataFix"),r=e("../utils/isObject"),s=e("../utils/isArray"),i=e("../utils/formatObjKey");function u(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return l&&r.isObject(n)&&(n=[n]),s.isArray(n)?n=n.map(a):n=a(n),n}d.formatInventoryConfig=u;function a(n){return t.dataFix(n,{bool:["IsEnabled"]},function(l){var c,f;l.prefix=l.Filter.Prefix,delete l.Filter,l.OSSBucketDestination=l.Destination.OSSBucketDestination,l.OSSBucketDestination.rolename=l.OSSBucketDestination.RoleArn.replace(/.*\//,""),delete l.OSSBucketDestination.RoleArn,l.OSSBucketDestination.bucket=l.OSSBucketDestination.Bucket.replace(/.*:::/,""),delete l.OSSBucketDestination.Bucket,delete l.Destination,l.frequency=l.Schedule.Frequency,delete l.Schedule.Frequency,!((c=l==null?void 0:l.OptionalFields)===null||c===void 0)&&c.Field&&!s.isArray((f=l.OptionalFields)===null||f===void 0?void 0:f.Field)&&(l.OptionalFields.Field=[l.OptionalFields.Field])}),n=i.formatObjKey(n,"firstLowerCase",{exclude:["OSSBucketDestination","SSE-OSS","SSE-KMS"]}),n}},{"../utils/dataFix":59,"../utils/formatObjKey":64,"../utils/isArray":67,"../utils/isObject":74,"core-js/modules/es.array.map.js":318,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345}],64:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault");e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.string.includes.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js");var r=t(e("@babel/runtime/helpers/typeof"));Object.defineProperty(d,"__esModule",{value:!0}),d.formatObjKey=void 0;function s(u,a,n){if(u===null||(0,r.default)(u)!=="object")return u;var l;if(Array.isArray(u)){l=[];for(var c=0;c<u.length;c++)l.push(s(u[c],a,n))}else l={},Object.keys(u).forEach(function(f){l[i(f,a,n)]=s(u[f],a,n)});return l}d.formatObjKey=s;function i(u,a,n){return n&&n.exclude&&n.exclude.includes(u)||(a==="firstUpperCase"?u=u.replace(/^./,function(l){return l.toUpperCase()}):a==="firstLowerCase"&&(u=u.replace(/^./,function(l){return l.toLowerCase()}))),u}},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.includes.js":342,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380}],65:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.getStandardRegion=void 0;function t(r){return r.replace(/^oss-/g,"")}d.getStandardRegion=t},{"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.replace.js":345}],66:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.getStrBytesCount=void 0;function t(r){for(var s=0,i=0;i<r.length;i++){var u=r.charAt(i);/^[\u00-\uff]$/.test(u)?s+=1:s+=2}return s}d.getStrBytesCount=t},{"core-js/modules/es.regexp.exec.js":338}],67:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.isArray=void 0,d.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}},{"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339}],68:[function(e,o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.isBlob=void 0;function t(r){return typeof Blob!="undefined"&&r instanceof Blob}d.isBlob=t},{}],69:[function(e,o,d){(function(t){(function(){Object.defineProperty(d,"__esModule",{value:!0}),d.isBuffer=void 0;function r(s){return t.isBuffer(s)}d.isBuffer=r}).call(this)}).call(this,{isBuffer:e("../../../node_modules/is-buffer/index.js")})},{"../../../node_modules/is-buffer/index.js":409}],70:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.string.includes.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.isDingTalk=void 0;function r(){return!!(t.browser&&window.navigator.userAgent.toLowerCase().includes("aliapp(dingtalk"))}d.isDingTalk=r}).call(this)}).call(this,e("_process"))},{_process:538,"core-js/modules/es.array.includes.js":315,"core-js/modules/es.string.includes.js":342}],71:[function(e,o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.isFile=void 0,d.isFile=function(t){return typeof File!="undefined"&&t instanceof File}},{}],72:[function(e,o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.isFunction=void 0,d.isFunction=function(t){return typeof t=="function"}},{}],73:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.isIP=void 0,d.isIP=function(t){var r=/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/,s=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;return r.test(t)||s.test(t)}},{"core-js/modules/es.regexp.exec.js":338}],74:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.isObject=void 0,d.isObject=function(t){return Object.prototype.toString.call(t)==="[object Object]"}},{"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339}],75:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.lowercaseKeyHeader=void 0;var t=e("./isObject");function r(s){var i={};return t.isObject(s)&&Object.keys(s).forEach(function(u){i[u.toLowerCase()]=s[u]}),i}d.lowercaseKeyHeader=r},{"./isObject":74,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/web.dom-collections.for-each.js":380}],76:[function(e,o,d){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.map.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.obj2xml=void 0;var t=e("./formatObjKey");function r(i){return Object.prototype.toString.call(i).replace(/(.*? |])/g,"").toLowerCase()}function s(i,u){var a="";return u&&u.headers&&(a=`<?xml version="1.0" encoding="UTF-8"?>
`),u&&u.firstUpperCase&&(i=t.formatObjKey(i,"firstUpperCase")),r(i)==="object"?Object.keys(i).forEach(function(n){r(i[n])!=="undefined"&&r(i[n])!=="null"&&(r(i[n])==="string"||r(i[n])==="number"?a+="<".concat(n,">").concat(i[n],"</").concat(n,">"):r(i[n])==="object"?a+="<".concat(n,">").concat(s(i[n]),"</").concat(n,">"):r(i[n])==="array"?a+=i[n].map(function(l){return"<".concat(n,">").concat(s(l),"</").concat(n,">")}).join(""):a+="<".concat(n,">").concat(i[n].toString(),"</").concat(n,">"))}):a+=i.toString(),a}d.obj2xml=s},{"./formatObjKey":64,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.join.js":317,"core-js/modules/es.array.map.js":318,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.replace.js":345,"core-js/modules/web.dom-collections.for-each.js":380}],77:[function(e,o,d){e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.array.from.js"),e("core-js/modules/es.string.iterator.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.symbol.js"),e("core-js/modules/es.symbol.description.js"),e("core-js/modules/es.symbol.iterator.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/web.dom-collections.iterator.js"),e("core-js/modules/es.object.assign.js");function t(u,a){var n=typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(!n){if(Array.isArray(u)||(n=r(u))||a){n&&(u=n);var l=0,c=function(){};return{s:c,n:function(){return l>=u.length?{done:!0}:{done:!1,value:u[l++]}},e:function(g){throw g},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,p=!1,y;return{s:function(){n=n.call(u)},n:function(){var g=n.next();return f=g.done,g},e:function(g){p=!0,y=g},f:function(){try{!f&&n.return!=null&&n.return()}finally{if(p)throw y}}}}function r(u,a){if(u){if(typeof u=="string")return s(u,a);var n=Object.prototype.toString.call(u).slice(8,-1);if(n==="Object"&&u.constructor&&(n=u.constructor.name),n==="Map"||n==="Set")return Array.from(u);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(u,a)}}function s(u,a){(a==null||a>u.length)&&(a=u.length);for(var n=0,l=new Array(a);n<a;n++)l[n]=u[n];return l}Object.defineProperty(d,"__esModule",{value:!0}),d.omit=void 0;function i(u,a){var n=Object.assign({},u),l=t(a),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;delete n[f]}}catch(p){l.e(p)}finally{l.f()}return n}d.omit=i},{"core-js/modules/es.array.from.js":314,"core-js/modules/es.array.iterator.js":316,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.iterator.js":343,"core-js/modules/es.symbol.description.js":351,"core-js/modules/es.symbol.iterator.js":353,"core-js/modules/es.symbol.js":354,"core-js/modules/web.dom-collections.iterator.js":381}],78:[function(e,o,d){e("core-js/modules/es.array.includes.js"),e("core-js/modules/es.string.includes.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.match.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.parseRestoreInfo=void 0,d.parseRestoreInfo=function(t){var r;if(t&&(r={ongoingRequest:t.includes("true")},!r.ongoingRequest)){var s=t.match(/expiry-date="(.*)"/);s&&s[1]&&(r.expiryDate=new Date(s[1]))}return r}},{"core-js/modules/es.array.includes.js":315,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.includes.js":342,"core-js/modules/es.string.match.js":344}],79:[function(e,o,d){e("core-js/modules/es.object.keys.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.policy2Str=void 0;function t(r){var s;if(r)if(typeof r=="string")try{s=JSON.stringify(JSON.parse(r))}catch(i){throw new Error("Policy string is not a valid JSON: ".concat(i.message))}else s=JSON.stringify(r);return s}d.policy2Str=t},{"core-js/modules/es.object.keys.js":328}],80:[function(e,o,d){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),Object.defineProperty(d,"__esModule",{value:!0}),d.retry=void 0;function t(r,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=0,a=i.retryDelay,n=a===void 0?500:a,l=i.errorHandler,c=l===void 0?function(){return!0}:l,f=function p(){for(var y=arguments.length,m=new Array(y),g=0;g<y;g++)m[g]=arguments[g];return new Promise(function(h,_){r.apply(void 0,m).then(function(j){u=0,h(j)}).catch(function(j){u<s&&c(j)?(u++,setTimeout(function(){h(p.apply(void 0,m))},n)):(u=0,_(j))})})};return f}d.retry=t},{"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333}],81:[function(e,o,d){var t=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(d,"__esModule",{value:!0}),d.setRegion=void 0;var r=t(e("url")),s=e("./checkConfigValid");function i(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;s.checkConfigValid(u,"region");var l=n?"https://":"http://",c=a?"-internal.aliyuncs.com":".aliyuncs.com",f="vpc100-oss-cn-";return u.substr(0,f.length)===f&&(c=".aliyuncs.com"),r.default.parse(l+u+c)}d.setRegion=i},{"./checkConfigValid":54,url:543}],82:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/regenerator"));e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.array.find.js"),e("core-js/modules/es.object.assign.js");var s=t(e("@babel/runtime/helpers/asyncToGenerator"));Object.defineProperty(d,"__esModule",{value:!0}),d.checkCredentials=d.setSTSToken=void 0;var i=e("./formatObjKey");function u(){return a.apply(this,arguments)}function a(){return a=(0,s.default)(r.default.mark(function l(){var c,f;return r.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(this.options||(this.options={}),c=new Date,!this.stsTokenFreshTime){y.next=14;break}if(!(+c-this.stsTokenFreshTime>=this.options.refreshSTSTokenInterval)){y.next=12;break}return this.stsTokenFreshTime=c,y.next=7,this.options.refreshSTSToken();case 7:f=y.sent,f=i.formatObjKey(f,"firstLowerCase"),f.securityToken&&(f.stsToken=f.securityToken),n(f),Object.assign(this.options,f);case 12:y.next=15;break;case 14:this.stsTokenFreshTime=c;case 15:return y.abrupt("return",null);case 16:case"end":return y.stop()}},l,this)})),a.apply(this,arguments)}d.setSTSToken=u;function n(l){var c=["accessKeySecret","accessKeyId","stsToken"],f=Object.keys(l);c.forEach(function(p){if(!f.find(function(y){return y===p}))throw Error("refreshSTSToken must return contains ".concat(p))})}d.checkCredentials=n},{"./formatObjKey":64,"@babel/runtime/helpers/asyncToGenerator":85,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/regenerator":93,"core-js/modules/es.array.find.js":313,"core-js/modules/es.object.assign.js":325,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329}],83:[function(e,o,d){function t(r,s){(s==null||s>r.length)&&(s=r.length);for(var i=0,u=new Array(s);i<s;i++)u[i]=r[i];return u}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},{}],84:[function(e,o,d){var t=e("./arrayLikeToArray.js");function r(s){if(Array.isArray(s))return t(s)}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},{"./arrayLikeToArray.js":83}],85:[function(e,o,d){function t(s,i,u,a,n,l,c){try{var f=s[l](c),p=f.value}catch(y){u(y);return}f.done?i(p):Promise.resolve(p).then(a,n)}function r(s){return function(){var i=this,u=arguments;return new Promise(function(a,n){var l=s.apply(i,u);function c(p){t(l,a,n,c,f,"next",p)}function f(p){t(l,a,n,c,f,"throw",p)}c(void 0)})}}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},{}],86:[function(e,o,d){function t(r){return r&&r.__esModule?r:{default:r}}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},{}],87:[function(e,o,d){function t(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},{}],88:[function(e,o,d){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},{}],89:[function(e,o,d){var t=e("./typeof.js").default;function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o.exports=r=function(){return i},o.exports.__esModule=!0,o.exports.default=o.exports;var s,i={},u=Object.prototype,a=u.hasOwnProperty,n=Object.defineProperty||function(J,Y,K){J[Y]=K.value},l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.asyncIterator||"@@asyncIterator",p=l.toStringTag||"@@toStringTag";function y(J,Y,K){return Object.defineProperty(J,Y,{value:K,enumerable:!0,configurable:!0,writable:!0}),J[Y]}try{y({},"")}catch(J){y=function(K,X,U){return K[X]=U}}function m(J,Y,K,X){var U=Y&&Y.prototype instanceof b?Y:b,se=Object.create(U.prototype),oe=new ne(X||[]);return n(se,"_invoke",{value:Q(J,K,oe)}),se}function g(J,Y,K){try{return{type:"normal",arg:J.call(Y,K)}}catch(X){return{type:"throw",arg:X}}}i.wrap=m;var h="suspendedStart",_="suspendedYield",j="executing",T="completed",S={};function b(){}function E(){}function O(){}var C={};y(C,c,function(){return this});var k=Object.getPrototypeOf,A=k&&k(k(ie([])));A&&A!==u&&a.call(A,c)&&(C=A);var I=O.prototype=b.prototype=Object.create(C);function D(J){["next","throw","return"].forEach(function(Y){y(J,Y,function(K){return this._invoke(Y,K)})})}function F(J,Y){function K(U,se,oe,ae){var de=g(J[U],J,se);if(de.type!=="throw"){var G=de.arg,R=G.value;return R&&t(R)=="object"&&a.call(R,"__await")?Y.resolve(R.__await).then(function(L){K("next",L,oe,ae)},function(L){K("throw",L,oe,ae)}):Y.resolve(R).then(function(L){G.value=L,oe(G)},function(L){return K("throw",L,oe,ae)})}ae(de.arg)}var X;n(this,"_invoke",{value:function(se,oe){function ae(){return new Y(function(de,G){K(se,oe,de,G)})}return X=X?X.then(ae,ae):ae()}})}function Q(J,Y,K){var X=h;return function(U,se){if(X===j)throw new Error("Generator is already running");if(X===T){if(U==="throw")throw se;return{value:s,done:!0}}for(K.method=U,K.arg=se;;){var oe=K.delegate;if(oe){var ae=te(oe,K);if(ae){if(ae===S)continue;return ae}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(X===h)throw X=T,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);X=j;var de=g(J,Y,K);if(de.type==="normal"){if(X=K.done?T:_,de.arg===S)continue;return{value:de.arg,done:K.done}}de.type==="throw"&&(X=T,K.method="throw",K.arg=de.arg)}}}function te(J,Y){var K=Y.method,X=J.iterator[K];if(X===s)return Y.delegate=null,K==="throw"&&J.iterator.return&&(Y.method="return",Y.arg=s,te(J,Y),Y.method==="throw")||K!=="return"&&(Y.method="throw",Y.arg=new TypeError("The iterator does not provide a '"+K+"' method")),S;var U=g(X,J.iterator,Y.arg);if(U.type==="throw")return Y.method="throw",Y.arg=U.arg,Y.delegate=null,S;var se=U.arg;return se?se.done?(Y[J.resultName]=se.value,Y.next=J.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=s),Y.delegate=null,S):se:(Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,S)}function $(J){var Y={tryLoc:J[0]};1 in J&&(Y.catchLoc=J[1]),2 in J&&(Y.finallyLoc=J[2],Y.afterLoc=J[3]),this.tryEntries.push(Y)}function Z(J){var Y=J.completion||{};Y.type="normal",delete Y.arg,J.completion=Y}function ne(J){this.tryEntries=[{tryLoc:"root"}],J.forEach($,this),this.reset(!0)}function ie(J){if(J||J===""){var Y=J[c];if(Y)return Y.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length)){var K=-1,X=function U(){for(;++K<J.length;)if(a.call(J,K))return U.value=J[K],U.done=!1,U;return U.value=s,U.done=!0,U};return X.next=X}}throw new TypeError(t(J)+" is not iterable")}return E.prototype=O,n(I,"constructor",{value:O,configurable:!0}),n(O,"constructor",{value:E,configurable:!0}),E.displayName=y(O,p,"GeneratorFunction"),i.isGeneratorFunction=function(J){var Y=typeof J=="function"&&J.constructor;return!!Y&&(Y===E||(Y.displayName||Y.name)==="GeneratorFunction")},i.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,O):(J.__proto__=O,y(J,p,"GeneratorFunction")),J.prototype=Object.create(I),J},i.awrap=function(J){return{__await:J}},D(F.prototype),y(F.prototype,f,function(){return this}),i.AsyncIterator=F,i.async=function(J,Y,K,X,U){U===void 0&&(U=Promise);var se=new F(m(J,Y,K,X),U);return i.isGeneratorFunction(Y)?se:se.next().then(function(oe){return oe.done?oe.value:se.next()})},D(I),y(I,p,"Generator"),y(I,c,function(){return this}),y(I,"toString",function(){return"[object Generator]"}),i.keys=function(J){var Y=Object(J),K=[];for(var X in Y)K.push(X);return K.reverse(),function U(){for(;K.length;){var se=K.pop();if(se in Y)return U.value=se,U.done=!1,U}return U.done=!0,U}},i.values=ie,ne.prototype={constructor:ne,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(Z),!Y)for(var K in this)K.charAt(0)==="t"&&a.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=s)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var K=this;function X(G,R){return oe.type="throw",oe.arg=Y,K.next=G,R&&(K.method="next",K.arg=s),!!R}for(var U=this.tryEntries.length-1;U>=0;--U){var se=this.tryEntries[U],oe=se.completion;if(se.tryLoc==="root")return X("end");if(se.tryLoc<=this.prev){var ae=a.call(se,"catchLoc"),de=a.call(se,"finallyLoc");if(ae&&de){if(this.prev<se.catchLoc)return X(se.catchLoc,!0);if(this.prev<se.finallyLoc)return X(se.finallyLoc)}else if(ae){if(this.prev<se.catchLoc)return X(se.catchLoc,!0)}else{if(!de)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return X(se.finallyLoc)}}}},abrupt:function(Y,K){for(var X=this.tryEntries.length-1;X>=0;--X){var U=this.tryEntries[X];if(U.tryLoc<=this.prev&&a.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var se=U;break}}se&&(Y==="break"||Y==="continue")&&se.tryLoc<=K&&K<=se.finallyLoc&&(se=null);var oe=se?se.completion:{};return oe.type=Y,oe.arg=K,se?(this.method="next",this.next=se.finallyLoc,S):this.complete(oe)},complete:function(Y,K){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&K&&(this.next=K),S},finish:function(Y){for(var K=this.tryEntries.length-1;K>=0;--K){var X=this.tryEntries[K];if(X.finallyLoc===Y)return this.complete(X.completion,X.afterLoc),Z(X),S}},catch:function(Y){for(var K=this.tryEntries.length-1;K>=0;--K){var X=this.tryEntries[K];if(X.tryLoc===Y){var U=X.completion;if(U.type==="throw"){var se=U.arg;Z(X)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(Y,K,X){return this.delegate={iterator:ie(Y),resultName:K,nextLoc:X},this.method==="next"&&(this.arg=s),S}},i}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},{"./typeof.js":91}],90:[function(e,o,d){var t=e("./arrayWithoutHoles.js"),r=e("./iterableToArray.js"),s=e("./unsupportedIterableToArray.js"),i=e("./nonIterableSpread.js");function u(a){return t(a)||r(a)||s(a)||i()}o.exports=u,o.exports.__esModule=!0,o.exports.default=o.exports},{"./arrayWithoutHoles.js":84,"./iterableToArray.js":87,"./nonIterableSpread.js":88,"./unsupportedIterableToArray.js":92}],91:[function(e,o,d){function t(r){"@babel/helpers - typeof";return o.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},o.exports.__esModule=!0,o.exports.default=o.exports,t(r)}o.exports=t,o.exports.__esModule=!0,o.exports.default=o.exports},{}],92:[function(e,o,d){var t=e("./arrayLikeToArray.js");function r(s,i){if(s){if(typeof s=="string")return t(s,i);var u=Object.prototype.toString.call(s).slice(8,-1);if(u==="Object"&&s.constructor&&(u=s.constructor.name),u==="Map"||u==="Set")return Array.from(s);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return t(s,i)}}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},{"./arrayLikeToArray.js":83}],93:[function(e,o,d){var t=e("../helpers/regeneratorRuntime")();o.exports=t;try{regeneratorRuntime=t}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},{"../helpers/regeneratorRuntime":89}],94:[function(e,o,d){o.exports=t,o.exports.HttpsAgent=t;function t(){}},{}],95:[function(e,o,d){(function(t){(function(){var r=e("object.assign/polyfill")();/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function s(F,Q){if(F===Q)return 0;for(var te=F.length,$=Q.length,Z=0,ne=Math.min(te,$);Z<ne;++Z)if(F[Z]!==Q[Z]){te=F[Z],$=Q[Z];break}return te<$?-1:$<te?1:0}function i(F){return t.Buffer&&typeof t.Buffer.isBuffer=="function"?t.Buffer.isBuffer(F):!!(F!=null&&F._isBuffer)}var u=e("util/"),a=Object.prototype.hasOwnProperty,n=Array.prototype.slice,l=function(){return function(){}.name==="foo"}();function c(F){return Object.prototype.toString.call(F)}function f(F){return i(F)||typeof t.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(F):F?!!(F instanceof DataView||F.buffer&&F.buffer instanceof ArrayBuffer):!1}var p=o.exports=T,y=/\s*function\s+([^\(\s]*)\s*/;function m(F){if(u.isFunction(F)){if(l)return F.name;var Q=F.toString(),te=Q.match(y);return te&&te[1]}}p.AssertionError=function(Q){this.name="AssertionError",this.actual=Q.actual,this.expected=Q.expected,this.operator=Q.operator,Q.message?(this.message=Q.message,this.generatedMessage=!1):(this.message=_(this),this.generatedMessage=!0);var te=Q.stackStartFunction||j;if(Error.captureStackTrace)Error.captureStackTrace(this,te);else{var $=new Error;if($.stack){var Z=$.stack,ne=m(te),ie=Z.indexOf(`
`+ne);if(ie>=0){var J=Z.indexOf(`
`,ie+1);Z=Z.substring(J+1)}this.stack=Z}}},u.inherits(p.AssertionError,Error);function g(F,Q){return typeof F=="string"?F.length<Q?F:F.slice(0,Q):F}function h(F){if(l||!u.isFunction(F))return u.inspect(F);var Q=m(F),te=Q?": "+Q:"";return"[Function"+te+"]"}function _(F){return g(h(F.actual),128)+" "+F.operator+" "+g(h(F.expected),128)}function j(F,Q,te,$,Z){throw new p.AssertionError({message:te,actual:F,expected:Q,operator:$,stackStartFunction:Z})}p.fail=j;function T(F,Q){F||j(F,!0,Q,"==",p.ok)}p.ok=T,p.equal=function(Q,te,$){Q!=te&&j(Q,te,$,"==",p.equal)},p.notEqual=function(Q,te,$){Q==te&&j(Q,te,$,"!=",p.notEqual)},p.deepEqual=function(Q,te,$){S(Q,te,!1)||j(Q,te,$,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(Q,te,$){S(Q,te,!0)||j(Q,te,$,"deepStrictEqual",p.deepStrictEqual)};function S(F,Q,te,$){if(F===Q)return!0;if(i(F)&&i(Q))return s(F,Q)===0;if(u.isDate(F)&&u.isDate(Q))return F.getTime()===Q.getTime();if(u.isRegExp(F)&&u.isRegExp(Q))return F.source===Q.source&&F.global===Q.global&&F.multiline===Q.multiline&&F.lastIndex===Q.lastIndex&&F.ignoreCase===Q.ignoreCase;if((F===null||typeof F!="object")&&(Q===null||typeof Q!="object"))return te?F===Q:F==Q;if(f(F)&&f(Q)&&c(F)===c(Q)&&!(F instanceof Float32Array||F instanceof Float64Array))return s(new Uint8Array(F.buffer),new Uint8Array(Q.buffer))===0;if(i(F)!==i(Q))return!1;$=$||{actual:[],expected:[]};var Z=$.actual.indexOf(F);return Z!==-1&&Z===$.expected.indexOf(Q)?!0:($.actual.push(F),$.expected.push(Q),E(F,Q,te,$))}function b(F){return Object.prototype.toString.call(F)=="[object Arguments]"}function E(F,Q,te,$){if(F==null||Q===null||Q===void 0)return!1;if(u.isPrimitive(F)||u.isPrimitive(Q))return F===Q;if(te&&Object.getPrototypeOf(F)!==Object.getPrototypeOf(Q))return!1;var Z=b(F),ne=b(Q);if(Z&&!ne||!Z&&ne)return!1;if(Z)return F=n.call(F),Q=n.call(Q),S(F,Q,te);var ie=D(F),J=D(Q),Y,K;if(ie.length!==J.length)return!1;for(ie.sort(),J.sort(),K=ie.length-1;K>=0;K--)if(ie[K]!==J[K])return!1;for(K=ie.length-1;K>=0;K--)if(Y=ie[K],!S(F[Y],Q[Y],te,$))return!1;return!0}p.notDeepEqual=function(Q,te,$){S(Q,te,!1)&&j(Q,te,$,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=O;function O(F,Q,te){S(F,Q,!0)&&j(F,Q,te,"notDeepStrictEqual",O)}p.strictEqual=function(Q,te,$){Q!==te&&j(Q,te,$,"===",p.strictEqual)},p.notStrictEqual=function(Q,te,$){Q===te&&j(Q,te,$,"!==",p.notStrictEqual)};function C(F,Q){if(!F||!Q)return!1;if(Object.prototype.toString.call(Q)=="[object RegExp]")return Q.test(F);try{if(F instanceof Q)return!0}catch(te){}return Error.isPrototypeOf(Q)?!1:Q.call({},F)===!0}function k(F){var Q;try{F()}catch(te){Q=te}return Q}function A(F,Q,te,$){var Z;if(typeof Q!="function")throw new TypeError('"block" argument must be a function');typeof te=="string"&&($=te,te=null),Z=k(Q),$=(te&&te.name?" ("+te.name+").":".")+($?" "+$:"."),F&&!Z&&j(Z,te,"Missing expected exception"+$);var ne=typeof $=="string",ie=!F&&u.isError(Z),J=!F&&Z&&!te;if((ie&&ne&&C(Z,te)||J)&&j(Z,te,"Got unwanted exception"+$),F&&Z&&te&&!C(Z,te)||!F&&Z)throw Z}p.throws=function(F,Q,te){A(!0,F,Q,te)},p.doesNotThrow=function(F,Q,te){A(!1,F,Q,te)},p.ifError=function(F){if(F)throw F};function I(F,Q){F||j(F,!0,Q,"==",I)}p.strict=r(I,p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var D=Object.keys||function(F){var Q=[];for(var te in F)a.call(F,te)&&Q.push(te);return Q}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"object.assign/polyfill":438,"util/":98}],96:[function(e,o,d){typeof Object.create=="function"?o.exports=function(r,s){r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:o.exports=function(r,s){r.super_=s;var i=function(){};i.prototype=s.prototype,r.prototype=new i,r.prototype.constructor=r}},{}],97:[function(e,o,d){o.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],98:[function(e,o,d){(function(t,r){(function(){var s=/%[sdj%]/g;d.format=function(J){if(!E(J)){for(var Y=[],K=0;K<arguments.length;K++)Y.push(a(arguments[K]));return Y.join(" ")}for(var K=1,X=arguments,U=X.length,se=String(J).replace(s,function(ae){if(ae==="%%")return"%";if(K>=U)return ae;switch(ae){case"%s":return String(X[K++]);case"%d":return Number(X[K++]);case"%j":try{return JSON.stringify(X[K++])}catch(de){return"[Circular]"}default:return ae}}),oe=X[K];K<U;oe=X[++K])T(oe)||!A(oe)?se+=" "+oe:se+=" "+a(oe);return se},d.deprecate=function(J,Y){if(C(r.process))return function(){return d.deprecate(J,Y).apply(this,arguments)};if(t.noDeprecation===!0)return J;var K=!1;function X(){if(!K){if(t.throwDeprecation)throw new Error(Y);t.traceDeprecation?console.trace(Y):console.error(Y),K=!0}return J.apply(this,arguments)}return X};var i={},u;d.debuglog=function(J){if(C(u)&&(u=t.env.NODE_DEBUG||""),J=J.toUpperCase(),!i[J])if(new RegExp("\\b"+J+"\\b","i").test(u)){var Y=t.pid;i[J]=function(){var K=d.format.apply(d,arguments);console.error("%s %d: %s",J,Y,K)}}else i[J]=function(){};return i[J]};function a(J,Y){var K={seen:[],stylize:l};return arguments.length>=3&&(K.depth=arguments[2]),arguments.length>=4&&(K.colors=arguments[3]),j(Y)?K.showHidden=Y:Y&&d._extend(K,Y),C(K.showHidden)&&(K.showHidden=!1),C(K.depth)&&(K.depth=2),C(K.colors)&&(K.colors=!1),C(K.customInspect)&&(K.customInspect=!0),K.colors&&(K.stylize=n),f(K,J,K.depth)}d.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(J,Y){var K=a.styles[Y];return K?"\x1B["+a.colors[K][0]+"m"+J+"\x1B["+a.colors[K][1]+"m":J}function l(J,Y){return J}function c(J){var Y={};return J.forEach(function(K,X){Y[K]=!0}),Y}function f(J,Y,K){if(J.customInspect&&Y&&F(Y.inspect)&&Y.inspect!==d.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var X=Y.inspect(K,J);return E(X)||(X=f(J,X,K)),X}var U=p(J,Y);if(U)return U;var se=Object.keys(Y),oe=c(se);if(J.showHidden&&(se=Object.getOwnPropertyNames(Y)),D(Y)&&(se.indexOf("message")>=0||se.indexOf("description")>=0))return y(Y);if(se.length===0){if(F(Y)){var ae=Y.name?": "+Y.name:"";return J.stylize("[Function"+ae+"]","special")}if(k(Y))return J.stylize(RegExp.prototype.toString.call(Y),"regexp");if(I(Y))return J.stylize(Date.prototype.toString.call(Y),"date");if(D(Y))return y(Y)}var de="",G=!1,R=["{","}"];if(_(Y)&&(G=!0,R=["[","]"]),F(Y)){var L=Y.name?": "+Y.name:"";de=" [Function"+L+"]"}if(k(Y)&&(de=" "+RegExp.prototype.toString.call(Y)),I(Y)&&(de=" "+Date.prototype.toUTCString.call(Y)),D(Y)&&(de=" "+y(Y)),se.length===0&&(!G||Y.length==0))return R[0]+de+R[1];if(K<0)return k(Y)?J.stylize(RegExp.prototype.toString.call(Y),"regexp"):J.stylize("[Object]","special");J.seen.push(Y);var M;return G?M=m(J,Y,K,oe,se):M=se.map(function(le){return g(J,Y,K,oe,le,G)}),J.seen.pop(),h(M,de,R)}function p(J,Y){if(C(Y))return J.stylize("undefined","undefined");if(E(Y)){var K="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return J.stylize(K,"string")}if(b(Y))return J.stylize(""+Y,"number");if(j(Y))return J.stylize(""+Y,"boolean");if(T(Y))return J.stylize("null","null")}function y(J){return"["+Error.prototype.toString.call(J)+"]"}function m(J,Y,K,X,U){for(var se=[],oe=0,ae=Y.length;oe<ae;++oe)ie(Y,String(oe))?se.push(g(J,Y,K,X,String(oe),!0)):se.push("");return U.forEach(function(de){de.match(/^\d+$/)||se.push(g(J,Y,K,X,de,!0))}),se}function g(J,Y,K,X,U,se){var oe,ae,de;if(de=Object.getOwnPropertyDescriptor(Y,U)||{value:Y[U]},de.get?de.set?ae=J.stylize("[Getter/Setter]","special"):ae=J.stylize("[Getter]","special"):de.set&&(ae=J.stylize("[Setter]","special")),ie(X,U)||(oe="["+U+"]"),ae||(J.seen.indexOf(de.value)<0?(T(K)?ae=f(J,de.value,null):ae=f(J,de.value,K-1),ae.indexOf(`
`)>-1&&(se?ae=ae.split(`
`).map(function(G){return"  "+G}).join(`
`).substr(2):ae=`
`+ae.split(`
`).map(function(G){return"   "+G}).join(`
`))):ae=J.stylize("[Circular]","special")),C(oe)){if(se&&U.match(/^\d+$/))return ae;oe=JSON.stringify(""+U),oe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(oe=oe.substr(1,oe.length-2),oe=J.stylize(oe,"name")):(oe=oe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),oe=J.stylize(oe,"string"))}return oe+": "+ae}function h(J,Y,K){var X=J.reduce(function(U,se){return se.indexOf(`
`)>=0,U+se.replace(/\u001b\[\d\d?m/g,"").length+1},0);return X>60?K[0]+(Y===""?"":Y+`
 `)+" "+J.join(`,
  `)+" "+K[1]:K[0]+Y+" "+J.join(", ")+" "+K[1]}function _(J){return Array.isArray(J)}d.isArray=_;function j(J){return typeof J=="boolean"}d.isBoolean=j;function T(J){return J===null}d.isNull=T;function S(J){return J==null}d.isNullOrUndefined=S;function b(J){return typeof J=="number"}d.isNumber=b;function E(J){return typeof J=="string"}d.isString=E;function O(J){return typeof J=="symbol"}d.isSymbol=O;function C(J){return J===void 0}d.isUndefined=C;function k(J){return A(J)&&te(J)==="[object RegExp]"}d.isRegExp=k;function A(J){return typeof J=="object"&&J!==null}d.isObject=A;function I(J){return A(J)&&te(J)==="[object Date]"}d.isDate=I;function D(J){return A(J)&&(te(J)==="[object Error]"||J instanceof Error)}d.isError=D;function F(J){return typeof J=="function"}d.isFunction=F;function Q(J){return J===null||typeof J=="boolean"||typeof J=="number"||typeof J=="string"||typeof J=="symbol"||typeof J=="undefined"}d.isPrimitive=Q,d.isBuffer=e("./support/isBuffer");function te(J){return Object.prototype.toString.call(J)}function $(J){return J<10?"0"+J.toString(10):J.toString(10)}var Z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(){var J=new Date,Y=[$(J.getHours()),$(J.getMinutes()),$(J.getSeconds())].join(":");return[J.getDate(),Z[J.getMonth()],Y].join(" ")}d.log=function(){console.log("%s - %s",ne(),d.format.apply(d,arguments))},d.inherits=e("inherits"),d._extend=function(J,Y){if(!Y||!A(Y))return J;for(var K=Object.keys(Y),X=K.length;X--;)J[K[X]]=Y[K[X]];return J};function ie(J,Y){return Object.prototype.hasOwnProperty.call(J,Y)}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./support/isBuffer":97,_process:538,inherits:96}],99:[function(e,o,d){(function(t){(function(){var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],s=typeof globalThis=="undefined"?t:globalThis;o.exports=function(){for(var u=[],a=0;a<r.length;a++)typeof s[r[a]]=="function"&&(u[u.length]=r[a]);return u}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],100:[function(e,o,d){d.byteLength=l,d.toByteArray=f,d.fromByteArray=m;for(var t=[],r=[],s=typeof Uint8Array!="undefined"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,a=i.length;u<a;++u)t[u]=i[u],r[i.charCodeAt(u)]=u;r[45]=62,r[95]=63;function n(g){var h=g.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=h);var j=_===h?0:4-_%4;return[_,j]}function l(g){var h=n(g),_=h[0],j=h[1];return(_+j)*3/4-j}function c(g,h,_){return(h+_)*3/4-_}function f(g){var h,_=n(g),j=_[0],T=_[1],S=new s(c(g,j,T)),b=0,E=T>0?j-4:j,O;for(O=0;O<E;O+=4)h=r[g.charCodeAt(O)]<<18|r[g.charCodeAt(O+1)]<<12|r[g.charCodeAt(O+2)]<<6|r[g.charCodeAt(O+3)],S[b++]=h>>16&255,S[b++]=h>>8&255,S[b++]=h&255;return T===2&&(h=r[g.charCodeAt(O)]<<2|r[g.charCodeAt(O+1)]>>4,S[b++]=h&255),T===1&&(h=r[g.charCodeAt(O)]<<10|r[g.charCodeAt(O+1)]<<4|r[g.charCodeAt(O+2)]>>2,S[b++]=h>>8&255,S[b++]=h&255),S}function p(g){return t[g>>18&63]+t[g>>12&63]+t[g>>6&63]+t[g&63]}function y(g,h,_){for(var j,T=[],S=h;S<_;S+=3)j=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(g[S+2]&255),T.push(p(j));return T.join("")}function m(g){for(var h,_=g.length,j=_%3,T=[],S=16383,b=0,E=_-j;b<E;b+=S)T.push(y(g,b,b+S>E?E:b+S));return j===1?(h=g[_-1],T.push(t[h>>2]+t[h<<4&63]+"==")):j===2&&(h=(g[_-2]<<8)+g[_-1],T.push(t[h>>10]+t[h>>4&63]+t[h<<2&63]+"=")),T.join("")}},{}],101:[function(e,o,d){/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */(function(t,r,s){typeof o!="undefined"&&o.exports?o.exports=s():t[r]=s()})(this,"bowser",function(){var t=!0;function r(c){function f(J){var Y=c.match(J);return Y&&Y.length>1&&Y[1]||""}function p(J){var Y=c.match(J);return Y&&Y.length>1&&Y[2]||""}var y=f(/(ipod|iphone|ipad)/i).toLowerCase(),m=/like android/i.test(c),g=!m&&/android/i.test(c),h=/nexus\s*[0-6]\s*/i.test(c),_=!h&&/nexus\s*[0-9]+/i.test(c),j=/CrOS/.test(c),T=/silk/i.test(c),S=/sailfish/i.test(c),b=/tizen/i.test(c),E=/(web|hpw)(o|0)s/i.test(c),O=/windows phone/i.test(c),C=!O&&/windows/i.test(c),k=!y&&!T&&/macintosh/i.test(c),A=!g&&!S&&!b&&!E&&/linux/i.test(c),I=p(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),D=f(/version\/(\d+(\.\d+)?)/i),F=/tablet/i.test(c)&&!/tablet pc/i.test(c),Q=!F&&/[^-]mobi/i.test(c),te=/xbox/i.test(c),$;/opera/i.test(c)?$={name:"Opera",opera:t,version:D||f(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(c)?$={name:"Opera",opera:t,version:f(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||D}:/SamsungBrowser/i.test(c)?$={name:"Samsung Internet for Android",samsungBrowser:t,version:D||f(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(c)?$={name:"NAVER Whale browser",whale:t,version:f(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(c)?$={name:"MZ Browser",mzbrowser:t,version:f(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(c)?$={name:"Opera Coast",coast:t,version:D||f(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(c)?$={name:"Focus",focus:t,version:f(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(c)?$={name:"Yandex Browser",yandexbrowser:t,version:D||f(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(c)?$={name:"UC Browser",ucbrowser:t,version:f(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(c)?$={name:"Maxthon",maxthon:t,version:f(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(c)?$={name:"Epiphany",epiphany:t,version:f(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(c)?$={name:"Puffin",puffin:t,version:f(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(c)?$={name:"Sleipnir",sleipnir:t,version:f(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(c)?$={name:"K-Meleon",kMeleon:t,version:f(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:O?($={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},I?($.msedge=t,$.version=I):($.msie=t,$.version=f(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(c)?$={name:"Internet Explorer",msie:t,version:f(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:j?$={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:f(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(c)?$={name:"Microsoft Edge",msedge:t,version:I}:/vivaldi/i.test(c)?$={name:"Vivaldi",vivaldi:t,version:f(/vivaldi\/(\d+(\.\d+)?)/i)||D}:S?$={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:f(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(c)?$={name:"SeaMonkey",seamonkey:t,version:f(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(c)?($={name:"Firefox",firefox:t,version:f(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(c)&&($.firefoxos=t,$.osname="Firefox OS")):T?$={name:"Amazon Silk",silk:t,version:f(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(c)?$={name:"PhantomJS",phantom:t,version:f(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(c)?$={name:"SlimerJS",slimer:t,version:f(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(c)||/rim\stablet/i.test(c)?$={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:D||f(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:E?($={name:"WebOS",osname:"WebOS",webos:t,version:D||f(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(c)&&($.touchpad=t)):/bada/i.test(c)?$={name:"Bada",osname:"Bada",bada:t,version:f(/dolfin\/(\d+(\.\d+)?)/i)}:b?$={name:"Tizen",osname:"Tizen",tizen:t,version:f(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||D}:/qupzilla/i.test(c)?$={name:"QupZilla",qupzilla:t,version:f(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||D}:/chromium/i.test(c)?$={name:"Chromium",chromium:t,version:f(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||D}:/chrome|crios|crmo/i.test(c)?$={name:"Chrome",chrome:t,version:f(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:g?$={name:"Android",version:D}:/safari|applewebkit/i.test(c)?($={name:"Safari",safari:t},D&&($.version=D)):y?($={name:y=="iphone"?"iPhone":y=="ipad"?"iPad":"iPod"},D&&($.version=D)):/googlebot/i.test(c)?$={name:"Googlebot",googlebot:t,version:f(/googlebot\/(\d+(\.\d+))/i)||D}:$={name:f(/^(.*)\/(.*) /),version:p(/^(.*)\/(.*) /)},!$.msedge&&/(apple)?webkit/i.test(c)?(/(apple)?webkit\/537\.36/i.test(c)?($.name=$.name||"Blink",$.blink=t):($.name=$.name||"Webkit",$.webkit=t),!$.version&&D&&($.version=D)):!$.opera&&/gecko\//i.test(c)&&($.name=$.name||"Gecko",$.gecko=t,$.version=$.version||f(/gecko\/(\d+(\.\d+)?)/i)),!$.windowsphone&&(g||$.silk)?($.android=t,$.osname="Android"):!$.windowsphone&&y?($[y]=t,$.ios=t,$.osname="iOS"):k?($.mac=t,$.osname="macOS"):te?($.xbox=t,$.osname="Xbox"):C?($.windows=t,$.osname="Windows"):A&&($.linux=t,$.osname="Linux");function Z(J){switch(J){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var ne="";$.windows?ne=Z(f(/Windows ((NT|XP)( \d\d?.\d)?)/i)):$.windowsphone?ne=f(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):$.mac?(ne=f(/Mac OS X (\d+([_\.\s]\d+)*)/i),ne=ne.replace(/[_\s]/g,".")):y?(ne=f(/os (\d+([_\s]\d+)*) like mac os x/i),ne=ne.replace(/[_\s]/g,".")):g?ne=f(/android[ \/-](\d+(\.\d+)*)/i):$.webos?ne=f(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):$.blackberry?ne=f(/rim\stablet\sos\s(\d+(\.\d+)*)/i):$.bada?ne=f(/bada\/(\d+(\.\d+)*)/i):$.tizen&&(ne=f(/tizen[\/\s](\d+(\.\d+)*)/i)),ne&&($.osversion=ne);var ie=!$.windows&&ne.split(".")[0];return F||_||y=="ipad"||g&&(ie==3||ie>=4&&!Q)||$.silk?$.tablet=t:(Q||y=="iphone"||y=="ipod"||g||h||$.blackberry||$.webos||$.bada)&&($.mobile=t),$.msedge||$.msie&&$.version>=10||$.yandexbrowser&&$.version>=15||$.vivaldi&&$.version>=1||$.chrome&&$.version>=20||$.samsungBrowser&&$.version>=4||$.whale&&a([$.version,"1.0"])===1||$.mzbrowser&&a([$.version,"6.0"])===1||$.focus&&a([$.version,"1.0"])===1||$.firefox&&$.version>=20||$.safari&&$.version>=6||$.opera&&$.version>=10||$.ios&&$.osversion&&$.osversion.split(".")[0]>=6||$.blackberry&&$.version>=10.1||$.chromium&&$.version>=20?$.a=t:$.msie&&$.version<10||$.chrome&&$.version<20||$.firefox&&$.version<20||$.safari&&$.version<6||$.opera&&$.version<10||$.ios&&$.osversion&&$.osversion.split(".")[0]<6||$.chromium&&$.version<20?$.c=t:$.x=t,$}var s=r(typeof navigator!="undefined"&&navigator.userAgent||"");s.test=function(c){for(var f=0;f<c.length;++f){var p=c[f];if(typeof p=="string"&&p in s)return!0}return!1};function i(c){return c.split(".").length}function u(c,f){var p=[],y;if(Array.prototype.map)return Array.prototype.map.call(c,f);for(y=0;y<c.length;y++)p.push(f(c[y]));return p}function a(c){for(var f=Math.max(i(c[0]),i(c[1])),p=u(c,function(y){var m=f-i(y);return y=y+new Array(m+1).join(".0"),u(y.split("."),function(g){return new Array(20-g.length).join("0")+g}).reverse()});--f>=0;){if(p[0][f]>p[1][f])return 1;if(p[0][f]===p[1][f]){if(f===0)return 0}else return-1}}function n(c,f,p){var y=s;typeof f=="string"&&(p=f,f=void 0),f===void 0&&(f=!1),p&&(y=r(p));var m=""+y.version;for(var g in c)if(c.hasOwnProperty(g)&&y[g]){if(typeof c[g]!="string")throw new Error("Browser version in the minVersion map should be a string: "+g+": "+String(c));return a([m,c[g]])<0}return f}function l(c,f,p){return!n(c,f,p)}return s.isUnsupportedBrowser=n,s.compareVersions=a,s.check=l,s._detect=r,s.detect=r,s})},{}],102:[function(e,o,d){},{}],103:[function(e,o,d){(function(t){(function(){var r=e("base64-js"),s=e("ieee754");d.Buffer=n,d.SlowBuffer=j,d.INSPECT_MAX_BYTES=50;var i=2147483647;d.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=u(),!n.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42}catch(N){return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function a(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');var N=new Uint8Array(z);return N.__proto__=n.prototype,N}function n(z,N,V){if(typeof z=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(z)}return l(z,N,V)}typeof Symbol!="undefined"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192;function l(z,N,V){if(typeof z=="string")return y(z,N);if(ArrayBuffer.isView(z))return m(z);if(z==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(W(z,ArrayBuffer)||z&&W(z.buffer,ArrayBuffer))return g(z,N,V);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var q=z.valueOf&&z.valueOf();if(q!=null&&q!==z)return n.from(q,N,V);var ue=h(z);if(ue)return ue;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return n.from(z[Symbol.toPrimitive]("string"),N,V);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}n.from=function(z,N,V){return l(z,N,V)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array;function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function f(z,N,V){return c(z),z<=0?a(z):N!==void 0?typeof V=="string"?a(z).fill(N,V):a(z).fill(N):a(z)}n.alloc=function(z,N,V){return f(z,N,V)};function p(z){return c(z),a(z<0?0:_(z)|0)}n.allocUnsafe=function(z){return p(z)},n.allocUnsafeSlow=function(z){return p(z)};function y(z,N){if((typeof N!="string"||N==="")&&(N="utf8"),!n.isEncoding(N))throw new TypeError("Unknown encoding: "+N);var V=T(z,N)|0,q=a(V),ue=q.write(z,N);return ue!==V&&(q=q.slice(0,ue)),q}function m(z){for(var N=z.length<0?0:_(z.length)|0,V=a(N),q=0;q<N;q+=1)V[q]=z[q]&255;return V}function g(z,N,V){if(N<0||z.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<N+(V||0))throw new RangeError('"length" is outside of buffer bounds');var q;return N===void 0&&V===void 0?q=new Uint8Array(z):V===void 0?q=new Uint8Array(z,N):q=new Uint8Array(z,N,V),q.__proto__=n.prototype,q}function h(z){if(n.isBuffer(z)){var N=_(z.length)|0,V=a(N);return V.length===0||z.copy(V,0,0,N),V}if(z.length!==void 0)return typeof z.length!="number"||ee(z.length)?a(0):m(z);if(z.type==="Buffer"&&Array.isArray(z.data))return m(z.data)}function _(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function j(z){return+z!=z&&(z=0),n.alloc(+z)}n.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==n.prototype},n.compare=function(N,V){if(W(N,Uint8Array)&&(N=n.from(N,N.offset,N.byteLength)),W(V,Uint8Array)&&(V=n.from(V,V.offset,V.byteLength)),!n.isBuffer(N)||!n.isBuffer(V))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===V)return 0;for(var q=N.length,ue=V.length,fe=0,ye=Math.min(q,ue);fe<ye;++fe)if(N[fe]!==V[fe]){q=N[fe],ue=V[fe];break}return q<ue?-1:ue<q?1:0},n.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(N,V){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return n.alloc(0);var q;if(V===void 0)for(V=0,q=0;q<N.length;++q)V+=N[q].length;var ue=n.allocUnsafe(V),fe=0;for(q=0;q<N.length;++q){var ye=N[q];if(W(ye,Uint8Array)&&(ye=n.from(ye)),!n.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(ue,fe),fe+=ye.length}return ue};function T(z,N){if(n.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||W(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);var V=z.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&V===0)return 0;for(var ue=!1;;)switch(N){case"ascii":case"latin1":case"binary":return V;case"utf8":case"utf-8":return R(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V*2;case"hex":return V>>>1;case"base64":return le(z).length;default:if(ue)return q?-1:R(z).length;N=(""+N).toLowerCase(),ue=!0}}n.byteLength=T;function S(z,N,V){var q=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((V===void 0||V>this.length)&&(V=this.length),V<=0)||(V>>>=0,N>>>=0,V<=N))return"";for(z||(z="utf8");;)switch(z){case"hex":return J(this,N,V);case"utf8":case"utf-8":return te(this,N,V);case"ascii":return ne(this,N,V);case"latin1":case"binary":return ie(this,N,V);case"base64":return Q(this,N,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,N,V);default:if(q)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),q=!0}}n.prototype._isBuffer=!0;function b(z,N,V){var q=z[N];z[N]=z[V],z[V]=q}n.prototype.swap16=function(){var N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var V=0;V<N;V+=2)b(this,V,V+1);return this},n.prototype.swap32=function(){var N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var V=0;V<N;V+=4)b(this,V,V+3),b(this,V+1,V+2);return this},n.prototype.swap64=function(){var N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var V=0;V<N;V+=8)b(this,V,V+7),b(this,V+1,V+6),b(this,V+2,V+5),b(this,V+3,V+4);return this},n.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?te(this,0,N):S.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(N){if(!n.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:n.compare(this,N)===0},n.prototype.inspect=function(){var N="",V=d.INSPECT_MAX_BYTES;return N=this.toString("hex",0,V).replace(/(.{2})/g,"$1 ").trim(),this.length>V&&(N+=" ... "),"<Buffer "+N+">"},n.prototype.compare=function(N,V,q,ue,fe){if(W(N,Uint8Array)&&(N=n.from(N,N.offset,N.byteLength)),!n.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(V===void 0&&(V=0),q===void 0&&(q=N?N.length:0),ue===void 0&&(ue=0),fe===void 0&&(fe=this.length),V<0||q>N.length||ue<0||fe>this.length)throw new RangeError("out of range index");if(ue>=fe&&V>=q)return 0;if(ue>=fe)return-1;if(V>=q)return 1;if(V>>>=0,q>>>=0,ue>>>=0,fe>>>=0,this===N)return 0;for(var ye=fe-ue,_e=q-V,Te=Math.min(ye,_e),je=this.slice(ue,fe),Oe=N.slice(V,q),ge=0;ge<Te;++ge)if(je[ge]!==Oe[ge]){ye=je[ge],_e=Oe[ge];break}return ye<_e?-1:_e<ye?1:0};function E(z,N,V,q,ue){if(z.length===0)return-1;if(typeof V=="string"?(q=V,V=0):V>2147483647?V=2147483647:V<-2147483648&&(V=-2147483648),V=+V,ee(V)&&(V=ue?0:z.length-1),V<0&&(V=z.length+V),V>=z.length){if(ue)return-1;V=z.length-1}else if(V<0)if(ue)V=0;else return-1;if(typeof N=="string"&&(N=n.from(N,q)),n.isBuffer(N))return N.length===0?-1:O(z,N,V,q,ue);if(typeof N=="number")return N=N&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(z,N,V):Uint8Array.prototype.lastIndexOf.call(z,N,V):O(z,[N],V,q,ue);throw new TypeError("val must be string, number or Buffer")}function O(z,N,V,q,ue){var fe=1,ye=z.length,_e=N.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(z.length<2||N.length<2)return-1;fe=2,ye/=2,_e/=2,V/=2}function Te(Ne,Ye){return fe===1?Ne[Ye]:Ne.readUInt16BE(Ye*fe)}var je;if(ue){var Oe=-1;for(je=V;je<ye;je++)if(Te(z,je)===Te(N,Oe===-1?0:je-Oe)){if(Oe===-1&&(Oe=je),je-Oe+1===_e)return Oe*fe}else Oe!==-1&&(je-=je-Oe),Oe=-1}else for(V+_e>ye&&(V=ye-_e),je=V;je>=0;je--){for(var ge=!0,Ee=0;Ee<_e;Ee++)if(Te(z,je+Ee)!==Te(N,Ee)){ge=!1;break}if(ge)return je}return-1}n.prototype.includes=function(N,V,q){return this.indexOf(N,V,q)!==-1},n.prototype.indexOf=function(N,V,q){return E(this,N,V,q,!0)},n.prototype.lastIndexOf=function(N,V,q){return E(this,N,V,q,!1)};function C(z,N,V,q){V=Number(V)||0;var ue=z.length-V;q?(q=Number(q),q>ue&&(q=ue)):q=ue;var fe=N.length;q>fe/2&&(q=fe/2);for(var ye=0;ye<q;++ye){var _e=parseInt(N.substr(ye*2,2),16);if(ee(_e))return ye;z[V+ye]=_e}return ye}function k(z,N,V,q){return ce(R(N,z.length-V),z,V,q)}function A(z,N,V,q){return ce(L(N),z,V,q)}function I(z,N,V,q){return A(z,N,V,q)}function D(z,N,V,q){return ce(le(N),z,V,q)}function F(z,N,V,q){return ce(M(N,z.length-V),z,V,q)}n.prototype.write=function(N,V,q,ue){if(V===void 0)ue="utf8",q=this.length,V=0;else if(q===void 0&&typeof V=="string")ue=V,q=this.length,V=0;else if(isFinite(V))V=V>>>0,isFinite(q)?(q=q>>>0,ue===void 0&&(ue="utf8")):(ue=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var fe=this.length-V;if((q===void 0||q>fe)&&(q=fe),N.length>0&&(q<0||V<0)||V>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");for(var ye=!1;;)switch(ue){case"hex":return C(this,N,V,q);case"utf8":case"utf-8":return k(this,N,V,q);case"ascii":return A(this,N,V,q);case"latin1":case"binary":return I(this,N,V,q);case"base64":return D(this,N,V,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,N,V,q);default:if(ye)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),ye=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(z,N,V){return N===0&&V===z.length?r.fromByteArray(z):r.fromByteArray(z.slice(N,V))}function te(z,N,V){V=Math.min(z.length,V);for(var q=[],ue=N;ue<V;){var fe=z[ue],ye=null,_e=fe>239?4:fe>223?3:fe>191?2:1;if(ue+_e<=V){var Te,je,Oe,ge;switch(_e){case 1:fe<128&&(ye=fe);break;case 2:Te=z[ue+1],(Te&192)===128&&(ge=(fe&31)<<6|Te&63,ge>127&&(ye=ge));break;case 3:Te=z[ue+1],je=z[ue+2],(Te&192)===128&&(je&192)===128&&(ge=(fe&15)<<12|(Te&63)<<6|je&63,ge>2047&&(ge<55296||ge>57343)&&(ye=ge));break;case 4:Te=z[ue+1],je=z[ue+2],Oe=z[ue+3],(Te&192)===128&&(je&192)===128&&(Oe&192)===128&&(ge=(fe&15)<<18|(Te&63)<<12|(je&63)<<6|Oe&63,ge>65535&&ge<1114112&&(ye=ge))}}ye===null?(ye=65533,_e=1):ye>65535&&(ye-=65536,q.push(ye>>>10&1023|55296),ye=56320|ye&1023),q.push(ye),ue+=_e}return Z(q)}var $=4096;function Z(z){var N=z.length;if(N<=$)return String.fromCharCode.apply(String,z);for(var V="",q=0;q<N;)V+=String.fromCharCode.apply(String,z.slice(q,q+=$));return V}function ne(z,N,V){var q="";V=Math.min(z.length,V);for(var ue=N;ue<V;++ue)q+=String.fromCharCode(z[ue]&127);return q}function ie(z,N,V){var q="";V=Math.min(z.length,V);for(var ue=N;ue<V;++ue)q+=String.fromCharCode(z[ue]);return q}function J(z,N,V){var q=z.length;(!N||N<0)&&(N=0),(!V||V<0||V>q)&&(V=q);for(var ue="",fe=N;fe<V;++fe)ue+=G(z[fe]);return ue}function Y(z,N,V){for(var q=z.slice(N,V),ue="",fe=0;fe<q.length;fe+=2)ue+=String.fromCharCode(q[fe]+q[fe+1]*256);return ue}n.prototype.slice=function(N,V){var q=this.length;N=~~N,V=V===void 0?q:~~V,N<0?(N+=q,N<0&&(N=0)):N>q&&(N=q),V<0?(V+=q,V<0&&(V=0)):V>q&&(V=q),V<N&&(V=N);var ue=this.subarray(N,V);return ue.__proto__=n.prototype,ue};function K(z,N,V){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+N>V)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUIntLE=function(N,V,q){N=N>>>0,V=V>>>0,q||K(N,V,this.length);for(var ue=this[N],fe=1,ye=0;++ye<V&&(fe*=256);)ue+=this[N+ye]*fe;return ue},n.prototype.readUIntBE=function(N,V,q){N=N>>>0,V=V>>>0,q||K(N,V,this.length);for(var ue=this[N+--V],fe=1;V>0&&(fe*=256);)ue+=this[N+--V]*fe;return ue},n.prototype.readUInt8=function(N,V){return N=N>>>0,V||K(N,1,this.length),this[N]},n.prototype.readUInt16LE=function(N,V){return N=N>>>0,V||K(N,2,this.length),this[N]|this[N+1]<<8},n.prototype.readUInt16BE=function(N,V){return N=N>>>0,V||K(N,2,this.length),this[N]<<8|this[N+1]},n.prototype.readUInt32LE=function(N,V){return N=N>>>0,V||K(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},n.prototype.readUInt32BE=function(N,V){return N=N>>>0,V||K(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},n.prototype.readIntLE=function(N,V,q){N=N>>>0,V=V>>>0,q||K(N,V,this.length);for(var ue=this[N],fe=1,ye=0;++ye<V&&(fe*=256);)ue+=this[N+ye]*fe;return fe*=128,ue>=fe&&(ue-=Math.pow(2,8*V)),ue},n.prototype.readIntBE=function(N,V,q){N=N>>>0,V=V>>>0,q||K(N,V,this.length);for(var ue=V,fe=1,ye=this[N+--ue];ue>0&&(fe*=256);)ye+=this[N+--ue]*fe;return fe*=128,ye>=fe&&(ye-=Math.pow(2,8*V)),ye},n.prototype.readInt8=function(N,V){return N=N>>>0,V||K(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},n.prototype.readInt16LE=function(N,V){N=N>>>0,V||K(N,2,this.length);var q=this[N]|this[N+1]<<8;return q&32768?q|4294901760:q},n.prototype.readInt16BE=function(N,V){N=N>>>0,V||K(N,2,this.length);var q=this[N+1]|this[N]<<8;return q&32768?q|4294901760:q},n.prototype.readInt32LE=function(N,V){return N=N>>>0,V||K(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},n.prototype.readInt32BE=function(N,V){return N=N>>>0,V||K(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},n.prototype.readFloatLE=function(N,V){return N=N>>>0,V||K(N,4,this.length),s.read(this,N,!0,23,4)},n.prototype.readFloatBE=function(N,V){return N=N>>>0,V||K(N,4,this.length),s.read(this,N,!1,23,4)},n.prototype.readDoubleLE=function(N,V){return N=N>>>0,V||K(N,8,this.length),s.read(this,N,!0,52,8)},n.prototype.readDoubleBE=function(N,V){return N=N>>>0,V||K(N,8,this.length),s.read(this,N,!1,52,8)};function X(z,N,V,q,ue,fe){if(!n.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ue||N<fe)throw new RangeError('"value" argument is out of bounds');if(V+q>z.length)throw new RangeError("Index out of range")}n.prototype.writeUIntLE=function(N,V,q,ue){if(N=+N,V=V>>>0,q=q>>>0,!ue){var fe=Math.pow(2,8*q)-1;X(this,N,V,q,fe,0)}var ye=1,_e=0;for(this[V]=N&255;++_e<q&&(ye*=256);)this[V+_e]=N/ye&255;return V+q},n.prototype.writeUIntBE=function(N,V,q,ue){if(N=+N,V=V>>>0,q=q>>>0,!ue){var fe=Math.pow(2,8*q)-1;X(this,N,V,q,fe,0)}var ye=q-1,_e=1;for(this[V+ye]=N&255;--ye>=0&&(_e*=256);)this[V+ye]=N/_e&255;return V+q},n.prototype.writeUInt8=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,1,255,0),this[V]=N&255,V+1},n.prototype.writeUInt16LE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,2,65535,0),this[V]=N&255,this[V+1]=N>>>8,V+2},n.prototype.writeUInt16BE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,2,65535,0),this[V]=N>>>8,this[V+1]=N&255,V+2},n.prototype.writeUInt32LE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,4,4294967295,0),this[V+3]=N>>>24,this[V+2]=N>>>16,this[V+1]=N>>>8,this[V]=N&255,V+4},n.prototype.writeUInt32BE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,4,4294967295,0),this[V]=N>>>24,this[V+1]=N>>>16,this[V+2]=N>>>8,this[V+3]=N&255,V+4},n.prototype.writeIntLE=function(N,V,q,ue){if(N=+N,V=V>>>0,!ue){var fe=Math.pow(2,8*q-1);X(this,N,V,q,fe-1,-fe)}var ye=0,_e=1,Te=0;for(this[V]=N&255;++ye<q&&(_e*=256);)N<0&&Te===0&&this[V+ye-1]!==0&&(Te=1),this[V+ye]=(N/_e>>0)-Te&255;return V+q},n.prototype.writeIntBE=function(N,V,q,ue){if(N=+N,V=V>>>0,!ue){var fe=Math.pow(2,8*q-1);X(this,N,V,q,fe-1,-fe)}var ye=q-1,_e=1,Te=0;for(this[V+ye]=N&255;--ye>=0&&(_e*=256);)N<0&&Te===0&&this[V+ye+1]!==0&&(Te=1),this[V+ye]=(N/_e>>0)-Te&255;return V+q},n.prototype.writeInt8=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,1,127,-128),N<0&&(N=255+N+1),this[V]=N&255,V+1},n.prototype.writeInt16LE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,2,32767,-32768),this[V]=N&255,this[V+1]=N>>>8,V+2},n.prototype.writeInt16BE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,2,32767,-32768),this[V]=N>>>8,this[V+1]=N&255,V+2},n.prototype.writeInt32LE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,4,2147483647,-2147483648),this[V]=N&255,this[V+1]=N>>>8,this[V+2]=N>>>16,this[V+3]=N>>>24,V+4},n.prototype.writeInt32BE=function(N,V,q){return N=+N,V=V>>>0,q||X(this,N,V,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[V]=N>>>24,this[V+1]=N>>>16,this[V+2]=N>>>8,this[V+3]=N&255,V+4};function U(z,N,V,q,ue,fe){if(V+q>z.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("Index out of range")}function se(z,N,V,q,ue){return N=+N,V=V>>>0,ue||U(z,N,V,4),s.write(z,N,V,q,23,4),V+4}n.prototype.writeFloatLE=function(N,V,q){return se(this,N,V,!0,q)},n.prototype.writeFloatBE=function(N,V,q){return se(this,N,V,!1,q)};function oe(z,N,V,q,ue){return N=+N,V=V>>>0,ue||U(z,N,V,8),s.write(z,N,V,q,52,8),V+8}n.prototype.writeDoubleLE=function(N,V,q){return oe(this,N,V,!0,q)},n.prototype.writeDoubleBE=function(N,V,q){return oe(this,N,V,!1,q)},n.prototype.copy=function(N,V,q,ue){if(!n.isBuffer(N))throw new TypeError("argument should be a Buffer");if(q||(q=0),!ue&&ue!==0&&(ue=this.length),V>=N.length&&(V=N.length),V||(V=0),ue>0&&ue<q&&(ue=q),ue===q||N.length===0||this.length===0)return 0;if(V<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),N.length-V<ue-q&&(ue=N.length-V+q);var fe=ue-q;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(V,q,ue);else if(this===N&&q<V&&V<ue)for(var ye=fe-1;ye>=0;--ye)N[ye+V]=this[ye+q];else Uint8Array.prototype.set.call(N,this.subarray(q,ue),V);return fe},n.prototype.fill=function(N,V,q,ue){if(typeof N=="string"){if(typeof V=="string"?(ue=V,V=0,q=this.length):typeof q=="string"&&(ue=q,q=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!n.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(N.length===1){var fe=N.charCodeAt(0);(ue==="utf8"&&fe<128||ue==="latin1")&&(N=fe)}}else typeof N=="number"&&(N=N&255);if(V<0||this.length<V||this.length<q)throw new RangeError("Out of range index");if(q<=V)return this;V=V>>>0,q=q===void 0?this.length:q>>>0,N||(N=0);var ye;if(typeof N=="number")for(ye=V;ye<q;++ye)this[ye]=N;else{var _e=n.isBuffer(N)?N:n.from(N,ue),Te=_e.length;if(Te===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(ye=0;ye<q-V;++ye)this[ye+V]=_e[ye%Te]}return this};var ae=/[^+/0-9A-Za-z-_]/g;function de(z){if(z=z.split("=")[0],z=z.trim().replace(ae,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function G(z){return z<16?"0"+z.toString(16):z.toString(16)}function R(z,N){N=N||1/0;for(var V,q=z.length,ue=null,fe=[],ye=0;ye<q;++ye){if(V=z.charCodeAt(ye),V>55295&&V<57344){if(!ue){if(V>56319){(N-=3)>-1&&fe.push(239,191,189);continue}else if(ye+1===q){(N-=3)>-1&&fe.push(239,191,189);continue}ue=V;continue}if(V<56320){(N-=3)>-1&&fe.push(239,191,189),ue=V;continue}V=(ue-55296<<10|V-56320)+65536}else ue&&(N-=3)>-1&&fe.push(239,191,189);if(ue=null,V<128){if((N-=1)<0)break;fe.push(V)}else if(V<2048){if((N-=2)<0)break;fe.push(V>>6|192,V&63|128)}else if(V<65536){if((N-=3)<0)break;fe.push(V>>12|224,V>>6&63|128,V&63|128)}else if(V<1114112){if((N-=4)<0)break;fe.push(V>>18|240,V>>12&63|128,V>>6&63|128,V&63|128)}else throw new Error("Invalid code point")}return fe}function L(z){for(var N=[],V=0;V<z.length;++V)N.push(z.charCodeAt(V)&255);return N}function M(z,N){for(var V,q,ue,fe=[],ye=0;ye<z.length&&!((N-=2)<0);++ye)V=z.charCodeAt(ye),q=V>>8,ue=V%256,fe.push(ue),fe.push(q);return fe}function le(z){return r.toByteArray(de(z))}function ce(z,N,V,q){for(var ue=0;ue<q&&!(ue+V>=N.length||ue>=z.length);++ue)N[ue+V]=z[ue];return ue}function W(z,N){return z instanceof N||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===N.name}function ee(z){return z!==z}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":100,buffer:103,ieee754:400}],104:[function(e,o,d){o.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],105:[function(e,o,d){var t=e("get-intrinsic"),r=e("./"),s=r(t("String.prototype.indexOf"));o.exports=function(u,a){var n=t(u,!!a);return typeof n=="function"&&s(u,".prototype.")>-1?r(n):n}},{"./":106,"get-intrinsic":390}],106:[function(e,o,d){var t=e("function-bind"),r=e("get-intrinsic"),s=e("set-function-length"),i=r("%TypeError%"),u=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),n=r("%Reflect.apply%",!0)||t.call(a,u),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(p){l=null}o.exports=function(y){if(typeof y!="function")throw new i("a function is required");var m=n(t,a,arguments);return s(m,1+c(0,y.length-(arguments.length-1)),!0)};var f=function(){return n(t,u,arguments)};l?l(o.exports,"apply",{value:f}):o.exports.apply=f},{"function-bind":389,"get-intrinsic":390,"set-function-length":466}],107:[function(e,o,d){var t=Array.prototype.slice;o.exports=r;function r(i,u){if(!(this instanceof r))return new r(i,u);this.src=i,this._withAccess=u}r.prototype.withAccess=function(i){return this._withAccess=i!==!1,this},r.prototype.pick=function(i){return Array.isArray(i)||(i=t.call(arguments)),i.length&&(this.keys=i),this},r.prototype.to=function(i){if(i=i||{},!this.src)return i;var u=this.keys||Object.keys(this.src);if(!this._withAccess){for(var a=0;a<u.length;a++)n=u[a],i[n]===void 0&&(i[n]=this.src[n]);return i}for(var a=0;a<u.length;a++){var n=u[a];if(s(i,n)){var l=this.src.__lookupGetter__(n),c=this.src.__lookupSetter__(n);l&&i.__defineGetter__(n,l),c&&i.__defineSetter__(n,c),!l&&!c&&(i[n]=this.src[n])}}return i},r.prototype.toCover=function(i){for(var u=this.keys||Object.keys(this.src),a=0;a<u.length;a++){var n=u[a];delete i[n];var l=this.src.__lookupGetter__(n),c=this.src.__lookupSetter__(n);l&&i.__defineGetter__(n,l),c&&i.__defineSetter__(n,c),!l&&!c&&(i[n]=this.src[n])}},r.prototype.override=r.prototype.toCover,r.prototype.and=function(i){var u={};return this.to(u),this.src=i,this.to(u),this.src=u,this};function s(i,u){return i[u]===void 0&&i.__lookupGetter__(u)===void 0&&i.__lookupSetter__(u)===void 0}},{}],108:[function(e,o,d){var t=e("../internals/is-callable"),r=e("../internals/try-to-string"),s=TypeError;o.exports=function(i){if(t(i))return i;throw new s(r(i)+" is not a function")}},{"../internals/is-callable":203,"../internals/try-to-string":293}],109:[function(e,o,d){var t=e("../internals/is-constructor"),r=e("../internals/try-to-string"),s=TypeError;o.exports=function(i){if(t(i))return i;throw new s(r(i)+" is not a constructor")}},{"../internals/is-constructor":204,"../internals/try-to-string":293}],110:[function(e,o,d){var t=e("../internals/is-possible-prototype"),r=String,s=TypeError;o.exports=function(i){if(t(i))return i;throw new s("Can't set "+r(i)+" as a prototype")}},{"../internals/is-possible-prototype":209}],111:[function(e,o,d){var t=e("../internals/well-known-symbol"),r=e("../internals/object-create"),s=e("../internals/object-define-property").f,i=t("unscopables"),u=Array.prototype;u[i]===void 0&&s(u,i,{configurable:!0,value:r(null)}),o.exports=function(a){u[i][a]=!0}},{"../internals/object-create":229,"../internals/object-define-property":231,"../internals/well-known-symbol":306}],112:[function(e,o,d){var t=e("../internals/string-multibyte").charAt;o.exports=function(r,s,i){return s+(i?t(r,s).length:1)}},{"../internals/string-multibyte":271}],113:[function(e,o,d){var t=e("../internals/object-is-prototype-of"),r=TypeError;o.exports=function(s,i){if(t(i,s))return s;throw new r("Incorrect invocation")}},{"../internals/object-is-prototype-of":238}],114:[function(e,o,d){var t=e("../internals/is-object"),r=String,s=TypeError;o.exports=function(i){if(t(i))return i;throw new s(r(i)+" is not an object")}},{"../internals/is-object":208}],115:[function(e,o,d){o.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},{}],116:[function(e,o,d){var t=e("../internals/fails");o.exports=t(function(){if(typeof ArrayBuffer=="function"){var r=new ArrayBuffer(8);Object.isExtensible(r)&&Object.defineProperty(r,"a",{value:8})}})},{"../internals/fails":171}],117:[function(e,o,d){var t=e("../internals/array-buffer-basic-detection"),r=e("../internals/descriptors"),s=e("../internals/global"),i=e("../internals/is-callable"),u=e("../internals/is-object"),a=e("../internals/has-own-property"),n=e("../internals/classof"),l=e("../internals/try-to-string"),c=e("../internals/create-non-enumerable-property"),f=e("../internals/define-built-in"),p=e("../internals/define-built-in-accessor"),y=e("../internals/object-is-prototype-of"),m=e("../internals/object-get-prototype-of"),g=e("../internals/object-set-prototype-of"),h=e("../internals/well-known-symbol"),_=e("../internals/uid"),j=e("../internals/internal-state"),T=j.enforce,S=j.get,b=s.Int8Array,E=b&&b.prototype,O=s.Uint8ClampedArray,C=O&&O.prototype,k=b&&m(b),A=E&&m(E),I=Object.prototype,D=s.TypeError,F=h("toStringTag"),Q=_("TYPED_ARRAY_TAG"),te="TypedArrayConstructor",$=t&&!!g&&n(s.opera)!=="Opera",Z=!1,ne,ie,J,Y={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},K={BigInt64Array:8,BigUint64Array:8},X=function(L){if(!u(L))return!1;var M=n(L);return M==="DataView"||a(Y,M)||a(K,M)},U=function(R){var L=m(R);if(u(L)){var M=S(L);return M&&a(M,te)?M[te]:U(L)}},se=function(R){if(!u(R))return!1;var L=n(R);return a(Y,L)||a(K,L)},oe=function(R){if(se(R))return R;throw new D("Target is not a typed array")},ae=function(R){if(i(R)&&(!g||y(k,R)))return R;throw new D(l(R)+" is not a typed array constructor")},de=function(R,L,M,le){if(r){if(M)for(var ce in Y){var W=s[ce];if(W&&a(W.prototype,R))try{delete W.prototype[R]}catch(ee){try{W.prototype[R]=L}catch(z){}}}(!A[R]||M)&&f(A,R,M?L:$&&E[R]||L,le)}},G=function(R,L,M){var le,ce;if(r){if(g){if(M){for(le in Y)if(ce=s[le],ce&&a(ce,R))try{delete ce[R]}catch(W){}}if(!k[R]||M)try{return f(k,R,M?L:$&&k[R]||L)}catch(W){}else return}for(le in Y)ce=s[le],ce&&(!ce[R]||M)&&f(ce,R,L)}};for(ne in Y)ie=s[ne],J=ie&&ie.prototype,J?T(J)[te]=ie:$=!1;for(ne in K)ie=s[ne],J=ie&&ie.prototype,J&&(T(J)[te]=ie);if((!$||!i(k)||k===Function.prototype)&&(k=function(){throw new D("Incorrect invocation")},$))for(ne in Y)s[ne]&&g(s[ne],k);if((!$||!A||A===I)&&(A=k.prototype,$))for(ne in Y)s[ne]&&g(s[ne].prototype,A);if($&&m(C)!==A&&g(C,A),r&&!a(A,F)){Z=!0,p(A,F,{configurable:!0,get:function(){return u(this)?this[Q]:void 0}});for(ne in Y)s[ne]&&c(s[ne],Q,ne)}o.exports={NATIVE_ARRAY_BUFFER_VIEWS:$,TYPED_ARRAY_TAG:Z&&Q,aTypedArray:oe,aTypedArrayConstructor:ae,exportTypedArrayMethod:de,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:U,isView:X,isTypedArray:se,TypedArray:k,TypedArrayPrototype:A}},{"../internals/array-buffer-basic-detection":115,"../internals/classof":138,"../internals/create-non-enumerable-property":145,"../internals/define-built-in":149,"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/global":188,"../internals/has-own-property":189,"../internals/internal-state":199,"../internals/is-callable":203,"../internals/is-object":208,"../internals/object-get-prototype-of":236,"../internals/object-is-prototype-of":238,"../internals/object-set-prototype-of":242,"../internals/try-to-string":293,"../internals/uid":299,"../internals/well-known-symbol":306}],118:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/function-uncurry-this"),s=e("../internals/descriptors"),i=e("../internals/array-buffer-basic-detection"),u=e("../internals/function-name"),a=e("../internals/create-non-enumerable-property"),n=e("../internals/define-built-in-accessor"),l=e("../internals/define-built-ins"),c=e("../internals/fails"),f=e("../internals/an-instance"),p=e("../internals/to-integer-or-infinity"),y=e("../internals/to-length"),m=e("../internals/to-index"),g=e("../internals/math-fround"),h=e("../internals/ieee754"),_=e("../internals/object-get-prototype-of"),j=e("../internals/object-set-prototype-of"),T=e("../internals/array-fill"),S=e("../internals/array-slice"),b=e("../internals/inherit-if-required"),E=e("../internals/copy-constructor-properties"),O=e("../internals/set-to-string-tag"),C=e("../internals/internal-state"),k=u.PROPER,A=u.CONFIGURABLE,I="ArrayBuffer",D="DataView",F="prototype",Q="Wrong length",te="Wrong index",$=C.getterFor(I),Z=C.getterFor(D),ne=C.set,ie=t[I],J=ie,Y=J&&J[F],K=t[D],X=K&&K[F],U=Object.prototype,se=t.Array,oe=t.RangeError,ae=r(T),de=r([].reverse),G=h.pack,R=h.unpack,L=function(ye){return[ye&255]},M=function(ye){return[ye&255,ye>>8&255]},le=function(ye){return[ye&255,ye>>8&255,ye>>16&255,ye>>24&255]},ce=function(ye){return ye[3]<<24|ye[2]<<16|ye[1]<<8|ye[0]},W=function(ye){return G(g(ye),23,4)},ee=function(ye){return G(ye,52,8)},z=function(ye,_e,Te){n(ye[F],_e,{configurable:!0,get:function(){return Te(this)[_e]}})},N=function(ye,_e,Te,je){var Oe=Z(ye),ge=m(Te),Ee=!!je;if(ge+_e>Oe.byteLength)throw new oe(te);var Ne=Oe.bytes,Ye=ge+Oe.byteOffset,Ke=S(Ne,Ye,Ye+_e);return Ee?Ke:de(Ke)},V=function(ye,_e,Te,je,Oe,ge){var Ee=Z(ye),Ne=m(Te),Ye=je(+Oe),Ke=!!ge;if(Ne+_e>Ee.byteLength)throw new oe(te);for(var He=Ee.bytes,Be=Ne+Ee.byteOffset,Re=0;Re<_e;Re++)He[Be+Re]=Ye[Ke?Re:_e-Re-1]};if(!i)J=function(_e){f(this,Y);var Te=m(_e);ne(this,{type:I,bytes:ae(se(Te),0),byteLength:Te}),s||(this.byteLength=Te,this.detached=!1)},Y=J[F],K=function(_e,Te,je){f(this,X),f(_e,Y);var Oe=$(_e),ge=Oe.byteLength,Ee=p(Te);if(Ee<0||Ee>ge)throw new oe("Wrong offset");if(je=je===void 0?ge-Ee:y(je),Ee+je>ge)throw new oe(Q);ne(this,{type:D,buffer:_e,byteLength:je,byteOffset:Ee,bytes:Oe.bytes}),s||(this.buffer=_e,this.byteLength=je,this.byteOffset=Ee)},X=K[F],s&&(z(J,"byteLength",$),z(K,"buffer",Z),z(K,"byteLength",Z),z(K,"byteOffset",Z)),l(X,{getInt8:function(_e){return N(this,1,_e)[0]<<24>>24},getUint8:function(_e){return N(this,1,_e)[0]},getInt16:function(_e){var Te=N(this,2,_e,arguments.length>1?arguments[1]:!1);return(Te[1]<<8|Te[0])<<16>>16},getUint16:function(_e){var Te=N(this,2,_e,arguments.length>1?arguments[1]:!1);return Te[1]<<8|Te[0]},getInt32:function(_e){return ce(N(this,4,_e,arguments.length>1?arguments[1]:!1))},getUint32:function(_e){return ce(N(this,4,_e,arguments.length>1?arguments[1]:!1))>>>0},getFloat32:function(_e){return R(N(this,4,_e,arguments.length>1?arguments[1]:!1),23)},getFloat64:function(_e){return R(N(this,8,_e,arguments.length>1?arguments[1]:!1),52)},setInt8:function(_e,Te){V(this,1,_e,L,Te)},setUint8:function(_e,Te){V(this,1,_e,L,Te)},setInt16:function(_e,Te){V(this,2,_e,M,Te,arguments.length>2?arguments[2]:!1)},setUint16:function(_e,Te){V(this,2,_e,M,Te,arguments.length>2?arguments[2]:!1)},setInt32:function(_e,Te){V(this,4,_e,le,Te,arguments.length>2?arguments[2]:!1)},setUint32:function(_e,Te){V(this,4,_e,le,Te,arguments.length>2?arguments[2]:!1)},setFloat32:function(_e,Te){V(this,4,_e,W,Te,arguments.length>2?arguments[2]:!1)},setFloat64:function(_e,Te){V(this,8,_e,ee,Te,arguments.length>2?arguments[2]:!1)}});else{var q=k&&ie.name!==I;!c(function(){ie(1)})||!c(function(){new ie(-1)})||c(function(){return new ie,new ie(1.5),new ie(NaN),ie.length!==1||q&&!A})?(J=function(_e){return f(this,Y),b(new ie(m(_e)),this,J)},J[F]=Y,Y.constructor=J,E(J,ie)):q&&A&&a(ie,"name",I),j&&_(X)!==U&&j(X,U);var ue=new K(new J(2)),fe=r(X.setInt8);ue.setInt8(0,2147483648),ue.setInt8(1,2147483649),(ue.getInt8(0)||!ue.getInt8(1))&&l(X,{setInt8:function(_e,Te){fe(this,_e,Te<<24>>24)},setUint8:function(_e,Te){fe(this,_e,Te<<24>>24)}},{unsafe:!0})}O(J,I),O(K,D),o.exports={ArrayBuffer:J,DataView:K}},{"../internals/an-instance":113,"../internals/array-buffer-basic-detection":115,"../internals/array-fill":120,"../internals/array-slice":131,"../internals/copy-constructor-properties":141,"../internals/create-non-enumerable-property":145,"../internals/define-built-in-accessor":148,"../internals/define-built-ins":150,"../internals/descriptors":153,"../internals/fails":171,"../internals/function-name":178,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/ieee754":194,"../internals/inherit-if-required":196,"../internals/internal-state":199,"../internals/math-fround":222,"../internals/object-get-prototype-of":236,"../internals/object-set-prototype-of":242,"../internals/set-to-string-tag":266,"../internals/to-index":281,"../internals/to-integer-or-infinity":283,"../internals/to-length":284}],119:[function(e,o,d){var t=e("../internals/to-object"),r=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),i=e("../internals/delete-property-or-throw"),u=Math.min;o.exports=[].copyWithin||function(n,l){var c=t(this),f=s(c),p=r(n,f),y=r(l,f),m=arguments.length>2?arguments[2]:void 0,g=u((m===void 0?f:r(m,f))-y,f-p),h=1;for(y<p&&p<y+g&&(h=-1,y+=g-1,p+=g-1);g-- >0;)y in c?c[p]=c[y]:i(c,p),p+=h,y+=h;return c}},{"../internals/delete-property-or-throw":152,"../internals/length-of-array-like":219,"../internals/to-absolute-index":279,"../internals/to-object":285}],120:[function(e,o,d){var t=e("../internals/to-object"),r=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like");o.exports=function(u){for(var a=t(this),n=s(a),l=arguments.length,c=r(l>1?arguments[1]:void 0,n),f=l>2?arguments[2]:void 0,p=f===void 0?n:r(f,n);p>c;)a[c++]=u;return a}},{"../internals/length-of-array-like":219,"../internals/to-absolute-index":279,"../internals/to-object":285}],121:[function(e,o,d){var t=e("../internals/array-iteration").forEach,r=e("../internals/array-method-is-strict"),s=r("forEach");o.exports=s?[].forEach:function(u){return t(this,u,arguments.length>1?arguments[1]:void 0)}},{"../internals/array-iteration":125,"../internals/array-method-is-strict":128}],122:[function(e,o,d){var t=e("../internals/length-of-array-like");o.exports=function(r,s,i){for(var u=0,a=arguments.length>2?i:t(s),n=new r(a);a>u;)n[u]=s[u++];return n}},{"../internals/length-of-array-like":219}],123:[function(e,o,d){var t=e("../internals/function-bind-context"),r=e("../internals/function-call"),s=e("../internals/to-object"),i=e("../internals/call-with-safe-iteration-closing"),u=e("../internals/is-array-iterator-method"),a=e("../internals/is-constructor"),n=e("../internals/length-of-array-like"),l=e("../internals/create-property"),c=e("../internals/get-iterator"),f=e("../internals/get-iterator-method"),p=Array;o.exports=function(m){var g=s(m),h=a(this),_=arguments.length,j=_>1?arguments[1]:void 0,T=j!==void 0;T&&(j=t(j,_>2?arguments[2]:void 0));var S=f(g),b=0,E,O,C,k,A,I;if(S&&!(this===p&&u(S)))for(k=c(g,S),A=k.next,O=h?new this:[];!(C=r(A,k)).done;b++)I=T?i(k,j,[C.value,b],!0):C.value,l(O,b,I);else for(E=n(g),O=h?new this(E):p(E);E>b;b++)I=T?j(g[b],b):g[b],l(O,b,I);return O.length=b,O}},{"../internals/call-with-safe-iteration-closing":135,"../internals/create-property":147,"../internals/function-bind-context":175,"../internals/function-call":177,"../internals/get-iterator":184,"../internals/get-iterator-method":183,"../internals/is-array-iterator-method":200,"../internals/is-constructor":204,"../internals/length-of-array-like":219,"../internals/to-object":285}],124:[function(e,o,d){var t=e("../internals/to-indexed-object"),r=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),i=function(u){return function(a,n,l){var c=t(a),f=s(c),p=r(l,f),y;if(u&&n!==n){for(;f>p;)if(y=c[p++],y!==y)return!0}else for(;f>p;p++)if((u||p in c)&&c[p]===n)return u||p||0;return!u&&-1}};o.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/length-of-array-like":219,"../internals/to-absolute-index":279,"../internals/to-indexed-object":282}],125:[function(e,o,d){var t=e("../internals/function-bind-context"),r=e("../internals/function-uncurry-this"),s=e("../internals/indexed-object"),i=e("../internals/to-object"),u=e("../internals/length-of-array-like"),a=e("../internals/array-species-create"),n=r([].push),l=function(c){var f=c===1,p=c===2,y=c===3,m=c===4,g=c===6,h=c===7,_=c===5||g;return function(j,T,S,b){for(var E=i(j),O=s(E),C=u(O),k=t(T,S),A=0,I=b||a,D=f?I(j,C):p||h?I(j,0):void 0,F,Q;C>A;A++)if((_||A in O)&&(F=O[A],Q=k(F,A,E),c))if(f)D[A]=Q;else if(Q)switch(c){case 3:return!0;case 5:return F;case 6:return A;case 2:n(D,F)}else switch(c){case 4:return!1;case 7:n(D,F)}return g?-1:y||m?m:D}};o.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},{"../internals/array-species-create":134,"../internals/function-bind-context":175,"../internals/function-uncurry-this":181,"../internals/indexed-object":195,"../internals/length-of-array-like":219,"../internals/to-object":285}],126:[function(e,o,d){var t=e("../internals/function-apply"),r=e("../internals/to-indexed-object"),s=e("../internals/to-integer-or-infinity"),i=e("../internals/length-of-array-like"),u=e("../internals/array-method-is-strict"),a=Math.min,n=[].lastIndexOf,l=!!n&&1/[1].lastIndexOf(1,-0)<0,c=u("lastIndexOf"),f=l||!c;o.exports=f?function(y){if(l)return t(n,this,arguments)||0;var m=r(this),g=i(m),h=g-1;for(arguments.length>1&&(h=a(h,s(arguments[1]))),h<0&&(h=g+h);h>=0;h--)if(h in m&&m[h]===y)return h||0;return-1}:n},{"../internals/array-method-is-strict":128,"../internals/function-apply":174,"../internals/length-of-array-like":219,"../internals/to-indexed-object":282,"../internals/to-integer-or-infinity":283}],127:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/well-known-symbol"),s=e("../internals/engine-v8-version"),i=r("species");o.exports=function(u){return s>=51||!t(function(){var a=[],n=a.constructor={};return n[i]=function(){return{foo:1}},a[u](Boolean).foo!==1})}},{"../internals/engine-v8-version":167,"../internals/fails":171,"../internals/well-known-symbol":306}],128:[function(e,o,d){var t=e("../internals/fails");o.exports=function(r,s){var i=[][r];return!!i&&t(function(){i.call(null,s||function(){return 1},1)})}},{"../internals/fails":171}],129:[function(e,o,d){var t=e("../internals/a-callable"),r=e("../internals/to-object"),s=e("../internals/indexed-object"),i=e("../internals/length-of-array-like"),u=TypeError,a=function(n){return function(l,c,f,p){var y=r(l),m=s(y),g=i(y);t(c);var h=n?g-1:0,_=n?-1:1;if(f<2)for(;;){if(h in m){p=m[h],h+=_;break}if(h+=_,n?h<0:g<=h)throw new u("Reduce of empty array with no initial value")}for(;n?h>=0:g>h;h+=_)h in m&&(p=c(p,m[h],h,y));return p}};o.exports={left:a(!1),right:a(!0)}},{"../internals/a-callable":108,"../internals/indexed-object":195,"../internals/length-of-array-like":219,"../internals/to-object":285}],130:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/is-array"),s=TypeError,i=Object.getOwnPropertyDescriptor,u=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(a){return a instanceof TypeError}}();o.exports=u?function(a,n){if(r(a)&&!i(a,"length").writable)throw new s("Cannot set read only .length");return a.length=n}:function(a,n){return a.length=n}},{"../internals/descriptors":153,"../internals/is-array":201}],131:[function(e,o,d){var t=e("../internals/function-uncurry-this");o.exports=t([].slice)},{"../internals/function-uncurry-this":181}],132:[function(e,o,d){var t=e("../internals/array-slice"),r=Math.floor,s=function(i,u){var a=i.length;if(a<8)for(var n=1,l,c;n<a;){for(c=n,l=i[n];c&&u(i[c-1],l)>0;)i[c]=i[--c];c!==n++&&(i[c]=l)}else for(var f=r(a/2),p=s(t(i,0,f),u),y=s(t(i,f),u),m=p.length,g=y.length,h=0,_=0;h<m||_<g;)i[h+_]=h<m&&_<g?u(p[h],y[_])<=0?p[h++]:y[_++]:h<m?p[h++]:y[_++];return i};o.exports=s},{"../internals/array-slice":131}],133:[function(e,o,d){var t=e("../internals/is-array"),r=e("../internals/is-constructor"),s=e("../internals/is-object"),i=e("../internals/well-known-symbol"),u=i("species"),a=Array;o.exports=function(n){var l;return t(n)&&(l=n.constructor,r(l)&&(l===a||t(l.prototype))?l=void 0:s(l)&&(l=l[u],l===null&&(l=void 0))),l===void 0?a:l}},{"../internals/is-array":201,"../internals/is-constructor":204,"../internals/is-object":208,"../internals/well-known-symbol":306}],134:[function(e,o,d){var t=e("../internals/array-species-constructor");o.exports=function(r,s){return new(t(r))(s===0?0:s)}},{"../internals/array-species-constructor":133}],135:[function(e,o,d){var t=e("../internals/an-object"),r=e("../internals/iterator-close");o.exports=function(s,i,u,a){try{return a?i(t(u)[0],u[1]):i(u)}catch(n){r(s,"throw",n)}}},{"../internals/an-object":114,"../internals/iterator-close":214}],136:[function(e,o,d){var t=e("../internals/well-known-symbol"),r=t("iterator"),s=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){s=!0}};u[r]=function(){return this},Array.from(u,function(){throw 2})}catch(a){}o.exports=function(a,n){try{if(!n&&!s)return!1}catch(f){return!1}var l=!1;try{var c={};c[r]=function(){return{next:function(){return{done:l=!0}}}},a(c)}catch(f){}return l}},{"../internals/well-known-symbol":306}],137:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=t({}.toString),s=t("".slice);o.exports=function(i){return s(r(i),8,-1)}},{"../internals/function-uncurry-this":181}],138:[function(e,o,d){var t=e("../internals/to-string-tag-support"),r=e("../internals/is-callable"),s=e("../internals/classof-raw"),i=e("../internals/well-known-symbol"),u=i("toStringTag"),a=Object,n=s(function(){return arguments}())==="Arguments",l=function(c,f){try{return c[f]}catch(p){}};o.exports=t?s:function(c){var f,p,y;return c===void 0?"Undefined":c===null?"Null":typeof(p=l(f=a(c),u))=="string"?p:n?s(f):(y=s(f))==="Object"&&r(f.callee)?"Arguments":y}},{"../internals/classof-raw":137,"../internals/is-callable":203,"../internals/to-string-tag-support":290,"../internals/well-known-symbol":306}],139:[function(e,o,d){var t=e("../internals/object-create"),r=e("../internals/define-built-in-accessor"),s=e("../internals/define-built-ins"),i=e("../internals/function-bind-context"),u=e("../internals/an-instance"),a=e("../internals/is-null-or-undefined"),n=e("../internals/iterate"),l=e("../internals/iterator-define"),c=e("../internals/create-iter-result-object"),f=e("../internals/set-species"),p=e("../internals/descriptors"),y=e("../internals/internal-metadata").fastKey,m=e("../internals/internal-state"),g=m.set,h=m.getterFor;o.exports={getConstructor:function(_,j,T,S){var b=_(function(A,I){u(A,E),g(A,{type:j,index:t(null),first:void 0,last:void 0,size:0}),p||(A.size=0),a(I)||n(I,A[S],{that:A,AS_ENTRIES:T})}),E=b.prototype,O=h(j),C=function(A,I,D){var F=O(A),Q=k(A,I),te,$;return Q?Q.value=D:(F.last=Q={index:$=y(I,!0),key:I,value:D,previous:te=F.last,next:void 0,removed:!1},F.first||(F.first=Q),te&&(te.next=Q),p?F.size++:A.size++,$!=="F"&&(F.index[$]=Q)),A},k=function(A,I){var D=O(A),F=y(I),Q;if(F!=="F")return D.index[F];for(Q=D.first;Q;Q=Q.next)if(Q.key===I)return Q};return s(E,{clear:function(){for(var I=this,D=O(I),F=D.first;F;)F.removed=!0,F.previous&&(F.previous=F.previous.next=void 0),F=F.next;D.first=D.last=void 0,D.index=t(null),p?D.size=0:I.size=0},delete:function(A){var I=this,D=O(I),F=k(I,A);if(F){var Q=F.next,te=F.previous;delete D.index[F.index],F.removed=!0,te&&(te.next=Q),Q&&(Q.previous=te),D.first===F&&(D.first=Q),D.last===F&&(D.last=te),p?D.size--:I.size--}return!!F},forEach:function(I){for(var D=O(this),F=i(I,arguments.length>1?arguments[1]:void 0),Q;Q=Q?Q.next:D.first;)for(F(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(I){return!!k(this,I)}}),s(E,T?{get:function(I){var D=k(this,I);return D&&D.value},set:function(I,D){return C(this,I===0?0:I,D)}}:{add:function(I){return C(this,I=I===0?0:I,I)}}),p&&r(E,"size",{configurable:!0,get:function(){return O(this).size}}),b},setStrong:function(_,j,T){var S=j+" Iterator",b=h(j),E=h(S);l(_,j,function(O,C){g(this,{type:S,target:O,state:b(O),kind:C,last:void 0})},function(){for(var O=E(this),C=O.kind,k=O.last;k&&k.removed;)k=k.previous;return!O.target||!(O.last=k=k?k.next:O.state.first)?(O.target=void 0,c(void 0,!0)):c(C==="keys"?k.key:C==="values"?k.value:[k.key,k.value],!1)},T?"entries":"values",!T,!0),f(j)}}},{"../internals/an-instance":113,"../internals/create-iter-result-object":144,"../internals/define-built-in-accessor":148,"../internals/define-built-ins":150,"../internals/descriptors":153,"../internals/function-bind-context":175,"../internals/internal-metadata":198,"../internals/internal-state":199,"../internals/is-null-or-undefined":207,"../internals/iterate":213,"../internals/iterator-define":216,"../internals/object-create":229,"../internals/set-species":265}],140:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/global"),s=e("../internals/function-uncurry-this"),i=e("../internals/is-forced"),u=e("../internals/define-built-in"),a=e("../internals/internal-metadata"),n=e("../internals/iterate"),l=e("../internals/an-instance"),c=e("../internals/is-callable"),f=e("../internals/is-null-or-undefined"),p=e("../internals/is-object"),y=e("../internals/fails"),m=e("../internals/check-correctness-of-iteration"),g=e("../internals/set-to-string-tag"),h=e("../internals/inherit-if-required");o.exports=function(_,j,T){var S=_.indexOf("Map")!==-1,b=_.indexOf("Weak")!==-1,E=S?"set":"add",O=r[_],C=O&&O.prototype,k=O,A={},I=function(ne){var ie=s(C[ne]);u(C,ne,ne==="add"?function(Y){return ie(this,Y===0?0:Y),this}:ne==="delete"?function(J){return b&&!p(J)?!1:ie(this,J===0?0:J)}:ne==="get"?function(Y){return b&&!p(Y)?void 0:ie(this,Y===0?0:Y)}:ne==="has"?function(Y){return b&&!p(Y)?!1:ie(this,Y===0?0:Y)}:function(Y,K){return ie(this,Y===0?0:Y,K),this})},D=i(_,!c(O)||!(b||C.forEach&&!y(function(){new O().entries().next()})));if(D)k=T.getConstructor(j,_,S,E),a.enable();else if(i(_,!0)){var F=new k,Q=F[E](b?{}:-0,1)!==F,te=y(function(){F.has(1)}),$=m(function(ne){new O(ne)}),Z=!b&&y(function(){for(var ne=new O,ie=5;ie--;)ne[E](ie,ie);return!ne.has(-0)});$||(k=j(function(ne,ie){l(ne,C);var J=h(new O,ne,k);return f(ie)||n(ie,J[E],{that:J,AS_ENTRIES:S}),J}),k.prototype=C,C.constructor=k),(te||Z)&&(I("delete"),I("has"),S&&I("get")),(Z||Q)&&I(E),b&&C.clear&&delete C.clear}return A[_]=k,t({global:!0,constructor:!0,forced:k!==O},A),g(k,_),b||T.setStrong(k,_,S),k}},{"../internals/an-instance":113,"../internals/check-correctness-of-iteration":136,"../internals/define-built-in":149,"../internals/export":170,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/inherit-if-required":196,"../internals/internal-metadata":198,"../internals/is-callable":203,"../internals/is-forced":205,"../internals/is-null-or-undefined":207,"../internals/is-object":208,"../internals/iterate":213,"../internals/set-to-string-tag":266}],141:[function(e,o,d){var t=e("../internals/has-own-property"),r=e("../internals/own-keys"),s=e("../internals/object-get-own-property-descriptor"),i=e("../internals/object-define-property");o.exports=function(u,a,n){for(var l=r(a),c=i.f,f=s.f,p=0;p<l.length;p++){var y=l[p];!t(u,y)&&!(n&&t(n,y))&&c(u,y,f(a,y))}}},{"../internals/has-own-property":189,"../internals/object-define-property":231,"../internals/object-get-own-property-descriptor":232,"../internals/own-keys":246}],142:[function(e,o,d){var t=e("../internals/well-known-symbol"),r=t("match");o.exports=function(s){var i=/./;try{"/./"[s](i)}catch(u){try{return i[r]=!1,"/./"[s](i)}catch(a){}}return!1}},{"../internals/well-known-symbol":306}],143:[function(e,o,d){var t=e("../internals/fails");o.exports=!t(function(){function r(){}return r.prototype.constructor=null,Object.getPrototypeOf(new r)!==r.prototype})},{"../internals/fails":171}],144:[function(e,o,d){o.exports=function(t,r){return{value:t,done:r}}},{}],145:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");o.exports=t?function(i,u,a){return r.f(i,u,s(1,a))}:function(i,u,a){return i[u]=a,i}},{"../internals/create-property-descriptor":146,"../internals/descriptors":153,"../internals/object-define-property":231}],146:[function(e,o,d){o.exports=function(t,r){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:r}}},{}],147:[function(e,o,d){var t=e("../internals/to-property-key"),r=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");o.exports=function(i,u,a){var n=t(u);n in i?r.f(i,n,s(0,a)):i[n]=a}},{"../internals/create-property-descriptor":146,"../internals/object-define-property":231,"../internals/to-property-key":289}],148:[function(e,o,d){var t=e("../internals/make-built-in"),r=e("../internals/object-define-property");o.exports=function(s,i,u){return u.get&&t(u.get,i,{getter:!0}),u.set&&t(u.set,i,{setter:!0}),r.f(s,i,u)}},{"../internals/make-built-in":220,"../internals/object-define-property":231}],149:[function(e,o,d){var t=e("../internals/is-callable"),r=e("../internals/object-define-property"),s=e("../internals/make-built-in"),i=e("../internals/define-global-property");o.exports=function(u,a,n,l){l||(l={});var c=l.enumerable,f=l.name!==void 0?l.name:a;if(t(n)&&s(n,f,l),l.global)c?u[a]=n:i(a,n);else{try{l.unsafe?u[a]&&(c=!0):delete u[a]}catch(p){}c?u[a]=n:r.f(u,a,{value:n,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return u}},{"../internals/define-global-property":151,"../internals/is-callable":203,"../internals/make-built-in":220,"../internals/object-define-property":231}],150:[function(e,o,d){var t=e("../internals/define-built-in");o.exports=function(r,s,i){for(var u in s)t(r,u,s[u],i);return r}},{"../internals/define-built-in":149}],151:[function(e,o,d){var t=e("../internals/global"),r=Object.defineProperty;o.exports=function(s,i){try{r(t,s,{value:i,configurable:!0,writable:!0})}catch(u){t[s]=i}return i}},{"../internals/global":188}],152:[function(e,o,d){var t=e("../internals/try-to-string"),r=TypeError;o.exports=function(s,i){if(!delete s[i])throw new r("Cannot delete property "+t(i)+" of "+t(s))}},{"../internals/try-to-string":293}],153:[function(e,o,d){var t=e("../internals/fails");o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":171}],154:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/is-object"),s=t.document,i=r(s)&&r(s.createElement);o.exports=function(u){return i?s.createElement(u):{}}},{"../internals/global":188,"../internals/is-object":208}],155:[function(e,o,d){var t=TypeError,r=9007199254740991;o.exports=function(s){if(s>r)throw t("Maximum allowed index exceeded");return s}},{}],156:[function(e,o,d){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],157:[function(e,o,d){var t=e("../internals/document-create-element"),r=t("span").classList,s=r&&r.constructor&&r.constructor.prototype;o.exports=s===Object.prototype?void 0:s},{"../internals/document-create-element":154}],158:[function(e,o,d){var t=e("../internals/engine-user-agent"),r=t.match(/firefox\/(\d+)/i);o.exports=!!r&&+r[1]},{"../internals/engine-user-agent":166}],159:[function(e,o,d){var t=e("../internals/engine-is-deno"),r=e("../internals/engine-is-node");o.exports=!t&&!r&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":160,"../internals/engine-is-node":164}],160:[function(e,o,d){o.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],161:[function(e,o,d){var t=e("../internals/engine-user-agent");o.exports=/MSIE|Trident/.test(t)},{"../internals/engine-user-agent":166}],162:[function(e,o,d){var t=e("../internals/engine-user-agent");o.exports=/ipad|iphone|ipod/i.test(t)&&typeof Pebble!="undefined"},{"../internals/engine-user-agent":166}],163:[function(e,o,d){var t=e("../internals/engine-user-agent");o.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)},{"../internals/engine-user-agent":166}],164:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/classof-raw");o.exports=r(t.process)==="process"},{"../internals/classof-raw":137,"../internals/global":188}],165:[function(e,o,d){var t=e("../internals/engine-user-agent");o.exports=/web0s(?!.*chrome)/i.test(t)},{"../internals/engine-user-agent":166}],166:[function(e,o,d){o.exports=typeof navigator!="undefined"&&String(navigator.userAgent)||""},{}],167:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/engine-user-agent"),s=t.process,i=t.Deno,u=s&&s.versions||i&&i.version,a=u&&u.v8,n,l;a&&(n=a.split("."),l=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!l&&r&&(n=r.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/),n&&(l=+n[1]))),o.exports=l},{"../internals/engine-user-agent":166,"../internals/global":188}],168:[function(e,o,d){var t=e("../internals/engine-user-agent"),r=t.match(/AppleWebKit\/(\d+)\./);o.exports=!!r&&+r[1]},{"../internals/engine-user-agent":166}],169:[function(e,o,d){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],170:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/create-non-enumerable-property"),i=e("../internals/define-built-in"),u=e("../internals/define-global-property"),a=e("../internals/copy-constructor-properties"),n=e("../internals/is-forced");o.exports=function(l,c){var f=l.target,p=l.global,y=l.stat,m,g,h,_,j,T;if(p?g=t:y?g=t[f]||u(f,{}):g=(t[f]||{}).prototype,g)for(h in c){if(j=c[h],l.dontCallGetSet?(T=r(g,h),_=T&&T.value):_=g[h],m=n(p?h:f+(y?".":"#")+h,l.forced),!m&&_!==void 0){if(typeof j==typeof _)continue;a(j,_)}(l.sham||_&&_.sham)&&s(j,"sham",!0),i(g,h,j,l)}}},{"../internals/copy-constructor-properties":141,"../internals/create-non-enumerable-property":145,"../internals/define-built-in":149,"../internals/define-global-property":151,"../internals/global":188,"../internals/is-forced":205,"../internals/object-get-own-property-descriptor":232}],171:[function(e,o,d){o.exports=function(t){try{return!!t()}catch(r){return!0}}},{}],172:[function(e,o,d){e("../modules/es.regexp.exec");var t=e("../internals/function-uncurry-this-clause"),r=e("../internals/define-built-in"),s=e("../internals/regexp-exec"),i=e("../internals/fails"),u=e("../internals/well-known-symbol"),a=e("../internals/create-non-enumerable-property"),n=u("species"),l=RegExp.prototype;o.exports=function(c,f,p,y){var m=u(c),g=!i(function(){var T={};return T[m]=function(){return 7},""[c](T)!==7}),h=g&&!i(function(){var T=!1,S=/a/;return c==="split"&&(S={},S.constructor={},S.constructor[n]=function(){return S},S.flags="",S[m]=/./[m]),S.exec=function(){return T=!0,null},S[m](""),!T});if(!g||!h||p){var _=t(/./[m]),j=f(m,""[c],function(T,S,b,E,O){var C=t(T),k=S.exec;return k===s||k===l.exec?g&&!O?{done:!0,value:_(S,b,E)}:{done:!0,value:C(b,S,E)}:{done:!1}});r(String.prototype,c,j[0]),r(l,m,j[1])}y&&a(l[m],"sham",!0)}},{"../internals/create-non-enumerable-property":145,"../internals/define-built-in":149,"../internals/fails":171,"../internals/function-uncurry-this-clause":180,"../internals/regexp-exec":256,"../internals/well-known-symbol":306,"../modules/es.regexp.exec":338}],173:[function(e,o,d){var t=e("../internals/fails");o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":171}],174:[function(e,o,d){var t=e("../internals/function-bind-native"),r=Function.prototype,s=r.apply,i=r.call;o.exports=typeof Reflect=="object"&&Reflect.apply||(t?i.bind(s):function(){return i.apply(s,arguments)})},{"../internals/function-bind-native":176}],175:[function(e,o,d){var t=e("../internals/function-uncurry-this-clause"),r=e("../internals/a-callable"),s=e("../internals/function-bind-native"),i=t(t.bind);o.exports=function(u,a){return r(u),a===void 0?u:s?i(u,a):function(){return u.apply(a,arguments)}}},{"../internals/a-callable":108,"../internals/function-bind-native":176,"../internals/function-uncurry-this-clause":180}],176:[function(e,o,d){var t=e("../internals/fails");o.exports=!t(function(){var r=function(){}.bind();return typeof r!="function"||r.hasOwnProperty("prototype")})},{"../internals/fails":171}],177:[function(e,o,d){var t=e("../internals/function-bind-native"),r=Function.prototype.call;o.exports=t?r.bind(r):function(){return r.apply(r,arguments)}},{"../internals/function-bind-native":176}],178:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/has-own-property"),s=Function.prototype,i=t&&Object.getOwnPropertyDescriptor,u=r(s,"name"),a=u&&function(){}.name==="something",n=u&&(!t||t&&i(s,"name").configurable);o.exports={EXISTS:u,PROPER:a,CONFIGURABLE:n}},{"../internals/descriptors":153,"../internals/has-own-property":189}],179:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/a-callable");o.exports=function(s,i,u){try{return t(r(Object.getOwnPropertyDescriptor(s,i)[u]))}catch(a){}}},{"../internals/a-callable":108,"../internals/function-uncurry-this":181}],180:[function(e,o,d){var t=e("../internals/classof-raw"),r=e("../internals/function-uncurry-this");o.exports=function(s){if(t(s)==="Function")return r(s)}},{"../internals/classof-raw":137,"../internals/function-uncurry-this":181}],181:[function(e,o,d){var t=e("../internals/function-bind-native"),r=Function.prototype,s=r.call,i=t&&r.bind.bind(s,s);o.exports=t?i:function(u){return function(){return s.apply(u,arguments)}}},{"../internals/function-bind-native":176}],182:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/is-callable"),s=function(i){return r(i)?i:void 0};o.exports=function(i,u){return arguments.length<2?s(t[i]):t[i]&&t[i][u]}},{"../internals/global":188,"../internals/is-callable":203}],183:[function(e,o,d){var t=e("../internals/classof"),r=e("../internals/get-method"),s=e("../internals/is-null-or-undefined"),i=e("../internals/iterators"),u=e("../internals/well-known-symbol"),a=u("iterator");o.exports=function(n){if(!s(n))return r(n,a)||r(n,"@@iterator")||i[t(n)]}},{"../internals/classof":138,"../internals/get-method":186,"../internals/is-null-or-undefined":207,"../internals/iterators":218,"../internals/well-known-symbol":306}],184:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/a-callable"),s=e("../internals/an-object"),i=e("../internals/try-to-string"),u=e("../internals/get-iterator-method"),a=TypeError;o.exports=function(n,l){var c=arguments.length<2?u(n):l;if(r(c))return s(t(c,n));throw new a(i(n)+" is not iterable")}},{"../internals/a-callable":108,"../internals/an-object":114,"../internals/function-call":177,"../internals/get-iterator-method":183,"../internals/try-to-string":293}],185:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/is-array"),s=e("../internals/is-callable"),i=e("../internals/classof-raw"),u=e("../internals/to-string"),a=t([].push);o.exports=function(n){if(s(n))return n;if(r(n)){for(var l=n.length,c=[],f=0;f<l;f++){var p=n[f];typeof p=="string"?a(c,p):(typeof p=="number"||i(p)==="Number"||i(p)==="String")&&a(c,u(p))}var y=c.length,m=!0;return function(g,h){if(m)return m=!1,h;if(r(this))return h;for(var _=0;_<y;_++)if(c[_]===g)return h}}}},{"../internals/classof-raw":137,"../internals/function-uncurry-this":181,"../internals/is-array":201,"../internals/is-callable":203,"../internals/to-string":291}],186:[function(e,o,d){var t=e("../internals/a-callable"),r=e("../internals/is-null-or-undefined");o.exports=function(s,i){var u=s[i];return r(u)?void 0:t(u)}},{"../internals/a-callable":108,"../internals/is-null-or-undefined":207}],187:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/to-object"),s=Math.floor,i=t("".charAt),u=t("".replace),a=t("".slice),n=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;o.exports=function(c,f,p,y,m,g){var h=p+c.length,_=y.length,j=l;return m!==void 0&&(m=r(m),j=n),u(g,j,function(T,S){var b;switch(i(S,0)){case"$":return"$";case"&":return c;case"`":return a(f,0,p);case"'":return a(f,h);case"<":b=m[a(S,1,-1)];break;default:var E=+S;if(E===0)return T;if(E>_){var O=s(E/10);return O===0?T:O<=_?y[O-1]===void 0?i(S,1):y[O-1]+i(S,1):T}b=y[E-1]}return b===void 0?"":b})}},{"../internals/function-uncurry-this":181,"../internals/to-object":285}],188:[function(e,o,d){(function(t){(function(){var r=function(s){return s&&s.Math===Math&&s};o.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof t=="object"&&t)||r(typeof this=="object"&&this)||function(){return this}()||Function("return this")()}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],189:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/to-object"),s=t({}.hasOwnProperty);o.exports=Object.hasOwn||function(u,a){return s(r(u),a)}},{"../internals/function-uncurry-this":181,"../internals/to-object":285}],190:[function(e,o,d){o.exports={}},{}],191:[function(e,o,d){o.exports=function(t,r){try{arguments.length===1?console.error(t):console.error(t,r)}catch(s){}}},{}],192:[function(e,o,d){var t=e("../internals/get-built-in");o.exports=t("document","documentElement")},{"../internals/get-built-in":182}],193:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/fails"),s=e("../internals/document-create-element");o.exports=!t&&!r(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":153,"../internals/document-create-element":154,"../internals/fails":171}],194:[function(e,o,d){var t=Array,r=Math.abs,s=Math.pow,i=Math.floor,u=Math.log,a=Math.LN2,n=function(c,f,p){var y=t(p),m=p*8-f-1,g=(1<<m)-1,h=g>>1,_=f===23?s(2,-24)-s(2,-77):0,j=c<0||c===0&&1/c<0?1:0,T=0,S,b,E;for(c=r(c),c!==c||c===1/0?(b=c!==c?1:0,S=g):(S=i(u(c)/a),E=s(2,-S),c*E<1&&(S--,E*=2),S+h>=1?c+=_/E:c+=_*s(2,1-h),c*E>=2&&(S++,E/=2),S+h>=g?(b=0,S=g):S+h>=1?(b=(c*E-1)*s(2,f),S+=h):(b=c*s(2,h-1)*s(2,f),S=0));f>=8;)y[T++]=b&255,b/=256,f-=8;for(S=S<<f|b,m+=f;m>0;)y[T++]=S&255,S/=256,m-=8;return y[--T]|=j*128,y},l=function(c,f){var p=c.length,y=p*8-f-1,m=(1<<y)-1,g=m>>1,h=y-7,_=p-1,j=c[_--],T=j&127,S;for(j>>=7;h>0;)T=T*256+c[_--],h-=8;for(S=T&(1<<-h)-1,T>>=-h,h+=f;h>0;)S=S*256+c[_--],h-=8;if(T===0)T=1-g;else{if(T===m)return S?NaN:j?-1/0:1/0;S+=s(2,f),T-=g}return(j?-1:1)*S*s(2,T-f)};o.exports={pack:n,unpack:l}},{}],195:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/fails"),s=e("../internals/classof-raw"),i=Object,u=t("".split);o.exports=r(function(){return!i("z").propertyIsEnumerable(0)})?function(a){return s(a)==="String"?u(a,""):i(a)}:i},{"../internals/classof-raw":137,"../internals/fails":171,"../internals/function-uncurry-this":181}],196:[function(e,o,d){var t=e("../internals/is-callable"),r=e("../internals/is-object"),s=e("../internals/object-set-prototype-of");o.exports=function(i,u,a){var n,l;return s&&t(n=u.constructor)&&n!==a&&r(l=n.prototype)&&l!==a.prototype&&s(i,l),i}},{"../internals/is-callable":203,"../internals/is-object":208,"../internals/object-set-prototype-of":242}],197:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/is-callable"),s=e("../internals/shared-store"),i=t(Function.toString);r(s.inspectSource)||(s.inspectSource=function(u){return i(u)}),o.exports=s.inspectSource},{"../internals/function-uncurry-this":181,"../internals/is-callable":203,"../internals/shared-store":268}],198:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this"),s=e("../internals/hidden-keys"),i=e("../internals/is-object"),u=e("../internals/has-own-property"),a=e("../internals/object-define-property").f,n=e("../internals/object-get-own-property-names"),l=e("../internals/object-get-own-property-names-external"),c=e("../internals/object-is-extensible"),f=e("../internals/uid"),p=e("../internals/freezing"),y=!1,m=f("meta"),g=0,h=function(E){a(E,m,{value:{objectID:"O"+g++,weakData:{}}})},_=function(E,O){if(!i(E))return typeof E=="symbol"?E:(typeof E=="string"?"S":"P")+E;if(!u(E,m)){if(!c(E))return"F";if(!O)return"E";h(E)}return E[m].objectID},j=function(E,O){if(!u(E,m)){if(!c(E))return!0;if(!O)return!1;h(E)}return E[m].weakData},T=function(E){return p&&y&&c(E)&&!u(E,m)&&h(E),E},S=function(){b.enable=function(){},y=!0;var E=n.f,O=r([].splice),C={};C[m]=1,E(C).length&&(n.f=function(k){for(var A=E(k),I=0,D=A.length;I<D;I++)if(A[I]===m){O(A,I,1);break}return A},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},b=o.exports={enable:S,fastKey:_,getWeakData:j,onFreeze:T};s[m]=!0},{"../internals/export":170,"../internals/freezing":173,"../internals/function-uncurry-this":181,"../internals/has-own-property":189,"../internals/hidden-keys":190,"../internals/is-object":208,"../internals/object-define-property":231,"../internals/object-get-own-property-names":234,"../internals/object-get-own-property-names-external":233,"../internals/object-is-extensible":237,"../internals/uid":299}],199:[function(e,o,d){var t=e("../internals/weak-map-basic-detection"),r=e("../internals/global"),s=e("../internals/is-object"),i=e("../internals/create-non-enumerable-property"),u=e("../internals/has-own-property"),a=e("../internals/shared-store"),n=e("../internals/shared-key"),l=e("../internals/hidden-keys"),c="Object already initialized",f=r.TypeError,p=r.WeakMap,y,m,g,h=function(S){return g(S)?m(S):y(S,{})},_=function(S){return function(b){var E;if(!s(b)||(E=m(b)).type!==S)throw new f("Incompatible receiver, "+S+" required");return E}};if(t||a.state){var j=a.state||(a.state=new p);j.get=j.get,j.has=j.has,j.set=j.set,y=function(S,b){if(j.has(S))throw new f(c);return b.facade=S,j.set(S,b),b},m=function(S){return j.get(S)||{}},g=function(S){return j.has(S)}}else{var T=n("state");l[T]=!0,y=function(S,b){if(u(S,T))throw new f(c);return b.facade=S,i(S,T,b),b},m=function(S){return u(S,T)?S[T]:{}},g=function(S){return u(S,T)}}o.exports={set:y,get:m,has:g,enforce:h,getterFor:_}},{"../internals/create-non-enumerable-property":145,"../internals/global":188,"../internals/has-own-property":189,"../internals/hidden-keys":190,"../internals/is-object":208,"../internals/shared-key":267,"../internals/shared-store":268,"../internals/weak-map-basic-detection":303}],200:[function(e,o,d){var t=e("../internals/well-known-symbol"),r=e("../internals/iterators"),s=t("iterator"),i=Array.prototype;o.exports=function(u){return u!==void 0&&(r.Array===u||i[s]===u)}},{"../internals/iterators":218,"../internals/well-known-symbol":306}],201:[function(e,o,d){var t=e("../internals/classof-raw");o.exports=Array.isArray||function(s){return t(s)==="Array"}},{"../internals/classof-raw":137}],202:[function(e,o,d){var t=e("../internals/classof");o.exports=function(r){var s=t(r);return s==="BigInt64Array"||s==="BigUint64Array"}},{"../internals/classof":138}],203:[function(e,o,d){var t=typeof document=="object"&&document.all;o.exports=typeof t=="undefined"&&t!==void 0?function(r){return typeof r=="function"||r===t}:function(r){return typeof r=="function"}},{}],204:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/fails"),s=e("../internals/is-callable"),i=e("../internals/classof"),u=e("../internals/get-built-in"),a=e("../internals/inspect-source"),n=function(){},l=[],c=u("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=t(f.exec),y=!f.test(n),m=function(_){if(!s(_))return!1;try{return c(n,l,_),!0}catch(j){return!1}},g=function(_){if(!s(_))return!1;switch(i(_)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return y||!!p(f,a(_))}catch(j){return!0}};g.sham=!0,o.exports=!c||r(function(){var h;return m(m.call)||!m(Object)||!m(function(){h=!0})||h})?g:m},{"../internals/classof":138,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/get-built-in":182,"../internals/inspect-source":197,"../internals/is-callable":203}],205:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/is-callable"),s=/#|\.prototype\./,i=function(c,f){var p=a[u(c)];return p===l?!0:p===n?!1:r(f)?t(f):!!f},u=i.normalize=function(c){return String(c).replace(s,".").toLowerCase()},a=i.data={},n=i.NATIVE="N",l=i.POLYFILL="P";o.exports=i},{"../internals/fails":171,"../internals/is-callable":203}],206:[function(e,o,d){var t=e("../internals/is-object"),r=Math.floor;o.exports=Number.isInteger||function(i){return!t(i)&&isFinite(i)&&r(i)===i}},{"../internals/is-object":208}],207:[function(e,o,d){o.exports=function(t){return t==null}},{}],208:[function(e,o,d){var t=e("../internals/is-callable");o.exports=function(r){return typeof r=="object"?r!==null:t(r)}},{"../internals/is-callable":203}],209:[function(e,o,d){var t=e("../internals/is-object");o.exports=function(r){return t(r)||r===null}},{"../internals/is-object":208}],210:[function(e,o,d){o.exports=!1},{}],211:[function(e,o,d){var t=e("../internals/is-object"),r=e("../internals/classof-raw"),s=e("../internals/well-known-symbol"),i=s("match");o.exports=function(u){var a;return t(u)&&((a=u[i])!==void 0?!!a:r(u)==="RegExp")}},{"../internals/classof-raw":137,"../internals/is-object":208,"../internals/well-known-symbol":306}],212:[function(e,o,d){var t=e("../internals/get-built-in"),r=e("../internals/is-callable"),s=e("../internals/object-is-prototype-of"),i=e("../internals/use-symbol-as-uid"),u=Object;o.exports=i?function(a){return typeof a=="symbol"}:function(a){var n=t("Symbol");return r(n)&&s(n.prototype,u(a))}},{"../internals/get-built-in":182,"../internals/is-callable":203,"../internals/object-is-prototype-of":238,"../internals/use-symbol-as-uid":300}],213:[function(e,o,d){var t=e("../internals/function-bind-context"),r=e("../internals/function-call"),s=e("../internals/an-object"),i=e("../internals/try-to-string"),u=e("../internals/is-array-iterator-method"),a=e("../internals/length-of-array-like"),n=e("../internals/object-is-prototype-of"),l=e("../internals/get-iterator"),c=e("../internals/get-iterator-method"),f=e("../internals/iterator-close"),p=TypeError,y=function(g,h){this.stopped=g,this.result=h},m=y.prototype;o.exports=function(g,h,_){var j=_&&_.that,T=!!(_&&_.AS_ENTRIES),S=!!(_&&_.IS_RECORD),b=!!(_&&_.IS_ITERATOR),E=!!(_&&_.INTERRUPTED),O=t(h,j),C,k,A,I,D,F,Q,te=function(Z){return C&&f(C,"normal",Z),new y(!0,Z)},$=function(Z){return T?(s(Z),E?O(Z[0],Z[1],te):O(Z[0],Z[1])):E?O(Z,te):O(Z)};if(S)C=g.iterator;else if(b)C=g;else{if(k=c(g),!k)throw new p(i(g)+" is not iterable");if(u(k)){for(A=0,I=a(g);I>A;A++)if(D=$(g[A]),D&&n(m,D))return D;return new y(!1)}C=l(g,k)}for(F=S?g.next:C.next;!(Q=r(F,C)).done;){try{D=$(Q.value)}catch(Z){f(C,"throw",Z)}if(typeof D=="object"&&D&&n(m,D))return D}return new y(!1)}},{"../internals/an-object":114,"../internals/function-bind-context":175,"../internals/function-call":177,"../internals/get-iterator":184,"../internals/get-iterator-method":183,"../internals/is-array-iterator-method":200,"../internals/iterator-close":214,"../internals/length-of-array-like":219,"../internals/object-is-prototype-of":238,"../internals/try-to-string":293}],214:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/an-object"),s=e("../internals/get-method");o.exports=function(i,u,a){var n,l;r(i);try{if(n=s(i,"return"),!n){if(u==="throw")throw a;return a}n=t(n,i)}catch(c){l=!0,n=c}if(u==="throw")throw a;if(l)throw n;return r(n),a}},{"../internals/an-object":114,"../internals/function-call":177,"../internals/get-method":186}],215:[function(e,o,d){var t=e("../internals/iterators-core").IteratorPrototype,r=e("../internals/object-create"),s=e("../internals/create-property-descriptor"),i=e("../internals/set-to-string-tag"),u=e("../internals/iterators"),a=function(){return this};o.exports=function(n,l,c,f){var p=l+" Iterator";return n.prototype=r(t,{next:s(+!f,c)}),i(n,p,!1,!0),u[p]=a,n}},{"../internals/create-property-descriptor":146,"../internals/iterators":218,"../internals/iterators-core":217,"../internals/object-create":229,"../internals/set-to-string-tag":266}],216:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-call"),s=e("../internals/is-pure"),i=e("../internals/function-name"),u=e("../internals/is-callable"),a=e("../internals/iterator-create-constructor"),n=e("../internals/object-get-prototype-of"),l=e("../internals/object-set-prototype-of"),c=e("../internals/set-to-string-tag"),f=e("../internals/create-non-enumerable-property"),p=e("../internals/define-built-in"),y=e("../internals/well-known-symbol"),m=e("../internals/iterators"),g=e("../internals/iterators-core"),h=i.PROPER,_=i.CONFIGURABLE,j=g.IteratorPrototype,T=g.BUGGY_SAFARI_ITERATORS,S=y("iterator"),b="keys",E="values",O="entries",C=function(){return this};o.exports=function(k,A,I,D,F,Q,te){a(I,A,D);var $=function(oe){if(oe===F&&Y)return Y;if(!T&&oe&&oe in ie)return ie[oe];switch(oe){case b:return function(){return new I(this,oe)};case E:return function(){return new I(this,oe)};case O:return function(){return new I(this,oe)}}return function(){return new I(this)}},Z=A+" Iterator",ne=!1,ie=k.prototype,J=ie[S]||ie["@@iterator"]||F&&ie[F],Y=!T&&J||$(F),K=A==="Array"&&ie.entries||J,X,U,se;if(K&&(X=n(K.call(new k)),X!==Object.prototype&&X.next&&(!s&&n(X)!==j&&(l?l(X,j):u(X[S])||p(X,S,C)),c(X,Z,!0,!0),s&&(m[Z]=C))),h&&F===E&&J&&J.name!==E&&(!s&&_?f(ie,"name",E):(ne=!0,Y=function(){return r(J,this)})),F)if(U={values:$(E),keys:Q?Y:$(b),entries:$(O)},te)for(se in U)(T||ne||!(se in ie))&&p(ie,se,U[se]);else t({target:A,proto:!0,forced:T||ne},U);return(!s||te)&&ie[S]!==Y&&p(ie,S,Y,{name:F}),m[A]=Y,U}},{"../internals/create-non-enumerable-property":145,"../internals/define-built-in":149,"../internals/export":170,"../internals/function-call":177,"../internals/function-name":178,"../internals/is-callable":203,"../internals/is-pure":210,"../internals/iterator-create-constructor":215,"../internals/iterators":218,"../internals/iterators-core":217,"../internals/object-get-prototype-of":236,"../internals/object-set-prototype-of":242,"../internals/set-to-string-tag":266,"../internals/well-known-symbol":306}],217:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/is-callable"),s=e("../internals/is-object"),i=e("../internals/object-create"),u=e("../internals/object-get-prototype-of"),a=e("../internals/define-built-in"),n=e("../internals/well-known-symbol"),l=e("../internals/is-pure"),c=n("iterator"),f=!1,p,y,m;[].keys&&(m=[].keys(),"next"in m?(y=u(u(m)),y!==Object.prototype&&(p=y)):f=!0);var g=!s(p)||t(function(){var h={};return p[c].call(h)!==h});g?p={}:l&&(p=i(p)),r(p[c])||a(p,c,function(){return this}),o.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:f}},{"../internals/define-built-in":149,"../internals/fails":171,"../internals/is-callable":203,"../internals/is-object":208,"../internals/is-pure":210,"../internals/object-create":229,"../internals/object-get-prototype-of":236,"../internals/well-known-symbol":306}],218:[function(e,o,d){arguments[4][190][0].apply(d,arguments)},{dup:190}],219:[function(e,o,d){var t=e("../internals/to-length");o.exports=function(r){return t(r.length)}},{"../internals/to-length":284}],220:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/fails"),s=e("../internals/is-callable"),i=e("../internals/has-own-property"),u=e("../internals/descriptors"),a=e("../internals/function-name").CONFIGURABLE,n=e("../internals/inspect-source"),l=e("../internals/internal-state"),c=l.enforce,f=l.get,p=String,y=Object.defineProperty,m=t("".slice),g=t("".replace),h=t([].join),_=u&&!r(function(){return y(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),T=o.exports=function(S,b,E){m(p(b),0,7)==="Symbol("&&(b="["+g(p(b),/^Symbol\(([^)]*)\)/,"$1")+"]"),E&&E.getter&&(b="get "+b),E&&E.setter&&(b="set "+b),(!i(S,"name")||a&&S.name!==b)&&(u?y(S,"name",{value:b,configurable:!0}):S.name=b),_&&E&&i(E,"arity")&&S.length!==E.arity&&y(S,"length",{value:E.arity});try{E&&i(E,"constructor")&&E.constructor?u&&y(S,"prototype",{writable:!1}):S.prototype&&(S.prototype=void 0)}catch(C){}var O=c(S);return i(O,"source")||(O.source=h(j,typeof b=="string"?b:"")),S};Function.prototype.toString=T(function(){return s(this)&&f(this).source||n(this)},"toString")},{"../internals/descriptors":153,"../internals/fails":171,"../internals/function-name":178,"../internals/function-uncurry-this":181,"../internals/has-own-property":189,"../internals/inspect-source":197,"../internals/internal-state":199,"../internals/is-callable":203}],221:[function(e,o,d){var t=e("../internals/math-sign"),r=Math.abs,s=2220446049250313e-31,i=1/s,u=function(a){return a+i-i};o.exports=function(a,n,l,c){var f=+a,p=r(f),y=t(f);if(p<c)return y*u(p/c/n)*c*n;var m=(1+n/s)*p,g=m-(m-p);return g>l||g!==g?y*(1/0):y*g}},{"../internals/math-sign":223}],222:[function(e,o,d){var t=e("../internals/math-float-round"),r=11920928955078125e-23,s=34028234663852886e22,i=11754943508222875e-54;o.exports=Math.fround||function(a){return t(a,r,s,i)}},{"../internals/math-float-round":221}],223:[function(e,o,d){o.exports=Math.sign||function(r){var s=+r;return s===0||s!==s?s:s<0?-1:1}},{}],224:[function(e,o,d){var t=Math.ceil,r=Math.floor;o.exports=Math.trunc||function(i){var u=+i;return(u>0?r:t)(u)}},{}],225:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/safe-get-built-in"),s=e("../internals/function-bind-context"),i=e("../internals/task").set,u=e("../internals/queue"),a=e("../internals/engine-is-ios"),n=e("../internals/engine-is-ios-pebble"),l=e("../internals/engine-is-webos-webkit"),c=e("../internals/engine-is-node"),f=t.MutationObserver||t.WebKitMutationObserver,p=t.document,y=t.process,m=t.Promise,g=r("queueMicrotask"),h,_,j,T,S;if(!g){var b=new u,E=function(){var O,C;for(c&&(O=y.domain)&&O.exit();C=b.get();)try{C()}catch(k){throw b.head&&h(),k}O&&O.enter()};!a&&!c&&!l&&f&&p?(_=!0,j=p.createTextNode(""),new f(E).observe(j,{characterData:!0}),h=function(){j.data=_=!_}):!n&&m&&m.resolve?(T=m.resolve(void 0),T.constructor=m,S=s(T.then,T),h=function(){S(E)}):c?h=function(){y.nextTick(E)}:(i=s(i,t),h=function(){i(E)}),g=function(O){b.head||h(),b.add(O)}}o.exports=g},{"../internals/engine-is-ios":163,"../internals/engine-is-ios-pebble":162,"../internals/engine-is-node":164,"../internals/engine-is-webos-webkit":165,"../internals/function-bind-context":175,"../internals/global":188,"../internals/queue":254,"../internals/safe-get-built-in":263,"../internals/task":277}],226:[function(e,o,d){var t=e("../internals/a-callable"),r=TypeError,s=function(i){var u,a;this.promise=new i(function(n,l){if(u!==void 0||a!==void 0)throw new r("Bad Promise constructor");u=n,a=l}),this.resolve=t(u),this.reject=t(a)};o.exports.f=function(i){return new s(i)}},{"../internals/a-callable":108}],227:[function(e,o,d){var t=e("../internals/is-regexp"),r=TypeError;o.exports=function(s){if(t(s))throw new r("The method doesn't accept regular expressions");return s}},{"../internals/is-regexp":211}],228:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/function-uncurry-this"),s=e("../internals/function-call"),i=e("../internals/fails"),u=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),n=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),c=e("../internals/indexed-object"),f=Object.assign,p=Object.defineProperty,y=r([].concat);o.exports=!f||i(function(){if(t&&f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var m={},g={},h=Symbol("assign detection"),_="abcdefghijklmnopqrst";return m[h]=7,_.split("").forEach(function(j){g[j]=j}),f({},m)[h]!==7||u(f({},g)).join("")!==_})?function(g,h){for(var _=l(g),j=arguments.length,T=1,S=a.f,b=n.f;j>T;)for(var E=c(arguments[T++]),O=S?y(u(E),S(E)):u(E),C=O.length,k=0,A;C>k;)A=O[k++],(!t||s(b,E,A))&&(_[A]=E[A]);return _}:f},{"../internals/descriptors":153,"../internals/fails":171,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/indexed-object":195,"../internals/object-get-own-property-symbols":235,"../internals/object-keys":240,"../internals/object-property-is-enumerable":241,"../internals/to-object":285}],229:[function(e,o,d){var t=e("../internals/an-object"),r=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),i=e("../internals/hidden-keys"),u=e("../internals/html"),a=e("../internals/document-create-element"),n=e("../internals/shared-key"),l=">",c="<",f="prototype",p="script",y=n("IE_PROTO"),m=function(){},g=function(S){return c+p+l+S+c+"/"+p+l},h=function(S){S.write(g("")),S.close();var b=S.parentWindow.Object;return S=null,b},_=function(){var S=a("iframe"),b="java"+p+":",E;return S.style.display="none",u.appendChild(S),S.src=String(b),E=S.contentWindow.document,E.open(),E.write(g("document.F=Object")),E.close(),E.F},j,T=function(){try{j=new ActiveXObject("htmlfile")}catch(b){}T=typeof document!="undefined"?document.domain&&j?h(j):_():h(j);for(var S=s.length;S--;)delete T[f][s[S]];return T()};i[y]=!0,o.exports=Object.create||function(b,E){var O;return b!==null?(m[f]=t(b),O=new m,m[f]=null,O[y]=b):O=T(),E===void 0?O:r.f(O,E)}},{"../internals/an-object":114,"../internals/document-create-element":154,"../internals/enum-bug-keys":169,"../internals/hidden-keys":190,"../internals/html":192,"../internals/object-define-properties":230,"../internals/shared-key":267}],230:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/v8-prototype-define-bug"),s=e("../internals/object-define-property"),i=e("../internals/an-object"),u=e("../internals/to-indexed-object"),a=e("../internals/object-keys");d.f=t&&!r?Object.defineProperties:function(l,c){i(l);for(var f=u(c),p=a(c),y=p.length,m=0,g;y>m;)s.f(l,g=p[m++],f[g]);return l}},{"../internals/an-object":114,"../internals/descriptors":153,"../internals/object-define-property":231,"../internals/object-keys":240,"../internals/to-indexed-object":282,"../internals/v8-prototype-define-bug":301}],231:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/ie8-dom-define"),s=e("../internals/v8-prototype-define-bug"),i=e("../internals/an-object"),u=e("../internals/to-property-key"),a=TypeError,n=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",p="writable";d.f=t?s?function(m,g,h){if(i(m),g=u(g),i(h),typeof m=="function"&&g==="prototype"&&"value"in h&&p in h&&!h[p]){var _=l(m,g);_&&_[p]&&(m[g]=h.value,h={configurable:f in h?h[f]:_[f],enumerable:c in h?h[c]:_[c],writable:!1})}return n(m,g,h)}:n:function(m,g,h){if(i(m),g=u(g),i(h),r)try{return n(m,g,h)}catch(_){}if("get"in h||"set"in h)throw new a("Accessors not supported");return"value"in h&&(m[g]=h.value),m}},{"../internals/an-object":114,"../internals/descriptors":153,"../internals/ie8-dom-define":193,"../internals/to-property-key":289,"../internals/v8-prototype-define-bug":301}],232:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/function-call"),s=e("../internals/object-property-is-enumerable"),i=e("../internals/create-property-descriptor"),u=e("../internals/to-indexed-object"),a=e("../internals/to-property-key"),n=e("../internals/has-own-property"),l=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;d.f=t?c:function(p,y){if(p=u(p),y=a(y),l)try{return c(p,y)}catch(m){}if(n(p,y))return i(!r(s.f,p,y),p[y])}},{"../internals/create-property-descriptor":146,"../internals/descriptors":153,"../internals/function-call":177,"../internals/has-own-property":189,"../internals/ie8-dom-define":193,"../internals/object-property-is-enumerable":241,"../internals/to-indexed-object":282,"../internals/to-property-key":289}],233:[function(e,o,d){var t=e("../internals/classof-raw"),r=e("../internals/to-indexed-object"),s=e("../internals/object-get-own-property-names").f,i=e("../internals/array-slice"),u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(n){try{return s(n)}catch(l){return i(u)}};o.exports.f=function(l){return u&&t(l)==="Window"?a(l):s(r(l))}},{"../internals/array-slice":131,"../internals/classof-raw":137,"../internals/object-get-own-property-names":234,"../internals/to-indexed-object":282}],234:[function(e,o,d){var t=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys"),s=r.concat("length","prototype");d.f=Object.getOwnPropertyNames||function(u){return t(u,s)}},{"../internals/enum-bug-keys":169,"../internals/object-keys-internal":239}],235:[function(e,o,d){d.f=Object.getOwnPropertySymbols},{}],236:[function(e,o,d){var t=e("../internals/has-own-property"),r=e("../internals/is-callable"),s=e("../internals/to-object"),i=e("../internals/shared-key"),u=e("../internals/correct-prototype-getter"),a=i("IE_PROTO"),n=Object,l=n.prototype;o.exports=u?n.getPrototypeOf:function(c){var f=s(c);if(t(f,a))return f[a];var p=f.constructor;return r(p)&&f instanceof p?p.prototype:f instanceof n?l:null}},{"../internals/correct-prototype-getter":143,"../internals/has-own-property":189,"../internals/is-callable":203,"../internals/shared-key":267,"../internals/to-object":285}],237:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/is-object"),s=e("../internals/classof-raw"),i=e("../internals/array-buffer-non-extensible"),u=Object.isExtensible,a=t(function(){});o.exports=a||i?function(l){return!r(l)||i&&s(l)==="ArrayBuffer"?!1:u?u(l):!0}:u},{"../internals/array-buffer-non-extensible":116,"../internals/classof-raw":137,"../internals/fails":171,"../internals/is-object":208}],238:[function(e,o,d){var t=e("../internals/function-uncurry-this");o.exports=t({}.isPrototypeOf)},{"../internals/function-uncurry-this":181}],239:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/has-own-property"),s=e("../internals/to-indexed-object"),i=e("../internals/array-includes").indexOf,u=e("../internals/hidden-keys"),a=t([].push);o.exports=function(n,l){var c=s(n),f=0,p=[],y;for(y in c)!r(u,y)&&r(c,y)&&a(p,y);for(;l.length>f;)r(c,y=l[f++])&&(~i(p,y)||a(p,y));return p}},{"../internals/array-includes":124,"../internals/function-uncurry-this":181,"../internals/has-own-property":189,"../internals/hidden-keys":190,"../internals/to-indexed-object":282}],240:[function(e,o,d){var t=e("../internals/object-keys-internal"),r=e("../internals/enum-bug-keys");o.exports=Object.keys||function(i){return t(i,r)}},{"../internals/enum-bug-keys":169,"../internals/object-keys-internal":239}],241:[function(e,o,d){var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!t.call({1:2},1);d.f=s?function(u){var a=r(this,u);return!!a&&a.enumerable}:t},{}],242:[function(e,o,d){var t=e("../internals/function-uncurry-this-accessor"),r=e("../internals/an-object"),s=e("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,u={},a;try{a=t(Object.prototype,"__proto__","set"),a(u,[]),i=u instanceof Array}catch(n){}return function(l,c){return r(l),s(c),i?a(l,c):l.__proto__=c,l}}():void 0)},{"../internals/a-possible-prototype":110,"../internals/an-object":114,"../internals/function-uncurry-this-accessor":179}],243:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/fails"),s=e("../internals/function-uncurry-this"),i=e("../internals/object-get-prototype-of"),u=e("../internals/object-keys"),a=e("../internals/to-indexed-object"),n=e("../internals/object-property-is-enumerable").f,l=s(n),c=s([].push),f=t&&r(function(){var y=Object.create(null);return y[2]=2,!l(y,2)}),p=function(y){return function(m){for(var g=a(m),h=u(g),_=f&&i(g)===null,j=h.length,T=0,S=[],b;j>T;)b=h[T++],(!t||(_?b in g:l(g,b)))&&c(S,y?[b,g[b]]:g[b]);return S}};o.exports={entries:p(!0),values:p(!1)}},{"../internals/descriptors":153,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/object-get-prototype-of":236,"../internals/object-keys":240,"../internals/object-property-is-enumerable":241,"../internals/to-indexed-object":282}],244:[function(e,o,d){var t=e("../internals/to-string-tag-support"),r=e("../internals/classof");o.exports=t?{}.toString:function(){return"[object "+r(this)+"]"}},{"../internals/classof":138,"../internals/to-string-tag-support":290}],245:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/is-callable"),s=e("../internals/is-object"),i=TypeError;o.exports=function(u,a){var n,l;if(a==="string"&&r(n=u.toString)&&!s(l=t(n,u))||r(n=u.valueOf)&&!s(l=t(n,u))||a!=="string"&&r(n=u.toString)&&!s(l=t(n,u)))return l;throw new i("Can't convert object to primitive value")}},{"../internals/function-call":177,"../internals/is-callable":203,"../internals/is-object":208}],246:[function(e,o,d){var t=e("../internals/get-built-in"),r=e("../internals/function-uncurry-this"),s=e("../internals/object-get-own-property-names"),i=e("../internals/object-get-own-property-symbols"),u=e("../internals/an-object"),a=r([].concat);o.exports=t("Reflect","ownKeys")||function(l){var c=s.f(u(l)),f=i.f;return f?a(c,f(l)):c}},{"../internals/an-object":114,"../internals/function-uncurry-this":181,"../internals/get-built-in":182,"../internals/object-get-own-property-names":234,"../internals/object-get-own-property-symbols":235}],247:[function(e,o,d){var t=e("../internals/global");o.exports=t},{"../internals/global":188}],248:[function(e,o,d){o.exports=function(t){try{return{error:!1,value:t()}}catch(r){return{error:!0,value:r}}}},{}],249:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/promise-native-constructor"),s=e("../internals/is-callable"),i=e("../internals/is-forced"),u=e("../internals/inspect-source"),a=e("../internals/well-known-symbol"),n=e("../internals/engine-is-browser"),l=e("../internals/engine-is-deno"),c=e("../internals/is-pure"),f=e("../internals/engine-v8-version"),p=r&&r.prototype,y=a("species"),m=!1,g=s(t.PromiseRejectionEvent),h=i("Promise",function(){var _=u(r),j=_!==String(r);if(!j&&f===66||c&&!(p.catch&&p.finally))return!0;if(!f||f<51||!/native code/.test(_)){var T=new r(function(E){E(1)}),S=function(E){E(function(){},function(){})},b=T.constructor={};if(b[y]=S,m=T.then(function(){})instanceof S,!m)return!0}return!j&&(n||l)&&!g});o.exports={CONSTRUCTOR:h,REJECTION_EVENT:g,SUBCLASSING:m}},{"../internals/engine-is-browser":159,"../internals/engine-is-deno":160,"../internals/engine-v8-version":167,"../internals/global":188,"../internals/inspect-source":197,"../internals/is-callable":203,"../internals/is-forced":205,"../internals/is-pure":210,"../internals/promise-native-constructor":250,"../internals/well-known-symbol":306}],250:[function(e,o,d){var t=e("../internals/global");o.exports=t.Promise},{"../internals/global":188}],251:[function(e,o,d){var t=e("../internals/an-object"),r=e("../internals/is-object"),s=e("../internals/new-promise-capability");o.exports=function(i,u){if(t(i),r(u)&&u.constructor===i)return u;var a=s.f(i),n=a.resolve;return n(u),a.promise}},{"../internals/an-object":114,"../internals/is-object":208,"../internals/new-promise-capability":226}],252:[function(e,o,d){var t=e("../internals/promise-native-constructor"),r=e("../internals/check-correctness-of-iteration"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;o.exports=s||!r(function(i){t.all(i).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":136,"../internals/promise-constructor-detection":249,"../internals/promise-native-constructor":250}],253:[function(e,o,d){var t=e("../internals/object-define-property").f;o.exports=function(r,s,i){i in r||t(r,i,{configurable:!0,get:function(){return s[i]},set:function(u){s[i]=u}})}},{"../internals/object-define-property":231}],254:[function(e,o,d){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(r){var s={item:r,next:null},i=this.tail;i?i.next=s:this.head=s,this.tail=s},get:function(){var r=this.head;if(r){var s=this.head=r.next;return s===null&&(this.tail=null),r.item}}},o.exports=t},{}],255:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/an-object"),s=e("../internals/is-callable"),i=e("../internals/classof-raw"),u=e("../internals/regexp-exec"),a=TypeError;o.exports=function(n,l){var c=n.exec;if(s(c)){var f=t(c,n,l);return f!==null&&r(f),f}if(i(n)==="RegExp")return t(u,n,l);throw new a("RegExp#exec called on incompatible receiver")}},{"../internals/an-object":114,"../internals/classof-raw":137,"../internals/function-call":177,"../internals/is-callable":203,"../internals/regexp-exec":256}],256:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/function-uncurry-this"),s=e("../internals/to-string"),i=e("../internals/regexp-flags"),u=e("../internals/regexp-sticky-helpers"),a=e("../internals/shared"),n=e("../internals/object-create"),l=e("../internals/internal-state").get,c=e("../internals/regexp-unsupported-dot-all"),f=e("../internals/regexp-unsupported-ncg"),p=a("native-string-replace",String.prototype.replace),y=RegExp.prototype.exec,m=y,g=r("".charAt),h=r("".indexOf),_=r("".replace),j=r("".slice),T=function(){var O=/a/,C=/b*/g;return t(y,O,"a"),t(y,C,"a"),O.lastIndex!==0||C.lastIndex!==0}(),S=u.BROKEN_CARET,b=/()??/.exec("")[1]!==void 0,E=T||b||S||c||f;E&&(m=function(C){var k=this,A=l(k),I=s(C),D=A.raw,F,Q,te,$,Z,ne,ie;if(D)return D.lastIndex=k.lastIndex,F=t(m,D,I),k.lastIndex=D.lastIndex,F;var J=A.groups,Y=S&&k.sticky,K=t(i,k),X=k.source,U=0,se=I;if(Y&&(K=_(K,"y",""),h(K,"g")===-1&&(K+="g"),se=j(I,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&g(I,k.lastIndex-1)!==`
`)&&(X="(?: "+X+")",se=" "+se,U++),Q=new RegExp("^(?:"+X+")",K)),b&&(Q=new RegExp("^"+X+"$(?!\\s)",K)),T&&(te=k.lastIndex),$=t(y,Y?Q:k,se),Y?$?($.input=j($.input,U),$[0]=j($[0],U),$.index=k.lastIndex,k.lastIndex+=$[0].length):k.lastIndex=0:T&&$&&(k.lastIndex=k.global?$.index+$[0].length:te),b&&$&&$.length>1&&t(p,$[0],Q,function(){for(Z=1;Z<arguments.length-2;Z++)arguments[Z]===void 0&&($[Z]=void 0)}),$&&J)for($.groups=ne=n(null),Z=0;Z<J.length;Z++)ie=J[Z],ne[ie[0]]=$[ie[1]];return $}),o.exports=m},{"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/internal-state":199,"../internals/object-create":229,"../internals/regexp-flags":257,"../internals/regexp-sticky-helpers":259,"../internals/regexp-unsupported-dot-all":260,"../internals/regexp-unsupported-ncg":261,"../internals/shared":269,"../internals/to-string":291}],257:[function(e,o,d){var t=e("../internals/an-object");o.exports=function(){var r=t(this),s="";return r.hasIndices&&(s+="d"),r.global&&(s+="g"),r.ignoreCase&&(s+="i"),r.multiline&&(s+="m"),r.dotAll&&(s+="s"),r.unicode&&(s+="u"),r.unicodeSets&&(s+="v"),r.sticky&&(s+="y"),s}},{"../internals/an-object":114}],258:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/has-own-property"),s=e("../internals/object-is-prototype-of"),i=e("../internals/regexp-flags"),u=RegExp.prototype;o.exports=function(a){var n=a.flags;return n===void 0&&!("flags"in u)&&!r(a,"flags")&&s(u,a)?t(i,a):n}},{"../internals/function-call":177,"../internals/has-own-property":189,"../internals/object-is-prototype-of":238,"../internals/regexp-flags":257}],259:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/global"),s=r.RegExp,i=t(function(){var n=s("a","y");return n.lastIndex=2,n.exec("abcd")!==null}),u=i||t(function(){return!s("a","y").sticky}),a=i||t(function(){var n=s("^r","gy");return n.lastIndex=2,n.exec("str")!==null});o.exports={BROKEN_CARET:a,MISSED_STICKY:u,UNSUPPORTED_Y:i}},{"../internals/fails":171,"../internals/global":188}],260:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/global"),s=r.RegExp;o.exports=t(function(){var i=s(".","s");return!(i.dotAll&&i.test(`
`)&&i.flags==="s")})},{"../internals/fails":171,"../internals/global":188}],261:[function(e,o,d){var t=e("../internals/fails"),r=e("../internals/global"),s=r.RegExp;o.exports=t(function(){var i=s("(?<a>b)","g");return i.exec("b").groups.a!=="b"||"b".replace(i,"$<a>c")!=="bc"})},{"../internals/fails":171,"../internals/global":188}],262:[function(e,o,d){var t=e("../internals/is-null-or-undefined"),r=TypeError;o.exports=function(s){if(t(s))throw new r("Can't call method on "+s);return s}},{"../internals/is-null-or-undefined":207}],263:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/descriptors"),s=Object.getOwnPropertyDescriptor;o.exports=function(i){if(!r)return t[i];var u=s(t,i);return u&&u.value}},{"../internals/descriptors":153,"../internals/global":188}],264:[function(e,o,d){o.exports=Object.is||function(r,s){return r===s?r!==0||1/r===1/s:r!==r&&s!==s}},{}],265:[function(e,o,d){var t=e("../internals/get-built-in"),r=e("../internals/define-built-in-accessor"),s=e("../internals/well-known-symbol"),i=e("../internals/descriptors"),u=s("species");o.exports=function(a){var n=t(a);i&&n&&!n[u]&&r(n,u,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/get-built-in":182,"../internals/well-known-symbol":306}],266:[function(e,o,d){var t=e("../internals/object-define-property").f,r=e("../internals/has-own-property"),s=e("../internals/well-known-symbol"),i=s("toStringTag");o.exports=function(u,a,n){u&&!n&&(u=u.prototype),u&&!r(u,i)&&t(u,i,{configurable:!0,value:a})}},{"../internals/has-own-property":189,"../internals/object-define-property":231,"../internals/well-known-symbol":306}],267:[function(e,o,d){var t=e("../internals/shared"),r=e("../internals/uid"),s=t("keys");o.exports=function(i){return s[i]||(s[i]=r(i))}},{"../internals/shared":269,"../internals/uid":299}],268:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/define-global-property"),s="__core-js_shared__",i=t[s]||r(s,{});o.exports=i},{"../internals/define-global-property":151,"../internals/global":188}],269:[function(e,o,d){var t=e("../internals/is-pure"),r=e("../internals/shared-store");(o.exports=function(s,i){return r[s]||(r[s]=i!==void 0?i:{})})("versions",[]).push({version:"3.35.0",mode:t?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":210,"../internals/shared-store":268}],270:[function(e,o,d){var t=e("../internals/an-object"),r=e("../internals/a-constructor"),s=e("../internals/is-null-or-undefined"),i=e("../internals/well-known-symbol"),u=i("species");o.exports=function(a,n){var l=t(a).constructor,c;return l===void 0||s(c=t(l)[u])?n:r(c)}},{"../internals/a-constructor":109,"../internals/an-object":114,"../internals/is-null-or-undefined":207,"../internals/well-known-symbol":306}],271:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/to-integer-or-infinity"),s=e("../internals/to-string"),i=e("../internals/require-object-coercible"),u=t("".charAt),a=t("".charCodeAt),n=t("".slice),l=function(c){return function(f,p){var y=s(i(f)),m=r(p),g=y.length,h,_;return m<0||m>=g?c?"":void 0:(h=a(y,m),h<55296||h>56319||m+1===g||(_=a(y,m+1))<56320||_>57343?c?u(y,m):h:c?n(y,m,m+2):(h-55296<<10)+(_-56320)+65536)}};o.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/function-uncurry-this":181,"../internals/require-object-coercible":262,"../internals/to-integer-or-infinity":283,"../internals/to-string":291}],272:[function(e,o,d){var t=e("../internals/function-name").PROPER,r=e("../internals/fails"),s=e("../internals/whitespaces"),i="​᠎";o.exports=function(u){return r(function(){return!!s[u]()||i[u]()!==i||t&&s[u].name!==u})}},{"../internals/fails":171,"../internals/function-name":178,"../internals/whitespaces":307}],273:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/require-object-coercible"),s=e("../internals/to-string"),i=e("../internals/whitespaces"),u=t("".replace),a=RegExp("^["+i+"]+"),n=RegExp("(^|[^"+i+"])["+i+"]+$"),l=function(c){return function(f){var p=s(r(f));return c&1&&(p=u(p,a,"")),c&2&&(p=u(p,n,"$1")),p}};o.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/function-uncurry-this":181,"../internals/require-object-coercible":262,"../internals/to-string":291,"../internals/whitespaces":307}],274:[function(e,o,d){var t=e("../internals/engine-v8-version"),r=e("../internals/fails"),s=e("../internals/global"),i=s.String;o.exports=!!Object.getOwnPropertySymbols&&!r(function(){var u=Symbol("symbol detection");return!i(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&t&&t<41})},{"../internals/engine-v8-version":167,"../internals/fails":171,"../internals/global":188}],275:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/get-built-in"),s=e("../internals/well-known-symbol"),i=e("../internals/define-built-in");o.exports=function(){var u=r("Symbol"),a=u&&u.prototype,n=a&&a.valueOf,l=s("toPrimitive");a&&!a[l]&&i(a,l,function(c){return t(n,this)},{arity:1})}},{"../internals/define-built-in":149,"../internals/function-call":177,"../internals/get-built-in":182,"../internals/well-known-symbol":306}],276:[function(e,o,d){var t=e("../internals/symbol-constructor-detection");o.exports=t&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":274}],277:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/function-apply"),s=e("../internals/function-bind-context"),i=e("../internals/is-callable"),u=e("../internals/has-own-property"),a=e("../internals/fails"),n=e("../internals/html"),l=e("../internals/array-slice"),c=e("../internals/document-create-element"),f=e("../internals/validate-arguments-length"),p=e("../internals/engine-is-ios"),y=e("../internals/engine-is-node"),m=t.setImmediate,g=t.clearImmediate,h=t.process,_=t.Dispatch,j=t.Function,T=t.MessageChannel,S=t.String,b=0,E={},O="onreadystatechange",C,k,A,I;a(function(){C=t.location});var D=function($){if(u(E,$)){var Z=E[$];delete E[$],Z()}},F=function($){return function(){D($)}},Q=function($){D($.data)},te=function($){t.postMessage(S($),C.protocol+"//"+C.host)};(!m||!g)&&(m=function(Z){f(arguments.length,1);var ne=i(Z)?Z:j(Z),ie=l(arguments,1);return E[++b]=function(){r(ne,void 0,ie)},k(b),b},g=function(Z){delete E[Z]},y?k=function($){h.nextTick(F($))}:_&&_.now?k=function($){_.now(F($))}:T&&!p?(A=new T,I=A.port2,A.port1.onmessage=Q,k=s(I.postMessage,I)):t.addEventListener&&i(t.postMessage)&&!t.importScripts&&C&&C.protocol!=="file:"&&!a(te)?(k=te,t.addEventListener("message",Q,!1)):O in c("script")?k=function($){n.appendChild(c("script"))[O]=function(){n.removeChild(this),D($)}}:k=function($){setTimeout(F($),0)}),o.exports={set:m,clear:g}},{"../internals/array-slice":131,"../internals/document-create-element":154,"../internals/engine-is-ios":163,"../internals/engine-is-node":164,"../internals/fails":171,"../internals/function-apply":174,"../internals/function-bind-context":175,"../internals/global":188,"../internals/has-own-property":189,"../internals/html":192,"../internals/is-callable":203,"../internals/validate-arguments-length":302}],278:[function(e,o,d){var t=e("../internals/function-uncurry-this");o.exports=t(1 .valueOf)},{"../internals/function-uncurry-this":181}],279:[function(e,o,d){var t=e("../internals/to-integer-or-infinity"),r=Math.max,s=Math.min;o.exports=function(i,u){var a=t(i);return a<0?r(a+u,0):s(a,u)}},{"../internals/to-integer-or-infinity":283}],280:[function(e,o,d){var t=e("../internals/to-primitive"),r=TypeError;o.exports=function(s){var i=t(s,"number");if(typeof i=="number")throw new r("Can't convert number to bigint");return BigInt(i)}},{"../internals/to-primitive":288}],281:[function(e,o,d){var t=e("../internals/to-integer-or-infinity"),r=e("../internals/to-length"),s=RangeError;o.exports=function(i){if(i===void 0)return 0;var u=t(i),a=r(u);if(u!==a)throw new s("Wrong length or index");return a}},{"../internals/to-integer-or-infinity":283,"../internals/to-length":284}],282:[function(e,o,d){var t=e("../internals/indexed-object"),r=e("../internals/require-object-coercible");o.exports=function(s){return t(r(s))}},{"../internals/indexed-object":195,"../internals/require-object-coercible":262}],283:[function(e,o,d){var t=e("../internals/math-trunc");o.exports=function(r){var s=+r;return s!==s||s===0?0:t(s)}},{"../internals/math-trunc":224}],284:[function(e,o,d){var t=e("../internals/to-integer-or-infinity"),r=Math.min;o.exports=function(s){return s>0?r(t(s),9007199254740991):0}},{"../internals/to-integer-or-infinity":283}],285:[function(e,o,d){var t=e("../internals/require-object-coercible"),r=Object;o.exports=function(s){return r(t(s))}},{"../internals/require-object-coercible":262}],286:[function(e,o,d){var t=e("../internals/to-positive-integer"),r=RangeError;o.exports=function(s,i){var u=t(s);if(u%i)throw new r("Wrong offset");return u}},{"../internals/to-positive-integer":287}],287:[function(e,o,d){var t=e("../internals/to-integer-or-infinity"),r=RangeError;o.exports=function(s){var i=t(s);if(i<0)throw new r("The argument can't be less than 0");return i}},{"../internals/to-integer-or-infinity":283}],288:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/is-object"),s=e("../internals/is-symbol"),i=e("../internals/get-method"),u=e("../internals/ordinary-to-primitive"),a=e("../internals/well-known-symbol"),n=TypeError,l=a("toPrimitive");o.exports=function(c,f){if(!r(c)||s(c))return c;var p=i(c,l),y;if(p){if(f===void 0&&(f="default"),y=t(p,c,f),!r(y)||s(y))return y;throw new n("Can't convert object to primitive value")}return f===void 0&&(f="number"),u(c,f)}},{"../internals/function-call":177,"../internals/get-method":186,"../internals/is-object":208,"../internals/is-symbol":212,"../internals/ordinary-to-primitive":245,"../internals/well-known-symbol":306}],289:[function(e,o,d){var t=e("../internals/to-primitive"),r=e("../internals/is-symbol");o.exports=function(s){var i=t(s,"string");return r(i)?i:i+""}},{"../internals/is-symbol":212,"../internals/to-primitive":288}],290:[function(e,o,d){var t=e("../internals/well-known-symbol"),r=t("toStringTag"),s={};s[r]="z",o.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":306}],291:[function(e,o,d){var t=e("../internals/classof"),r=String;o.exports=function(s){if(t(s)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return r(s)}},{"../internals/classof":138}],292:[function(e,o,d){var t=Math.round;o.exports=function(r){var s=t(r);return s<0?0:s>255?255:s&255}},{}],293:[function(e,o,d){var t=String;o.exports=function(r){try{return t(r)}catch(s){return"Object"}}},{}],294:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/global"),s=e("../internals/function-call"),i=e("../internals/descriptors"),u=e("../internals/typed-array-constructors-require-wrappers"),a=e("../internals/array-buffer-view-core"),n=e("../internals/array-buffer"),l=e("../internals/an-instance"),c=e("../internals/create-property-descriptor"),f=e("../internals/create-non-enumerable-property"),p=e("../internals/is-integral-number"),y=e("../internals/to-length"),m=e("../internals/to-index"),g=e("../internals/to-offset"),h=e("../internals/to-uint8-clamped"),_=e("../internals/to-property-key"),j=e("../internals/has-own-property"),T=e("../internals/classof"),S=e("../internals/is-object"),b=e("../internals/is-symbol"),E=e("../internals/object-create"),O=e("../internals/object-is-prototype-of"),C=e("../internals/object-set-prototype-of"),k=e("../internals/object-get-own-property-names").f,A=e("../internals/typed-array-from"),I=e("../internals/array-iteration").forEach,D=e("../internals/set-species"),F=e("../internals/define-built-in-accessor"),Q=e("../internals/object-define-property"),te=e("../internals/object-get-own-property-descriptor"),$=e("../internals/array-from-constructor-and-list"),Z=e("../internals/internal-state"),ne=e("../internals/inherit-if-required"),ie=Z.get,J=Z.set,Y=Z.enforce,K=Q.f,X=te.f,U=r.RangeError,se=n.ArrayBuffer,oe=se.prototype,ae=n.DataView,de=a.NATIVE_ARRAY_BUFFER_VIEWS,G=a.TYPED_ARRAY_TAG,R=a.TypedArray,L=a.TypedArrayPrototype,M=a.isTypedArray,le="BYTES_PER_ELEMENT",ce="Wrong length",W=function(q,ue){F(q,ue,{configurable:!0,get:function(){return ie(this)[ue]}})},ee=function(q){var ue;return O(oe,q)||(ue=T(q))==="ArrayBuffer"||ue==="SharedArrayBuffer"},z=function(q,ue){return M(q)&&!b(ue)&&ue in q&&p(+ue)&&ue>=0},N=function(ue,fe){return fe=_(fe),z(ue,fe)?c(2,ue[fe]):X(ue,fe)},V=function(ue,fe,ye){return fe=_(fe),z(ue,fe)&&S(ye)&&j(ye,"value")&&!j(ye,"get")&&!j(ye,"set")&&!ye.configurable&&(!j(ye,"writable")||ye.writable)&&(!j(ye,"enumerable")||ye.enumerable)?(ue[fe]=ye.value,ue):K(ue,fe,ye)};i?(de||(te.f=N,Q.f=V,W(L,"buffer"),W(L,"byteOffset"),W(L,"byteLength"),W(L,"length")),t({target:"Object",stat:!0,forced:!de},{getOwnPropertyDescriptor:N,defineProperty:V}),o.exports=function(q,ue,fe){var ye=q.match(/\d+/)[0]/8,_e=q+(fe?"Clamped":"")+"Array",Te="get"+q,je="set"+q,Oe=r[_e],ge=Oe,Ee=ge&&ge.prototype,Ne={},Ye=function(Re,he){var be=ie(Re);return be.view[Te](he*ye+be.byteOffset,!0)},Ke=function(Re,he,be){var Le=ie(Re);Le.view[je](he*ye+Le.byteOffset,fe?h(be):be,!0)},He=function(Re,he){K(Re,he,{get:function(){return Ye(this,he)},set:function(be){return Ke(this,he,be)},enumerable:!0})};de?u&&(ge=ue(function(Re,he,be,Le){return l(Re,Ee),ne(function(){return S(he)?ee(he)?Le!==void 0?new Oe(he,g(be,ye),Le):be!==void 0?new Oe(he,g(be,ye)):new Oe(he):M(he)?$(ge,he):s(A,ge,he):new Oe(m(he))}(),Re,ge)}),C&&C(ge,R),I(k(Oe),function(Re){Re in ge||f(ge,Re,Oe[Re])}),ge.prototype=Ee):(ge=ue(function(Re,he,be,Le){l(Re,Ee);var tt=0,at=0,Xe,gt,_t;if(!S(he))_t=m(he),gt=_t*ye,Xe=new se(gt);else if(ee(he)){Xe=he,at=g(be,ye);var yt=he.byteLength;if(Le===void 0){if(yt%ye)throw new U(ce);if(gt=yt-at,gt<0)throw new U(ce)}else if(gt=y(Le)*ye,gt+at>yt)throw new U(ce);_t=gt/ye}else return M(he)?$(ge,he):s(A,ge,he);for(J(Re,{buffer:Xe,byteOffset:at,byteLength:gt,length:_t,view:new ae(Xe)});tt<_t;)He(Re,tt++)}),C&&C(ge,R),Ee=ge.prototype=E(L)),Ee.constructor!==ge&&f(Ee,"constructor",ge),Y(Ee).TypedArrayConstructor=ge,G&&f(Ee,G,_e);var Be=ge!==Oe;Ne[_e]=ge,t({global:!0,constructor:!0,forced:Be,sham:!de},Ne),le in ge||f(ge,le,ye),le in Ee||f(Ee,le,ye),D(_e)}):o.exports=function(){}},{"../internals/an-instance":113,"../internals/array-buffer":118,"../internals/array-buffer-view-core":117,"../internals/array-from-constructor-and-list":122,"../internals/array-iteration":125,"../internals/classof":138,"../internals/create-non-enumerable-property":145,"../internals/create-property-descriptor":146,"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/export":170,"../internals/function-call":177,"../internals/global":188,"../internals/has-own-property":189,"../internals/inherit-if-required":196,"../internals/internal-state":199,"../internals/is-integral-number":206,"../internals/is-object":208,"../internals/is-symbol":212,"../internals/object-create":229,"../internals/object-define-property":231,"../internals/object-get-own-property-descriptor":232,"../internals/object-get-own-property-names":234,"../internals/object-is-prototype-of":238,"../internals/object-set-prototype-of":242,"../internals/set-species":265,"../internals/to-index":281,"../internals/to-length":284,"../internals/to-offset":286,"../internals/to-property-key":289,"../internals/to-uint8-clamped":292,"../internals/typed-array-constructors-require-wrappers":295,"../internals/typed-array-from":297}],295:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/fails"),s=e("../internals/check-correctness-of-iteration"),i=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,u=t.ArrayBuffer,a=t.Int8Array;o.exports=!i||!r(function(){a(1)})||!r(function(){new a(-1)})||!s(function(n){new a,new a(null),new a(1.5),new a(n)},!0)||r(function(){return new a(new u(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":117,"../internals/check-correctness-of-iteration":136,"../internals/fails":171,"../internals/global":188}],296:[function(e,o,d){var t=e("../internals/array-from-constructor-and-list"),r=e("../internals/typed-array-species-constructor");o.exports=function(s,i){return t(r(s),i)}},{"../internals/array-from-constructor-and-list":122,"../internals/typed-array-species-constructor":298}],297:[function(e,o,d){var t=e("../internals/function-bind-context"),r=e("../internals/function-call"),s=e("../internals/a-constructor"),i=e("../internals/to-object"),u=e("../internals/length-of-array-like"),a=e("../internals/get-iterator"),n=e("../internals/get-iterator-method"),l=e("../internals/is-array-iterator-method"),c=e("../internals/is-big-int-array"),f=e("../internals/array-buffer-view-core").aTypedArrayConstructor,p=e("../internals/to-big-int");o.exports=function(m){var g=s(this),h=i(m),_=arguments.length,j=_>1?arguments[1]:void 0,T=j!==void 0,S=n(h),b,E,O,C,k,A,I,D;if(S&&!l(S))for(I=a(h,S),D=I.next,h=[];!(A=r(D,I)).done;)h.push(A.value);for(T&&_>2&&(j=t(j,arguments[2])),E=u(h),O=new(f(g))(E),C=c(O),b=0;E>b;b++)k=T?j(h[b],b):h[b],O[b]=C?p(k):+k;return O}},{"../internals/a-constructor":109,"../internals/array-buffer-view-core":117,"../internals/function-bind-context":175,"../internals/function-call":177,"../internals/get-iterator":184,"../internals/get-iterator-method":183,"../internals/is-array-iterator-method":200,"../internals/is-big-int-array":202,"../internals/length-of-array-like":219,"../internals/to-big-int":280,"../internals/to-object":285}],298:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/species-constructor"),s=t.aTypedArrayConstructor,i=t.getTypedArrayConstructor;o.exports=function(u){return s(r(u,i(u)))}},{"../internals/array-buffer-view-core":117,"../internals/species-constructor":270}],299:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=0,s=Math.random(),i=t(1 .toString);o.exports=function(u){return"Symbol("+(u===void 0?"":u)+")_"+i(++r+s,36)}},{"../internals/function-uncurry-this":181}],300:[function(e,o,d){var t=e("../internals/symbol-constructor-detection");o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":274}],301:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/fails");o.exports=t&&r(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":153,"../internals/fails":171}],302:[function(e,o,d){var t=TypeError;o.exports=function(r,s){if(r<s)throw new t("Not enough arguments");return r}},{}],303:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/is-callable"),s=t.WeakMap;o.exports=r(s)&&/native code/.test(String(s))},{"../internals/global":188,"../internals/is-callable":203}],304:[function(e,o,d){var t=e("../internals/path"),r=e("../internals/has-own-property"),s=e("../internals/well-known-symbol-wrapped"),i=e("../internals/object-define-property").f;o.exports=function(u){var a=t.Symbol||(t.Symbol={});r(a,u)||i(a,u,{value:s.f(u)})}},{"../internals/has-own-property":189,"../internals/object-define-property":231,"../internals/path":247,"../internals/well-known-symbol-wrapped":305}],305:[function(e,o,d){var t=e("../internals/well-known-symbol");d.f=t},{"../internals/well-known-symbol":306}],306:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/shared"),s=e("../internals/has-own-property"),i=e("../internals/uid"),u=e("../internals/symbol-constructor-detection"),a=e("../internals/use-symbol-as-uid"),n=t.Symbol,l=r("wks"),c=a?n.for||n:n&&n.withoutSetter||i;o.exports=function(f){return s(l,f)||(l[f]=u&&s(n,f)?n[f]:c("Symbol."+f)),l[f]}},{"../internals/global":188,"../internals/has-own-property":189,"../internals/shared":269,"../internals/symbol-constructor-detection":274,"../internals/uid":299,"../internals/use-symbol-as-uid":300}],307:[function(e,o,d){o.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],308:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/global"),s=e("../internals/array-buffer"),i=e("../internals/set-species"),u="ArrayBuffer",a=s[u],n=r[u];t({global:!0,constructor:!0,forced:n!==a},{ArrayBuffer:a}),i(u)},{"../internals/array-buffer":118,"../internals/export":170,"../internals/global":188,"../internals/set-species":265}],309:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this-clause"),s=e("../internals/fails"),i=e("../internals/array-buffer"),u=e("../internals/an-object"),a=e("../internals/to-absolute-index"),n=e("../internals/to-length"),l=e("../internals/species-constructor"),c=i.ArrayBuffer,f=i.DataView,p=f.prototype,y=r(c.prototype.slice),m=r(p.getUint8),g=r(p.setUint8),h=s(function(){return!new c(2).slice(1,void 0).byteLength});t({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:h},{slice:function(j,T){if(y&&T===void 0)return y(u(this),j);for(var S=u(this).byteLength,b=a(j,S),E=a(T===void 0?S:T,S),O=new(l(this,c))(n(E-b)),C=new f(this),k=new f(O),A=0;b<E;)g(k,A++,m(C,b++));return O}})},{"../internals/an-object":114,"../internals/array-buffer":118,"../internals/export":170,"../internals/fails":171,"../internals/function-uncurry-this-clause":180,"../internals/species-constructor":270,"../internals/to-absolute-index":279,"../internals/to-length":284}],310:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/fails"),s=e("../internals/is-array"),i=e("../internals/is-object"),u=e("../internals/to-object"),a=e("../internals/length-of-array-like"),n=e("../internals/does-not-exceed-safe-integer"),l=e("../internals/create-property"),c=e("../internals/array-species-create"),f=e("../internals/array-method-has-species-support"),p=e("../internals/well-known-symbol"),y=e("../internals/engine-v8-version"),m=p("isConcatSpreadable"),g=y>=51||!r(function(){var j=[];return j[m]=!1,j.concat()[0]!==j}),h=function(j){if(!i(j))return!1;var T=j[m];return T!==void 0?!!T:s(j)},_=!g||!f("concat");t({target:"Array",proto:!0,arity:1,forced:_},{concat:function(T){var S=u(this),b=c(S,0),E=0,O,C,k,A,I;for(O=-1,k=arguments.length;O<k;O++)if(I=O===-1?S:arguments[O],h(I))for(A=a(I),n(E+A),C=0;C<A;C++,E++)C in I&&l(b,E,I[C]);else n(E+1),l(b,E++,I);return b.length=E,b}})},{"../internals/array-method-has-species-support":127,"../internals/array-species-create":134,"../internals/create-property":147,"../internals/does-not-exceed-safe-integer":155,"../internals/engine-v8-version":167,"../internals/export":170,"../internals/fails":171,"../internals/is-array":201,"../internals/is-object":208,"../internals/length-of-array-like":219,"../internals/to-object":285,"../internals/well-known-symbol":306}],311:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-fill"),s=e("../internals/add-to-unscopables");t({target:"Array",proto:!0},{fill:r}),s("fill")},{"../internals/add-to-unscopables":111,"../internals/array-fill":120,"../internals/export":170}],312:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-iteration").filter,s=e("../internals/array-method-has-species-support"),i=s("filter");t({target:"Array",proto:!0,forced:!i},{filter:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":125,"../internals/array-method-has-species-support":127,"../internals/export":170}],313:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-iteration").find,s=e("../internals/add-to-unscopables"),i="find",u=!0;i in[]&&Array(1)[i](function(){u=!1}),t({target:"Array",proto:!0,forced:u},{find:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),s(i)},{"../internals/add-to-unscopables":111,"../internals/array-iteration":125,"../internals/export":170}],314:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-from"),s=e("../internals/check-correctness-of-iteration"),i=!s(function(u){Array.from(u)});t({target:"Array",stat:!0,forced:i},{from:r})},{"../internals/array-from":123,"../internals/check-correctness-of-iteration":136,"../internals/export":170}],315:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-includes").includes,s=e("../internals/fails"),i=e("../internals/add-to-unscopables"),u=s(function(){return!Array(1).includes()});t({target:"Array",proto:!0,forced:u},{includes:function(n){return r(this,n,arguments.length>1?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":111,"../internals/array-includes":124,"../internals/export":170,"../internals/fails":171}],316:[function(e,o,d){var t=e("../internals/to-indexed-object"),r=e("../internals/add-to-unscopables"),s=e("../internals/iterators"),i=e("../internals/internal-state"),u=e("../internals/object-define-property").f,a=e("../internals/iterator-define"),n=e("../internals/create-iter-result-object"),l=e("../internals/is-pure"),c=e("../internals/descriptors"),f="Array Iterator",p=i.set,y=i.getterFor(f);o.exports=a(Array,"Array",function(g,h){p(this,{type:f,target:t(g),index:0,kind:h})},function(){var g=y(this),h=g.target,_=g.index++;if(!h||_>=h.length)return g.target=void 0,n(void 0,!0);switch(g.kind){case"keys":return n(_,!1);case"values":return n(h[_],!1)}return n([_,h[_]],!1)},"values");var m=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!l&&c&&m.name!=="values")try{u(m,"name",{value:"values"})}catch(g){}},{"../internals/add-to-unscopables":111,"../internals/create-iter-result-object":144,"../internals/descriptors":153,"../internals/internal-state":199,"../internals/is-pure":210,"../internals/iterator-define":216,"../internals/iterators":218,"../internals/object-define-property":231,"../internals/to-indexed-object":282}],317:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this"),s=e("../internals/indexed-object"),i=e("../internals/to-indexed-object"),u=e("../internals/array-method-is-strict"),a=r([].join),n=s!==Object,l=n||!u("join",",");t({target:"Array",proto:!0,forced:l},{join:function(f){return a(i(this),f===void 0?",":f)}})},{"../internals/array-method-is-strict":128,"../internals/export":170,"../internals/function-uncurry-this":181,"../internals/indexed-object":195,"../internals/to-indexed-object":282}],318:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/array-iteration").map,s=e("../internals/array-method-has-species-support"),i=s("map");t({target:"Array",proto:!0,forced:!i},{map:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":125,"../internals/array-method-has-species-support":127,"../internals/export":170}],319:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/is-array"),s=e("../internals/is-constructor"),i=e("../internals/is-object"),u=e("../internals/to-absolute-index"),a=e("../internals/length-of-array-like"),n=e("../internals/to-indexed-object"),l=e("../internals/create-property"),c=e("../internals/well-known-symbol"),f=e("../internals/array-method-has-species-support"),p=e("../internals/array-slice"),y=f("slice"),m=c("species"),g=Array,h=Math.max;t({target:"Array",proto:!0,forced:!y},{slice:function(j,T){var S=n(this),b=a(S),E=u(j,b),O=u(T===void 0?b:T,b),C,k,A;if(r(S)&&(C=S.constructor,s(C)&&(C===g||r(C.prototype))?C=void 0:i(C)&&(C=C[m],C===null&&(C=void 0)),C===g||C===void 0))return p(S,E,O);for(k=new(C===void 0?g:C)(h(O-E,0)),A=0;E<O;E++,A++)E in S&&l(k,A,S[E]);return k.length=A,k}})},{"../internals/array-method-has-species-support":127,"../internals/array-slice":131,"../internals/create-property":147,"../internals/export":170,"../internals/is-array":201,"../internals/is-constructor":204,"../internals/is-object":208,"../internals/length-of-array-like":219,"../internals/to-absolute-index":279,"../internals/to-indexed-object":282,"../internals/well-known-symbol":306}],320:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this"),s=e("../internals/a-callable"),i=e("../internals/to-object"),u=e("../internals/length-of-array-like"),a=e("../internals/delete-property-or-throw"),n=e("../internals/to-string"),l=e("../internals/fails"),c=e("../internals/array-sort"),f=e("../internals/array-method-is-strict"),p=e("../internals/engine-ff-version"),y=e("../internals/engine-is-ie-or-edge"),m=e("../internals/engine-v8-version"),g=e("../internals/engine-webkit-version"),h=[],_=r(h.sort),j=r(h.push),T=l(function(){h.sort(void 0)}),S=l(function(){h.sort(null)}),b=f("sort"),E=!l(function(){if(m)return m<70;if(!(p&&p>3)){if(y)return!0;if(g)return g<603;var k="",A,I,D,F;for(A=65;A<76;A++){switch(I=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:D=3;break;case 68:case 71:D=4;break;default:D=2}for(F=0;F<47;F++)h.push({k:I+F,v:D})}for(h.sort(function(Q,te){return te.v-Q.v}),F=0;F<h.length;F++)I=h[F].k.charAt(0),k.charAt(k.length-1)!==I&&(k+=I);return k!=="DGBEFHACIJK"}}),O=T||!S||!b||!E,C=function(k){return function(A,I){return I===void 0?-1:A===void 0?1:k!==void 0?+k(A,I)||0:n(A)>n(I)?1:-1}};t({target:"Array",proto:!0,forced:O},{sort:function(A){A!==void 0&&s(A);var I=i(this);if(E)return A===void 0?_(I):_(I,A);var D=[],F=u(I),Q,te;for(te=0;te<F;te++)te in I&&j(D,I[te]);for(c(D,C(A)),Q=u(D),te=0;te<Q;)I[te]=D[te++];for(;te<F;)a(I,te++);return I}})},{"../internals/a-callable":108,"../internals/array-method-is-strict":128,"../internals/array-sort":132,"../internals/delete-property-or-throw":152,"../internals/engine-ff-version":158,"../internals/engine-is-ie-or-edge":161,"../internals/engine-v8-version":167,"../internals/engine-webkit-version":168,"../internals/export":170,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/length-of-array-like":219,"../internals/to-object":285,"../internals/to-string":291}],321:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/to-object"),s=e("../internals/to-absolute-index"),i=e("../internals/to-integer-or-infinity"),u=e("../internals/length-of-array-like"),a=e("../internals/array-set-length"),n=e("../internals/does-not-exceed-safe-integer"),l=e("../internals/array-species-create"),c=e("../internals/create-property"),f=e("../internals/delete-property-or-throw"),p=e("../internals/array-method-has-species-support"),y=p("splice"),m=Math.max,g=Math.min;t({target:"Array",proto:!0,forced:!y},{splice:function(_,j){var T=r(this),S=u(T),b=s(_,S),E=arguments.length,O,C,k,A,I,D;for(E===0?O=C=0:E===1?(O=0,C=S-b):(O=E-2,C=g(m(i(j),0),S-b)),n(S+O-C),k=l(T,C),A=0;A<C;A++)I=b+A,I in T&&c(k,A,T[I]);if(k.length=C,O<C){for(A=b;A<S-C;A++)I=A+C,D=A+O,I in T?T[D]=T[I]:f(T,D);for(A=S;A>S-C+O;A--)f(T,A-1)}else if(O>C)for(A=S-C;A>b;A--)I=A+C-1,D=A+O-1,I in T?T[D]=T[I]:f(T,D);for(A=0;A<O;A++)T[A+b]=arguments[A+2];return a(T,S-C+O),k}})},{"../internals/array-method-has-species-support":127,"../internals/array-set-length":130,"../internals/array-species-create":134,"../internals/create-property":147,"../internals/delete-property-or-throw":152,"../internals/does-not-exceed-safe-integer":155,"../internals/export":170,"../internals/length-of-array-like":219,"../internals/to-absolute-index":279,"../internals/to-integer-or-infinity":283,"../internals/to-object":285}],322:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/function-name").EXISTS,s=e("../internals/function-uncurry-this"),i=e("../internals/define-built-in-accessor"),u=Function.prototype,a=s(u.toString),n=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=s(n.exec),c="name";t&&!r&&i(u,c,{configurable:!0,get:function(){try{return l(n,a(this))[1]}catch(f){return""}}})},{"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/function-name":178,"../internals/function-uncurry-this":181}],323:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/get-built-in"),s=e("../internals/function-apply"),i=e("../internals/function-call"),u=e("../internals/function-uncurry-this"),a=e("../internals/fails"),n=e("../internals/is-callable"),l=e("../internals/is-symbol"),c=e("../internals/array-slice"),f=e("../internals/get-json-replacer-function"),p=e("../internals/symbol-constructor-detection"),y=String,m=r("JSON","stringify"),g=u(/./.exec),h=u("".charAt),_=u("".charCodeAt),j=u("".replace),T=u(1 .toString),S=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,O=!p||a(function(){var I=r("Symbol")("stringify detection");return m([I])!=="[null]"||m({a:I})!=="{}"||m(Object(I))!=="{}"}),C=a(function(){return m("\uDF06\uD834")!=='"\\udf06\\ud834"'||m("\uDEAD")!=='"\\udead"'}),k=function(I,D){var F=c(arguments),Q=f(D);if(!(!n(Q)&&(I===void 0||l(I))))return F[1]=function(te,$){if(n(Q)&&($=i(Q,this,y(te),$)),!l($))return $},s(m,null,F)},A=function(I,D,F){var Q=h(F,D-1),te=h(F,D+1);return g(b,I)&&!g(E,te)||g(E,I)&&!g(b,Q)?"\\u"+T(_(I,0),16):I};m&&t({target:"JSON",stat:!0,arity:3,forced:O||C},{stringify:function(D,F,Q){var te=c(arguments),$=s(O?k:m,null,te);return C&&typeof $=="string"?j($,S,A):$}})},{"../internals/array-slice":131,"../internals/export":170,"../internals/fails":171,"../internals/function-apply":174,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/get-built-in":182,"../internals/get-json-replacer-function":185,"../internals/is-callable":203,"../internals/is-symbol":212,"../internals/symbol-constructor-detection":274}],324:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/is-pure"),s=e("../internals/descriptors"),i=e("../internals/global"),u=e("../internals/path"),a=e("../internals/function-uncurry-this"),n=e("../internals/is-forced"),l=e("../internals/has-own-property"),c=e("../internals/inherit-if-required"),f=e("../internals/object-is-prototype-of"),p=e("../internals/is-symbol"),y=e("../internals/to-primitive"),m=e("../internals/fails"),g=e("../internals/object-get-own-property-names").f,h=e("../internals/object-get-own-property-descriptor").f,_=e("../internals/object-define-property").f,j=e("../internals/this-number-value"),T=e("../internals/string-trim").trim,S="Number",b=i[S],E=u[S],O=b.prototype,C=i.TypeError,k=a("".slice),A=a("".charCodeAt),I=function(Z){var ne=y(Z,"number");return typeof ne=="bigint"?ne:D(ne)},D=function(Z){var ne=y(Z,"number"),ie,J,Y,K,X,U,se,oe;if(p(ne))throw new C("Cannot convert a Symbol value to a number");if(typeof ne=="string"&&ne.length>2){if(ne=T(ne),ie=A(ne,0),ie===43||ie===45){if(J=A(ne,2),J===88||J===120)return NaN}else if(ie===48){switch(A(ne,1)){case 66:case 98:Y=2,K=49;break;case 79:case 111:Y=8,K=55;break;default:return+ne}for(X=k(ne,2),U=X.length,se=0;se<U;se++)if(oe=A(X,se),oe<48||oe>K)return NaN;return parseInt(X,Y)}}return+ne},F=n(S,!b(" 0o1")||!b("0b1")||b("+0x1")),Q=function(Z){return f(O,Z)&&m(function(){j(Z)})},te=function(ne){var ie=arguments.length<1?0:b(I(ne));return Q(this)?c(Object(ie),this,te):ie};te.prototype=O,F&&!r&&(O.constructor=te),t({global:!0,constructor:!0,wrap:!0,forced:F},{Number:te});var $=function(Z,ne){for(var ie=s?g(ne):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),J=0,Y;ie.length>J;J++)l(ne,Y=ie[J])&&!l(Z,Y)&&_(Z,Y,h(ne,Y))};r&&E&&$(u[S],E),(F||r)&&$(u[S],b)},{"../internals/descriptors":153,"../internals/export":170,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/has-own-property":189,"../internals/inherit-if-required":196,"../internals/is-forced":205,"../internals/is-pure":210,"../internals/is-symbol":212,"../internals/object-define-property":231,"../internals/object-get-own-property-descriptor":232,"../internals/object-get-own-property-names":234,"../internals/object-is-prototype-of":238,"../internals/path":247,"../internals/string-trim":273,"../internals/this-number-value":278,"../internals/to-primitive":288}],325:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/object-assign");t({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},{"../internals/export":170,"../internals/object-assign":228}],326:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/object-to-array").entries;t({target:"Object",stat:!0},{entries:function(i){return r(i)}})},{"../internals/export":170,"../internals/object-to-array":243}],327:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/symbol-constructor-detection"),s=e("../internals/fails"),i=e("../internals/object-get-own-property-symbols"),u=e("../internals/to-object"),a=!r||s(function(){i.f(1)});t({target:"Object",stat:!0,forced:a},{getOwnPropertySymbols:function(l){var c=i.f;return c?c(u(l)):[]}})},{"../internals/export":170,"../internals/fails":171,"../internals/object-get-own-property-symbols":235,"../internals/symbol-constructor-detection":274,"../internals/to-object":285}],328:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/to-object"),s=e("../internals/object-keys"),i=e("../internals/fails"),u=i(function(){s(1)});t({target:"Object",stat:!0,forced:u},{keys:function(n){return s(r(n))}})},{"../internals/export":170,"../internals/fails":171,"../internals/object-keys":240,"../internals/to-object":285}],329:[function(e,o,d){var t=e("../internals/to-string-tag-support"),r=e("../internals/define-built-in"),s=e("../internals/object-to-string");t||r(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/define-built-in":149,"../internals/object-to-string":244,"../internals/to-string-tag-support":290}],330:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-call"),s=e("../internals/a-callable"),i=e("../internals/new-promise-capability"),u=e("../internals/perform"),a=e("../internals/iterate"),n=e("../internals/promise-statics-incorrect-iteration");t({target:"Promise",stat:!0,forced:n},{all:function(c){var f=this,p=i.f(f),y=p.resolve,m=p.reject,g=u(function(){var h=s(f.resolve),_=[],j=0,T=1;a(c,function(S){var b=j++,E=!1;T++,r(h,f,S).then(function(O){E||(E=!0,_[b]=O,--T||y(_))},m)}),--T||y(_)});return g.error&&m(g.value),p.promise}})},{"../internals/a-callable":108,"../internals/export":170,"../internals/function-call":177,"../internals/iterate":213,"../internals/new-promise-capability":226,"../internals/perform":248,"../internals/promise-statics-incorrect-iteration":252}],331:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/is-pure"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR,i=e("../internals/promise-native-constructor"),u=e("../internals/get-built-in"),a=e("../internals/is-callable"),n=e("../internals/define-built-in"),l=i&&i.prototype;if(t({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(f){return this.then(void 0,f)}}),!r&&a(i)){var c=u("Promise").prototype.catch;l.catch!==c&&n(l,"catch",c,{unsafe:!0})}},{"../internals/define-built-in":149,"../internals/export":170,"../internals/get-built-in":182,"../internals/is-callable":203,"../internals/is-pure":210,"../internals/promise-constructor-detection":249,"../internals/promise-native-constructor":250}],332:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/is-pure"),s=e("../internals/engine-is-node"),i=e("../internals/global"),u=e("../internals/function-call"),a=e("../internals/define-built-in"),n=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),c=e("../internals/set-species"),f=e("../internals/a-callable"),p=e("../internals/is-callable"),y=e("../internals/is-object"),m=e("../internals/an-instance"),g=e("../internals/species-constructor"),h=e("../internals/task").set,_=e("../internals/microtask"),j=e("../internals/host-report-errors"),T=e("../internals/perform"),S=e("../internals/queue"),b=e("../internals/internal-state"),E=e("../internals/promise-native-constructor"),O=e("../internals/promise-constructor-detection"),C=e("../internals/new-promise-capability"),k="Promise",A=O.CONSTRUCTOR,I=O.REJECTION_EVENT,D=O.SUBCLASSING,F=b.getterFor(k),Q=b.set,te=E&&E.prototype,$=E,Z=te,ne=i.TypeError,ie=i.document,J=i.process,Y=C.f,K=Y,X=!!(ie&&ie.createEvent&&i.dispatchEvent),U="unhandledrejection",se="rejectionhandled",oe=0,ae=1,de=2,G=1,R=2,L,M,le,ce,W=function(Te){var je;return y(Te)&&p(je=Te.then)?je:!1},ee=function(Te,je){var Oe=je.value,ge=je.state===ae,Ee=ge?Te.ok:Te.fail,Ne=Te.resolve,Ye=Te.reject,Ke=Te.domain,He,Be,Re;try{Ee?(ge||(je.rejection===R&&ue(je),je.rejection=G),Ee===!0?He=Oe:(Ke&&Ke.enter(),He=Ee(Oe),Ke&&(Ke.exit(),Re=!0)),He===Te.promise?Ye(new ne("Promise-chain cycle")):(Be=W(He))?u(Be,He,Ne,Ye):Ne(He)):Ye(Oe)}catch(he){Ke&&!Re&&Ke.exit(),Ye(he)}},z=function(Te,je){Te.notified||(Te.notified=!0,_(function(){for(var Oe=Te.reactions,ge;ge=Oe.get();)ee(ge,Te);Te.notified=!1,je&&!Te.rejection&&V(Te)}))},N=function(Te,je,Oe){var ge,Ee;X?(ge=ie.createEvent("Event"),ge.promise=je,ge.reason=Oe,ge.initEvent(Te,!1,!0),i.dispatchEvent(ge)):ge={promise:je,reason:Oe},!I&&(Ee=i["on"+Te])?Ee(ge):Te===U&&j("Unhandled promise rejection",Oe)},V=function(Te){u(h,i,function(){var je=Te.facade,Oe=Te.value,ge=q(Te),Ee;if(ge&&(Ee=T(function(){s?J.emit("unhandledRejection",Oe,je):N(U,je,Oe)}),Te.rejection=s||q(Te)?R:G,Ee.error))throw Ee.value})},q=function(Te){return Te.rejection!==G&&!Te.parent},ue=function(Te){u(h,i,function(){var je=Te.facade;s?J.emit("rejectionHandled",je):N(se,je,Te.value)})},fe=function(Te,je,Oe){return function(ge){Te(je,ge,Oe)}},ye=function(Te,je,Oe){Te.done||(Te.done=!0,Oe&&(Te=Oe),Te.value=je,Te.state=de,z(Te,!0))},_e=function(Te,je,Oe){if(!Te.done){Te.done=!0,Oe&&(Te=Oe);try{if(Te.facade===je)throw new ne("Promise can't be resolved itself");var ge=W(je);ge?_(function(){var Ee={done:!1};try{u(ge,je,fe(_e,Ee,Te),fe(ye,Ee,Te))}catch(Ne){ye(Ee,Ne,Te)}}):(Te.value=je,Te.state=ae,z(Te,!1))}catch(Ee){ye({done:!1},Ee,Te)}}};if(A&&($=function(je){m(this,Z),f(je),u(L,this);var Oe=F(this);try{je(fe(_e,Oe),fe(ye,Oe))}catch(ge){ye(Oe,ge)}},Z=$.prototype,L=function(je){Q(this,{type:k,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:oe,value:void 0})},L.prototype=a(Z,"then",function(je,Oe){var ge=F(this),Ee=Y(g(this,$));return ge.parent=!0,Ee.ok=p(je)?je:!0,Ee.fail=p(Oe)&&Oe,Ee.domain=s?J.domain:void 0,ge.state===oe?ge.reactions.add(Ee):_(function(){ee(Ee,ge)}),Ee.promise}),M=function(){var Te=new L,je=F(Te);this.promise=Te,this.resolve=fe(_e,je),this.reject=fe(ye,je)},C.f=Y=function(Te){return Te===$||Te===le?new M(Te):K(Te)},!r&&p(E)&&te!==Object.prototype)){ce=te.then,D||a(te,"then",function(je,Oe){var ge=this;return new $(function(Ee,Ne){u(ce,ge,Ee,Ne)}).then(je,Oe)},{unsafe:!0});try{delete te.constructor}catch(Te){}n&&n(te,Z)}t({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:$}),l($,k,!1,!0),c(k)},{"../internals/a-callable":108,"../internals/an-instance":113,"../internals/define-built-in":149,"../internals/engine-is-node":164,"../internals/export":170,"../internals/function-call":177,"../internals/global":188,"../internals/host-report-errors":191,"../internals/internal-state":199,"../internals/is-callable":203,"../internals/is-object":208,"../internals/is-pure":210,"../internals/microtask":225,"../internals/new-promise-capability":226,"../internals/object-set-prototype-of":242,"../internals/perform":248,"../internals/promise-constructor-detection":249,"../internals/promise-native-constructor":250,"../internals/queue":254,"../internals/set-species":265,"../internals/set-to-string-tag":266,"../internals/species-constructor":270,"../internals/task":277}],333:[function(e,o,d){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":330,"../modules/es.promise.catch":331,"../modules/es.promise.constructor":332,"../modules/es.promise.race":334,"../modules/es.promise.reject":335,"../modules/es.promise.resolve":336}],334:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-call"),s=e("../internals/a-callable"),i=e("../internals/new-promise-capability"),u=e("../internals/perform"),a=e("../internals/iterate"),n=e("../internals/promise-statics-incorrect-iteration");t({target:"Promise",stat:!0,forced:n},{race:function(c){var f=this,p=i.f(f),y=p.reject,m=u(function(){var g=s(f.resolve);a(c,function(h){r(g,f,h).then(p.resolve,y)})});return m.error&&y(m.value),p.promise}})},{"../internals/a-callable":108,"../internals/export":170,"../internals/function-call":177,"../internals/iterate":213,"../internals/new-promise-capability":226,"../internals/perform":248,"../internals/promise-statics-incorrect-iteration":252}],335:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/new-promise-capability"),s=e("../internals/promise-constructor-detection").CONSTRUCTOR;t({target:"Promise",stat:!0,forced:s},{reject:function(u){var a=r.f(this),n=a.reject;return n(u),a.promise}})},{"../internals/export":170,"../internals/new-promise-capability":226,"../internals/promise-constructor-detection":249}],336:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/get-built-in"),s=e("../internals/is-pure"),i=e("../internals/promise-native-constructor"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,a=e("../internals/promise-resolve"),n=r("Promise"),l=s&&!u;t({target:"Promise",stat:!0,forced:s||u},{resolve:function(f){return a(l&&this===n?i:this,f)}})},{"../internals/export":170,"../internals/get-built-in":182,"../internals/is-pure":210,"../internals/promise-constructor-detection":249,"../internals/promise-native-constructor":250,"../internals/promise-resolve":251}],337:[function(e,o,d){var t=e("../internals/descriptors"),r=e("../internals/global"),s=e("../internals/function-uncurry-this"),i=e("../internals/is-forced"),u=e("../internals/inherit-if-required"),a=e("../internals/create-non-enumerable-property"),n=e("../internals/object-create"),l=e("../internals/object-get-own-property-names").f,c=e("../internals/object-is-prototype-of"),f=e("../internals/is-regexp"),p=e("../internals/to-string"),y=e("../internals/regexp-get-flags"),m=e("../internals/regexp-sticky-helpers"),g=e("../internals/proxy-accessor"),h=e("../internals/define-built-in"),_=e("../internals/fails"),j=e("../internals/has-own-property"),T=e("../internals/internal-state").enforce,S=e("../internals/set-species"),b=e("../internals/well-known-symbol"),E=e("../internals/regexp-unsupported-dot-all"),O=e("../internals/regexp-unsupported-ncg"),C=b("match"),k=r.RegExp,A=k.prototype,I=r.SyntaxError,D=s(A.exec),F=s("".charAt),Q=s("".replace),te=s("".indexOf),$=s("".slice),Z=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,ne=/a/g,ie=/a/g,J=new k(ne)!==ne,Y=m.MISSED_STICKY,K=m.UNSUPPORTED_Y,X=t&&(!J||Y||E||O||_(function(){return ie[C]=!1,k(ne)!==ne||k(ie)===ie||String(k(ne,"i"))!=="/a/i"})),U=function(G){for(var R=G.length,L=0,M="",le=!1,ce;L<=R;L++){if(ce=F(G,L),ce==="\\"){M+=ce+F(G,++L);continue}!le&&ce==="."?M+="[\\s\\S]":(ce==="["?le=!0:ce==="]"&&(le=!1),M+=ce)}return M},se=function(G){for(var R=G.length,L=0,M="",le=[],ce=n(null),W=!1,ee=!1,z=0,N="",V;L<=R;L++){if(V=F(G,L),V==="\\")V+=F(G,++L);else if(V==="]")W=!1;else if(!W)switch(!0){case V==="[":W=!0;break;case V==="(":D(Z,$(G,L+1))&&(L+=2,ee=!0),M+=V,z++;continue;case(V===">"&&ee):if(N===""||j(ce,N))throw new I("Invalid capture group name");ce[N]=!0,le[le.length]=[N,z],ee=!1,N="";continue}ee?N+=V:M+=V}return[M,le]};if(i("RegExp",X)){for(var oe=function(R,L){var M=c(A,this),le=f(R),ce=L===void 0,W=[],ee=R,z,N,V,q,ue,fe;if(!M&&le&&ce&&R.constructor===oe)return R;if((le||c(A,R))&&(R=R.source,ce&&(L=y(ee))),R=R===void 0?"":p(R),L=L===void 0?"":p(L),ee=R,E&&"dotAll"in ne&&(N=!!L&&te(L,"s")>-1,N&&(L=Q(L,/s/g,""))),z=L,Y&&"sticky"in ne&&(V=!!L&&te(L,"y")>-1,V&&K&&(L=Q(L,/y/g,""))),O&&(q=se(R),R=q[0],W=q[1]),ue=u(k(R,L),M?this:A,oe),(N||V||W.length)&&(fe=T(ue),N&&(fe.dotAll=!0,fe.raw=oe(U(R),z)),V&&(fe.sticky=!0),W.length&&(fe.groups=W)),R!==ee)try{a(ue,"source",ee===""?"(?:)":ee)}catch(ye){}return ue},ae=l(k),de=0;ae.length>de;)g(oe,k,ae[de++]);A.constructor=oe,oe.prototype=A,h(r,"RegExp",oe,{constructor:!0})}S("RegExp")},{"../internals/create-non-enumerable-property":145,"../internals/define-built-in":149,"../internals/descriptors":153,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/has-own-property":189,"../internals/inherit-if-required":196,"../internals/internal-state":199,"../internals/is-forced":205,"../internals/is-regexp":211,"../internals/object-create":229,"../internals/object-get-own-property-names":234,"../internals/object-is-prototype-of":238,"../internals/proxy-accessor":253,"../internals/regexp-get-flags":258,"../internals/regexp-sticky-helpers":259,"../internals/regexp-unsupported-dot-all":260,"../internals/regexp-unsupported-ncg":261,"../internals/set-species":265,"../internals/to-string":291,"../internals/well-known-symbol":306}],338:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/regexp-exec");t({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},{"../internals/export":170,"../internals/regexp-exec":256}],339:[function(e,o,d){var t=e("../internals/function-name").PROPER,r=e("../internals/define-built-in"),s=e("../internals/an-object"),i=e("../internals/to-string"),u=e("../internals/fails"),a=e("../internals/regexp-get-flags"),n="toString",l=RegExp.prototype,c=l[n],f=u(function(){return c.call({source:"a",flags:"b"})!=="/a/b"}),p=t&&c.name!==n;(f||p)&&r(l,n,function(){var m=s(this),g=i(m.source),h=i(a(m));return"/"+g+"/"+h},{unsafe:!0})},{"../internals/an-object":114,"../internals/define-built-in":149,"../internals/fails":171,"../internals/function-name":178,"../internals/regexp-get-flags":258,"../internals/to-string":291}],340:[function(e,o,d){var t=e("../internals/collection"),r=e("../internals/collection-strong");t("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},r)},{"../internals/collection":140,"../internals/collection-strong":139}],341:[function(e,o,d){e("../modules/es.set.constructor")},{"../modules/es.set.constructor":340}],342:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this"),s=e("../internals/not-a-regexp"),i=e("../internals/require-object-coercible"),u=e("../internals/to-string"),a=e("../internals/correct-is-regexp-logic"),n=r("".indexOf);t({target:"String",proto:!0,forced:!a("includes")},{includes:function(c){return!!~n(u(i(this)),u(s(c)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":142,"../internals/export":170,"../internals/function-uncurry-this":181,"../internals/not-a-regexp":227,"../internals/require-object-coercible":262,"../internals/to-string":291}],343:[function(e,o,d){var t=e("../internals/string-multibyte").charAt,r=e("../internals/to-string"),s=e("../internals/internal-state"),i=e("../internals/iterator-define"),u=e("../internals/create-iter-result-object"),a="String Iterator",n=s.set,l=s.getterFor(a);i(String,"String",function(c){n(this,{type:a,string:r(c),index:0})},function(){var f=l(this),p=f.string,y=f.index,m;return y>=p.length?u(void 0,!0):(m=t(p,y),f.index+=m.length,u(m,!1))})},{"../internals/create-iter-result-object":144,"../internals/internal-state":199,"../internals/iterator-define":216,"../internals/string-multibyte":271,"../internals/to-string":291}],344:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/fix-regexp-well-known-symbol-logic"),s=e("../internals/an-object"),i=e("../internals/is-null-or-undefined"),u=e("../internals/to-length"),a=e("../internals/to-string"),n=e("../internals/require-object-coercible"),l=e("../internals/get-method"),c=e("../internals/advance-string-index"),f=e("../internals/regexp-exec-abstract");r("match",function(p,y,m){return[function(h){var _=n(this),j=i(h)?void 0:l(h,p);return j?t(j,h,_):new RegExp(h)[p](a(_))},function(g){var h=s(this),_=a(g),j=m(y,h,_);if(j.done)return j.value;if(!h.global)return f(h,_);var T=h.unicode;h.lastIndex=0;for(var S=[],b=0,E;(E=f(h,_))!==null;){var O=a(E[0]);S[b]=O,O===""&&(h.lastIndex=c(_,u(h.lastIndex),T)),b++}return b===0?null:S}]})},{"../internals/advance-string-index":112,"../internals/an-object":114,"../internals/fix-regexp-well-known-symbol-logic":172,"../internals/function-call":177,"../internals/get-method":186,"../internals/is-null-or-undefined":207,"../internals/regexp-exec-abstract":255,"../internals/require-object-coercible":262,"../internals/to-length":284,"../internals/to-string":291}],345:[function(e,o,d){var t=e("../internals/function-apply"),r=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),i=e("../internals/fix-regexp-well-known-symbol-logic"),u=e("../internals/fails"),a=e("../internals/an-object"),n=e("../internals/is-callable"),l=e("../internals/is-null-or-undefined"),c=e("../internals/to-integer-or-infinity"),f=e("../internals/to-length"),p=e("../internals/to-string"),y=e("../internals/require-object-coercible"),m=e("../internals/advance-string-index"),g=e("../internals/get-method"),h=e("../internals/get-substitution"),_=e("../internals/regexp-exec-abstract"),j=e("../internals/well-known-symbol"),T=j("replace"),S=Math.max,b=Math.min,E=s([].concat),O=s([].push),C=s("".indexOf),k=s("".slice),A=function(Q){return Q===void 0?Q:String(Q)},I=function(){return"a".replace(/./,"$0")==="$0"}(),D=function(){return/./[T]?/./[T]("a","$0")==="":!1}(),F=!u(function(){var Q=/./;return Q.exec=function(){var te=[];return te.groups={a:"7"},te},"".replace(Q,"$<a>")!=="7"});i("replace",function(Q,te,$){var Z=D?"$":"$0";return[function(ie,J){var Y=y(this),K=l(ie)?void 0:g(ie,T);return K?r(K,ie,Y,J):r(te,p(Y),ie,J)},function(ne,ie){var J=a(this),Y=p(ne);if(typeof ie=="string"&&C(ie,Z)===-1&&C(ie,"$<")===-1){var K=$(te,J,Y,ie);if(K.done)return K.value}var X=n(ie);X||(ie=p(ie));var U=J.global,se;U&&(se=J.unicode,J.lastIndex=0);for(var oe=[],ae;ae=_(J,Y),!(ae===null||(O(oe,ae),!U));){var de=p(ae[0]);de===""&&(J.lastIndex=m(Y,f(J.lastIndex),se))}for(var G="",R=0,L=0;L<oe.length;L++){ae=oe[L];for(var M=p(ae[0]),le=S(b(c(ae.index),Y.length),0),ce=[],W,ee=1;ee<ae.length;ee++)O(ce,A(ae[ee]));var z=ae.groups;if(X){var N=E([M],ce,le,Y);z!==void 0&&O(N,z),W=p(t(ie,void 0,N))}else W=h(M,Y,le,ce,z,ie);le>=R&&(G+=k(Y,R,le)+W,R=le+M.length)}return G+k(Y,R)}]},!F||!I||D)},{"../internals/advance-string-index":112,"../internals/an-object":114,"../internals/fails":171,"../internals/fix-regexp-well-known-symbol-logic":172,"../internals/function-apply":174,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/get-method":186,"../internals/get-substitution":187,"../internals/is-callable":203,"../internals/is-null-or-undefined":207,"../internals/regexp-exec-abstract":255,"../internals/require-object-coercible":262,"../internals/to-integer-or-infinity":283,"../internals/to-length":284,"../internals/to-string":291,"../internals/well-known-symbol":306}],346:[function(e,o,d){var t=e("../internals/function-call"),r=e("../internals/fix-regexp-well-known-symbol-logic"),s=e("../internals/an-object"),i=e("../internals/is-null-or-undefined"),u=e("../internals/require-object-coercible"),a=e("../internals/same-value"),n=e("../internals/to-string"),l=e("../internals/get-method"),c=e("../internals/regexp-exec-abstract");r("search",function(f,p,y){return[function(g){var h=u(this),_=i(g)?void 0:l(g,f);return _?t(_,g,h):new RegExp(g)[f](n(h))},function(m){var g=s(this),h=n(m),_=y(p,g,h);if(_.done)return _.value;var j=g.lastIndex;a(j,0)||(g.lastIndex=0);var T=c(g,h);return a(g.lastIndex,j)||(g.lastIndex=j),T===null?-1:T.index}]})},{"../internals/an-object":114,"../internals/fix-regexp-well-known-symbol-logic":172,"../internals/function-call":177,"../internals/get-method":186,"../internals/is-null-or-undefined":207,"../internals/regexp-exec-abstract":255,"../internals/require-object-coercible":262,"../internals/same-value":264,"../internals/to-string":291}],347:[function(e,o,d){var t=e("../internals/function-apply"),r=e("../internals/function-call"),s=e("../internals/function-uncurry-this"),i=e("../internals/fix-regexp-well-known-symbol-logic"),u=e("../internals/an-object"),a=e("../internals/is-null-or-undefined"),n=e("../internals/is-regexp"),l=e("../internals/require-object-coercible"),c=e("../internals/species-constructor"),f=e("../internals/advance-string-index"),p=e("../internals/to-length"),y=e("../internals/to-string"),m=e("../internals/get-method"),g=e("../internals/array-slice"),h=e("../internals/regexp-exec-abstract"),_=e("../internals/regexp-exec"),j=e("../internals/regexp-sticky-helpers"),T=e("../internals/fails"),S=j.UNSUPPORTED_Y,b=4294967295,E=Math.min,O=[].push,C=s(/./.exec),k=s(O),A=s("".slice),I=!T(function(){var D=/(?:)/,F=D.exec;D.exec=function(){return F.apply(this,arguments)};var Q="ab".split(D);return Q.length!==2||Q[0]!=="a"||Q[1]!=="b"});i("split",function(D,F,Q){var te;return"abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length?te=function($,Z){var ne=y(l(this)),ie=Z===void 0?b:Z>>>0;if(ie===0)return[];if($===void 0)return[ne];if(!n($))return r(F,ne,$,ie);for(var J=[],Y=($.ignoreCase?"i":"")+($.multiline?"m":"")+($.unicode?"u":"")+($.sticky?"y":""),K=0,X=new RegExp($.source,Y+"g"),U,se,oe;(U=r(_,X,ne))&&(se=X.lastIndex,!(se>K&&(k(J,A(ne,K,U.index)),U.length>1&&U.index<ne.length&&t(O,J,g(U,1)),oe=U[0].length,K=se,J.length>=ie)));)X.lastIndex===U.index&&X.lastIndex++;return K===ne.length?(oe||!C(X,""))&&k(J,""):k(J,A(ne,K)),J.length>ie?g(J,0,ie):J}:"0".split(void 0,0).length?te=function($,Z){return $===void 0&&Z===0?[]:r(F,this,$,Z)}:te=F,[function(Z,ne){var ie=l(this),J=a(Z)?void 0:m(Z,D);return J?r(J,Z,ie,ne):r(te,y(ie),Z,ne)},function($,Z){var ne=u(this),ie=y($),J=Q(te,ne,ie,Z,te!==F);if(J.done)return J.value;var Y=c(ne,RegExp),K=ne.unicode,X=(ne.ignoreCase?"i":"")+(ne.multiline?"m":"")+(ne.unicode?"u":"")+(S?"g":"y"),U=new Y(S?"^(?:"+ne.source+")":ne,X),se=Z===void 0?b:Z>>>0;if(se===0)return[];if(ie.length===0)return h(U,ie)===null?[ie]:[];for(var oe=0,ae=0,de=[];ae<ie.length;){U.lastIndex=S?0:ae;var G=h(U,S?A(ie,ae):ie),R;if(G===null||(R=E(p(U.lastIndex+(S?ae:0)),ie.length))===oe)ae=f(ie,ae,K);else{if(k(de,A(ie,oe,ae)),de.length===se)return de;for(var L=1;L<=G.length-1;L++)if(k(de,G[L]),de.length===se)return de;ae=oe=R}}return k(de,A(ie,oe)),de}]},!I,S)},{"../internals/advance-string-index":112,"../internals/an-object":114,"../internals/array-slice":131,"../internals/fails":171,"../internals/fix-regexp-well-known-symbol-logic":172,"../internals/function-apply":174,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/get-method":186,"../internals/is-null-or-undefined":207,"../internals/is-regexp":211,"../internals/regexp-exec":256,"../internals/regexp-exec-abstract":255,"../internals/regexp-sticky-helpers":259,"../internals/require-object-coercible":262,"../internals/species-constructor":270,"../internals/to-length":284,"../internals/to-string":291}],348:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/function-uncurry-this-clause"),s=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/to-length"),u=e("../internals/to-string"),a=e("../internals/not-a-regexp"),n=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),c=e("../internals/is-pure"),f=r("".slice),p=Math.min,y=l("startsWith"),m=!c&&!y&&!!function(){var g=s(String.prototype,"startsWith");return g&&!g.writable}();t({target:"String",proto:!0,forced:!m&&!y},{startsWith:function(h){var _=u(n(this));a(h);var j=i(p(arguments.length>1?arguments[1]:void 0,_.length)),T=u(h);return f(_,j,j+T.length)===T}})},{"../internals/correct-is-regexp-logic":142,"../internals/export":170,"../internals/function-uncurry-this-clause":180,"../internals/is-pure":210,"../internals/not-a-regexp":227,"../internals/object-get-own-property-descriptor":232,"../internals/require-object-coercible":262,"../internals/to-length":284,"../internals/to-string":291}],349:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/string-trim").trim,s=e("../internals/string-trim-forced");t({target:"String",proto:!0,forced:s("trim")},{trim:function(){return r(this)}})},{"../internals/export":170,"../internals/string-trim":273,"../internals/string-trim-forced":272}],350:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/global"),s=e("../internals/function-call"),i=e("../internals/function-uncurry-this"),u=e("../internals/is-pure"),a=e("../internals/descriptors"),n=e("../internals/symbol-constructor-detection"),l=e("../internals/fails"),c=e("../internals/has-own-property"),f=e("../internals/object-is-prototype-of"),p=e("../internals/an-object"),y=e("../internals/to-indexed-object"),m=e("../internals/to-property-key"),g=e("../internals/to-string"),h=e("../internals/create-property-descriptor"),_=e("../internals/object-create"),j=e("../internals/object-keys"),T=e("../internals/object-get-own-property-names"),S=e("../internals/object-get-own-property-names-external"),b=e("../internals/object-get-own-property-symbols"),E=e("../internals/object-get-own-property-descriptor"),O=e("../internals/object-define-property"),C=e("../internals/object-define-properties"),k=e("../internals/object-property-is-enumerable"),A=e("../internals/define-built-in"),I=e("../internals/define-built-in-accessor"),D=e("../internals/shared"),F=e("../internals/shared-key"),Q=e("../internals/hidden-keys"),te=e("../internals/uid"),$=e("../internals/well-known-symbol"),Z=e("../internals/well-known-symbol-wrapped"),ne=e("../internals/well-known-symbol-define"),ie=e("../internals/symbol-define-to-primitive"),J=e("../internals/set-to-string-tag"),Y=e("../internals/internal-state"),K=e("../internals/array-iteration").forEach,X=F("hidden"),U="Symbol",se="prototype",oe=Y.set,ae=Y.getterFor(U),de=Object[se],G=r.Symbol,R=G&&G[se],L=r.RangeError,M=r.TypeError,le=r.QObject,ce=E.f,W=O.f,ee=S.f,z=k.f,N=i([].push),V=D("symbols"),q=D("op-symbols"),ue=D("wks"),fe=!le||!le[se]||!le[se].findChild,ye=function(He,Be,Re){var he=ce(de,Be);he&&delete de[Be],W(He,Be,Re),he&&He!==de&&W(de,Be,he)},_e=a&&l(function(){return _(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a!==7})?ye:W,Te=function(He,Be){var Re=V[He]=_(R);return oe(Re,{type:U,tag:He,description:Be}),a||(Re.description=Be),Re},je=function(Be,Re,he){Be===de&&je(q,Re,he),p(Be);var be=m(Re);return p(he),c(V,be)?(he.enumerable?(c(Be,X)&&Be[X][be]&&(Be[X][be]=!1),he=_(he,{enumerable:h(0,!1)})):(c(Be,X)||W(Be,X,h(1,_(null))),Be[X][be]=!0),_e(Be,be,he)):W(Be,be,he)},Oe=function(Be,Re){p(Be);var he=y(Re),be=j(he).concat(Ke(he));return K(be,function(Le){(!a||s(Ee,he,Le))&&je(Be,Le,he[Le])}),Be},ge=function(Be,Re){return Re===void 0?_(Be):Oe(_(Be),Re)},Ee=function(Be){var Re=m(Be),he=s(z,this,Re);return this===de&&c(V,Re)&&!c(q,Re)?!1:he||!c(this,Re)||!c(V,Re)||c(this,X)&&this[X][Re]?he:!0},Ne=function(Be,Re){var he=y(Be),be=m(Re);if(!(he===de&&c(V,be)&&!c(q,be))){var Le=ce(he,be);return Le&&c(V,be)&&!(c(he,X)&&he[X][be])&&(Le.enumerable=!0),Le}},Ye=function(Be){var Re=ee(y(Be)),he=[];return K(Re,function(be){!c(V,be)&&!c(Q,be)&&N(he,be)}),he},Ke=function(He){var Be=He===de,Re=ee(Be?q:y(He)),he=[];return K(Re,function(be){c(V,be)&&(!Be||c(de,be))&&N(he,V[be])}),he};n||(G=function(){if(f(R,this))throw new M("Symbol is not a constructor");var Be=!arguments.length||arguments[0]===void 0?void 0:g(arguments[0]),Re=te(Be),he=function(be){var Le=this===void 0?r:this;Le===de&&s(he,q,be),c(Le,X)&&c(Le[X],Re)&&(Le[X][Re]=!1);var tt=h(1,be);try{_e(Le,Re,tt)}catch(at){if(!(at instanceof L))throw at;ye(Le,Re,tt)}};return a&&fe&&_e(de,Re,{configurable:!0,set:he}),Te(Re,Be)},R=G[se],A(R,"toString",function(){return ae(this).tag}),A(G,"withoutSetter",function(He){return Te(te(He),He)}),k.f=Ee,O.f=je,C.f=Oe,E.f=Ne,T.f=S.f=Ye,b.f=Ke,Z.f=function(He){return Te($(He),He)},a&&(I(R,"description",{configurable:!0,get:function(){return ae(this).description}}),u||A(de,"propertyIsEnumerable",Ee,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!n,sham:!n},{Symbol:G}),K(j(ue),function(He){ne(He)}),t({target:U,stat:!0,forced:!n},{useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),t({target:"Object",stat:!0,forced:!n,sham:!a},{create:ge,defineProperty:je,defineProperties:Oe,getOwnPropertyDescriptor:Ne}),t({target:"Object",stat:!0,forced:!n},{getOwnPropertyNames:Ye}),ie(),J(G,U),Q[X]=!0},{"../internals/an-object":114,"../internals/array-iteration":125,"../internals/create-property-descriptor":146,"../internals/define-built-in":149,"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/export":170,"../internals/fails":171,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/has-own-property":189,"../internals/hidden-keys":190,"../internals/internal-state":199,"../internals/is-pure":210,"../internals/object-create":229,"../internals/object-define-properties":230,"../internals/object-define-property":231,"../internals/object-get-own-property-descriptor":232,"../internals/object-get-own-property-names":234,"../internals/object-get-own-property-names-external":233,"../internals/object-get-own-property-symbols":235,"../internals/object-is-prototype-of":238,"../internals/object-keys":240,"../internals/object-property-is-enumerable":241,"../internals/set-to-string-tag":266,"../internals/shared":269,"../internals/shared-key":267,"../internals/symbol-constructor-detection":274,"../internals/symbol-define-to-primitive":275,"../internals/to-indexed-object":282,"../internals/to-property-key":289,"../internals/to-string":291,"../internals/uid":299,"../internals/well-known-symbol":306,"../internals/well-known-symbol-define":304,"../internals/well-known-symbol-wrapped":305}],351:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/descriptors"),s=e("../internals/global"),i=e("../internals/function-uncurry-this"),u=e("../internals/has-own-property"),a=e("../internals/is-callable"),n=e("../internals/object-is-prototype-of"),l=e("../internals/to-string"),c=e("../internals/define-built-in-accessor"),f=e("../internals/copy-constructor-properties"),p=s.Symbol,y=p&&p.prototype;if(r&&a(p)&&(!("description"in y)||p().description!==void 0)){var m={},g=function(){var O=arguments.length<1||arguments[0]===void 0?void 0:l(arguments[0]),C=n(y,this)?new p(O):O===void 0?p():p(O);return O===""&&(m[C]=!0),C};f(g,p),g.prototype=y,y.constructor=g;var h=String(p("description detection"))==="Symbol(description detection)",_=i(y.valueOf),j=i(y.toString),T=/^Symbol\((.*)\)[^)]+$/,S=i("".replace),b=i("".slice);c(y,"description",{configurable:!0,get:function(){var O=_(this);if(u(m,O))return"";var C=j(O),k=h?b(C,7,-1):S(C,T,"$1");return k===""?void 0:k}}),t({global:!0,constructor:!0,forced:!0},{Symbol:g})}},{"../internals/copy-constructor-properties":141,"../internals/define-built-in-accessor":148,"../internals/descriptors":153,"../internals/export":170,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/has-own-property":189,"../internals/is-callable":203,"../internals/object-is-prototype-of":238,"../internals/to-string":291}],352:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/get-built-in"),s=e("../internals/has-own-property"),i=e("../internals/to-string"),u=e("../internals/shared"),a=e("../internals/symbol-registry-detection"),n=u("string-to-symbol-registry"),l=u("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!a},{for:function(c){var f=i(c);if(s(n,f))return n[f];var p=r("Symbol")(f);return n[f]=p,l[p]=f,p}})},{"../internals/export":170,"../internals/get-built-in":182,"../internals/has-own-property":189,"../internals/shared":269,"../internals/symbol-registry-detection":276,"../internals/to-string":291}],353:[function(e,o,d){var t=e("../internals/well-known-symbol-define");t("iterator")},{"../internals/well-known-symbol-define":304}],354:[function(e,o,d){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":323,"../modules/es.object.get-own-property-symbols":327,"../modules/es.symbol.constructor":350,"../modules/es.symbol.for":352,"../modules/es.symbol.key-for":355}],355:[function(e,o,d){var t=e("../internals/export"),r=e("../internals/has-own-property"),s=e("../internals/is-symbol"),i=e("../internals/try-to-string"),u=e("../internals/shared"),a=e("../internals/symbol-registry-detection"),n=u("symbol-to-string-registry");t({target:"Symbol",stat:!0,forced:!a},{keyFor:function(c){if(!s(c))throw new TypeError(i(c)+" is not a symbol");if(r(n,c))return n[c]}})},{"../internals/export":170,"../internals/has-own-property":189,"../internals/is-symbol":212,"../internals/shared":269,"../internals/symbol-registry-detection":276,"../internals/try-to-string":293}],356:[function(e,o,d){var t=e("../internals/function-uncurry-this"),r=e("../internals/array-buffer-view-core"),s=e("../internals/array-copy-within"),i=t(s),u=r.aTypedArray,a=r.exportTypedArrayMethod;a("copyWithin",function(l,c){return i(u(this),l,c,arguments.length>2?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-copy-within":119,"../internals/function-uncurry-this":181}],357:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").every,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("every",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125}],358:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-fill"),s=e("../internals/to-big-int"),i=e("../internals/classof"),u=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),n=e("../internals/fails"),l=t.aTypedArray,c=t.exportTypedArrayMethod,f=a("".slice),p=n(function(){var y=0;return new Int8Array(2).fill({valueOf:function(){return y++}}),y!==1});c("fill",function(m){var g=arguments.length;l(this);var h=f(i(this),0,3)==="Big"?s(m):+m;return u(r,this,h,g>1?arguments[1]:void 0,g>2?arguments[2]:void 0)},p)},{"../internals/array-buffer-view-core":117,"../internals/array-fill":120,"../internals/classof":138,"../internals/fails":171,"../internals/function-call":177,"../internals/function-uncurry-this":181,"../internals/to-big-int":280}],359:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").filter,s=e("../internals/typed-array-from-species-and-list"),i=t.aTypedArray,u=t.exportTypedArrayMethod;u("filter",function(n){var l=r(i(this),n,arguments.length>1?arguments[1]:void 0);return s(this,l)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125,"../internals/typed-array-from-species-and-list":296}],360:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").findIndex,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("findIndex",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125}],361:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").find,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("find",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125}],362:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").forEach,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("forEach",function(a){r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125}],363:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").includes,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("includes",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-includes":124}],364:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-includes").indexOf,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("indexOf",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-includes":124}],365:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/fails"),s=e("../internals/function-uncurry-this"),i=e("../internals/array-buffer-view-core"),u=e("../modules/es.array.iterator"),a=e("../internals/well-known-symbol"),n=a("iterator"),l=t.Uint8Array,c=s(u.values),f=s(u.keys),p=s(u.entries),y=i.aTypedArray,m=i.exportTypedArrayMethod,g=l&&l.prototype,h=!r(function(){g[n].call([1])}),_=!!g&&g.values&&g[n]===g.values&&g.values.name==="values",j=function(){return c(y(this))};m("entries",function(){return p(y(this))},h),m("keys",function(){return f(y(this))},h),m("values",j,h||!_,{name:"values"}),m(n,j,h||!_,{name:"values"})},{"../internals/array-buffer-view-core":117,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/global":188,"../internals/well-known-symbol":306,"../modules/es.array.iterator":316}],366:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/function-uncurry-this"),s=t.aTypedArray,i=t.exportTypedArrayMethod,u=r([].join);i("join",function(n){return u(s(this),n)})},{"../internals/array-buffer-view-core":117,"../internals/function-uncurry-this":181}],367:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/function-apply"),s=e("../internals/array-last-index-of"),i=t.aTypedArray,u=t.exportTypedArrayMethod;u("lastIndexOf",function(n){var l=arguments.length;return r(s,i(this),l>1?[n,arguments[1]]:[n])})},{"../internals/array-buffer-view-core":117,"../internals/array-last-index-of":126,"../internals/function-apply":174}],368:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").map,s=e("../internals/typed-array-species-constructor"),i=t.aTypedArray,u=t.exportTypedArrayMethod;u("map",function(n){return r(i(this),n,arguments.length>1?arguments[1]:void 0,function(l,c){return new(s(l))(c)})})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125,"../internals/typed-array-species-constructor":298}],369:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").right,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("reduceRight",function(a){var n=arguments.length;return r(s(this),a,n,n>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-reduce":129}],370:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-reduce").left,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("reduce",function(a){var n=arguments.length;return r(s(this),a,n,n>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-reduce":129}],371:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=t.aTypedArray,s=t.exportTypedArrayMethod,i=Math.floor;s("reverse",function(){for(var a=this,n=r(a).length,l=i(n/2),c=0,f;c<l;)f=a[c],a[c++]=a[--n],a[n]=f;return a})},{"../internals/array-buffer-view-core":117}],372:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/function-call"),s=e("../internals/array-buffer-view-core"),i=e("../internals/length-of-array-like"),u=e("../internals/to-offset"),a=e("../internals/to-object"),n=e("../internals/fails"),l=t.RangeError,c=t.Int8Array,f=c&&c.prototype,p=f&&f.set,y=s.aTypedArray,m=s.exportTypedArrayMethod,g=!n(function(){var _=new Uint8ClampedArray(2);return r(p,_,{length:1,0:3},1),_[1]!==3}),h=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&n(function(){var _=new c(2);return _.set(1),_.set("2",1),_[0]!==0||_[1]!==2});m("set",function(j){y(this);var T=u(arguments.length>1?arguments[1]:void 0,1),S=a(j);if(g)return r(p,this,S,T);var b=this.length,E=i(S),O=0;if(E+T>b)throw new l("Wrong length");for(;O<E;)this[T+O]=S[O++]},!g||h)},{"../internals/array-buffer-view-core":117,"../internals/fails":171,"../internals/function-call":177,"../internals/global":188,"../internals/length-of-array-like":219,"../internals/to-object":285,"../internals/to-offset":286}],373:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/typed-array-species-constructor"),s=e("../internals/fails"),i=e("../internals/array-slice"),u=t.aTypedArray,a=t.exportTypedArrayMethod,n=s(function(){new Int8Array(1).slice()});a("slice",function(c,f){for(var p=i(u(this),c,f),y=r(this),m=0,g=p.length,h=new y(g);g>m;)h[m]=p[m++];return h},n)},{"../internals/array-buffer-view-core":117,"../internals/array-slice":131,"../internals/fails":171,"../internals/typed-array-species-constructor":298}],374:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/array-iteration").some,s=t.aTypedArray,i=t.exportTypedArrayMethod;i("some",function(a){return r(s(this),a,arguments.length>1?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":117,"../internals/array-iteration":125}],375:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/function-uncurry-this-clause"),s=e("../internals/fails"),i=e("../internals/a-callable"),u=e("../internals/array-sort"),a=e("../internals/array-buffer-view-core"),n=e("../internals/engine-ff-version"),l=e("../internals/engine-is-ie-or-edge"),c=e("../internals/engine-v8-version"),f=e("../internals/engine-webkit-version"),p=a.aTypedArray,y=a.exportTypedArrayMethod,m=t.Uint16Array,g=m&&r(m.prototype.sort),h=!!g&&!(s(function(){g(new m(2),null)})&&s(function(){g(new m(2),{})})),_=!!g&&!s(function(){if(c)return c<74;if(n)return n<67;if(l)return!0;if(f)return f<602;var T=new m(516),S=Array(516),b,E;for(b=0;b<516;b++)E=b%4,T[b]=515-b,S[b]=b-2*E+3;for(g(T,function(O,C){return(O/4|0)-(C/4|0)}),b=0;b<516;b++)if(T[b]!==S[b])return!0}),j=function(T){return function(S,b){return T!==void 0?+T(S,b)||0:b!==b?-1:S!==S?1:S===0&&b===0?1/S>0&&1/b<0?1:-1:S>b}};y("sort",function(S){return S!==void 0&&i(S),_?g(this,S):u(p(this),j(S))},!_||h)},{"../internals/a-callable":108,"../internals/array-buffer-view-core":117,"../internals/array-sort":132,"../internals/engine-ff-version":158,"../internals/engine-is-ie-or-edge":161,"../internals/engine-v8-version":167,"../internals/engine-webkit-version":168,"../internals/fails":171,"../internals/function-uncurry-this-clause":180,"../internals/global":188}],376:[function(e,o,d){var t=e("../internals/array-buffer-view-core"),r=e("../internals/to-length"),s=e("../internals/to-absolute-index"),i=e("../internals/typed-array-species-constructor"),u=t.aTypedArray,a=t.exportTypedArrayMethod;a("subarray",function(l,c){var f=u(this),p=f.length,y=s(l,p),m=i(f);return new m(f.buffer,f.byteOffset+y*f.BYTES_PER_ELEMENT,r((c===void 0?p:s(c,p))-y))})},{"../internals/array-buffer-view-core":117,"../internals/to-absolute-index":279,"../internals/to-length":284,"../internals/typed-array-species-constructor":298}],377:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/function-apply"),s=e("../internals/array-buffer-view-core"),i=e("../internals/fails"),u=e("../internals/array-slice"),a=t.Int8Array,n=s.aTypedArray,l=s.exportTypedArrayMethod,c=[].toLocaleString,f=!!a&&i(function(){c.call(new a(1))}),p=i(function(){return[1,2].toLocaleString()!==new a([1,2]).toLocaleString()})||!i(function(){a.prototype.toLocaleString.call([1,2])});l("toLocaleString",function(){return r(c,f?u(n(this)):n(this),u(arguments))},p)},{"../internals/array-buffer-view-core":117,"../internals/array-slice":131,"../internals/fails":171,"../internals/function-apply":174,"../internals/global":188}],378:[function(e,o,d){var t=e("../internals/array-buffer-view-core").exportTypedArrayMethod,r=e("../internals/fails"),s=e("../internals/global"),i=e("../internals/function-uncurry-this"),u=s.Uint8Array,a=u&&u.prototype||{},n=[].toString,l=i([].join);r(function(){n.call({})})&&(n=function(){return l(this)});var c=a.toString!==n;t("toString",n,c)},{"../internals/array-buffer-view-core":117,"../internals/fails":171,"../internals/function-uncurry-this":181,"../internals/global":188}],379:[function(e,o,d){var t=e("../internals/typed-array-constructor");t("Uint8",function(r){return function(i,u,a){return r(this,i,u,a)}})},{"../internals/typed-array-constructor":294}],380:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/dom-iterables"),s=e("../internals/dom-token-list-prototype"),i=e("../internals/array-for-each"),u=e("../internals/create-non-enumerable-property"),a=function(l){if(l&&l.forEach!==i)try{u(l,"forEach",i)}catch(c){l.forEach=i}};for(var n in r)r[n]&&a(t[n]&&t[n].prototype);a(s)},{"../internals/array-for-each":121,"../internals/create-non-enumerable-property":145,"../internals/dom-iterables":156,"../internals/dom-token-list-prototype":157,"../internals/global":188}],381:[function(e,o,d){var t=e("../internals/global"),r=e("../internals/dom-iterables"),s=e("../internals/dom-token-list-prototype"),i=e("../modules/es.array.iterator"),u=e("../internals/create-non-enumerable-property"),a=e("../internals/set-to-string-tag"),n=e("../internals/well-known-symbol"),l=n("iterator"),c=i.values,f=function(y,m){if(y){if(y[l]!==c)try{u(y,l,c)}catch(h){y[l]=c}if(a(y,m,!0),r[m]){for(var g in i)if(y[g]!==i[g])try{u(y,g,i[g])}catch(h){y[g]=i[g]}}}};for(var p in r)f(t[p]&&t[p].prototype,p);f(s,"DOMTokenList")},{"../internals/create-non-enumerable-property":145,"../internals/dom-iterables":156,"../internals/dom-token-list-prototype":157,"../internals/global":188,"../internals/set-to-string-tag":266,"../internals/well-known-symbol":306,"../modules/es.array.iterator":316}],382:[function(e,o,d){function t(_){return Array.isArray?Array.isArray(_):h(_)==="[object Array]"}d.isArray=t;function r(_){return typeof _=="boolean"}d.isBoolean=r;function s(_){return _===null}d.isNull=s;function i(_){return _==null}d.isNullOrUndefined=i;function u(_){return typeof _=="number"}d.isNumber=u;function a(_){return typeof _=="string"}d.isString=a;function n(_){return typeof _=="symbol"}d.isSymbol=n;function l(_){return _===void 0}d.isUndefined=l;function c(_){return h(_)==="[object RegExp]"}d.isRegExp=c;function f(_){return typeof _=="object"&&_!==null}d.isObject=f;function p(_){return h(_)==="[object Date]"}d.isDate=p;function y(_){return h(_)==="[object Error]"||_ instanceof Error}d.isError=y;function m(_){return typeof _=="function"}d.isFunction=m;function g(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||typeof _=="undefined"}d.isPrimitive=g,d.isBuffer=e("buffer").Buffer.isBuffer;function h(_){return Object.prototype.toString.call(_)}},{buffer:103}],383:[function(e,o,d){(function(t){var r=function(){var n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g;return function(f,p,y,m){if(arguments.length===1&&a(f)==="string"&&!/\d/.test(f)&&(p=f,f=void 0),f=f||new Date,f instanceof Date||(f=new Date(f)),isNaN(f))throw TypeError("Invalid date");p=String(r.masks[p]||p||r.masks.default);var g=p.slice(0,4);(g==="UTC:"||g==="GMT:")&&(p=p.slice(4),y=!0,g==="GMT:"&&(m=!0));var h=y?"getUTC":"get",_=f[h+"Date"](),j=f[h+"Day"](),T=f[h+"Month"](),S=f[h+"FullYear"](),b=f[h+"Hours"](),E=f[h+"Minutes"](),O=f[h+"Seconds"](),C=f[h+"Milliseconds"](),k=y?0:f.getTimezoneOffset(),A=i(f),I=u(f),D={d:_,dd:s(_),ddd:r.i18n.dayNames[j],dddd:r.i18n.dayNames[j+7],m:T+1,mm:s(T+1),mmm:r.i18n.monthNames[T],mmmm:r.i18n.monthNames[T+12],yy:String(S).slice(2),yyyy:S,h:b%12||12,hh:s(b%12||12),H:b,HH:s(b),M:E,MM:s(E),s:O,ss:s(O),l:s(C,3),L:s(Math.round(C/10)),t:b<12?"a":"p",tt:b<12?"am":"pm",T:b<12?"A":"P",TT:b<12?"AM":"PM",Z:m?"GMT":y?"UTC":(String(f).match(l)||[""]).pop().replace(c,""),o:(k>0?"-":"+")+s(Math.floor(Math.abs(k)/60)*100+Math.abs(k)%60,4),S:["th","st","nd","rd"][_%10>3?0:(_%100-_%10!=10)*_%10],W:A,N:I};return p.replace(n,function(F){return F in D?D[F]:F.slice(1,F.length-1)})}}();r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};function s(n,l){for(n=String(n),l=l||2;n.length<l;)n="0"+n;return n}function i(n){var l=new Date(n.getFullYear(),n.getMonth(),n.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);var c=new Date(l.getFullYear(),0,4);c.setDate(c.getDate()-(c.getDay()+6)%7+3);var f=l.getTimezoneOffset()-c.getTimezoneOffset();l.setHours(l.getHours()-f);var p=(l-c)/(864e5*7);return 1+Math.floor(p)}function u(n){var l=n.getDay();return l===0&&(l=7),l}function a(n){return n===null?"null":n===void 0?"undefined":typeof n!="object"?typeof n:Array.isArray(n)?"array":{}.toString.call(n).slice(8,-1).toLowerCase()}typeof d=="object"?o.exports=r:t.dateFormat=r})(this)},{}],384:[function(e,o,d){var t=e("has-property-descriptors")(),r=e("get-intrinsic"),s=t&&r("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(n){s=!1}var i=r("%SyntaxError%"),u=r("%TypeError%"),a=e("gopd");o.exports=function(l,c,f){if(!l||typeof l!="object"&&typeof l!="function")throw new u("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new u("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new u("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new u("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new u("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new u("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,y=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,h=!!a&&a(l,c);if(s)s(l,c,{configurable:m===null&&h?h.configurable:!m,enumerable:p===null&&h?h.enumerable:!p,value:f,writable:y===null&&h?h.writable:!y});else if(g||!p&&!y&&!m)l[c]=f;else throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},{"get-intrinsic":390,gopd:391,"has-property-descriptors":392}],385:[function(e,o,d){var t=/["'&<>]/;o.exports=r;function r(s){var i=""+s,u=t.exec(i);if(!u)return i;var a,n="",l=0,c=0;for(l=u.index;l<i.length;l++){switch(i.charCodeAt(l)){case 34:a="&quot;";break;case 38:a="&amp;";break;case 39:a="&#39;";break;case 60:a="&lt;";break;case 62:a="&gt;";break;default:continue}c!==l&&(n+=i.substring(c,l)),c=l+1,n+=a}return c!==l?n+i.substring(c,l):n}},{}],386:[function(e,o,d){var t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(O,C,k){return Function.prototype.apply.call(O,C,k)},s;t&&typeof t.ownKeys=="function"?s=t.ownKeys:Object.getOwnPropertySymbols?s=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:s=function(O){return Object.getOwnPropertyNames(O)};function i(E){console&&console.warn&&console.warn(E)}var u=Number.isNaN||function(O){return O!==O};function a(){a.init.call(this)}o.exports=a,o.exports.once=T,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var n=10;function l(E){if(typeof E!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof E)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(E){if(typeof E!="number"||E<0||u(E))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+E+".");n=E}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||u(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function c(E){return E._maxListeners===void 0?a.defaultMaxListeners:E._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(O){for(var C=[],k=1;k<arguments.length;k++)C.push(arguments[k]);var A=O==="error",I=this._events;if(I!==void 0)A=A&&I.error===void 0;else if(!A)return!1;if(A){var D;if(C.length>0&&(D=C[0]),D instanceof Error)throw D;var F=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw F.context=D,F}var Q=I[O];if(Q===void 0)return!1;if(typeof Q=="function")r(Q,this,C);else for(var te=Q.length,$=h(Q,te),k=0;k<te;++k)r($[k],this,C);return!0};function f(E,O,C,k){var A,I,D;if(l(C),I=E._events,I===void 0?(I=E._events=Object.create(null),E._eventsCount=0):(I.newListener!==void 0&&(E.emit("newListener",O,C.listener?C.listener:C),I=E._events),D=I[O]),D===void 0)D=I[O]=C,++E._eventsCount;else if(typeof D=="function"?D=I[O]=k?[C,D]:[D,C]:k?D.unshift(C):D.push(C),A=c(E),A>0&&D.length>A&&!D.warned){D.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=E,F.type=O,F.count=D.length,i(F)}return E}a.prototype.addListener=function(O,C){return f(this,O,C,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,C){return f(this,O,C,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(E,O,C){var k={fired:!1,wrapFn:void 0,target:E,type:O,listener:C},A=p.bind(k);return A.listener=C,k.wrapFn=A,A}a.prototype.once=function(O,C){return l(C),this.on(O,y(this,O,C)),this},a.prototype.prependOnceListener=function(O,C){return l(C),this.prependListener(O,y(this,O,C)),this},a.prototype.removeListener=function(O,C){var k,A,I,D,F;if(l(C),A=this._events,A===void 0)return this;if(k=A[O],k===void 0)return this;if(k===C||k.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete A[O],A.removeListener&&this.emit("removeListener",O,k.listener||C));else if(typeof k!="function"){for(I=-1,D=k.length-1;D>=0;D--)if(k[D]===C||k[D].listener===C){F=k[D].listener,I=D;break}if(I<0)return this;I===0?k.shift():_(k,I),k.length===1&&(A[O]=k[0]),A.removeListener!==void 0&&this.emit("removeListener",O,F||C)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(O){var C,k,A;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[O]),this;if(arguments.length===0){var I=Object.keys(k),D;for(A=0;A<I.length;++A)D=I[A],D!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=k[O],typeof C=="function")this.removeListener(O,C);else if(C!==void 0)for(A=C.length-1;A>=0;A--)this.removeListener(O,C[A]);return this};function m(E,O,C){var k=E._events;if(k===void 0)return[];var A=k[O];return A===void 0?[]:typeof A=="function"?C?[A.listener||A]:[A]:C?j(A):h(A,A.length)}a.prototype.listeners=function(O){return m(this,O,!0)},a.prototype.rawListeners=function(O){return m(this,O,!1)},a.listenerCount=function(E,O){return typeof E.listenerCount=="function"?E.listenerCount(O):g.call(E,O)},a.prototype.listenerCount=g;function g(E){var O=this._events;if(O!==void 0){var C=O[E];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function h(E,O){for(var C=new Array(O),k=0;k<O;++k)C[k]=E[k];return C}function _(E,O){for(;O+1<E.length;O++)E[O]=E[O+1];E.pop()}function j(E){for(var O=new Array(E.length),C=0;C<O.length;++C)O[C]=E[C].listener||E[C];return O}function T(E,O){return new Promise(function(C,k){function A(D){E.removeListener(O,I),k(D)}function I(){typeof E.removeListener=="function"&&E.removeListener("error",A),C([].slice.call(arguments))}b(E,O,I,{once:!0}),O!=="error"&&S(E,A,{once:!0})})}function S(E,O,C){typeof E.on=="function"&&b(E,"error",O,C)}function b(E,O,C,k){if(typeof E.on=="function")k.once?E.once(O,C):E.on(O,C);else if(typeof E.addEventListener=="function")E.addEventListener(O,function A(I){k.once&&E.removeEventListener(O,A),C(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof E)}},{}],387:[function(e,o,d){var t=e("is-callable"),r=Object.prototype.toString,s=Object.prototype.hasOwnProperty,i=function(c,f,p){for(var y=0,m=c.length;y<m;y++)s.call(c,y)&&(p==null?f(c[y],y,c):f.call(p,c[y],y,c))},u=function(c,f,p){for(var y=0,m=c.length;y<m;y++)p==null?f(c.charAt(y),y,c):f.call(p,c.charAt(y),y,c)},a=function(c,f,p){for(var y in c)s.call(c,y)&&(p==null?f(c[y],y,c):f.call(p,c[y],y,c))},n=function(c,f,p){if(!t(f))throw new TypeError("iterator must be a function");var y;arguments.length>=3&&(y=p),r.call(c)==="[object Array]"?i(c,f,y):typeof c=="string"?u(c,f,y):a(c,f,y)};o.exports=n},{"is-callable":410}],388:[function(e,o,d){var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,s=Math.max,i="[object Function]",u=function(c,f){for(var p=[],y=0;y<c.length;y+=1)p[y]=c[y];for(var m=0;m<f.length;m+=1)p[m+c.length]=f[m];return p},a=function(c,f){for(var p=[],y=f,m=0;y<c.length;y+=1,m+=1)p[m]=c[y];return p},n=function(l,c){for(var f="",p=0;p<l.length;p+=1)f+=l[p],p+1<l.length&&(f+=c);return f};o.exports=function(c){var f=this;if(typeof f!="function"||r.apply(f)!==i)throw new TypeError(t+f);for(var p=a(arguments,1),y,m=function(){if(this instanceof y){var T=f.apply(this,u(p,arguments));return Object(T)===T?T:this}return f.apply(c,u(p,arguments))},g=s(0,f.length-p.length),h=[],_=0;_<g;_++)h[_]="$"+_;if(y=Function("binder","return function ("+n(h,",")+"){ return binder.apply(this,arguments); }")(m),f.prototype){var j=function(){};j.prototype=f.prototype,y.prototype=new j,j.prototype=null}return y}},{}],389:[function(e,o,d){var t=e("./implementation");o.exports=Function.prototype.bind||t},{"./implementation":388}],390:[function(e,o,d){var t,r=SyntaxError,s=Function,i=TypeError,u=function(Q){try{return s('"use strict"; return ('+Q+").constructor;")()}catch(te){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(Q){a=null}var n=function(){throw new i},l=a?function(){try{return arguments.callee,n}catch(Q){try{return a(arguments,"callee").get}catch(te){return n}}}():n,c=e("has-symbols")(),f=e("has-proto")(),p=Object.getPrototypeOf||(f?function(Q){return Q.__proto__}:null),y={},m=typeof Uint8Array=="undefined"||!p?t:p(Uint8Array),g={"%AggregateError%":typeof AggregateError=="undefined"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?t:ArrayBuffer,"%ArrayIteratorPrototype%":c&&p?p([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":typeof Atomics=="undefined"?t:Atomics,"%BigInt%":typeof BigInt=="undefined"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?t:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?t:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":y,"%Int8Array%":typeof Int8Array=="undefined"?t:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?t:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&p?p(p([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map=="undefined"?t:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!c||!p?t:p(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?t:Promise,"%Proxy%":typeof Proxy=="undefined"?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?t:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!c||!p?t:p(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&p?p(""[Symbol.iterator]()):t,"%Symbol%":c?Symbol:t,"%SyntaxError%":r,"%ThrowTypeError%":l,"%TypedArray%":m,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array=="undefined"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?t:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?t:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?t:WeakSet};if(p)try{null.error}catch(Q){var h=p(p(Q));g["%Error.prototype%"]=h}var _=function Q(te){var $;if(te==="%AsyncFunction%")$=u("async function () {}");else if(te==="%GeneratorFunction%")$=u("function* () {}");else if(te==="%AsyncGeneratorFunction%")$=u("async function* () {}");else if(te==="%AsyncGenerator%"){var Z=Q("%AsyncGeneratorFunction%");Z&&($=Z.prototype)}else if(te==="%AsyncIteratorPrototype%"){var ne=Q("%AsyncGenerator%");ne&&p&&($=p(ne.prototype))}return g[te]=$,$},j={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=e("function-bind"),S=e("hasown"),b=T.call(Function.call,Array.prototype.concat),E=T.call(Function.apply,Array.prototype.splice),O=T.call(Function.call,String.prototype.replace),C=T.call(Function.call,String.prototype.slice),k=T.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,D=function(te){var $=C(te,0,1),Z=C(te,-1);if($==="%"&&Z!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(Z==="%"&&$!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var ne=[];return O(te,A,function(ie,J,Y,K){ne[ne.length]=Y?O(K,I,"$1"):J||ie}),ne},F=function(te,$){var Z=te,ne;if(S(j,Z)&&(ne=j[Z],Z="%"+ne[0]+"%"),S(g,Z)){var ie=g[Z];if(ie===y&&(ie=_(Z)),typeof ie=="undefined"&&!$)throw new i("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:ne,name:Z,value:ie}}throw new r("intrinsic "+te+" does not exist!")};o.exports=function(te,$){if(typeof te!="string"||te.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new i('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,te)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Z=D(te),ne=Z.length>0?Z[0]:"",ie=F("%"+ne+"%",$),J=ie.name,Y=ie.value,K=!1,X=ie.alias;X&&(ne=X[0],E(Z,b([0,1],X)));for(var U=1,se=!0;U<Z.length;U+=1){var oe=Z[U],ae=C(oe,0,1),de=C(oe,-1);if((ae==='"'||ae==="'"||ae==="`"||de==='"'||de==="'"||de==="`")&&ae!==de)throw new r("property names with quotes must have matching quotes");if((oe==="constructor"||!se)&&(K=!0),ne+="."+oe,J="%"+ne+"%",S(g,J))Y=g[J];else if(Y!=null){if(!(oe in Y)){if(!$)throw new i("base intrinsic for "+te+" exists, but the property is not available.");return}if(a&&U+1>=Z.length){var G=a(Y,oe);se=!!G,se&&"get"in G&&!("originalValue"in G.get)?Y=G.get:Y=Y[oe]}else se=S(Y,oe),Y=Y[oe];se&&!K&&(g[J]=Y)}}return Y}},{"function-bind":389,"has-proto":393,"has-symbols":394,hasown:397}],391:[function(e,o,d){var t=e("get-intrinsic"),r=t("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(s){r=null}o.exports=r},{"get-intrinsic":390}],392:[function(e,o,d){var t=e("get-intrinsic"),r=t("%Object.defineProperty%",!0),s=function(){if(r)try{return r({},"a",{value:1}),!0}catch(u){return!1}return!1};s.hasArrayLengthDefineBug=function(){if(!s())return null;try{return r([],"length",{value:1}).length!==1}catch(u){return!0}},o.exports=s},{"get-intrinsic":390}],393:[function(e,o,d){var t={foo:{}},r=Object;o.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},{}],394:[function(e,o,d){var t=typeof Symbol!="undefined"&&Symbol,r=e("./shams");o.exports=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()}},{"./shams":395}],395:[function(e,o,d){o.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},s=Symbol("test"),i=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var u=42;r[s]=u;for(s in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==s||!Object.prototype.propertyIsEnumerable.call(r,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var n=Object.getOwnPropertyDescriptor(r,s);if(n.value!==u||n.enumerable!==!0)return!1}return!0}},{}],396:[function(e,o,d){var t=e("has-symbols/shams");o.exports=function(){return t()&&!!Symbol.toStringTag}},{"has-symbols/shams":395}],397:[function(e,o,d){var t=Function.prototype.call,r=Object.prototype.hasOwnProperty,s=e("function-bind");o.exports=s.call(t,r)},{"function-bind":389}],398:[function(e,o,d){var t=e("http"),r=e("url"),s=o.exports;for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);s.request=function(a,n){return a=u(a),t.request.call(this,a,n)},s.get=function(a,n){return a=u(a),t.get.call(this,a,n)};function u(a){if(typeof a=="string"&&(a=r.parse(a)),a.protocol||(a.protocol="https:"),a.protocol!=="https:")throw new Error('Protocol "'+a.protocol+'" not supported. Expected "https:"');return a}},{http:539,url:543}],399:[function(e,o,d){var t=e("util"),r=e("ms");o.exports=function(s){if(typeof s=="number")return s;var i=r(s);if(i===void 0){var u=new Error(t.format("humanize-ms(%j) result undefined",s));console.warn(u.stack)}return i}},{ms:432,util:489}],400:[function(e,o,d){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(t,r,s,i,u){var a,n,l=u*8-i-1,c=(1<<l)-1,f=c>>1,p=-7,y=s?u-1:0,m=s?-1:1,g=t[r+y];for(y+=m,a=g&(1<<-p)-1,g>>=-p,p+=l;p>0;a=a*256+t[r+y],y+=m,p-=8);for(n=a&(1<<-p)-1,a>>=-p,p+=i;p>0;n=n*256+t[r+y],y+=m,p-=8);if(a===0)a=1-f;else{if(a===c)return n?NaN:(g?-1:1)*(1/0);n=n+Math.pow(2,i),a=a-f}return(g?-1:1)*n*Math.pow(2,a-i)},d.write=function(t,r,s,i,u,a){var n,l,c,f=a*8-u-1,p=(1<<f)-1,y=p>>1,m=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:a-1,h=i?1:-1,_=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(l=isNaN(r)?1:0,n=p):(n=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-n))<1&&(n--,c*=2),n+y>=1?r+=m/c:r+=m*Math.pow(2,1-y),r*c>=2&&(n++,c/=2),n+y>=p?(l=0,n=p):n+y>=1?(l=(r*c-1)*Math.pow(2,u),n=n+y):(l=r*Math.pow(2,y-1)*Math.pow(2,u),n=0));u>=8;t[s+g]=l&255,g+=h,l/=256,u-=8);for(n=n<<u|l,f+=u;f>0;t[s+g]=n&255,g+=h,n/=256,f-=8);t[s+g-h]|=_*128}},{}],401:[function(e,o,d){var t=[e("./nextTick"),e("./queueMicrotask"),e("./mutation.js"),e("./messageChannel"),e("./stateChange"),e("./timeout")],r,s,i=-1,u=[],a=!1;function n(){!r||!s||(r=!1,s.length?u=s.concat(u):i=-1,u.length&&l())}function l(){if(!r){a=!1,r=!0;for(var g=u.length,h=setTimeout(n);g;){for(s=u,u=[];s&&++i<g;)s[i].run();i=-1,g=u.length}s=null,i=-1,r=!1,clearTimeout(h)}}for(var c,f=-1,p=t.length;++f<p;)if(t[f]&&t[f].test&&t[f].test()){c=t[f].install(l);break}function y(g,h){this.fun=g,this.array=h}y.prototype.run=function(){var g=this.fun,h=this.array;switch(h.length){case 0:return g();case 1:return g(h[0]);case 2:return g(h[0],h[1]);case 3:return g(h[0],h[1],h[2]);default:return g.apply(null,h)}},o.exports=m;function m(g){var h=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)h[_-1]=arguments[_];u.push(new y(g,h)),!a&&!r&&(a=!0,c())}},{"./messageChannel":402,"./mutation.js":403,"./nextTick":102,"./queueMicrotask":404,"./stateChange":405,"./timeout":406}],402:[function(e,o,d){(function(t){(function(){d.test=function(){return t.setImmediate?!1:typeof t.MessageChannel!="undefined"},d.install=function(r){var s=new t.MessageChannel;return s.port1.onmessage=r,function(){s.port2.postMessage(0)}}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],403:[function(e,o,d){(function(t){(function(){var r=t.MutationObserver||t.WebKitMutationObserver;d.test=function(){return r},d.install=function(s){var i=0,u=new r(s),a=t.document.createTextNode("");return u.observe(a,{characterData:!0}),function(){a.data=i=++i%2}}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],404:[function(e,o,d){(function(t){(function(){d.test=function(){return typeof t.queueMicrotask=="function"},d.install=function(r){return function(){t.queueMicrotask(r)}}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],405:[function(e,o,d){(function(t){(function(){d.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},d.install=function(r){return function(){var s=t.document.createElement("script");return s.onreadystatechange=function(){r(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},t.document.documentElement.appendChild(s),r}}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],406:[function(e,o,d){d.test=function(){return!0},d.install=function(t){return function(){setTimeout(t,0)}}},{}],407:[function(e,o,d){typeof Object.create=="function"?o.exports=function(r,s){s&&(r.super_=s,r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(r,s){if(s){r.super_=s;var i=function(){};i.prototype=s.prototype,r.prototype=new i,r.prototype.constructor=r}}},{}],408:[function(e,o,d){var t=e("has-tostringtag/shams")(),r=e("call-bind/callBound"),s=r("Object.prototype.toString"),i=function(l){return t&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:s(l)==="[object Arguments]"},u=function(l){return i(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&s(l)!=="[object Array]"&&s(l.callee)==="[object Function]"},a=function(){return i(arguments)}();i.isLegacyArguments=u,o.exports=a?i:u},{"call-bind/callBound":105,"has-tostringtag/shams":396}],409:[function(e,o,d){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */o.exports=function(s){return s!=null&&(t(s)||r(s)||!!s._isBuffer)};function t(s){return!!s.constructor&&typeof s.constructor.isBuffer=="function"&&s.constructor.isBuffer(s)}function r(s){return typeof s.readFloatLE=="function"&&typeof s.slice=="function"&&t(s.slice(0,0))}},{}],410:[function(e,o,d){var t=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,s,i;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{s=Object.defineProperty({},"length",{get:function(){throw i}}),i={},r(function(){throw 42},null,s)}catch(S){S!==i&&(r=null)}else r=null;var u=/^\s*class\b/,a=function(b){try{var E=t.call(b);return u.test(E)}catch(O){return!1}},n=function(b){try{return a(b)?!1:(t.call(b),!0)}catch(E){return!1}},l=Object.prototype.toString,c="[object Object]",f="[object Function]",p="[object GeneratorFunction]",y="[object HTMLAllCollection]",m="[object HTML document.all class]",g="[object HTMLCollection]",h=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),j=function(){return!1};if(typeof document=="object"){var T=document.all;l.call(T)===l.call(document.all)&&(j=function(b){if((_||!b)&&(typeof b=="undefined"||typeof b=="object"))try{var E=l.call(b);return(E===y||E===m||E===g||E===c)&&b("")==null}catch(O){}return!1})}o.exports=r?function(b){if(j(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;try{r(b,null,s)}catch(E){if(E!==i)return!1}return!a(b)&&n(b)}:function(b){if(j(b))return!0;if(!b||typeof b!="function"&&typeof b!="object")return!1;if(h)return n(b);if(a(b))return!1;var E=l.call(b);return E!==f&&E!==p&&!/^\[object HTML/.test(E)?!1:n(b)}},{}],411:[function(e,o,d){var t=Object.prototype.toString,r=Function.prototype.toString,s=/^\s*(?:function)?\*/,i=e("has-tostringtag/shams")(),u=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(l){}},n;o.exports=function(c){if(typeof c!="function")return!1;if(s.test(r.call(c)))return!0;if(!i){var f=t.call(c);return f==="[object GeneratorFunction]"}if(!u)return!1;if(typeof n=="undefined"){var p=a();n=p?u(p):!1}return u(c)===n}},{"has-tostringtag/shams":396}],412:[function(e,o,d){var t=e("which-typed-array");o.exports=function(s){return!!t(s)}},{"which-typed-array":490}],413:[function(e,o,d){(function(t){(function(){(function(r,s){typeof d=="object"&&typeof o!="undefined"?o.exports=s(r):s(r)})(typeof self!="undefined"?self:typeof window!="undefined"?window:typeof t!="undefined"?t:this,function(r){r=r||{};var s=r.Base64,i="2.6.4",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(te){for(var $={},Z=0,ne=te.length;Z<ne;Z++)$[te.charAt(Z)]=Z;return $}(u),n=String.fromCharCode,l=function(te){if(te.length<2){var $=te.charCodeAt(0);return $<128?te:$<2048?n(192|$>>>6)+n(128|$&63):n(224|$>>>12&15)+n(128|$>>>6&63)+n(128|$&63)}else{var $=65536+(te.charCodeAt(0)-55296)*1024+(te.charCodeAt(1)-56320);return n(240|$>>>18&7)+n(128|$>>>12&63)+n(128|$>>>6&63)+n(128|$&63)}},c=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(te){return te.replace(c,l)},p=function(te){var $=[0,2,1][te.length%3],Z=te.charCodeAt(0)<<16|(te.length>1?te.charCodeAt(1):0)<<8|(te.length>2?te.charCodeAt(2):0),ne=[u.charAt(Z>>>18),u.charAt(Z>>>12&63),$>=2?"=":u.charAt(Z>>>6&63),$>=1?"=":u.charAt(Z&63)];return ne.join("")},y=r.btoa&&typeof r.btoa=="function"?function(te){return r.btoa(te)}:function(te){if(te.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return te.replace(/[\s\S]{1,3}/g,p)},m=function(te){return y(f(String(te)))},g=function(te){return te.replace(/[+\/]/g,function($){return $=="+"?"-":"_"}).replace(/=/g,"")},h=function(te,$){return $?g(m(te)):m(te)},_=function(te){return h(te,!0)},j;r.Uint8Array&&(j=function(te,$){for(var Z="",ne=0,ie=te.length;ne<ie;ne+=3){var J=te[ne],Y=te[ne+1],K=te[ne+2],X=J<<16|Y<<8|K;Z+=u.charAt(X>>>18)+u.charAt(X>>>12&63)+(typeof Y!="undefined"?u.charAt(X>>>6&63):"=")+(typeof K!="undefined"?u.charAt(X&63):"=")}return $?g(Z):Z});var T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,S=function(te){switch(te.length){case 4:var $=(7&te.charCodeAt(0))<<18|(63&te.charCodeAt(1))<<12|(63&te.charCodeAt(2))<<6|63&te.charCodeAt(3),Z=$-65536;return n((Z>>>10)+55296)+n((Z&1023)+56320);case 3:return n((15&te.charCodeAt(0))<<12|(63&te.charCodeAt(1))<<6|63&te.charCodeAt(2));default:return n((31&te.charCodeAt(0))<<6|63&te.charCodeAt(1))}},b=function(te){return te.replace(T,S)},E=function(te){var $=te.length,Z=$%4,ne=($>0?a[te.charAt(0)]<<18:0)|($>1?a[te.charAt(1)]<<12:0)|($>2?a[te.charAt(2)]<<6:0)|($>3?a[te.charAt(3)]:0),ie=[n(ne>>>16),n(ne>>>8&255),n(ne&255)];return ie.length-=[0,0,2,1][Z],ie.join("")},O=r.atob&&typeof r.atob=="function"?function(te){return r.atob(te)}:function(te){return te.replace(/\S{1,4}/g,E)},C=function(te){return O(String(te).replace(/[^A-Za-z0-9\+\/]/g,""))},k=function(te){return b(O(te))},A=function(te){return String(te).replace(/[-_]/g,function($){return $=="-"?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,"")},I=function(te){return k(A(te))},D;r.Uint8Array&&(D=function(te){return Uint8Array.from(C(A(te)),function($){return $.charCodeAt(0)})});var F=function(){var te=r.Base64;return r.Base64=s,te};if(r.Base64={VERSION:i,atob:C,btoa:y,fromBase64:I,toBase64:h,utob:f,encode:h,encodeURI:_,btou:b,decode:I,noConflict:F,fromUint8Array:j,toUint8Array:D},typeof Object.defineProperty=="function"){var Q=function(te){return{value:te,enumerable:!1,writable:!0,configurable:!0}};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",Q(function(){return I(this)})),Object.defineProperty(String.prototype,"toBase64",Q(function(te){return h(this,te)})),Object.defineProperty(String.prototype,"toBase64URI",Q(function(){return h(this,!0)}))}}return r.Meteor&&(Base64=r.Base64),typeof o!="undefined"&&o.exports&&(o.exports.Base64=r.Base64),{Base64:r.Base64}})}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],414:[function(e,o,d){var t=e("./_root"),r=t.Symbol;o.exports=r},{"./_root":421}],415:[function(e,o,d){function t(r,s){for(var i=-1,u=r==null?0:r.length,a=Array(u);++i<u;)a[i]=s(r[i],i,r);return a}o.exports=t},{}],416:[function(e,o,d){var t=e("./_Symbol"),r=e("./_getRawTag"),s=e("./_objectToString"),i="[object Null]",u="[object Undefined]",a=t?t.toStringTag:void 0;function n(l){return l==null?l===void 0?u:i:a&&a in Object(l)?r(l):s(l)}o.exports=n},{"./_Symbol":414,"./_getRawTag":419,"./_objectToString":420}],417:[function(e,o,d){var t=e("./_Symbol"),r=e("./_arrayMap"),s=e("./isArray"),i=e("./isSymbol"),u=t?t.prototype:void 0,a=u?u.toString:void 0;function n(l){if(typeof l=="string")return l;if(s(l))return r(l,n)+"";if(i(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}o.exports=n},{"./_Symbol":414,"./_arrayMap":415,"./isArray":422,"./isSymbol":426}],418:[function(e,o,d){(function(t){(function(){var r=typeof t=="object"&&t&&t.Object===Object&&t;o.exports=r}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],419:[function(e,o,d){var t=e("./_Symbol"),r=Object.prototype,s=r.hasOwnProperty,i=r.toString,u=t?t.toStringTag:void 0;function a(n){var l=s.call(n,u),c=n[u];try{n[u]=void 0;var f=!0}catch(y){}var p=i.call(n);return f&&(l?n[u]=c:delete n[u]),p}o.exports=a},{"./_Symbol":414}],420:[function(e,o,d){var t=Object.prototype,r=t.toString;function s(i){return r.call(i)}o.exports=s},{}],421:[function(e,o,d){var t=e("./_freeGlobal"),r=typeof self=="object"&&self&&self.Object===Object&&self,s=t||r||Function("return this")();o.exports=s},{"./_freeGlobal":418}],422:[function(e,o,d){var t=Array.isArray;o.exports=t},{}],423:[function(e,o,d){function t(r){var s=typeof r;return r!=null&&(s=="object"||s=="function")}o.exports=t},{}],424:[function(e,o,d){function t(r){return r!=null&&typeof r=="object"}o.exports=t},{}],425:[function(e,o,d){var t=e("./_baseGetTag"),r=e("./isArray"),s=e("./isObjectLike"),i="[object String]";function u(a){return typeof a=="string"||!r(a)&&s(a)&&t(a)==i}o.exports=u},{"./_baseGetTag":416,"./isArray":422,"./isObjectLike":424}],426:[function(e,o,d){var t=e("./_baseGetTag"),r=e("./isObjectLike"),s="[object Symbol]";function i(u){return typeof u=="symbol"||r(u)&&t(u)==s}o.exports=i},{"./_baseGetTag":416,"./isObjectLike":424}],427:[function(e,o,d){var t=e("./_baseToString");function r(s){return s==null?"":t(s)}o.exports=r},{"./_baseToString":417}],428:[function(e,o,d){o.exports=r;var t=Object.prototype.hasOwnProperty;function r(s,i,u){if(!s)throw new TypeError("argument dest is required");if(!i)throw new TypeError("argument src is required");return u===void 0&&(u=!0),Object.getOwnPropertyNames(i).forEach(function(n){if(!(!u&&t.call(s,n))){var l=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(s,n,l)}}),s}},{}],429:[function(e,o,d){e("core-js/modules/es.array.map.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.regexp.constructor.js"),e("core-js/modules/es.regexp.to-string.js");function t(){this._types=Object.create(null),this._extensions=Object.create(null);for(var r=0;r<arguments.length;r++)this.define(arguments[r]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}t.prototype.define=function(r,s){for(var i in r){var u=r[i].map(function(c){return c.toLowerCase()});i=i.toLowerCase();for(var a=0;a<u.length;a++){var n=u[a];if(n[0]!=="*"){if(!s&&n in this._types)throw new Error('Attempt to change mapping for "'+n+'" extension from "'+this._types[n]+'" to "'+i+'". Pass `force=true` to allow this, otherwise remove "'+n+'" from the list of extensions for "'+i+'".');this._types[n]=i}}if(s||!this._extensions[i]){var l=u[0];this._extensions[i]=l[0]!=="*"?l:l.substr(1)}}},t.prototype.getType=function(r){r=String(r);var s=r.replace(/^.*[/\\]/,"").toLowerCase(),i=s.replace(/^.*\./,"").toLowerCase(),u=s.length<r.length,a=i.length<s.length-1;return(a||!u)&&this._types[i]||null},t.prototype.getExtension=function(r){return r=/^\s*([^;\s]*)/.test(r)&&RegExp.$1,r&&this._extensions[r.toLowerCase()]||null},o.exports=t},{"core-js/modules/es.array.map.js":318,"core-js/modules/es.regexp.constructor.js":337,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/es.string.replace.js":345}],430:[function(e,o,d){var t=e("./Mime");o.exports=new t(e("./types/standard"))},{"./Mime":429,"./types/standard":431}],431:[function(e,o,d){o.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}],432:[function(e,o,d){var t=1e3,r=t*60,s=r*60,i=s*24,u=i*7,a=i*365.25;o.exports=function(p,y){y=y||{};var m=typeof p;if(m==="string"&&p.length>0)return n(p);if(m==="number"&&isFinite(p))return y.long?c(p):l(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function n(p){if(p=String(p),!(p.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(y){var m=parseFloat(y[1]),g=(y[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return m*a;case"weeks":case"week":case"w":return m*u;case"days":case"day":case"d":return m*i;case"hours":case"hour":case"hrs":case"hr":case"h":return m*s;case"minutes":case"minute":case"mins":case"min":case"m":return m*r;case"seconds":case"second":case"secs":case"sec":case"s":return m*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function l(p){var y=Math.abs(p);return y>=i?Math.round(p/i)+"d":y>=s?Math.round(p/s)+"h":y>=r?Math.round(p/r)+"m":y>=t?Math.round(p/t)+"s":p+"ms"}function c(p){var y=Math.abs(p);return y>=i?f(p,y,i,"day"):y>=s?f(p,y,s,"hour"):y>=r?f(p,y,r,"minute"):y>=t?f(p,y,t,"second"):p+" ms"}function f(p,y,m,g){var h=y>=m*1.5;return Math.round(p/m)+" "+g+(h?"s":"")}},{}],433:[function(e,o,d){(function(t){(function(){var r=typeof Map=="function"&&Map.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&s&&typeof s.get=="function"?s.get:null,u=r&&Map.prototype.forEach,a=typeof Set=="function"&&Set.prototype,n=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=a&&n&&typeof n.get=="function"?n.get:null,c=a&&Set.prototype.forEach,f=typeof WeakMap=="function"&&WeakMap.prototype,p=f?WeakMap.prototype.has:null,y=typeof WeakSet=="function"&&WeakSet.prototype,m=y?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype,h=g?WeakRef.prototype.deref:null,_=Boolean.prototype.valueOf,j=Object.prototype.toString,T=Function.prototype.toString,S=String.prototype.match,b=String.prototype.slice,E=String.prototype.replace,O=String.prototype.toUpperCase,C=String.prototype.toLowerCase,k=RegExp.prototype.test,A=Array.prototype.concat,I=Array.prototype.join,D=Array.prototype.slice,F=Math.floor,Q=typeof BigInt=="function"?BigInt.prototype.valueOf:null,te=Object.getOwnPropertySymbols,$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ne=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Z||!0)?Symbol.toStringTag:null,ie=Object.prototype.propertyIsEnumerable,J=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(he){return he.__proto__}:null);function Y(he,be){if(he===1/0||he===-1/0||he!==he||he&&he>-1e3&&he<1e3||k.call(/e/,be))return be;var Le=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof he=="number"){var tt=he<0?-F(-he):F(he);if(tt!==he){var at=String(tt),Xe=b.call(be,at.length+1);return E.call(at,Le,"$&_")+"."+E.call(E.call(Xe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(be,Le,"$&_")}var K=e("./util.inspect"),X=K.custom,U=ce(X)?X:null;o.exports=function he(be,Le,tt,at){var Xe=Le||{};if(z(Xe,"quoteStyle")&&Xe.quoteStyle!=="single"&&Xe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(Xe,"maxStringLength")&&(typeof Xe.maxStringLength=="number"?Xe.maxStringLength<0&&Xe.maxStringLength!==1/0:Xe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gt=z(Xe,"customInspect")?Xe.customInspect:!0;if(typeof gt!="boolean"&&gt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(Xe,"indent")&&Xe.indent!==null&&Xe.indent!=="	"&&!(parseInt(Xe.indent,10)===Xe.indent&&Xe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(Xe,"numericSeparator")&&typeof Xe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _t=Xe.numericSeparator;if(typeof be=="undefined")return"undefined";if(be===null)return"null";if(typeof be=="boolean")return be?"true":"false";if(typeof be=="string")return Oe(be,Xe);if(typeof be=="number"){if(be===0)return 1/0/be>0?"0":"-0";var yt=String(be);return _t?Y(be,yt):yt}if(typeof be=="bigint"){var Lt=String(be)+"n";return _t?Y(be,Lt):Lt}var dr=typeof Xe.depth=="undefined"?5:Xe.depth;if(typeof tt=="undefined"&&(tt=0),tt>=dr&&dr>0&&typeof be=="object")return ae(be)?"[Array]":"[Object]";var Gt=He(Xe,tt);if(typeof at=="undefined")at=[];else if(q(at,be)>=0)return"[Circular]";function It(Wt,pr,mn){if(pr&&(at=D.call(at),at.push(pr)),mn){var $r={depth:Xe.depth};return z(Xe,"quoteStyle")&&($r.quoteStyle=Xe.quoteStyle),he(Wt,$r,tt+1,at)}return he(Wt,Xe,tt+1,at)}if(typeof be=="function"&&!G(be)){var Dr=V(be),Mr=Re(be,It);return"[Function"+(Dr?": "+Dr:" (anonymous)")+"]"+(Mr.length>0?" { "+I.call(Mr,", ")+" }":"")}if(ce(be)){var Nr=Z?E.call(String(be),/^(Symbol\(.*\))_[^)]*$/,"$1"):$.call(be);return typeof be=="object"&&!Z?Ee(Nr):Nr}if(je(be)){for(var Qt="<"+C.call(String(be.nodeName)),Sr=be.attributes||[],fr=0;fr<Sr.length;fr++)Qt+=" "+Sr[fr].name+"="+se(oe(Sr[fr].value),"double",Xe);return Qt+=">",be.childNodes&&be.childNodes.length&&(Qt+="..."),Qt+="</"+C.call(String(be.nodeName))+">",Qt}if(ae(be)){if(be.length===0)return"[]";var _r=Re(be,It);return Gt&&!Ke(_r)?"["+Be(_r,Gt)+"]":"[ "+I.call(_r,", ")+" ]"}if(R(be)){var Tr=Re(be,It);return!("cause"in Error.prototype)&&"cause"in be&&!ie.call(be,"cause")?"{ ["+String(be)+"] "+I.call(A.call("[cause]: "+It(be.cause),Tr),", ")+" }":Tr.length===0?"["+String(be)+"]":"{ ["+String(be)+"] "+I.call(Tr,", ")+" }"}if(typeof be=="object"&&gt){if(U&&typeof be[U]=="function"&&K)return K(be,{depth:dr-tt});if(gt!=="symbol"&&typeof be.inspect=="function")return be.inspect()}if(ue(be)){var Lr=[];return u&&u.call(be,function(Wt,pr){Lr.push(It(pr,be,!0)+" => "+It(Wt,be))}),Ye("Map",i.call(be),Lr,Gt)}if(_e(be)){var Br=[];return c&&c.call(be,function(Wt){Br.push(It(Wt,be))}),Ye("Set",l.call(be),Br,Gt)}if(fe(be))return Ne("WeakMap");if(Te(be))return Ne("WeakSet");if(ye(be))return Ne("WeakRef");if(M(be))return Ee(It(Number(be)));if(W(be))return Ee(It(Q.call(be)));if(le(be))return Ee(_.call(be));if(L(be))return Ee(It(String(be)));if(typeof window!="undefined"&&be===window)return"{ [object Window] }";if(be===t)return"{ [object globalThis] }";if(!de(be)&&!G(be)){var Er=Re(be,It),Ur=J?J(be)===Object.prototype:be instanceof Object||be.constructor===Object,jr=be instanceof Object?"":"null prototype",Fr=!Ur&&ne&&Object(be)===be&&ne in be?b.call(N(be),8,-1):jr?"Object":"",pn=Ur||typeof be.constructor!="function"?"":be.constructor.name?be.constructor.name+" ":"",Ar=pn+(Fr||jr?"["+I.call(A.call([],Fr||[],jr||[]),": ")+"] ":"");return Er.length===0?Ar+"{}":Gt?Ar+"{"+Be(Er,Gt)+"}":Ar+"{ "+I.call(Er,", ")+" }"}return String(be)};function se(he,be,Le){var tt=(Le.quoteStyle||be)==="double"?'"':"'";return tt+he+tt}function oe(he){return E.call(String(he),/"/g,"&quot;")}function ae(he){return N(he)==="[object Array]"&&(!ne||!(typeof he=="object"&&ne in he))}function de(he){return N(he)==="[object Date]"&&(!ne||!(typeof he=="object"&&ne in he))}function G(he){return N(he)==="[object RegExp]"&&(!ne||!(typeof he=="object"&&ne in he))}function R(he){return N(he)==="[object Error]"&&(!ne||!(typeof he=="object"&&ne in he))}function L(he){return N(he)==="[object String]"&&(!ne||!(typeof he=="object"&&ne in he))}function M(he){return N(he)==="[object Number]"&&(!ne||!(typeof he=="object"&&ne in he))}function le(he){return N(he)==="[object Boolean]"&&(!ne||!(typeof he=="object"&&ne in he))}function ce(he){if(Z)return he&&typeof he=="object"&&he instanceof Symbol;if(typeof he=="symbol")return!0;if(!he||typeof he!="object"||!$)return!1;try{return $.call(he),!0}catch(be){}return!1}function W(he){if(!he||typeof he!="object"||!Q)return!1;try{return Q.call(he),!0}catch(be){}return!1}var ee=Object.prototype.hasOwnProperty||function(he){return he in this};function z(he,be){return ee.call(he,be)}function N(he){return j.call(he)}function V(he){if(he.name)return he.name;var be=S.call(T.call(he),/^function\s*([\w$]+)/);return be?be[1]:null}function q(he,be){if(he.indexOf)return he.indexOf(be);for(var Le=0,tt=he.length;Le<tt;Le++)if(he[Le]===be)return Le;return-1}function ue(he){if(!i||!he||typeof he!="object")return!1;try{i.call(he);try{l.call(he)}catch(be){return!0}return he instanceof Map}catch(be){}return!1}function fe(he){if(!p||!he||typeof he!="object")return!1;try{p.call(he,p);try{m.call(he,m)}catch(be){return!0}return he instanceof WeakMap}catch(be){}return!1}function ye(he){if(!h||!he||typeof he!="object")return!1;try{return h.call(he),!0}catch(be){}return!1}function _e(he){if(!l||!he||typeof he!="object")return!1;try{l.call(he);try{i.call(he)}catch(be){return!0}return he instanceof Set}catch(be){}return!1}function Te(he){if(!m||!he||typeof he!="object")return!1;try{m.call(he,m);try{p.call(he,p)}catch(be){return!0}return he instanceof WeakSet}catch(be){}return!1}function je(he){return!he||typeof he!="object"?!1:typeof HTMLElement!="undefined"&&he instanceof HTMLElement?!0:typeof he.nodeName=="string"&&typeof he.getAttribute=="function"}function Oe(he,be){if(he.length>be.maxStringLength){var Le=he.length-be.maxStringLength,tt="... "+Le+" more character"+(Le>1?"s":"");return Oe(b.call(he,0,be.maxStringLength),be)+tt}var at=E.call(E.call(he,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ge);return se(at,"single",be)}function ge(he){var be=he.charCodeAt(0),Le={8:"b",9:"t",10:"n",12:"f",13:"r"}[be];return Le?"\\"+Le:"\\x"+(be<16?"0":"")+O.call(be.toString(16))}function Ee(he){return"Object("+he+")"}function Ne(he){return he+" { ? }"}function Ye(he,be,Le,tt){var at=tt?Be(Le,tt):I.call(Le,", ");return he+" ("+be+") {"+at+"}"}function Ke(he){for(var be=0;be<he.length;be++)if(q(he[be],`
`)>=0)return!1;return!0}function He(he,be){var Le;if(he.indent==="	")Le="	";else if(typeof he.indent=="number"&&he.indent>0)Le=I.call(Array(he.indent+1)," ");else return null;return{base:Le,prev:I.call(Array(be+1),Le)}}function Be(he,be){if(he.length===0)return"";var Le=`
`+be.prev+be.base;return Le+I.call(he,","+Le)+`
`+be.prev}function Re(he,be){var Le=ae(he),tt=[];if(Le){tt.length=he.length;for(var at=0;at<he.length;at++)tt[at]=z(he,at)?be(he[at],he):""}var Xe=typeof te=="function"?te(he):[],gt;if(Z){gt={};for(var _t=0;_t<Xe.length;_t++)gt["$"+Xe[_t]]=Xe[_t]}for(var yt in he)z(he,yt)&&(Le&&String(Number(yt))===yt&&yt<he.length||Z&&gt["$"+yt]instanceof Symbol||(k.call(/[^\w$]/,yt)?tt.push(be(yt,he)+": "+be(he[yt],he)):tt.push(yt+": "+be(he[yt],he))));if(typeof te=="function")for(var Lt=0;Lt<Xe.length;Lt++)ie.call(he,Xe[Lt])&&tt.push("["+be(Xe[Lt])+"]: "+be(he[Xe[Lt]],he));return tt}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./util.inspect":102}],434:[function(e,o,d){var t;if(!Object.keys){var r=Object.prototype.hasOwnProperty,s=Object.prototype.toString,i=e("./isArguments"),u=Object.prototype.propertyIsEnumerable,a=!u.call({toString:null},"toString"),n=u.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(m){var g=m.constructor;return g&&g.prototype===m},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window=="undefined")return!1;for(var m in window)try{if(!f["$"+m]&&r.call(window,m)&&window[m]!==null&&typeof window[m]=="object")try{c(window[m])}catch(g){return!0}}catch(g){return!0}return!1}(),y=function(m){if(typeof window=="undefined"||!p)return c(m);try{return c(m)}catch(g){return!1}};t=function(g){var h=g!==null&&typeof g=="object",_=s.call(g)==="[object Function]",j=i(g),T=h&&s.call(g)==="[object String]",S=[];if(!h&&!_&&!j)throw new TypeError("Object.keys called on a non-object");var b=n&&_;if(T&&g.length>0&&!r.call(g,0))for(var E=0;E<g.length;++E)S.push(String(E));if(j&&g.length>0)for(var O=0;O<g.length;++O)S.push(String(O));else for(var C in g)!(b&&C==="prototype")&&r.call(g,C)&&S.push(String(C));if(a)for(var k=y(g),A=0;A<l.length;++A)!(k&&l[A]==="constructor")&&r.call(g,l[A])&&S.push(l[A]);return S}}o.exports=t},{"./isArguments":436}],435:[function(e,o,d){var t=Array.prototype.slice,r=e("./isArguments"),s=Object.keys,i=s?function(n){return s(n)}:e("./implementation"),u=Object.keys;i.shim=function(){if(Object.keys){var n=function(){var l=Object.keys(arguments);return l&&l.length===arguments.length}(1,2);n||(Object.keys=function(c){return r(c)?u(t.call(c)):u(c)})}else Object.keys=i;return Object.keys||i},o.exports=i},{"./implementation":434,"./isArguments":436}],436:[function(e,o,d){var t=Object.prototype.toString;o.exports=function(s){var i=t.call(s),u=i==="[object Arguments]";return u||(u=i!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&t.call(s.callee)==="[object Function]"),u}},{}],437:[function(e,o,d){var t=e("object-keys"),r=e("has-symbols/shams")(),s=e("call-bind/callBound"),i=Object,u=s("Array.prototype.push"),a=s("Object.prototype.propertyIsEnumerable"),n=r?Object.getOwnPropertySymbols:null;o.exports=function(c,f){if(c==null)throw new TypeError("target must be an object");var p=i(c);if(arguments.length===1)return p;for(var y=1;y<arguments.length;++y){var m=i(arguments[y]),g=t(m),h=r&&(Object.getOwnPropertySymbols||n);if(h)for(var _=h(m),j=0;j<_.length;++j){var T=_[j];a(m,T)&&u(g,T)}for(var S=0;S<g.length;++S){var b=g[S];if(a(m,b)){var E=m[b];p[b]=E}}}return p}},{"call-bind/callBound":105,"has-symbols/shams":395,"object-keys":435}],438:[function(e,o,d){var t=e("./implementation"),r=function(){if(!Object.assign)return!1;for(var i="abcdefghijklmnopqrst",u=i.split(""),a={},n=0;n<u.length;++n)a[u[n]]=u[n];var l=Object.assign({},a),c="";for(var f in l)c+=f;return i!==c},s=function(){if(!Object.assign||!Object.preventExtensions)return!1;var i=Object.preventExtensions({1:2});try{Object.assign(i,"xy")}catch(u){return i[1]==="y"}return!1};o.exports=function(){return!Object.assign||r()||s()?t:Object.assign}},{"./implementation":437}],439:[function(e,o,d){(function(t){(function(){function r(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function s(a,n){for(var l="",c=0,f=-1,p=0,y,m=0;m<=a.length;++m){if(m<a.length)y=a.charCodeAt(m);else{if(y===47)break;y=47}if(y===47){if(!(f===m-1||p===1))if(f!==m-1&&p===2){if(l.length<2||c!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var g=l.lastIndexOf("/");if(g!==l.length-1){g===-1?(l="",c=0):(l=l.slice(0,g),c=l.length-1-l.lastIndexOf("/")),f=m,p=0;continue}}else if(l.length===2||l.length===1){l="",c=0,f=m,p=0;continue}}n&&(l.length>0?l+="/..":l="..",c=2)}else l.length>0?l+="/"+a.slice(f+1,m):l=a.slice(f+1,m),c=m-f-1;f=m,p=0}else y===46&&p!==-1?++p:p=-1}return l}function i(a,n){var l=n.dir||n.root,c=n.base||(n.name||"")+(n.ext||"");return l?l===n.root?l+c:l+a+c:c}var u={resolve:function(){for(var n="",l=!1,c,f=arguments.length-1;f>=-1&&!l;f--){var p;f>=0?p=arguments[f]:(c===void 0&&(c=t.cwd()),p=c),r(p),p.length!==0&&(n=p+"/"+n,l=p.charCodeAt(0)===47)}return n=s(n,!l),l?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(r(n),n.length===0)return".";var l=n.charCodeAt(0)===47,c=n.charCodeAt(n.length-1)===47;return n=s(n,!l),n.length===0&&!l&&(n="."),n.length>0&&c&&(n+="/"),l?"/"+n:n},isAbsolute:function(n){return r(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,l=0;l<arguments.length;++l){var c=arguments[l];r(c),c.length>0&&(n===void 0?n=c:n+="/"+c)}return n===void 0?".":u.normalize(n)},relative:function(n,l){if(r(n),r(l),n===l||(n=u.resolve(n),l=u.resolve(l),n===l))return"";for(var c=1;c<n.length&&n.charCodeAt(c)===47;++c);for(var f=n.length,p=f-c,y=1;y<l.length&&l.charCodeAt(y)===47;++y);for(var m=l.length,g=m-y,h=p<g?p:g,_=-1,j=0;j<=h;++j){if(j===h){if(g>h){if(l.charCodeAt(y+j)===47)return l.slice(y+j+1);if(j===0)return l.slice(y+j)}else p>h&&(n.charCodeAt(c+j)===47?_=j:j===0&&(_=0));break}var T=n.charCodeAt(c+j),S=l.charCodeAt(y+j);if(T!==S)break;T===47&&(_=j)}var b="";for(j=c+_+1;j<=f;++j)(j===f||n.charCodeAt(j)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+l.slice(y+_):(y+=_,l.charCodeAt(y)===47&&++y,l.slice(y))},_makeLong:function(n){return n},dirname:function(n){if(r(n),n.length===0)return".";for(var l=n.charCodeAt(0),c=l===47,f=-1,p=!0,y=n.length-1;y>=1;--y)if(l=n.charCodeAt(y),l===47){if(!p){f=y;break}}else p=!1;return f===-1?c?"/":".":c&&f===1?"//":n.slice(0,f)},basename:function(n,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');r(n);var c=0,f=-1,p=!0,y;if(l!==void 0&&l.length>0&&l.length<=n.length){if(l.length===n.length&&l===n)return"";var m=l.length-1,g=-1;for(y=n.length-1;y>=0;--y){var h=n.charCodeAt(y);if(h===47){if(!p){c=y+1;break}}else g===-1&&(p=!1,g=y+1),m>=0&&(h===l.charCodeAt(m)?--m===-1&&(f=y):(m=-1,f=g))}return c===f?f=g:f===-1&&(f=n.length),n.slice(c,f)}else{for(y=n.length-1;y>=0;--y)if(n.charCodeAt(y)===47){if(!p){c=y+1;break}}else f===-1&&(p=!1,f=y+1);return f===-1?"":n.slice(c,f)}},extname:function(n){r(n);for(var l=-1,c=0,f=-1,p=!0,y=0,m=n.length-1;m>=0;--m){var g=n.charCodeAt(m);if(g===47){if(!p){c=m+1;break}continue}f===-1&&(p=!1,f=m+1),g===46?l===-1?l=m:y!==1&&(y=1):l!==-1&&(y=-1)}return l===-1||f===-1||y===0||y===1&&l===f-1&&l===c+1?"":n.slice(l,f)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return i("/",n)},parse:function(n){r(n);var l={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return l;var c=n.charCodeAt(0),f=c===47,p;f?(l.root="/",p=1):p=0;for(var y=-1,m=0,g=-1,h=!0,_=n.length-1,j=0;_>=p;--_){if(c=n.charCodeAt(_),c===47){if(!h){m=_+1;break}continue}g===-1&&(h=!1,g=_+1),c===46?y===-1?y=_:j!==1&&(j=1):y!==-1&&(j=-1)}return y===-1||g===-1||j===0||j===1&&y===g-1&&y===m+1?g!==-1&&(m===0&&f?l.base=l.name=n.slice(1,g):l.base=l.name=n.slice(m,g)):(m===0&&f?(l.name=n.slice(1,y),l.base=n.slice(1,g)):(l.name=n.slice(m,y),l.base=n.slice(m,g)),l.ext=n.slice(y,g)),m>0?l.dir=n.slice(0,m-1):f&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};u.posix=u,o.exports=u}).call(this)}).call(this,e("_process"))},{_process:538}],440:[function(e,o,d){(function(t){(function(){(function(){var r={function:!0,object:!0},s=r[typeof window]&&window||this,i=r[typeof d]&&d,u=r[typeof o]&&o&&!o.nodeType&&o,a=i&&u&&typeof t=="object"&&t;a&&(a.global===a||a.window===a||a.self===a)&&(s=a);var n=Math.pow(2,53)-1,l=/\bOpera/,c=Object.prototype,f=c.hasOwnProperty,p=c.toString;function y(k){return k=String(k),k.charAt(0).toUpperCase()+k.slice(1)}function m(k,A,I){var D={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return A&&I&&/^Win/i.test(k)&&!/^Windows Phone /i.test(k)&&(D=D[/[\d.]+$/.exec(k)])&&(k="Windows "+D),k=String(k),A&&I&&(k=k.replace(RegExp(A,"i"),I)),k=h(k.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),k}function g(k,A){var I=-1,D=k?k.length:0;if(typeof D=="number"&&D>-1&&D<=n)for(;++I<D;)A(k[I],I,k);else _(k,A)}function h(k){return k=E(k),/^(?:webOS|i(?:OS|P))/.test(k)?k:y(k)}function _(k,A){for(var I in k)f.call(k,I)&&A(k[I],I,k)}function j(k){return k==null?y(k):p.call(k).slice(8,-1)}function T(k,A){var I=k!=null?typeof k[A]:"number";return!/^(?:boolean|number|string|undefined)$/.test(I)&&(I=="object"?!!k[A]:!0)}function S(k){return String(k).replace(/([ -])(?!$)/g,"$1?")}function b(k,A){var I=null;return g(k,function(D,F){I=A(I,D,F,k)}),I}function E(k){return String(k).replace(/^ +| +$/g,"")}function O(k){var A=s,I=k&&typeof k=="object"&&j(k)!="String";I&&(A=k,k=null);var D=A.navigator||{},F=D.userAgent||"";k||(k=F);var Q=I?!!D.likeChrome:/\bChrome\b/.test(k)&&!/internal|\n/i.test(p.toString()),te="Object",$=I?te:"ScriptBridgingProxyObject",Z=I?te:"Environment",ne=I&&A.java?"JavaPackage":j(A.java),ie=I?te:"RuntimeObject",J=/\bJava/.test(ne)&&A.java,Y=J&&j(A.environment)==Z,K=J?"a":"α",X=J?"b":"β",U=A.document||{},se=A.operamini||A.opera,oe=l.test(oe=I&&se?se["[[Class]]"]:j(se))?oe:se=null,ae,de=k,G=[],R=null,L=k==F,M=L&&se&&typeof se.version=="function"&&se.version(),le,ce=V([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),W=ue(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),ee=ye([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),z=q({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),N=fe(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function V(Oe){return b(Oe,function(ge,Ee){return ge||RegExp("\\b"+(Ee.pattern||S(Ee))+"\\b","i").exec(k)&&(Ee.label||Ee)})}function q(Oe){return b(Oe,function(ge,Ee,Ne){return ge||(Ee[ee]||Ee[/^[a-z]+(?: +[a-z]+\b)*/i.exec(ee)]||RegExp("\\b"+S(Ne)+"(?:\\b|\\w*\\d)","i").exec(k))&&Ne})}function ue(Oe){return b(Oe,function(ge,Ee){return ge||RegExp("\\b"+(Ee.pattern||S(Ee))+"\\b","i").exec(k)&&(Ee.label||Ee)})}function fe(Oe){return b(Oe,function(ge,Ee){var Ne=Ee.pattern||S(Ee);return!ge&&(ge=RegExp("\\b"+Ne+"(?:/[\\d.]+|[ \\w.]*)","i").exec(k))&&(ge=m(ge,Ne,Ee.label||Ee)),ge})}function ye(Oe){return b(Oe,function(ge,Ee){var Ne=Ee.pattern||S(Ee);return!ge&&(ge=RegExp("\\b"+Ne+" *\\d+[.\\w_]*","i").exec(k)||RegExp("\\b"+Ne+" *\\w+-[\\w]*","i").exec(k)||RegExp("\\b"+Ne+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(k))&&((ge=String(Ee.label&&!RegExp(Ne,"i").test(Ee.label)?Ee.label:ge).split("/"))[1]&&!/[\d.]+/.test(ge[0])&&(ge[0]+=" "+ge[1]),Ee=Ee.label||Ee,ge=h(ge[0].replace(RegExp(Ne,"i"),Ee).replace(RegExp("; *(?:"+Ee+"[_-])?","i")," ").replace(RegExp("("+Ee+")[-_.]?(\\w)","i"),"$1 $2"))),ge})}function _e(Oe){return b(Oe,function(ge,Ee){return ge||(RegExp(Ee+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(k)||0)[1]||null})}function Te(){return this.description||""}if(ce&&(ce=[ce]),/\bAndroid\b/.test(N)&&!ee&&(ae=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(k))&&(ee=E(ae[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),z&&!ee?ee=ye([z]):z&&ee&&(ee=ee.replace(RegExp("^("+S(z)+")[-_.\\s]","i"),z+" ").replace(RegExp("^("+S(z)+")[-_.]?(\\w)","i"),z+" $2")),(ae=/\bGoogle TV\b/.exec(ee))&&(ee=ae[0]),/\bSimulator\b/i.test(k)&&(ee=(ee?ee+" ":"")+"Simulator"),W=="Opera Mini"&&/\bOPiOS\b/.test(k)&&G.push("running in Turbo/Uncompressed mode"),W=="IE"&&/\blike iPhone OS\b/.test(k)?(ae=O(k.replace(/like iPhone OS/,"")),z=ae.manufacturer,ee=ae.product):/^iP/.test(ee)?(W||(W="Safari"),N="iOS"+((ae=/ OS ([\d_]+)/i.exec(k))?" "+ae[1].replace(/_/g,"."):"")):W=="Konqueror"&&/^Linux\b/i.test(N)?N="Kubuntu":z&&z!="Google"&&(/Chrome/.test(W)&&!/\bMobile Safari\b/i.test(k)||/\bVita\b/.test(ee))||/\bAndroid\b/.test(N)&&/^Chrome/.test(W)&&/\bVersion\//i.test(k)?(W="Android Browser",N=/\bAndroid\b/.test(N)?N:"Android"):W=="Silk"?(/\bMobi/i.test(k)||(N="Android",G.unshift("desktop mode")),/Accelerated *= *true/i.test(k)&&G.unshift("accelerated")):W=="UC Browser"&&/\bUCWEB\b/.test(k)?G.push("speed mode"):W=="PaleMoon"&&(ae=/\bFirefox\/([\d.]+)\b/.exec(k))?G.push("identifying as Firefox "+ae[1]):W=="Firefox"&&(ae=/\b(Mobile|Tablet|TV)\b/i.exec(k))?(N||(N="Firefox OS"),ee||(ee=ae[1])):!W||(ae=!/\bMinefield\b/i.test(k)&&/\b(?:Firefox|Safari)\b/.exec(W))?(W&&!ee&&/[\/,]|^[^(]+?\)/.test(k.slice(k.indexOf(ae+"/")+8))&&(W=null),(ae=ee||z||N)&&(ee||z||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(N))&&(W=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(N)?N:ae)+" Browser")):W=="Electron"&&(ae=(/\bChrome\/([\d.]+)\b/.exec(k)||0)[1])&&G.push("Chromium "+ae),M||(M=_e(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",S(W),"(?:Firefox|Minefield|NetFront)"])),(ae=ce=="iCab"&&parseFloat(M)>3&&"WebKit"||/\bOpera\b/.test(W)&&(/\bOPR\b/.test(k)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(k)&&!/^(?:Trident|EdgeHTML)$/.test(ce)&&"WebKit"||!ce&&/\bMSIE\b/i.test(k)&&(N=="Mac OS"?"Tasman":"Trident")||ce=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(W)&&"NetFront")&&(ce=[ae]),W=="IE"&&(ae=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(k)||0)[1])?(W+=" Mobile",N="Windows Phone "+(/\+$/.test(ae)?ae:ae+".x"),G.unshift("desktop mode")):/\bWPDesktop\b/i.test(k)?(W="IE Mobile",N="Windows Phone 8.x",G.unshift("desktop mode"),M||(M=(/\brv:([\d.]+)/.exec(k)||0)[1])):W!="IE"&&ce=="Trident"&&(ae=/\brv:([\d.]+)/.exec(k))&&(W&&G.push("identifying as "+W+(M?" "+M:"")),W="IE",M=ae[1]),L){if(T(A,"global"))if(J&&(ae=J.lang.System,de=ae.getProperty("os.arch"),N=N||ae.getProperty("os.name")+" "+ae.getProperty("os.version")),Y){try{M=A.require("ringo/engine").version.join("."),W="RingoJS"}catch(Oe){(ae=A.system)&&ae.global.system==A.system&&(W="Narwhal",N||(N=ae[0].os||null))}W||(W="Rhino")}else typeof A.process=="object"&&!A.process.browser&&(ae=A.process)&&(typeof ae.versions=="object"&&(typeof ae.versions.electron=="string"?(G.push("Node "+ae.versions.node),W="Electron",M=ae.versions.electron):typeof ae.versions.nw=="string"&&(G.push("Chromium "+M,"Node "+ae.versions.node),W="NW.js",M=ae.versions.nw)),W||(W="Node.js",de=ae.arch,N=ae.platform,M=/[\d.]+/.exec(ae.version),M=M?M[0]:null));else j(ae=A.runtime)==$?(W="Adobe AIR",N=ae.flash.system.Capabilities.os):j(ae=A.phantom)==ie?(W="PhantomJS",M=(ae=ae.version||null)&&ae.major+"."+ae.minor+"."+ae.patch):typeof U.documentMode=="number"&&(ae=/\bTrident\/(\d+)/i.exec(k))?(M=[M,U.documentMode],(ae=+ae[1]+4)!=M[1]&&(G.push("IE "+M[1]+" mode"),ce&&(ce[1]=""),M[1]=ae),M=W=="IE"?String(M[1].toFixed(1)):M[0]):typeof U.documentMode=="number"&&/^(?:Chrome|Firefox)\b/.test(W)&&(G.push("masking as "+W+" "+M),W="IE",M="11.0",ce=["Trident"],N="Windows");N=N&&h(N)}if(M&&(ae=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(k+";"+(L&&D.appMinorVersion))||/\bMinefield\b/i.test(k)&&"a")&&(R=/b/i.test(ae)?"beta":"alpha",M=M.replace(RegExp(ae+"\\+?$"),"")+(R=="beta"?X:K)+(/\d+\+?/.exec(ae)||"")),W=="Fennec"||W=="Firefox"&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(N))W="Firefox Mobile";else if(W=="Maxthon"&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(ee))ee=="Xbox 360"&&(N=null),ee=="Xbox 360"&&/\bIEMobile\b/.test(k)&&G.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(W)||W&&!ee&&!/Browser|Mobi/.test(W))&&(N=="Windows CE"||/Mobi/i.test(k)))W+=" Mobile";else if(W=="IE"&&L)try{A.external===null&&G.unshift("platform preview")}catch(Oe){G.unshift("embedded")}else(/\bBlackBerry\b/.test(ee)||/\bBB10\b/.test(k))&&(ae=(RegExp(ee.replace(/ +/g," *")+"/([.\\d]+)","i").exec(k)||0)[1]||M)?(ae=[ae,/BB10/.test(k)],N=(ae[1]?(ee=null,z="BlackBerry"):"Device Software")+" "+ae[0],M=null):this!=_&&ee!="Wii"&&(L&&se||/Opera/.test(W)&&/\b(?:MSIE|Firefox)\b/i.test(k)||W=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(N)||W=="IE"&&(N&&!/^Win/.test(N)&&M>5.5||/\bWindows XP\b/.test(N)&&M>8||M==8&&!/\bTrident\b/.test(k)))&&!l.test(ae=O.call(_,k.replace(l,"")+";"))&&ae.name&&(ae="ing as "+ae.name+((ae=ae.version)?" "+ae:""),l.test(W)?(/\bIE\b/.test(ae)&&N=="Mac OS"&&(N=null),ae="identify"+ae):(ae="mask"+ae,oe?W=h(oe.replace(/([a-z])([A-Z])/g,"$1 $2")):W="Opera",/\bIE\b/.test(ae)&&(N=null),L||(M=null)),ce=["Presto"],G.push(ae));(ae=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(k)||0)[1])&&(ae=[parseFloat(ae.replace(/\.(\d)$/,".0$1")),ae],W=="Safari"&&ae[1].slice(-1)=="+"?(W="WebKit Nightly",R="alpha",M=ae[1].slice(0,-1)):(M==ae[1]||M==(ae[2]=(/\bSafari\/([\d.]+\+?)/i.exec(k)||0)[1]))&&(M=null),ae[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(k)||0)[1],ae[0]==537.36&&ae[2]==537.36&&parseFloat(ae[1])>=28&&ce=="WebKit"&&(ce=["Blink"]),!L||!Q&&!ae[1]?(ce&&(ce[1]="like Safari"),ae=(ae=ae[0],ae<400?1:ae<500?2:ae<526?3:ae<533?4:ae<534?"4+":ae<535?5:ae<537?6:ae<538?7:ae<601?8:ae<602?9:ae<604?10:ae<606?11:ae<608?12:"12")):(ce&&(ce[1]="like Chrome"),ae=ae[1]||(ae=ae[0],ae<530?1:ae<532?2:ae<532.05?3:ae<533?4:ae<534.03?5:ae<534.07?6:ae<534.1?7:ae<534.13?8:ae<534.16?9:ae<534.24?10:ae<534.3?11:ae<535.01?12:ae<535.02?"13+":ae<535.07?15:ae<535.11?16:ae<535.19?17:ae<536.05?18:ae<536.1?19:ae<537.01?20:ae<537.11?"21+":ae<537.13?23:ae<537.18?24:ae<537.24?25:ae<537.36?26:ce!="Blink"?"27":"28")),ce&&(ce[1]+=" "+(ae+=typeof ae=="number"?".x":/[.+]/.test(ae)?"":"+")),W=="Safari"&&(!M||parseInt(M)>45)?M=ae:W=="Chrome"&&/\bHeadlessChrome/i.test(k)&&G.unshift("headless")),W=="Opera"&&(ae=/\bzbov|zvav$/.exec(N))?(W+=" ",G.unshift("desktop mode"),ae=="zvav"?(W+="Mini",M=null):W+="Mobile",N=N.replace(RegExp(" *"+ae+"$"),"")):W=="Safari"&&/\bChrome\b/.exec(ce&&ce[1])?(G.unshift("desktop mode"),W="Chrome Mobile",M=null,/\bOS X\b/.test(N)?(z="Apple",N="iOS 4.3+"):N=null):/\bSRWare Iron\b/.test(W)&&!M&&(M=_e("Chrome")),M&&M.indexOf(ae=/[\d.]+$/.exec(N))==0&&k.indexOf("/"+ae+"-")>-1&&(N=E(N.replace(ae,""))),N&&N.indexOf(W)!=-1&&!RegExp(W+" OS").test(N)&&(N=N.replace(RegExp(" *"+S(W)+" *"),"")),ce&&!/\b(?:Avant|Nook)\b/.test(W)&&(/Browser|Lunascape|Maxthon/.test(W)||W!="Safari"&&/^iOS/.test(N)&&/\bSafari\b/.test(ce[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(W)&&ce[1])&&(ae=ce[ce.length-1])&&G.push(ae),G.length&&(G=["("+G.join("; ")+")"]),z&&ee&&ee.indexOf(z)<0&&G.push("on "+z),ee&&G.push((/^on /.test(G[G.length-1])?"":"on ")+ee),N&&(ae=/ ([\d.+]+)$/.exec(N),le=ae&&N.charAt(N.length-ae[0].length-1)=="/",N={architecture:32,family:ae&&!le?N.replace(ae[0],""):N,version:ae?ae[1]:null,toString:function(){var Oe=this.version;return this.family+(Oe&&!le?" "+Oe:"")+(this.architecture==64?" 64-bit":"")}}),(ae=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(de))&&!/\bi686\b/i.test(de)?(N&&(N.architecture=64,N.family=N.family.replace(RegExp(" *"+ae),"")),W&&(/\bWOW64\b/i.test(k)||L&&/\w(?:86|32)$/.test(D.cpuClass||D.platform)&&!/\bWin64; x64\b/i.test(k))&&G.unshift("32-bit")):N&&/^OS X/.test(N.family)&&W=="Chrome"&&parseFloat(M)>=39&&(N.architecture=64),k||(k=null);var je={};return je.description=k,je.layout=ce&&ce[0],je.manufacturer=z,je.name=W,je.prerelease=R,je.product=ee,je.ua=k,je.version=W&&M,je.os=N||{architecture:null,family:null,version:null,toString:function(){return"null"}},je.parse=O,je.toString=Te,je.version&&G.unshift(M),je.name&&G.unshift(W),N&&W&&!(N==String(N).split(" ")[0]&&(N==W.split(" ")[0]||ee))&&G.push(ee?"("+N+")":"on "+N),G.length&&(je.description=G.join(" ")),je}var C=O();i&&u?_(C,function(k,A){i[A]=k}):s.platform=C}).call(this)}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],441:[function(e,o,d){(function(t){(function(){typeof t=="undefined"||!t.version||t.version.indexOf("v0.")===0||t.version.indexOf("v1.")===0&&t.version.indexOf("v1.8.")!==0?o.exports={nextTick:r}:o.exports=t;function r(s,i,u,a){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,l,c;switch(n){case 0:case 1:return t.nextTick(s);case 2:return t.nextTick(function(){s.call(null,i)});case 3:return t.nextTick(function(){s.call(null,i,u)});case 4:return t.nextTick(function(){s.call(null,i,u,a)});default:for(l=new Array(n-1),c=0;c<l.length;)l[c++]=arguments[c];return t.nextTick(function(){s.apply(null,l)})}}}).call(this)}).call(this,e("_process"))},{_process:538}],442:[function(e,o,d){var t=o.exports={},r,s;function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=i}catch(_){r=i}try{typeof clearTimeout=="function"?s=clearTimeout:s=u}catch(_){s=u}})();function a(_){if(r===setTimeout)return setTimeout(_,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(_,0);try{return r(_,0)}catch(j){try{return r.call(null,_,0)}catch(T){return r.call(this,_,0)}}}function n(_){if(s===clearTimeout)return clearTimeout(_);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(_);try{return s(_)}catch(j){try{return s.call(null,_)}catch(T){return s.call(this,_)}}}var l=[],c=!1,f,p=-1;function y(){!c||!f||(c=!1,f.length?l=f.concat(l):p=-1,l.length&&m())}function m(){if(!c){var _=a(y);c=!0;for(var j=l.length;j;){for(f=l,l=[];++p<j;)f&&f[p].run();p=-1,j=l.length}f=null,c=!1,n(_)}}t.nextTick=function(_){var j=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)j[T-1]=arguments[T];l.push(new g(_,j)),l.length===1&&!c&&a(m)};function g(_,j){this.fun=_,this.array=j}g.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function h(){}t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(_){return[]},t.binding=function(_){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(_){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],443:[function(e,o,d){(function(t){(function(){(function(r){var s=typeof d=="object"&&d&&!d.nodeType&&d,i=typeof o=="object"&&o&&!o.nodeType&&o,u=typeof t=="object"&&t;(u.global===u||u.window===u||u.self===u)&&(r=u);var a,n=2147483647,l=36,c=1,f=26,p=38,y=700,m=72,g=128,h="-",_=/^xn--/,j=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=l-c,E=Math.floor,O=String.fromCharCode,C;function k(Y){throw new RangeError(S[Y])}function A(Y,K){for(var X=Y.length,U=[];X--;)U[X]=K(Y[X]);return U}function I(Y,K){var X=Y.split("@"),U="";X.length>1&&(U=X[0]+"@",Y=X[1]),Y=Y.replace(T,".");var se=Y.split("."),oe=A(se,K).join(".");return U+oe}function D(Y){for(var K=[],X=0,U=Y.length,se,oe;X<U;)se=Y.charCodeAt(X++),se>=55296&&se<=56319&&X<U?(oe=Y.charCodeAt(X++),(oe&64512)==56320?K.push(((se&1023)<<10)+(oe&1023)+65536):(K.push(se),X--)):K.push(se);return K}function F(Y){return A(Y,function(K){var X="";return K>65535&&(K-=65536,X+=O(K>>>10&1023|55296),K=56320|K&1023),X+=O(K),X}).join("")}function Q(Y){return Y-48<10?Y-22:Y-65<26?Y-65:Y-97<26?Y-97:l}function te(Y,K){return Y+22+75*(Y<26)-((K!=0)<<5)}function $(Y,K,X){var U=0;for(Y=X?E(Y/y):Y>>1,Y+=E(Y/K);Y>b*f>>1;U+=l)Y=E(Y/b);return E(U+(b+1)*Y/(Y+p))}function Z(Y){var K=[],X=Y.length,U,se=0,oe=g,ae=m,de,G,R,L,M,le,ce,W,ee;for(de=Y.lastIndexOf(h),de<0&&(de=0),G=0;G<de;++G)Y.charCodeAt(G)>=128&&k("not-basic"),K.push(Y.charCodeAt(G));for(R=de>0?de+1:0;R<X;){for(L=se,M=1,le=l;R>=X&&k("invalid-input"),ce=Q(Y.charCodeAt(R++)),(ce>=l||ce>E((n-se)/M))&&k("overflow"),se+=ce*M,W=le<=ae?c:le>=ae+f?f:le-ae,!(ce<W);le+=l)ee=l-W,M>E(n/ee)&&k("overflow"),M*=ee;U=K.length+1,ae=$(se-L,U,L==0),E(se/U)>n-oe&&k("overflow"),oe+=E(se/U),se%=U,K.splice(se++,0,oe)}return F(K)}function ne(Y){var K,X,U,se,oe,ae,de,G,R,L,M,le=[],ce,W,ee,z;for(Y=D(Y),ce=Y.length,K=g,X=0,oe=m,ae=0;ae<ce;++ae)M=Y[ae],M<128&&le.push(O(M));for(U=se=le.length,se&&le.push(h);U<ce;){for(de=n,ae=0;ae<ce;++ae)M=Y[ae],M>=K&&M<de&&(de=M);for(W=U+1,de-K>E((n-X)/W)&&k("overflow"),X+=(de-K)*W,K=de,ae=0;ae<ce;++ae)if(M=Y[ae],M<K&&++X>n&&k("overflow"),M==K){for(G=X,R=l;L=R<=oe?c:R>=oe+f?f:R-oe,!(G<L);R+=l)z=G-L,ee=l-L,le.push(O(te(L+z%ee,0))),G=E(z/ee);le.push(O(te(G,0))),oe=$(X,W,U==se),X=0,++U}++X,++K}return le.join("")}function ie(Y){return I(Y,function(K){return _.test(K)?Z(K.slice(4).toLowerCase()):K})}function J(Y){return I(Y,function(K){return j.test(K)?"xn--"+ne(K):K})}if(a={version:"1.4.1",ucs2:{decode:D,encode:F},decode:Z,encode:ne,toASCII:J,toUnicode:ie},s&&i)if(o.exports==s)i.exports=a;else for(C in a)a.hasOwnProperty(C)&&(s[C]=a[C]);else r.punycode=a})(this)}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],444:[function(e,o,d){var t=String.prototype.replace,r=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};o.exports={default:s.RFC3986,formatters:{RFC1738:function(i){return t.call(i,r,"+")},RFC3986:function(i){return String(i)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986}},{}],445:[function(e,o,d){var t=e("./stringify"),r=e("./parse"),s=e("./formats");o.exports={formats:s,parse:r,stringify:t}},{"./formats":444,"./parse":446,"./stringify":447}],446:[function(e,o,d){var t=e("./utils"),r=Object.prototype.hasOwnProperty,s=Array.isArray,i={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},u=function(m){return m.replace(/&#(\d+);/g,function(g,h){return String.fromCharCode(parseInt(h,10))})},a=function(m,g){return m&&typeof m=="string"&&g.comma&&m.indexOf(",")>-1?m.split(","):m},n="utf8=%26%2310003%3B",l="utf8=%E2%9C%93",c=function(g,h){var _={__proto__:null},j=h.ignoreQueryPrefix?g.replace(/^\?/,""):g,T=h.parameterLimit===1/0?void 0:h.parameterLimit,S=j.split(h.delimiter,T),b=-1,E,O=h.charset;if(h.charsetSentinel)for(E=0;E<S.length;++E)S[E].indexOf("utf8=")===0&&(S[E]===l?O="utf-8":S[E]===n&&(O="iso-8859-1"),b=E,E=S.length);for(E=0;E<S.length;++E)if(E!==b){var C=S[E],k=C.indexOf("]="),A=k===-1?C.indexOf("="):k+1,I,D;A===-1?(I=h.decoder(C,i.decoder,O,"key"),D=h.strictNullHandling?null:""):(I=h.decoder(C.slice(0,A),i.decoder,O,"key"),D=t.maybeMap(a(C.slice(A+1),h),function(F){return h.decoder(F,i.decoder,O,"value")})),D&&h.interpretNumericEntities&&O==="iso-8859-1"&&(D=u(D)),C.indexOf("[]=")>-1&&(D=s(D)?[D]:D),r.call(_,I)?_[I]=t.combine(_[I],D):_[I]=D}return _},f=function(m,g,h,_){for(var j=_?g:a(g,h),T=m.length-1;T>=0;--T){var S,b=m[T];if(b==="[]"&&h.parseArrays)S=[].concat(j);else{S=h.plainObjects?Object.create(null):{};var E=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,O=parseInt(E,10);!h.parseArrays&&E===""?S={0:j}:!isNaN(O)&&b!==E&&String(O)===E&&O>=0&&h.parseArrays&&O<=h.arrayLimit?(S=[],S[O]=j):E!=="__proto__"&&(S[E]=j)}j=S}return j},p=function(g,h,_,j){if(g){var T=_.allowDots?g.replace(/\.([^.[]+)/g,"[$1]"):g,S=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,E=_.depth>0&&S.exec(T),O=E?T.slice(0,E.index):T,C=[];if(O){if(!_.plainObjects&&r.call(Object.prototype,O)&&!_.allowPrototypes)return;C.push(O)}for(var k=0;_.depth>0&&(E=b.exec(T))!==null&&k<_.depth;){if(k+=1,!_.plainObjects&&r.call(Object.prototype,E[1].slice(1,-1))&&!_.allowPrototypes)return;C.push(E[1])}return E&&C.push("["+T.slice(E.index)+"]"),f(C,h,_,j)}},y=function(g){if(!g)return i;if(g.decoder!==null&&g.decoder!==void 0&&typeof g.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof g.charset!="undefined"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=typeof g.charset=="undefined"?i.charset:g.charset;return{allowDots:typeof g.allowDots=="undefined"?i.allowDots:!!g.allowDots,allowPrototypes:typeof g.allowPrototypes=="boolean"?g.allowPrototypes:i.allowPrototypes,allowSparse:typeof g.allowSparse=="boolean"?g.allowSparse:i.allowSparse,arrayLimit:typeof g.arrayLimit=="number"?g.arrayLimit:i.arrayLimit,charset:h,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:i.charsetSentinel,comma:typeof g.comma=="boolean"?g.comma:i.comma,decoder:typeof g.decoder=="function"?g.decoder:i.decoder,delimiter:typeof g.delimiter=="string"||t.isRegExp(g.delimiter)?g.delimiter:i.delimiter,depth:typeof g.depth=="number"||g.depth===!1?+g.depth:i.depth,ignoreQueryPrefix:g.ignoreQueryPrefix===!0,interpretNumericEntities:typeof g.interpretNumericEntities=="boolean"?g.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof g.parameterLimit=="number"?g.parameterLimit:i.parameterLimit,parseArrays:g.parseArrays!==!1,plainObjects:typeof g.plainObjects=="boolean"?g.plainObjects:i.plainObjects,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:i.strictNullHandling}};o.exports=function(m,g){var h=y(g);if(m===""||m===null||typeof m=="undefined")return h.plainObjects?Object.create(null):{};for(var _=typeof m=="string"?c(m,h):m,j=h.plainObjects?Object.create(null):{},T=Object.keys(_),S=0;S<T.length;++S){var b=T[S],E=p(b,_[b],h,typeof m=="string");j=t.merge(j,E,h)}return h.allowSparse===!0?j:t.compact(j)}},{"./utils":448}],447:[function(e,o,d){var t=e("side-channel"),r=e("./utils"),s=e("./formats"),i=Object.prototype.hasOwnProperty,u={brackets:function(j){return j+"[]"},comma:"comma",indices:function(j,T){return j+"["+T+"]"},repeat:function(j){return j}},a=Array.isArray,n=Array.prototype.push,l=function(_,j){n.apply(_,a(j)?j:[j])},c=Date.prototype.toISOString,f=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:f,formatter:s.formatters[f],indices:!1,serializeDate:function(j){return c.call(j)},skipNulls:!1,strictNullHandling:!1},y=function(j){return typeof j=="string"||typeof j=="number"||typeof j=="boolean"||typeof j=="symbol"||typeof j=="bigint"},m={},g=function _(j,T,S,b,E,O,C,k,A,I,D,F,Q,te,$,Z){for(var ne=j,ie=Z,J=0,Y=!1;(ie=ie.get(m))!==void 0&&!Y;){var K=ie.get(j);if(J+=1,typeof K!="undefined"){if(K===J)throw new RangeError("Cyclic object value");Y=!0}typeof ie.get(m)=="undefined"&&(J=0)}if(typeof k=="function"?ne=k(T,ne):ne instanceof Date?ne=D(ne):S==="comma"&&a(ne)&&(ne=r.maybeMap(ne,function(le){return le instanceof Date?D(le):le})),ne===null){if(E)return C&&!te?C(T,p.encoder,$,"key",F):T;ne=""}if(y(ne)||r.isBuffer(ne)){if(C){var X=te?T:C(T,p.encoder,$,"key",F);return[Q(X)+"="+Q(C(ne,p.encoder,$,"value",F))]}return[Q(T)+"="+Q(String(ne))]}var U=[];if(typeof ne=="undefined")return U;var se;if(S==="comma"&&a(ne))te&&C&&(ne=r.maybeMap(ne,C)),se=[{value:ne.length>0?ne.join(",")||null:void 0}];else if(a(k))se=k;else{var oe=Object.keys(ne);se=A?oe.sort(A):oe}for(var ae=b&&a(ne)&&ne.length===1?T+"[]":T,de=0;de<se.length;++de){var G=se[de],R=typeof G=="object"&&typeof G.value!="undefined"?G.value:ne[G];if(!(O&&R===null)){var L=a(ne)?typeof S=="function"?S(ae,G):ae:ae+(I?"."+G:"["+G+"]");Z.set(j,J);var M=t();M.set(m,Z),l(U,_(R,L,S,b,E,O,S==="comma"&&te&&a(ne)?null:C,k,A,I,D,F,Q,te,$,M))}}return U},h=function(j){if(!j)return p;if(j.encoder!==null&&typeof j.encoder!="undefined"&&typeof j.encoder!="function")throw new TypeError("Encoder has to be a function.");var T=j.charset||p.charset;if(typeof j.charset!="undefined"&&j.charset!=="utf-8"&&j.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var S=s.default;if(typeof j.format!="undefined"){if(!i.call(s.formatters,j.format))throw new TypeError("Unknown format option provided.");S=j.format}var b=s.formatters[S],E=p.filter;return(typeof j.filter=="function"||a(j.filter))&&(E=j.filter),{addQueryPrefix:typeof j.addQueryPrefix=="boolean"?j.addQueryPrefix:p.addQueryPrefix,allowDots:typeof j.allowDots=="undefined"?p.allowDots:!!j.allowDots,charset:T,charsetSentinel:typeof j.charsetSentinel=="boolean"?j.charsetSentinel:p.charsetSentinel,delimiter:typeof j.delimiter=="undefined"?p.delimiter:j.delimiter,encode:typeof j.encode=="boolean"?j.encode:p.encode,encoder:typeof j.encoder=="function"?j.encoder:p.encoder,encodeValuesOnly:typeof j.encodeValuesOnly=="boolean"?j.encodeValuesOnly:p.encodeValuesOnly,filter:E,format:S,formatter:b,serializeDate:typeof j.serializeDate=="function"?j.serializeDate:p.serializeDate,skipNulls:typeof j.skipNulls=="boolean"?j.skipNulls:p.skipNulls,sort:typeof j.sort=="function"?j.sort:null,strictNullHandling:typeof j.strictNullHandling=="boolean"?j.strictNullHandling:p.strictNullHandling}};o.exports=function(_,j){var T=_,S=h(j),b,E;typeof S.filter=="function"?(E=S.filter,T=E("",T)):a(S.filter)&&(E=S.filter,b=E);var O=[];if(typeof T!="object"||T===null)return"";var C;j&&j.arrayFormat in u?C=j.arrayFormat:j&&"indices"in j?C=j.indices?"indices":"repeat":C="indices";var k=u[C];if(j&&"commaRoundTrip"in j&&typeof j.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var A=k==="comma"&&j&&j.commaRoundTrip;b||(b=Object.keys(T)),S.sort&&b.sort(S.sort);for(var I=t(),D=0;D<b.length;++D){var F=b[D];S.skipNulls&&T[F]===null||l(O,g(T[F],F,k,A,S.strictNullHandling,S.skipNulls,S.encode?S.encoder:null,S.filter,S.sort,S.allowDots,S.serializeDate,S.format,S.formatter,S.encodeValuesOnly,S.charset,I))}var Q=O.join(S.delimiter),te=S.addQueryPrefix===!0?"?":"";return S.charsetSentinel&&(S.charset==="iso-8859-1"?te+="utf8=%26%2310003%3B&":te+="utf8=%E2%9C%93&"),Q.length>0?te+Q:""}},{"./formats":444,"./utils":448,"side-channel":467}],448:[function(e,o,d){var t=e("./formats"),r=Object.prototype.hasOwnProperty,s=Array.isArray,i=function(){for(var _=[],j=0;j<256;++j)_.push("%"+((j<16?"0":"")+j.toString(16)).toUpperCase());return _}(),u=function(j){for(;j.length>1;){var T=j.pop(),S=T.obj[T.prop];if(s(S)){for(var b=[],E=0;E<S.length;++E)typeof S[E]!="undefined"&&b.push(S[E]);T.obj[T.prop]=b}}},a=function(j,T){for(var S=T&&T.plainObjects?Object.create(null):{},b=0;b<j.length;++b)typeof j[b]!="undefined"&&(S[b]=j[b]);return S},n=function _(j,T,S){if(!T)return j;if(typeof T!="object"){if(s(j))j.push(T);else if(j&&typeof j=="object")(S&&(S.plainObjects||S.allowPrototypes)||!r.call(Object.prototype,T))&&(j[T]=!0);else return[j,T];return j}if(!j||typeof j!="object")return[j].concat(T);var b=j;return s(j)&&!s(T)&&(b=a(j,S)),s(j)&&s(T)?(T.forEach(function(E,O){if(r.call(j,O)){var C=j[O];C&&typeof C=="object"&&E&&typeof E=="object"?j[O]=_(C,E,S):j.push(E)}else j[O]=E}),j):Object.keys(T).reduce(function(E,O){var C=T[O];return r.call(E,O)?E[O]=_(E[O],C,S):E[O]=C,E},b)},l=function(j,T){return Object.keys(T).reduce(function(S,b){return S[b]=T[b],S},j)},c=function(_,j,T){var S=_.replace(/\+/g," ");if(T==="iso-8859-1")return S.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(S)}catch(b){return S}},f=function(j,T,S,b,E){if(j.length===0)return j;var O=j;if(typeof j=="symbol"?O=Symbol.prototype.toString.call(j):typeof j!="string"&&(O=String(j)),S==="iso-8859-1")return escape(O).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var C="",k=0;k<O.length;++k){var A=O.charCodeAt(k);if(A===45||A===46||A===95||A===126||A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122||E===t.RFC1738&&(A===40||A===41)){C+=O.charAt(k);continue}if(A<128){C=C+i[A];continue}if(A<2048){C=C+(i[192|A>>6]+i[128|A&63]);continue}if(A<55296||A>=57344){C=C+(i[224|A>>12]+i[128|A>>6&63]+i[128|A&63]);continue}k+=1,A=65536+((A&1023)<<10|O.charCodeAt(k)&1023),C+=i[240|A>>18]+i[128|A>>12&63]+i[128|A>>6&63]+i[128|A&63]}return C},p=function(j){for(var T=[{obj:{o:j},prop:"o"}],S=[],b=0;b<T.length;++b)for(var E=T[b],O=E.obj[E.prop],C=Object.keys(O),k=0;k<C.length;++k){var A=C[k],I=O[A];typeof I=="object"&&I!==null&&S.indexOf(I)===-1&&(T.push({obj:O,prop:A}),S.push(I))}return u(T),j},y=function(j){return Object.prototype.toString.call(j)==="[object RegExp]"},m=function(j){return!j||typeof j!="object"?!1:!!(j.constructor&&j.constructor.isBuffer&&j.constructor.isBuffer(j))},g=function(j,T){return[].concat(j,T)},h=function(j,T){if(s(j)){for(var S=[],b=0;b<j.length;b+=1)S.push(T(j[b]));return S}return T(j)};o.exports={arrayToObject:a,assign:l,combine:g,compact:p,decode:c,encode:f,isBuffer:m,isRegExp:y,maybeMap:h,merge:n}},{"./formats":444}],449:[function(e,o,d){function t(s,i){return Object.prototype.hasOwnProperty.call(s,i)}o.exports=function(s,i,u,a){i=i||"&",u=u||"=";var n={};if(typeof s!="string"||s.length===0)return n;var l=/\+/g;s=s.split(i);var c=1e3;a&&typeof a.maxKeys=="number"&&(c=a.maxKeys);var f=s.length;c>0&&f>c&&(f=c);for(var p=0;p<f;++p){var y=s[p].replace(l,"%20"),m=y.indexOf(u),g,h,_,j;m>=0?(g=y.substr(0,m),h=y.substr(m+1)):(g=y,h=""),_=decodeURIComponent(g),j=decodeURIComponent(h),t(n,_)?r(n[_])?n[_].push(j):n[_]=[n[_],j]:n[_]=j}return n};var r=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},{}],450:[function(e,o,d){var t=function(u){switch(typeof u){case"string":return u;case"boolean":return u?"true":"false";case"number":return isFinite(u)?u:"";default:return""}};o.exports=function(u,a,n,l){return a=a||"&",n=n||"=",u===null&&(u=void 0),typeof u=="object"?s(i(u),function(c){var f=encodeURIComponent(t(c))+n;return r(u[c])?s(u[c],function(p){return f+encodeURIComponent(t(p))}).join(a):f+encodeURIComponent(t(u[c]))}).join(a):l?encodeURIComponent(t(l))+n+encodeURIComponent(t(u)):""};var r=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"};function s(u,a){if(u.map)return u.map(a);for(var n=[],l=0;l<u.length;l++)n.push(a(u[l],l));return n}var i=Object.keys||function(u){var a=[];for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&a.push(n);return a}},{}],451:[function(e,o,d){d.decode=d.parse=e("./decode"),d.encode=d.stringify=e("./encode")},{"./decode":449,"./encode":450}],452:[function(e,o,d){var t=e("process-nextick-args"),r=Object.keys||function(y){var m=[];for(var g in y)m.push(g);return m};o.exports=c;var s=Object.create(e("core-util-is"));s.inherits=e("inherits");var i=e("./_stream_readable"),u=e("./_stream_writable");s.inherits(c,i);for(var a=r(u.prototype),n=0;n<a.length;n++){var l=a[n];c.prototype[l]||(c.prototype[l]=u.prototype[l])}function c(y){if(!(this instanceof c))return new c(y);i.call(this,y),u.call(this,y),y&&y.readable===!1&&(this.readable=!1),y&&y.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,y&&y.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function f(){this.allowHalfOpen||this._writableState.ended||t.nextTick(p,this)}function p(y){y.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),c.prototype._destroy=function(y,m){this.push(null),this.end(),t.nextTick(m,y)}},{"./_stream_readable":454,"./_stream_writable":456,"core-util-is":382,inherits:407,"process-nextick-args":441}],453:[function(e,o,d){o.exports=s;var t=e("./_stream_transform"),r=Object.create(e("core-util-is"));r.inherits=e("inherits"),r.inherits(s,t);function s(i){if(!(this instanceof s))return new s(i);t.call(this,i)}s.prototype._transform=function(i,u,a){a(null,i)}},{"./_stream_transform":455,"core-util-is":382,inherits:407}],454:[function(e,o,d){(function(t,r){(function(){var s=e("process-nextick-args");o.exports=E;var i=e("isarray"),u;E.ReadableState=b,e("events").EventEmitter;var a=function(L,M){return L.listeners(M).length},n=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,c=(typeof r!="undefined"?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function f(L){return l.from(L)}function p(L){return l.isBuffer(L)||L instanceof c}var y=Object.create(e("core-util-is"));y.inherits=e("inherits");var m=e("util"),g=void 0;m&&m.debuglog?g=m.debuglog("stream"):g=function(){};var h=e("./internal/streams/BufferList"),_=e("./internal/streams/destroy"),j;y.inherits(E,n);var T=["error","close","destroy","pause","resume"];function S(L,M,le){if(typeof L.prependListener=="function")return L.prependListener(M,le);!L._events||!L._events[M]?L.on(M,le):i(L._events[M])?L._events[M].unshift(le):L._events[M]=[le,L._events[M]]}function b(L,M){u=u||e("./_stream_duplex"),L=L||{};var le=M instanceof u;this.objectMode=!!L.objectMode,le&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var ce=L.highWaterMark,W=L.readableHighWaterMark,ee=this.objectMode?16:16*1024;ce||ce===0?this.highWaterMark=ce:le&&(W||W===0)?this.highWaterMark=W:this.highWaterMark=ee,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(j||(j=e("string_decoder/").StringDecoder),this.decoder=new j(L.encoding),this.encoding=L.encoding)}function E(L){if(u=u||e("./_stream_duplex"),!(this instanceof E))return new E(L);this._readableState=new b(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),n.call(this)}Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),E.prototype.destroy=_.destroy,E.prototype._undestroy=_.undestroy,E.prototype._destroy=function(L,M){this.push(null),M(L)},E.prototype.push=function(L,M){var le=this._readableState,ce;return le.objectMode?ce=!0:typeof L=="string"&&(M=M||le.defaultEncoding,M!==le.encoding&&(L=l.from(L,M),M=""),ce=!0),O(this,L,M,!1,ce)},E.prototype.unshift=function(L){return O(this,L,null,!0,!1)};function O(L,M,le,ce,W){var ee=L._readableState;if(M===null)ee.reading=!1,Q(L,ee);else{var z;W||(z=k(ee,M)),z?L.emit("error",z):ee.objectMode||M&&M.length>0?(typeof M!="string"&&!ee.objectMode&&Object.getPrototypeOf(M)!==l.prototype&&(M=f(M)),ce?ee.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):C(L,ee,M,!0):ee.ended?L.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!le?(M=ee.decoder.write(M),ee.objectMode||M.length!==0?C(L,ee,M,!1):Z(L,ee)):C(L,ee,M,!1))):ce||(ee.reading=!1)}return A(ee)}function C(L,M,le,ce){M.flowing&&M.length===0&&!M.sync?(L.emit("data",le),L.read(0)):(M.length+=M.objectMode?1:le.length,ce?M.buffer.unshift(le):M.buffer.push(le),M.needReadable&&te(L)),Z(L,M)}function k(L,M){var le;return!p(M)&&typeof M!="string"&&M!==void 0&&!L.objectMode&&(le=new TypeError("Invalid non-string/buffer chunk")),le}function A(L){return!L.ended&&(L.needReadable||L.length<L.highWaterMark||L.length===0)}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(L){return j||(j=e("string_decoder/").StringDecoder),this._readableState.decoder=new j(L),this._readableState.encoding=L,this};var I=8388608;function D(L){return L>=I?L=I:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function F(L,M){return L<=0||M.length===0&&M.ended?0:M.objectMode?1:L!==L?M.flowing&&M.length?M.buffer.head.data.length:M.length:(L>M.highWaterMark&&(M.highWaterMark=D(L)),L<=M.length?L:M.ended?M.length:(M.needReadable=!0,0))}E.prototype.read=function(L){g("read",L),L=parseInt(L,10);var M=this._readableState,le=L;if(L!==0&&(M.emittedReadable=!1),L===0&&M.needReadable&&(M.length>=M.highWaterMark||M.ended))return g("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?de(this):te(this),null;if(L=F(L,M),L===0&&M.ended)return M.length===0&&de(this),null;var ce=M.needReadable;g("need readable",ce),(M.length===0||M.length-L<M.highWaterMark)&&(ce=!0,g("length less than watermark",ce)),M.ended||M.reading?(ce=!1,g("reading or ended",ce)):ce&&(g("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(L=F(le,M)));var W;return L>0?W=U(L,M):W=null,W===null?(M.needReadable=!0,L=0):M.length-=L,M.length===0&&(M.ended||(M.needReadable=!0),le!==L&&M.ended&&de(this)),W!==null&&this.emit("data",W),W};function Q(L,M){if(!M.ended){if(M.decoder){var le=M.decoder.end();le&&le.length&&(M.buffer.push(le),M.length+=M.objectMode?1:le.length)}M.ended=!0,te(L)}}function te(L){var M=L._readableState;M.needReadable=!1,M.emittedReadable||(g("emitReadable",M.flowing),M.emittedReadable=!0,M.sync?s.nextTick($,L):$(L))}function $(L){g("emit readable"),L.emit("readable"),X(L)}function Z(L,M){M.readingMore||(M.readingMore=!0,s.nextTick(ne,L,M))}function ne(L,M){for(var le=M.length;!M.reading&&!M.flowing&&!M.ended&&M.length<M.highWaterMark&&(g("maybeReadMore read 0"),L.read(0),le!==M.length);)le=M.length;M.readingMore=!1}E.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},E.prototype.pipe=function(L,M){var le=this,ce=this._readableState;switch(ce.pipesCount){case 0:ce.pipes=L;break;case 1:ce.pipes=[ce.pipes,L];break;default:ce.pipes.push(L);break}ce.pipesCount+=1,g("pipe count=%d opts=%j",ce.pipesCount,M);var W=(!M||M.end!==!1)&&L!==t.stdout&&L!==t.stderr,ee=W?N:Oe;ce.endEmitted?s.nextTick(ee):le.once("end",ee),L.on("unpipe",z);function z(ge,Ee){g("onunpipe"),ge===le&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,ue())}function N(){g("onend"),L.end()}var V=ie(le);L.on("drain",V);var q=!1;function ue(){g("cleanup"),L.removeListener("close",Te),L.removeListener("finish",je),L.removeListener("drain",V),L.removeListener("error",_e),L.removeListener("unpipe",z),le.removeListener("end",N),le.removeListener("end",Oe),le.removeListener("data",ye),q=!0,ce.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&V()}var fe=!1;le.on("data",ye);function ye(ge){g("ondata"),fe=!1;var Ee=L.write(ge);Ee===!1&&!fe&&((ce.pipesCount===1&&ce.pipes===L||ce.pipesCount>1&&R(ce.pipes,L)!==-1)&&!q&&(g("false write response, pause",ce.awaitDrain),ce.awaitDrain++,fe=!0),le.pause())}function _e(ge){g("onerror",ge),Oe(),L.removeListener("error",_e),a(L,"error")===0&&L.emit("error",ge)}S(L,"error",_e);function Te(){L.removeListener("finish",je),Oe()}L.once("close",Te);function je(){g("onfinish"),L.removeListener("close",Te),Oe()}L.once("finish",je);function Oe(){g("unpipe"),le.unpipe(L)}return L.emit("pipe",le),ce.flowing||(g("pipe resume"),le.resume()),L};function ie(L){return function(){var M=L._readableState;g("pipeOnDrain",M.awaitDrain),M.awaitDrain&&M.awaitDrain--,M.awaitDrain===0&&a(L,"data")&&(M.flowing=!0,X(L))}}E.prototype.unpipe=function(L){var M=this._readableState,le={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return L&&L!==M.pipes?this:(L||(L=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,L&&L.emit("unpipe",this,le),this);if(!L){var ce=M.pipes,W=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var ee=0;ee<W;ee++)ce[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var z=R(M.pipes,L);return z===-1?this:(M.pipes.splice(z,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),L.emit("unpipe",this,le),this)},E.prototype.on=function(L,M){var le=n.prototype.on.call(this,L,M);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var ce=this._readableState;!ce.endEmitted&&!ce.readableListening&&(ce.readableListening=ce.needReadable=!0,ce.emittedReadable=!1,ce.reading?ce.length&&te(this):s.nextTick(J,this))}return le},E.prototype.addListener=E.prototype.on;function J(L){g("readable nexttick read 0"),L.read(0)}E.prototype.resume=function(){var L=this._readableState;return L.flowing||(g("resume"),L.flowing=!0,Y(this,L)),this};function Y(L,M){M.resumeScheduled||(M.resumeScheduled=!0,s.nextTick(K,L,M))}function K(L,M){M.reading||(g("resume read 0"),L.read(0)),M.resumeScheduled=!1,M.awaitDrain=0,L.emit("resume"),X(L),M.flowing&&!M.reading&&L.read(0)}E.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function X(L){var M=L._readableState;for(g("flow",M.flowing);M.flowing&&L.read()!==null;);}E.prototype.wrap=function(L){var M=this,le=this._readableState,ce=!1;L.on("end",function(){if(g("wrapped end"),le.decoder&&!le.ended){var z=le.decoder.end();z&&z.length&&M.push(z)}M.push(null)}),L.on("data",function(z){if(g("wrapped data"),le.decoder&&(z=le.decoder.write(z)),!(le.objectMode&&z==null)&&!(!le.objectMode&&(!z||!z.length))){var N=M.push(z);N||(ce=!0,L.pause())}});for(var W in L)this[W]===void 0&&typeof L[W]=="function"&&(this[W]=function(z){return function(){return L[z].apply(L,arguments)}}(W));for(var ee=0;ee<T.length;ee++)L.on(T[ee],this.emit.bind(this,T[ee]));return this._read=function(z){g("wrapped _read",z),ce&&(ce=!1,L.resume())},this},Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),E._fromList=U;function U(L,M){if(M.length===0)return null;var le;return M.objectMode?le=M.buffer.shift():!L||L>=M.length?(M.decoder?le=M.buffer.join(""):M.buffer.length===1?le=M.buffer.head.data:le=M.buffer.concat(M.length),M.buffer.clear()):le=se(L,M.buffer,M.decoder),le}function se(L,M,le){var ce;return L<M.head.data.length?(ce=M.head.data.slice(0,L),M.head.data=M.head.data.slice(L)):L===M.head.data.length?ce=M.shift():ce=le?oe(L,M):ae(L,M),ce}function oe(L,M){var le=M.head,ce=1,W=le.data;for(L-=W.length;le=le.next;){var ee=le.data,z=L>ee.length?ee.length:L;if(z===ee.length?W+=ee:W+=ee.slice(0,L),L-=z,L===0){z===ee.length?(++ce,le.next?M.head=le.next:M.head=M.tail=null):(M.head=le,le.data=ee.slice(z));break}++ce}return M.length-=ce,W}function ae(L,M){var le=l.allocUnsafe(L),ce=M.head,W=1;for(ce.data.copy(le),L-=ce.data.length;ce=ce.next;){var ee=ce.data,z=L>ee.length?ee.length:L;if(ee.copy(le,le.length-L,0,z),L-=z,L===0){z===ee.length?(++W,ce.next?M.head=ce.next:M.head=M.tail=null):(M.head=ce,ce.data=ee.slice(z));break}++W}return M.length-=W,le}function de(L){var M=L._readableState;if(M.length>0)throw new Error('"endReadable()" called on non-empty stream');M.endEmitted||(M.ended=!0,s.nextTick(G,M,L))}function G(L,M){!L.endEmitted&&L.length===0&&(L.endEmitted=!0,M.readable=!1,M.emit("end"))}function R(L,M){for(var le=0,ce=L.length;le<ce;le++)if(L[le]===M)return le;return-1}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./_stream_duplex":452,"./internal/streams/BufferList":457,"./internal/streams/destroy":458,"./internal/streams/stream":459,_process:538,"core-util-is":382,events:386,inherits:407,isarray:460,"process-nextick-args":441,"safe-buffer":461,"string_decoder/":462,util:102}],455:[function(e,o,d){o.exports=i;var t=e("./_stream_duplex"),r=Object.create(e("core-util-is"));r.inherits=e("inherits"),r.inherits(i,t);function s(n,l){var c=this._transformState;c.transforming=!1;var f=c.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));c.writechunk=null,c.writecb=null,l!=null&&this.push(l),f(n);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function i(n){if(!(this instanceof i))return new i(n);t.call(this,n),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",u)}function u(){var n=this;typeof this._flush=="function"?this._flush(function(l,c){a(n,l,c)}):a(this,null,null)}i.prototype.push=function(n,l){return this._transformState.needTransform=!1,t.prototype.push.call(this,n,l)},i.prototype._transform=function(n,l,c){throw new Error("_transform() is not implemented")},i.prototype._write=function(n,l,c){var f=this._transformState;if(f.writecb=c,f.writechunk=n,f.writeencoding=l,!f.transforming){var p=this._readableState;(f.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},i.prototype._read=function(n){var l=this._transformState;l.writechunk!==null&&l.writecb&&!l.transforming?(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform)):l.needTransform=!0},i.prototype._destroy=function(n,l){var c=this;t.prototype._destroy.call(this,n,function(f){l(f),c.emit("close")})};function a(n,l,c){if(l)return n.emit("error",l);if(c!=null&&n.push(c),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}},{"./_stream_duplex":452,"core-util-is":382,inherits:407}],456:[function(e,o,d){(function(t,r,s){(function(){var i=e("process-nextick-args");o.exports=S;function u(K){var X=this;this.next=null,this.entry=null,this.finish=function(){Y(X,K)}}var a=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?s:i.nextTick,n;S.WritableState=j;var l=Object.create(e("core-util-is"));l.inherits=e("inherits");var c={deprecate:e("util-deprecate")},f=e("./internal/streams/stream"),p=e("safe-buffer").Buffer,y=(typeof r!="undefined"?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function m(K){return p.from(K)}function g(K){return p.isBuffer(K)||K instanceof y}var h=e("./internal/streams/destroy");l.inherits(S,f);function _(){}function j(K,X){n=n||e("./_stream_duplex"),K=K||{};var U=X instanceof n;this.objectMode=!!K.objectMode,U&&(this.objectMode=this.objectMode||!!K.writableObjectMode);var se=K.highWaterMark,oe=K.writableHighWaterMark,ae=this.objectMode?16:16*1024;se||se===0?this.highWaterMark=se:U&&(oe||oe===0)?this.highWaterMark=oe:this.highWaterMark=ae,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var de=K.decodeStrings===!1;this.decodeStrings=!de,this.defaultEncoding=K.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){D(X,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}j.prototype.getBuffer=function(){for(var X=this.bufferedRequest,U=[];X;)U.push(X),X=X.next;return U},function(){try{Object.defineProperty(j.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(K){}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(K){return T.call(this,K)?!0:this!==S?!1:K&&K._writableState instanceof j}})):T=function(K){return K instanceof this};function S(K){if(n=n||e("./_stream_duplex"),!T.call(S,this)&&!(this instanceof n))return new S(K);this._writableState=new j(K,this),this.writable=!0,K&&(typeof K.write=="function"&&(this._write=K.write),typeof K.writev=="function"&&(this._writev=K.writev),typeof K.destroy=="function"&&(this._destroy=K.destroy),typeof K.final=="function"&&(this._final=K.final)),f.call(this)}S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function b(K,X){var U=new Error("write after end");K.emit("error",U),i.nextTick(X,U)}function E(K,X,U,se){var oe=!0,ae=!1;return U===null?ae=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!X.objectMode&&(ae=new TypeError("Invalid non-string/buffer chunk")),ae&&(K.emit("error",ae),i.nextTick(se,ae),oe=!1),oe}S.prototype.write=function(K,X,U){var se=this._writableState,oe=!1,ae=!se.objectMode&&g(K);return ae&&!p.isBuffer(K)&&(K=m(K)),typeof X=="function"&&(U=X,X=null),ae?X="buffer":X||(X=se.defaultEncoding),typeof U!="function"&&(U=_),se.ended?b(this,U):(ae||E(this,se,K,U))&&(se.pendingcb++,oe=C(this,se,ae,K,X,U)),oe},S.prototype.cork=function(){var K=this._writableState;K.corked++},S.prototype.uncork=function(){var K=this._writableState;K.corked&&(K.corked--,!K.writing&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&te(this,K))},S.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+X);return this._writableState.defaultEncoding=X,this};function O(K,X,U){return!K.objectMode&&K.decodeStrings!==!1&&typeof X=="string"&&(X=p.from(X,U)),X}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function C(K,X,U,se,oe,ae){if(!U){var de=O(X,se,oe);se!==de&&(U=!0,oe="buffer",se=de)}var G=X.objectMode?1:se.length;X.length+=G;var R=X.length<X.highWaterMark;if(R||(X.needDrain=!0),X.writing||X.corked){var L=X.lastBufferedRequest;X.lastBufferedRequest={chunk:se,encoding:oe,isBuf:U,callback:ae,next:null},L?L.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else k(K,X,!1,G,se,oe,ae);return R}function k(K,X,U,se,oe,ae,de){X.writelen=se,X.writecb=de,X.writing=!0,X.sync=!0,U?K._writev(oe,X.onwrite):K._write(oe,ae,X.onwrite),X.sync=!1}function A(K,X,U,se,oe){--X.pendingcb,U?(i.nextTick(oe,se),i.nextTick(ie,K,X),K._writableState.errorEmitted=!0,K.emit("error",se)):(oe(se),K._writableState.errorEmitted=!0,K.emit("error",se),ie(K,X))}function I(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}function D(K,X){var U=K._writableState,se=U.sync,oe=U.writecb;if(I(U),X)A(K,U,se,X,oe);else{var ae=$(U);!ae&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&te(K,U),se?a(F,K,U,ae,oe):F(K,U,ae,oe)}}function F(K,X,U,se){U||Q(K,X),X.pendingcb--,se(),ie(K,X)}function Q(K,X){X.length===0&&X.needDrain&&(X.needDrain=!1,K.emit("drain"))}function te(K,X){X.bufferProcessing=!0;var U=X.bufferedRequest;if(K._writev&&U&&U.next){var se=X.bufferedRequestCount,oe=new Array(se),ae=X.corkedRequestsFree;ae.entry=U;for(var de=0,G=!0;U;)oe[de]=U,U.isBuf||(G=!1),U=U.next,de+=1;oe.allBuffers=G,k(K,X,!0,X.length,oe,"",ae.finish),X.pendingcb++,X.lastBufferedRequest=null,ae.next?(X.corkedRequestsFree=ae.next,ae.next=null):X.corkedRequestsFree=new u(X),X.bufferedRequestCount=0}else{for(;U;){var R=U.chunk,L=U.encoding,M=U.callback,le=X.objectMode?1:R.length;if(k(K,X,!1,le,R,L,M),U=U.next,X.bufferedRequestCount--,X.writing)break}U===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=U,X.bufferProcessing=!1}S.prototype._write=function(K,X,U){U(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(K,X,U){var se=this._writableState;typeof K=="function"?(U=K,K=null,X=null):typeof X=="function"&&(U=X,X=null),K!=null&&this.write(K,X),se.corked&&(se.corked=1,this.uncork()),se.ending||J(this,se,U)};function $(K){return K.ending&&K.length===0&&K.bufferedRequest===null&&!K.finished&&!K.writing}function Z(K,X){K._final(function(U){X.pendingcb--,U&&K.emit("error",U),X.prefinished=!0,K.emit("prefinish"),ie(K,X)})}function ne(K,X){!X.prefinished&&!X.finalCalled&&(typeof K._final=="function"?(X.pendingcb++,X.finalCalled=!0,i.nextTick(Z,K,X)):(X.prefinished=!0,K.emit("prefinish")))}function ie(K,X){var U=$(X);return U&&(ne(K,X),X.pendingcb===0&&(X.finished=!0,K.emit("finish"))),U}function J(K,X,U){X.ending=!0,ie(K,X),U&&(X.finished?i.nextTick(U):K.once("finish",U)),X.ended=!0,K.writable=!1}function Y(K,X,U){var se=K.entry;for(K.entry=null;se;){var oe=se.callback;X.pendingcb--,oe(U),se=se.next}X.corkedRequestsFree.next=K}Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(K,X){this.end(),X(K)}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{},e("timers").setImmediate)},{"./_stream_duplex":452,"./internal/streams/destroy":458,"./internal/streams/stream":459,_process:538,"core-util-is":382,inherits:407,"process-nextick-args":441,"safe-buffer":461,timers:484,"util-deprecate":486}],457:[function(e,o,d){function t(u,a){if(!(u instanceof a))throw new TypeError("Cannot call a class as a function")}var r=e("safe-buffer").Buffer,s=e("util");function i(u,a,n){u.copy(a,n)}o.exports=function(){function u(){t(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(n){var l={data:n,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},u.prototype.unshift=function(n){var l={data:n,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},u.prototype.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(n){if(this.length===0)return"";for(var l=this.head,c=""+l.data;l=l.next;)c+=n+l.data;return c},u.prototype.concat=function(n){if(this.length===0)return r.alloc(0);for(var l=r.allocUnsafe(n>>>0),c=this.head,f=0;c;)i(c.data,l,f),f+=c.data.length,c=c.next;return l},u}(),s&&s.inspect&&s.inspect.custom&&(o.exports.prototype[s.inspect.custom]=function(){var u=s.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":461,util:102}],458:[function(e,o,d){var t=e("process-nextick-args");function r(u,a){var n=this,l=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return l||c?(a?a(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,u)):t.nextTick(i,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(f){!a&&f?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,t.nextTick(i,n,f)):t.nextTick(i,n,f):a&&a(f)}),this)}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(u,a){u.emit("error",a)}o.exports={destroy:r,undestroy:s}},{"process-nextick-args":441}],459:[function(e,o,d){o.exports=e("events").EventEmitter},{events:386}],460:[function(e,o,d){var t={}.toString;o.exports=Array.isArray||function(r){return t.call(r)=="[object Array]"}},{}],461:[function(e,o,d){var t=e("buffer"),r=t.Buffer;function s(u,a){for(var n in u)a[n]=u[n]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?o.exports=t:(s(t,d),d.Buffer=i);function i(u,a,n){return r(u,a,n)}s(r,i),i.from=function(u,a,n){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,a,n)},i.alloc=function(u,a,n){if(typeof u!="number")throw new TypeError("Argument must be a number");var l=r(u);return a!==void 0?typeof n=="string"?l.fill(a,n):l.fill(a):l.fill(0),l},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}},{buffer:103}],462:[function(e,o,d){var t=e("safe-buffer").Buffer,r=t.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(T){if(!T)return"utf8";for(var S;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(S)return;T=(""+T).toLowerCase(),S=!0}}function i(T){var S=s(T);if(typeof S!="string"&&(t.isEncoding===r||!r(T)))throw new Error("Unknown encoding: "+T);return S||T}d.StringDecoder=u;function u(T){this.encoding=i(T);var S;switch(this.encoding){case"utf16le":this.text=y,this.end=m,S=4;break;case"utf8":this.fillLast=c,S=4;break;case"base64":this.text=g,this.end=h,S=3;break;default:this.write=_,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(S)}u.prototype.write=function(T){if(T.length===0)return"";var S,b;if(this.lastNeed){if(S=this.fillLast(T),S===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<T.length?S?S+this.text(T,b):this.text(T,b):S||""},u.prototype.end=p,u.prototype.text=f,u.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function a(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function n(T,S,b){var E=S.length-1;if(E<b)return 0;var O=a(S[E]);return O>=0?(O>0&&(T.lastNeed=O-1),O):--E<b||O===-2?0:(O=a(S[E]),O>=0?(O>0&&(T.lastNeed=O-2),O):--E<b||O===-2?0:(O=a(S[E]),O>=0?(O>0&&(O===2?O=0:T.lastNeed=O-3),O):0))}function l(T,S,b){if((S[0]&192)!==128)return T.lastNeed=0,"�";if(T.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return T.lastNeed=1,"�";if(T.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return T.lastNeed=2,"�"}}function c(T){var S=this.lastTotal-this.lastNeed,b=l(this,T);if(b!==void 0)return b;if(this.lastNeed<=T.length)return T.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,S,0,T.length),this.lastNeed-=T.length}function f(T,S){var b=n(this,T,S);if(!this.lastNeed)return T.toString("utf8",S);this.lastTotal=b;var E=T.length-(b-this.lastNeed);return T.copy(this.lastChar,0,E),T.toString("utf8",S,E)}function p(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+"�":S}function y(T,S){if((T.length-S)%2===0){var b=T.toString("utf16le",S);if(b){var E=b.charCodeAt(b.length-1);if(E>=55296&&E<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",S,T.length-1)}function m(T){var S=T&&T.length?this.write(T):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,b)}return S}function g(T,S){var b=(T.length-S)%3;return b===0?T.toString("base64",S):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",S,T.length-b))}function h(T){var S=T&&T.length?this.write(T):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function _(T){return T.toString(this.encoding)}function j(T){return T&&T.length?this.write(T):""}},{"safe-buffer":461}],463:[function(e,o,d){d=o.exports=e("./lib/_stream_readable.js"),d.Stream=d,d.Readable=d,d.Writable=e("./lib/_stream_writable.js"),d.Duplex=e("./lib/_stream_duplex.js"),d.Transform=e("./lib/_stream_transform.js"),d.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":452,"./lib/_stream_passthrough.js":453,"./lib/_stream_readable.js":454,"./lib/_stream_transform.js":455,"./lib/_stream_writable.js":456}],464:[function(e,o,d){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var t=e("buffer"),r=t.Buffer;function s(u,a){for(var n in u)a[n]=u[n]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?o.exports=t:(s(t,d),d.Buffer=i);function i(u,a,n){return r(u,a,n)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(u,a,n){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,a,n)},i.alloc=function(u,a,n){if(typeof u!="number")throw new TypeError("Argument must be a number");var l=r(u);return a!==void 0?typeof n=="string"?l.fill(a,n):l.fill(a):l.fill(0),l},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}},{buffer:103}],465:[function(e,o,d){(function(t){(function(){(function(r){r.parser=function(G,R){return new i(G,R)},r.SAXParser=i,r.SAXStream=p,r.createStream=f,r.MAX_BUFFER_LENGTH=64*1024;var s=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(G,R){if(!(this instanceof i))return new i(G,R);var L=this;a(L),L.q=L.c="",L.bufferCheckPosition=r.MAX_BUFFER_LENGTH,L.opt=R||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!G,L.noscript=!!(G||L.opt.noscript),L.state=I.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(r.XML_ENTITIES):Object.create(r.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(_)),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),F(L,"onready")}Object.create||(Object.create=function(G){function R(){}R.prototype=G;var L=new R;return L}),Object.keys||(Object.keys=function(G){var R=[];for(var L in G)G.hasOwnProperty(L)&&R.push(L);return R});function u(G){for(var R=Math.max(r.MAX_BUFFER_LENGTH,10),L=0,M=0,le=s.length;M<le;M++){var ce=G[s[M]].length;if(ce>R)switch(s[M]){case"textNode":te(G);break;case"cdata":Q(G,"oncdata",G.cdata),G.cdata="";break;case"script":Q(G,"onscript",G.script),G.script="";break;default:Z(G,"Max buffer length exceeded: "+s[M])}L=Math.max(L,ce)}var W=r.MAX_BUFFER_LENGTH-L;G.bufferCheckPosition=W+G.position}function a(G){for(var R=0,L=s.length;R<L;R++)G[s[R]]=""}function n(G){te(G),G.cdata!==""&&(Q(G,"oncdata",G.cdata),G.cdata=""),G.script!==""&&(Q(G,"onscript",G.script),G.script="")}i.prototype={end:function(){ne(this)},write:de,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){n(this)}};var l;try{l=e("stream").Stream}catch(G){l=function(){}}l||(l=function(){});var c=r.EVENTS.filter(function(G){return G!=="error"&&G!=="end"});function f(G,R){return new p(G,R)}function p(G,R){if(!(this instanceof p))return new p(G,R);l.apply(this),this._parser=new i(G,R),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(M){L.emit("error",M),L._parser.error=null},this._decoder=null,c.forEach(function(M){Object.defineProperty(L,"on"+M,{get:function(){return L._parser["on"+M]},set:function(le){if(!le)return L.removeAllListeners(M),L._parser["on"+M]=le,le;L.on(M,le)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(l.prototype,{constructor:{value:p}}),p.prototype.write=function(G){if(typeof t=="function"&&typeof t.isBuffer=="function"&&t.isBuffer(G)){if(!this._decoder){var R=e("string_decoder").StringDecoder;this._decoder=new R("utf8")}G=this._decoder.write(G)}return this._parser.write(G.toString()),this.emit("data",G),!0},p.prototype.end=function(G){return G&&G.length&&this.write(G),this._parser.end(),!0},p.prototype.on=function(G,R){var L=this;return!L._parser["on"+G]&&c.indexOf(G)!==-1&&(L._parser["on"+G]=function(){var M=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);M.splice(0,0,G),L.emit.apply(L,M)}),l.prototype.on.call(L,G,R)};var y="[CDATA[",m="DOCTYPE",g="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",_={xml:g,xmlns:h},j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function E(G){return G===" "||G===`
`||G==="\r"||G==="	"}function O(G){return G==='"'||G==="'"}function C(G){return G===">"||E(G)}function k(G,R){return G.test(R)}function A(G,R){return!k(G,R)}var I=0;r.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(r.ENTITIES).forEach(function(G){var R=r.ENTITIES[G],L=typeof R=="number"?String.fromCharCode(R):R;r.ENTITIES[G]=L});for(var D in r.STATE)r.STATE[r.STATE[D]]=D;I=r.STATE;function F(G,R,L){G[R]&&G[R](L)}function Q(G,R,L){G.textNode&&te(G),F(G,R,L)}function te(G){G.textNode=$(G.opt,G.textNode),G.textNode&&F(G,"ontext",G.textNode),G.textNode=""}function $(G,R){return G.trim&&(R=R.trim()),G.normalize&&(R=R.replace(/\s+/g," ")),R}function Z(G,R){return te(G),G.trackPosition&&(R+=`
Line: `+G.line+`
Column: `+G.column+`
Char: `+G.c),R=new Error(R),G.error=R,F(G,"onerror",R),G}function ne(G){return G.sawRoot&&!G.closedRoot&&ie(G,"Unclosed root tag"),G.state!==I.BEGIN&&G.state!==I.BEGIN_WHITESPACE&&G.state!==I.TEXT&&Z(G,"Unexpected end"),te(G),G.c="",G.closed=!0,F(G,"onend"),i.call(G,G.strict,G.opt),G}function ie(G,R){if(typeof G!="object"||!(G instanceof i))throw new Error("bad call to strictFail");G.strict&&Z(G,R)}function J(G){G.strict||(G.tagName=G.tagName[G.looseCase]());var R=G.tags[G.tags.length-1]||G,L=G.tag={name:G.tagName,attributes:{}};G.opt.xmlns&&(L.ns=R.ns),G.attribList.length=0,Q(G,"onopentagstart",L)}function Y(G,R){var L=G.indexOf(":"),M=L<0?["",G]:G.split(":"),le=M[0],ce=M[1];return R&&G==="xmlns"&&(le="xmlns",ce=""),{prefix:le,local:ce}}function K(G){if(G.strict||(G.attribName=G.attribName[G.looseCase]()),G.attribList.indexOf(G.attribName)!==-1||G.tag.attributes.hasOwnProperty(G.attribName)){G.attribName=G.attribValue="";return}if(G.opt.xmlns){var R=Y(G.attribName,!0),L=R.prefix,M=R.local;if(L==="xmlns")if(M==="xml"&&G.attribValue!==g)ie(G,"xml: prefix must be bound to "+g+`
Actual: `+G.attribValue);else if(M==="xmlns"&&G.attribValue!==h)ie(G,"xmlns: prefix must be bound to "+h+`
Actual: `+G.attribValue);else{var le=G.tag,ce=G.tags[G.tags.length-1]||G;le.ns===ce.ns&&(le.ns=Object.create(ce.ns)),le.ns[M]=G.attribValue}G.attribList.push([G.attribName,G.attribValue])}else G.tag.attributes[G.attribName]=G.attribValue,Q(G,"onattribute",{name:G.attribName,value:G.attribValue});G.attribName=G.attribValue=""}function X(G,R){if(G.opt.xmlns){var L=G.tag,M=Y(G.tagName);L.prefix=M.prefix,L.local=M.local,L.uri=L.ns[M.prefix]||"",L.prefix&&!L.uri&&(ie(G,"Unbound namespace prefix: "+JSON.stringify(G.tagName)),L.uri=M.prefix);var le=G.tags[G.tags.length-1]||G;L.ns&&le.ns!==L.ns&&Object.keys(L.ns).forEach(function(_e){Q(G,"onopennamespace",{prefix:_e,uri:L.ns[_e]})});for(var ce=0,W=G.attribList.length;ce<W;ce++){var ee=G.attribList[ce],z=ee[0],N=ee[1],V=Y(z,!0),q=V.prefix,ue=V.local,fe=q===""?"":L.ns[q]||"",ye={name:z,value:N,prefix:q,local:ue,uri:fe};q&&q!=="xmlns"&&!fe&&(ie(G,"Unbound namespace prefix: "+JSON.stringify(q)),ye.uri=q),G.tag.attributes[z]=ye,Q(G,"onattribute",ye)}G.attribList.length=0}G.tag.isSelfClosing=!!R,G.sawRoot=!0,G.tags.push(G.tag),Q(G,"onopentag",G.tag),R||(!G.noscript&&G.tagName.toLowerCase()==="script"?G.state=I.SCRIPT:G.state=I.TEXT,G.tag=null,G.tagName=""),G.attribName=G.attribValue="",G.attribList.length=0}function U(G){if(!G.tagName){ie(G,"Weird empty close tag."),G.textNode+="</>",G.state=I.TEXT;return}if(G.script){if(G.tagName!=="script"){G.script+="</"+G.tagName+">",G.tagName="",G.state=I.SCRIPT;return}Q(G,"onscript",G.script),G.script=""}var R=G.tags.length,L=G.tagName;G.strict||(L=L[G.looseCase]());for(var M=L;R--;){var le=G.tags[R];if(le.name!==M)ie(G,"Unexpected close tag");else break}if(R<0){ie(G,"Unmatched closing tag: "+G.tagName),G.textNode+="</"+G.tagName+">",G.state=I.TEXT;return}G.tagName=L;for(var ce=G.tags.length;ce-- >R;){var W=G.tag=G.tags.pop();G.tagName=G.tag.name,Q(G,"onclosetag",G.tagName);var ee={};for(var z in W.ns)ee[z]=W.ns[z];var N=G.tags[G.tags.length-1]||G;G.opt.xmlns&&W.ns!==N.ns&&Object.keys(W.ns).forEach(function(V){var q=W.ns[V];Q(G,"onclosenamespace",{prefix:V,uri:q})})}R===0&&(G.closedRoot=!0),G.tagName=G.attribValue=G.attribName="",G.attribList.length=0,G.state=I.TEXT}function se(G){var R=G.entity,L=R.toLowerCase(),M,le="";return G.ENTITIES[R]?G.ENTITIES[R]:G.ENTITIES[L]?G.ENTITIES[L]:(R=L,R.charAt(0)==="#"&&(R.charAt(1)==="x"?(R=R.slice(2),M=parseInt(R,16),le=M.toString(16)):(R=R.slice(1),M=parseInt(R,10),le=M.toString(10))),R=R.replace(/^0+/,""),isNaN(M)||le.toLowerCase()!==R?(ie(G,"Invalid character entity"),"&"+G.entity+";"):String.fromCodePoint(M))}function oe(G,R){R==="<"?(G.state=I.OPEN_WAKA,G.startTagPosition=G.position):E(R)||(ie(G,"Non-whitespace before first tag."),G.textNode=R,G.state=I.TEXT)}function ae(G,R){var L="";return R<G.length&&(L=G.charAt(R)),L}function de(G){var R=this;if(this.error)throw this.error;if(R.closed)return Z(R,"Cannot write after close. Assign an onready handler.");if(G===null)return ne(R);typeof G=="object"&&(G=G.toString());for(var L=0,M="";M=ae(G,L++),R.c=M,!!M;)switch(R.trackPosition&&(R.position++,M===`
`?(R.line++,R.column=0):R.column++),R.state){case I.BEGIN:if(R.state=I.BEGIN_WHITESPACE,M==="\uFEFF")continue;oe(R,M);continue;case I.BEGIN_WHITESPACE:oe(R,M);continue;case I.TEXT:if(R.sawRoot&&!R.closedRoot){for(var le=L-1;M&&M!=="<"&&M!=="&";)M=ae(G,L++),M&&R.trackPosition&&(R.position++,M===`
`?(R.line++,R.column=0):R.column++);R.textNode+=G.substring(le,L-1)}M==="<"&&!(R.sawRoot&&R.closedRoot&&!R.strict)?(R.state=I.OPEN_WAKA,R.startTagPosition=R.position):(!E(M)&&(!R.sawRoot||R.closedRoot)&&ie(R,"Text data outside of root node."),M==="&"?R.state=I.TEXT_ENTITY:R.textNode+=M);continue;case I.SCRIPT:M==="<"?R.state=I.SCRIPT_ENDING:R.script+=M;continue;case I.SCRIPT_ENDING:M==="/"?R.state=I.CLOSE_TAG:(R.script+="<"+M,R.state=I.SCRIPT);continue;case I.OPEN_WAKA:if(M==="!")R.state=I.SGML_DECL,R.sgmlDecl="";else if(!E(M))if(k(j,M))R.state=I.OPEN_TAG,R.tagName=M;else if(M==="/")R.state=I.CLOSE_TAG,R.tagName="";else if(M==="?")R.state=I.PROC_INST,R.procInstName=R.procInstBody="";else{if(ie(R,"Unencoded <"),R.startTagPosition+1<R.position){var ce=R.position-R.startTagPosition;M=new Array(ce).join(" ")+M}R.textNode+="<"+M,R.state=I.TEXT}continue;case I.SGML_DECL:(R.sgmlDecl+M).toUpperCase()===y?(Q(R,"onopencdata"),R.state=I.CDATA,R.sgmlDecl="",R.cdata=""):R.sgmlDecl+M==="--"?(R.state=I.COMMENT,R.comment="",R.sgmlDecl=""):(R.sgmlDecl+M).toUpperCase()===m?(R.state=I.DOCTYPE,(R.doctype||R.sawRoot)&&ie(R,"Inappropriately located doctype declaration"),R.doctype="",R.sgmlDecl=""):M===">"?(Q(R,"onsgmldeclaration",R.sgmlDecl),R.sgmlDecl="",R.state=I.TEXT):(O(M)&&(R.state=I.SGML_DECL_QUOTED),R.sgmlDecl+=M);continue;case I.SGML_DECL_QUOTED:M===R.q&&(R.state=I.SGML_DECL,R.q=""),R.sgmlDecl+=M;continue;case I.DOCTYPE:M===">"?(R.state=I.TEXT,Q(R,"ondoctype",R.doctype),R.doctype=!0):(R.doctype+=M,M==="["?R.state=I.DOCTYPE_DTD:O(M)&&(R.state=I.DOCTYPE_QUOTED,R.q=M));continue;case I.DOCTYPE_QUOTED:R.doctype+=M,M===R.q&&(R.q="",R.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:R.doctype+=M,M==="]"?R.state=I.DOCTYPE:O(M)&&(R.state=I.DOCTYPE_DTD_QUOTED,R.q=M);continue;case I.DOCTYPE_DTD_QUOTED:R.doctype+=M,M===R.q&&(R.state=I.DOCTYPE_DTD,R.q="");continue;case I.COMMENT:M==="-"?R.state=I.COMMENT_ENDING:R.comment+=M;continue;case I.COMMENT_ENDING:M==="-"?(R.state=I.COMMENT_ENDED,R.comment=$(R.opt,R.comment),R.comment&&Q(R,"oncomment",R.comment),R.comment=""):(R.comment+="-"+M,R.state=I.COMMENT);continue;case I.COMMENT_ENDED:M!==">"?(ie(R,"Malformed comment"),R.comment+="--"+M,R.state=I.COMMENT):R.state=I.TEXT;continue;case I.CDATA:M==="]"?R.state=I.CDATA_ENDING:R.cdata+=M;continue;case I.CDATA_ENDING:M==="]"?R.state=I.CDATA_ENDING_2:(R.cdata+="]"+M,R.state=I.CDATA);continue;case I.CDATA_ENDING_2:M===">"?(R.cdata&&Q(R,"oncdata",R.cdata),Q(R,"onclosecdata"),R.cdata="",R.state=I.TEXT):M==="]"?R.cdata+="]":(R.cdata+="]]"+M,R.state=I.CDATA);continue;case I.PROC_INST:M==="?"?R.state=I.PROC_INST_ENDING:E(M)?R.state=I.PROC_INST_BODY:R.procInstName+=M;continue;case I.PROC_INST_BODY:if(!R.procInstBody&&E(M))continue;M==="?"?R.state=I.PROC_INST_ENDING:R.procInstBody+=M;continue;case I.PROC_INST_ENDING:M===">"?(Q(R,"onprocessinginstruction",{name:R.procInstName,body:R.procInstBody}),R.procInstName=R.procInstBody="",R.state=I.TEXT):(R.procInstBody+="?"+M,R.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:k(T,M)?R.tagName+=M:(J(R),M===">"?X(R):M==="/"?R.state=I.OPEN_TAG_SLASH:(E(M)||ie(R,"Invalid character in tag name"),R.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:M===">"?(X(R,!0),U(R)):(ie(R,"Forward-slash in opening tag not followed by >"),R.state=I.ATTRIB);continue;case I.ATTRIB:if(E(M))continue;M===">"?X(R):M==="/"?R.state=I.OPEN_TAG_SLASH:k(j,M)?(R.attribName=M,R.attribValue="",R.state=I.ATTRIB_NAME):ie(R,"Invalid attribute name");continue;case I.ATTRIB_NAME:M==="="?R.state=I.ATTRIB_VALUE:M===">"?(ie(R,"Attribute without value"),R.attribValue=R.attribName,K(R),X(R)):E(M)?R.state=I.ATTRIB_NAME_SAW_WHITE:k(T,M)?R.attribName+=M:ie(R,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:if(M==="=")R.state=I.ATTRIB_VALUE;else{if(E(M))continue;ie(R,"Attribute without value"),R.tag.attributes[R.attribName]="",R.attribValue="",Q(R,"onattribute",{name:R.attribName,value:""}),R.attribName="",M===">"?X(R):k(j,M)?(R.attribName=M,R.state=I.ATTRIB_NAME):(ie(R,"Invalid attribute name"),R.state=I.ATTRIB)}continue;case I.ATTRIB_VALUE:if(E(M))continue;O(M)?(R.q=M,R.state=I.ATTRIB_VALUE_QUOTED):(ie(R,"Unquoted attribute value"),R.state=I.ATTRIB_VALUE_UNQUOTED,R.attribValue=M);continue;case I.ATTRIB_VALUE_QUOTED:if(M!==R.q){M==="&"?R.state=I.ATTRIB_VALUE_ENTITY_Q:R.attribValue+=M;continue}K(R),R.q="",R.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:E(M)?R.state=I.ATTRIB:M===">"?X(R):M==="/"?R.state=I.OPEN_TAG_SLASH:k(j,M)?(ie(R,"No whitespace between attributes"),R.attribName=M,R.attribValue="",R.state=I.ATTRIB_NAME):ie(R,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(!C(M)){M==="&"?R.state=I.ATTRIB_VALUE_ENTITY_U:R.attribValue+=M;continue}K(R),M===">"?X(R):R.state=I.ATTRIB;continue;case I.CLOSE_TAG:if(R.tagName)M===">"?U(R):k(T,M)?R.tagName+=M:R.script?(R.script+="</"+R.tagName,R.tagName="",R.state=I.SCRIPT):(E(M)||ie(R,"Invalid tagname in closing tag"),R.state=I.CLOSE_TAG_SAW_WHITE);else{if(E(M))continue;A(j,M)?R.script?(R.script+="</"+M,R.state=I.SCRIPT):ie(R,"Invalid tagname in closing tag."):R.tagName=M}continue;case I.CLOSE_TAG_SAW_WHITE:if(E(M))continue;M===">"?U(R):ie(R,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:var W,ee;switch(R.state){case I.TEXT_ENTITY:W=I.TEXT,ee="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:W=I.ATTRIB_VALUE_QUOTED,ee="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:W=I.ATTRIB_VALUE_UNQUOTED,ee="attribValue";break}if(M===";")if(R.opt.unparsedEntities){var z=se(R);R.entity="",R.state=W,R.write(z)}else R[ee]+=se(R),R.entity="",R.state=W;else k(R.entity.length?b:S,M)?R.entity+=M:(ie(R,"Invalid character in entity name"),R[ee]+="&"+R.entity+M,R.entity="",R.state=W);continue;default:throw new Error(R,"Unknown state: "+R.state)}return R.position>=R.bufferCheckPosition&&u(R),R}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var G=String.fromCharCode,R=Math.floor,L=function(){var M=16384,le=[],ce,W,ee=-1,z=arguments.length;if(!z)return"";for(var N="";++ee<z;){var V=Number(arguments[ee]);if(!isFinite(V)||V<0||V>1114111||R(V)!==V)throw RangeError("Invalid code point: "+V);V<=65535?le.push(V):(V-=65536,ce=(V>>10)+55296,W=V%1024+56320,le.push(ce,W)),(ee+1===z||le.length>M)&&(N+=G.apply(null,le),le.length=0)}return N};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(typeof d=="undefined"?this.sax={}:d)}).call(this)}).call(this,e("buffer").Buffer)},{buffer:103,stream:468,string_decoder:483}],466:[function(e,o,d){var t=e("get-intrinsic"),r=e("define-data-property"),s=e("has-property-descriptors")(),i=e("gopd"),u=t("%TypeError%"),a=t("%Math.floor%");o.exports=function(l,c){if(typeof l!="function")throw new u("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||a(c)!==c)throw new u("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],p=!0,y=!0;if("length"in l&&i){var m=i(l,"length");m&&!m.configurable&&(p=!1),m&&!m.writable&&(y=!1)}return(p||y||!f)&&(s?r(l,"length",c,!0,!0):r(l,"length",c)),l}},{"define-data-property":384,"get-intrinsic":390,gopd:391,"has-property-descriptors":392}],467:[function(e,o,d){var t=e("get-intrinsic"),r=e("call-bind/callBound"),s=e("object-inspect"),i=t("%TypeError%"),u=t("%WeakMap%",!0),a=t("%Map%",!0),n=r("WeakMap.prototype.get",!0),l=r("WeakMap.prototype.set",!0),c=r("WeakMap.prototype.has",!0),f=r("Map.prototype.get",!0),p=r("Map.prototype.set",!0),y=r("Map.prototype.has",!0),m=function(j,T){for(var S=j,b;(b=S.next)!==null;S=b)if(b.key===T)return S.next=b.next,b.next=j.next,j.next=b,b},g=function(j,T){var S=m(j,T);return S&&S.value},h=function(j,T,S){var b=m(j,T);b?b.value=S:j.next={key:T,next:j.next,value:S}},_=function(j,T){return!!m(j,T)};o.exports=function(){var T,S,b,E={assert:function(O){if(!E.has(O))throw new i("Side channel does not contain "+s(O))},get:function(O){if(u&&O&&(typeof O=="object"||typeof O=="function")){if(T)return n(T,O)}else if(a){if(S)return f(S,O)}else if(b)return g(b,O)},has:function(O){if(u&&O&&(typeof O=="object"||typeof O=="function")){if(T)return c(T,O)}else if(a){if(S)return y(S,O)}else if(b)return _(b,O);return!1},set:function(O,C){u&&O&&(typeof O=="object"||typeof O=="function")?(T||(T=new u),l(T,O,C)):a?(S||(S=new a),p(S,O,C)):(b||(b={key:{},next:null}),h(b,O,C))}};return E}},{"call-bind/callBound":105,"get-intrinsic":390,"object-inspect":433}],468:[function(e,o,d){o.exports=s;var t=e("events").EventEmitter,r=e("inherits");r(s,t),s.Readable=e("readable-stream/lib/_stream_readable.js"),s.Writable=e("readable-stream/lib/_stream_writable.js"),s.Duplex=e("readable-stream/lib/_stream_duplex.js"),s.Transform=e("readable-stream/lib/_stream_transform.js"),s.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),s.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),s.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),s.Stream=s;function s(){t.call(this)}s.prototype.pipe=function(i,u){var a=this;function n(g){i.writable&&i.write(g)===!1&&a.pause&&a.pause()}a.on("data",n);function l(){a.readable&&a.resume&&a.resume()}i.on("drain",l),!i._isStdio&&(!u||u.end!==!1)&&(a.on("end",f),a.on("close",p));var c=!1;function f(){c||(c=!0,i.end())}function p(){c||(c=!0,typeof i.destroy=="function"&&i.destroy())}function y(g){if(m(),t.listenerCount(this,"error")===0)throw g}a.on("error",y),i.on("error",y);function m(){a.removeListener("data",n),i.removeListener("drain",l),a.removeListener("end",f),a.removeListener("close",p),a.removeListener("error",y),i.removeListener("error",y),a.removeListener("end",m),a.removeListener("close",m),i.removeListener("close",m)}return a.on("end",m),a.on("close",m),i.on("close",m),i.emit("pipe",a),i}},{events:386,inherits:407,"readable-stream/lib/_stream_duplex.js":470,"readable-stream/lib/_stream_passthrough.js":471,"readable-stream/lib/_stream_readable.js":472,"readable-stream/lib/_stream_transform.js":473,"readable-stream/lib/_stream_writable.js":474,"readable-stream/lib/internal/streams/end-of-stream.js":478,"readable-stream/lib/internal/streams/pipeline.js":480}],469:[function(e,o,d){function t(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var r={};function s(l,c,f){f||(f=Error);function p(m,g,h){return typeof c=="string"?c:c(m,g,h)}var y=function(m){t(g,m);function g(h,_,j){return m.call(this,p(h,_,j))||this}return g}(f);y.prototype.name=f.name,y.prototype.code=l,r[l]=y}function i(l,c){if(Array.isArray(l)){var f=l.length;return l=l.map(function(p){return String(p)}),f>2?"one of ".concat(c," ").concat(l.slice(0,f-1).join(", "),", or ")+l[f-1]:f===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function u(l,c,f){return l.substr(0,c.length)===c}function a(l,c,f){return(f===void 0||f>l.length)&&(f=l.length),l.substring(f-c.length,f)===c}function n(l,c,f){return typeof f!="number"&&(f=0),f+c.length>l.length?!1:l.indexOf(c,f)!==-1}s("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(l,c,f){var p;typeof c=="string"&&u(c,"not ")?(p="must not be",c=c.replace(/^not /,"")):p="must be";var y;if(a(l," argument"))y="The ".concat(l," ").concat(p," ").concat(i(c,"type"));else{var m=n(l,".")?"property":"argument";y='The "'.concat(l,'" ').concat(m," ").concat(p," ").concat(i(c,"type"))}return y+=". Received type ".concat(typeof f),y},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=r},{}],470:[function(e,o,d){(function(t){(function(){var r=Object.keys||function(p){var y=[];for(var m in p)y.push(m);return y};o.exports=l;var s=e("./_stream_readable"),i=e("./_stream_writable");e("inherits")(l,s);for(var u=r(i.prototype),a=0;a<u.length;a++){var n=u[a];l.prototype[n]||(l.prototype[n]=i.prototype[n])}function l(p){if(!(this instanceof l))return new l(p);s.call(this,p),i.call(this,p),this.allowHalfOpen=!0,p&&(p.readable===!1&&(this.readable=!1),p.writable===!1&&(this.writable=!1),p.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||t.nextTick(f,this)}function f(p){p.end()}Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":472,"./_stream_writable":474,_process:538,inherits:407}],471:[function(e,o,d){o.exports=r;var t=e("./_stream_transform");e("inherits")(r,t);function r(s){if(!(this instanceof r))return new r(s);t.call(this,s)}r.prototype._transform=function(s,i,u){u(null,s)}},{"./_stream_transform":473,inherits:407}],472:[function(e,o,d){(function(t,r){(function(){o.exports=F;var s;F.ReadableState=D,e("events").EventEmitter;var i=function(ee,z){return ee.listeners(z).length},u=e("./internal/streams/stream"),a=e("buffer").Buffer,n=(typeof r!="undefined"?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function l(W){return a.from(W)}function c(W){return a.isBuffer(W)||W instanceof n}var f=e("util"),p;f&&f.debuglog?p=f.debuglog("stream"):p=function(){};var y=e("./internal/streams/buffer_list"),m=e("./internal/streams/destroy"),g=e("./internal/streams/state"),h=g.getHighWaterMark,_=e("../errors").codes,j=_.ERR_INVALID_ARG_TYPE,T=_.ERR_STREAM_PUSH_AFTER_EOF,S=_.ERR_METHOD_NOT_IMPLEMENTED,b=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,E,O,C;e("inherits")(F,u);var k=m.errorOrDestroy,A=["error","close","destroy","pause","resume"];function I(W,ee,z){if(typeof W.prependListener=="function")return W.prependListener(ee,z);!W._events||!W._events[ee]?W.on(ee,z):Array.isArray(W._events[ee])?W._events[ee].unshift(z):W._events[ee]=[z,W._events[ee]]}function D(W,ee,z){s=s||e("./_stream_duplex"),W=W||{},typeof z!="boolean"&&(z=ee instanceof s),this.objectMode=!!W.objectMode,z&&(this.objectMode=this.objectMode||!!W.readableObjectMode),this.highWaterMark=h(this,W,"readableHighWaterMark",z),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=W.emitClose!==!1,this.autoDestroy=!!W.autoDestroy,this.destroyed=!1,this.defaultEncoding=W.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,W.encoding&&(E||(E=e("string_decoder/").StringDecoder),this.decoder=new E(W.encoding),this.encoding=W.encoding)}function F(W){if(s=s||e("./_stream_duplex"),!(this instanceof F))return new F(W);var ee=this instanceof s;this._readableState=new D(W,this,ee),this.readable=!0,W&&(typeof W.read=="function"&&(this._read=W.read),typeof W.destroy=="function"&&(this._destroy=W.destroy)),u.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),F.prototype.destroy=m.destroy,F.prototype._undestroy=m.undestroy,F.prototype._destroy=function(W,ee){ee(W)},F.prototype.push=function(W,ee){var z=this._readableState,N;return z.objectMode?N=!0:typeof W=="string"&&(ee=ee||z.defaultEncoding,ee!==z.encoding&&(W=a.from(W,ee),ee=""),N=!0),Q(this,W,ee,!1,N)},F.prototype.unshift=function(W){return Q(this,W,null,!0,!1)};function Q(W,ee,z,N,V){p("readableAddChunk",ee);var q=W._readableState;if(ee===null)q.reading=!1,J(W,q);else{var ue;if(V||(ue=$(q,ee)),ue)k(W,ue);else if(q.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!q.objectMode&&Object.getPrototypeOf(ee)!==a.prototype&&(ee=l(ee)),N)q.endEmitted?k(W,new b):te(W,q,ee,!0);else if(q.ended)k(W,new T);else{if(q.destroyed)return!1;q.reading=!1,q.decoder&&!z?(ee=q.decoder.write(ee),q.objectMode||ee.length!==0?te(W,q,ee,!1):X(W,q)):te(W,q,ee,!1)}else N||(q.reading=!1,X(W,q))}return!q.ended&&(q.length<q.highWaterMark||q.length===0)}function te(W,ee,z,N){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,W.emit("data",z)):(ee.length+=ee.objectMode?1:z.length,N?ee.buffer.unshift(z):ee.buffer.push(z),ee.needReadable&&Y(W)),X(W,ee)}function $(W,ee){var z;return!c(ee)&&typeof ee!="string"&&ee!==void 0&&!W.objectMode&&(z=new j("chunk",["string","Buffer","Uint8Array"],ee)),z}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(W){E||(E=e("string_decoder/").StringDecoder);var ee=new E(W);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,N="";z!==null;)N+=ee.write(z.data),z=z.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var Z=1073741824;function ne(W){return W>=Z?W=Z:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}function ie(W,ee){return W<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:W!==W?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(W>ee.highWaterMark&&(ee.highWaterMark=ne(W)),W<=ee.length?W:ee.ended?ee.length:(ee.needReadable=!0,0))}F.prototype.read=function(W){p("read",W),W=parseInt(W,10);var ee=this._readableState,z=W;if(W!==0&&(ee.emittedReadable=!1),W===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return p("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?M(this):Y(this),null;if(W=ie(W,ee),W===0&&ee.ended)return ee.length===0&&M(this),null;var N=ee.needReadable;p("need readable",N),(ee.length===0||ee.length-W<ee.highWaterMark)&&(N=!0,p("length less than watermark",N)),ee.ended||ee.reading?(N=!1,p("reading or ended",N)):N&&(p("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(W=ie(z,ee)));var V;return W>0?V=L(W,ee):V=null,V===null?(ee.needReadable=ee.length<=ee.highWaterMark,W=0):(ee.length-=W,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),z!==W&&ee.ended&&M(this)),V!==null&&this.emit("data",V),V};function J(W,ee){if(p("onEofChunk"),!ee.ended){if(ee.decoder){var z=ee.decoder.end();z&&z.length&&(ee.buffer.push(z),ee.length+=ee.objectMode?1:z.length)}ee.ended=!0,ee.sync?Y(W):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,K(W)))}}function Y(W){var ee=W._readableState;p("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(p("emitReadable",ee.flowing),ee.emittedReadable=!0,t.nextTick(K,W))}function K(W){var ee=W._readableState;p("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(W.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,R(W)}function X(W,ee){ee.readingMore||(ee.readingMore=!0,t.nextTick(U,W,ee))}function U(W,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var z=ee.length;if(p("maybeReadMore read 0"),W.read(0),z===ee.length)break}ee.readingMore=!1}F.prototype._read=function(W){k(this,new S("_read()"))},F.prototype.pipe=function(W,ee){var z=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=W;break;case 1:N.pipes=[N.pipes,W];break;default:N.pipes.push(W);break}N.pipesCount+=1,p("pipe count=%d opts=%j",N.pipesCount,ee);var V=(!ee||ee.end!==!1)&&W!==t.stdout&&W!==t.stderr,q=V?fe:Ne;N.endEmitted?t.nextTick(q):z.once("end",q),W.on("unpipe",ue);function ue(Ye,Ke){p("onunpipe"),Ye===z&&Ke&&Ke.hasUnpiped===!1&&(Ke.hasUnpiped=!0,Te())}function fe(){p("onend"),W.end()}var ye=se(z);W.on("drain",ye);var _e=!1;function Te(){p("cleanup"),W.removeListener("close",ge),W.removeListener("finish",Ee),W.removeListener("drain",ye),W.removeListener("error",Oe),W.removeListener("unpipe",ue),z.removeListener("end",fe),z.removeListener("end",Ne),z.removeListener("data",je),_e=!0,N.awaitDrain&&(!W._writableState||W._writableState.needDrain)&&ye()}z.on("data",je);function je(Ye){p("ondata");var Ke=W.write(Ye);p("dest.write",Ke),Ke===!1&&((N.pipesCount===1&&N.pipes===W||N.pipesCount>1&&ce(N.pipes,W)!==-1)&&!_e&&(p("false write response, pause",N.awaitDrain),N.awaitDrain++),z.pause())}function Oe(Ye){p("onerror",Ye),Ne(),W.removeListener("error",Oe),i(W,"error")===0&&k(W,Ye)}I(W,"error",Oe);function ge(){W.removeListener("finish",Ee),Ne()}W.once("close",ge);function Ee(){p("onfinish"),W.removeListener("close",ge),Ne()}W.once("finish",Ee);function Ne(){p("unpipe"),z.unpipe(W)}return W.emit("pipe",z),N.flowing||(p("pipe resume"),z.resume()),W};function se(W){return function(){var z=W._readableState;p("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&i(W,"data")&&(z.flowing=!0,R(W))}}F.prototype.unpipe=function(W){var ee=this._readableState,z={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return W&&W!==ee.pipes?this:(W||(W=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,W&&W.emit("unpipe",this,z),this);if(!W){var N=ee.pipes,V=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var q=0;q<V;q++)N[q].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=ce(ee.pipes,W);return ue===-1?this:(ee.pipes.splice(ue,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),W.emit("unpipe",this,z),this)},F.prototype.on=function(W,ee){var z=u.prototype.on.call(this,W,ee),N=this._readableState;return W==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):W==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,p("on readable",N.length,N.reading),N.length?Y(this):N.reading||t.nextTick(ae,this)),z},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(W,ee){var z=u.prototype.removeListener.call(this,W,ee);return W==="readable"&&t.nextTick(oe,this),z},F.prototype.removeAllListeners=function(W){var ee=u.prototype.removeAllListeners.apply(this,arguments);return(W==="readable"||W===void 0)&&t.nextTick(oe,this),ee};function oe(W){var ee=W._readableState;ee.readableListening=W.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:W.listenerCount("data")>0&&W.resume()}function ae(W){p("readable nexttick read 0"),W.read(0)}F.prototype.resume=function(){var W=this._readableState;return W.flowing||(p("resume"),W.flowing=!W.readableListening,de(this,W)),W.paused=!1,this};function de(W,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,t.nextTick(G,W,ee))}function G(W,ee){p("resume",ee.reading),ee.reading||W.read(0),ee.resumeScheduled=!1,W.emit("resume"),R(W),ee.flowing&&!ee.reading&&W.read(0)}F.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function R(W){var ee=W._readableState;for(p("flow",ee.flowing);ee.flowing&&W.read()!==null;);}F.prototype.wrap=function(W){var ee=this,z=this._readableState,N=!1;W.on("end",function(){if(p("wrapped end"),z.decoder&&!z.ended){var ue=z.decoder.end();ue&&ue.length&&ee.push(ue)}ee.push(null)}),W.on("data",function(ue){if(p("wrapped data"),z.decoder&&(ue=z.decoder.write(ue)),!(z.objectMode&&ue==null)&&!(!z.objectMode&&(!ue||!ue.length))){var fe=ee.push(ue);fe||(N=!0,W.pause())}});for(var V in W)this[V]===void 0&&typeof W[V]=="function"&&(this[V]=function(fe){return function(){return W[fe].apply(W,arguments)}}(V));for(var q=0;q<A.length;q++)W.on(A[q],this.emit.bind(this,A[q]));return this._read=function(ue){p("wrapped _read",ue),N&&(N=!1,W.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return O===void 0&&(O=e("./internal/streams/async_iterator")),O(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),F._fromList=L,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(W,ee){if(ee.length===0)return null;var z;return ee.objectMode?z=ee.buffer.shift():!W||W>=ee.length?(ee.decoder?z=ee.buffer.join(""):ee.buffer.length===1?z=ee.buffer.first():z=ee.buffer.concat(ee.length),ee.buffer.clear()):z=ee.buffer.consume(W,ee.decoder),z}function M(W){var ee=W._readableState;p("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,t.nextTick(le,ee,W))}function le(W,ee){if(p("endReadableNT",W.endEmitted,W.length),!W.endEmitted&&W.length===0&&(W.endEmitted=!0,ee.readable=!1,ee.emit("end"),W.autoDestroy)){var z=ee._writableState;(!z||z.autoDestroy&&z.finished)&&ee.destroy()}}typeof Symbol=="function"&&(F.from=function(W,ee){return C===void 0&&(C=e("./internal/streams/from")),C(F,W,ee)});function ce(W,ee){for(var z=0,N=W.length;z<N;z++)if(W[z]===ee)return z;return-1}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":469,"./_stream_duplex":470,"./internal/streams/async_iterator":475,"./internal/streams/buffer_list":476,"./internal/streams/destroy":477,"./internal/streams/from":479,"./internal/streams/state":481,"./internal/streams/stream":482,_process:538,buffer:103,events:386,inherits:407,"string_decoder/":483,util:102}],473:[function(e,o,d){o.exports=l;var t=e("../errors").codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,s=t.ERR_MULTIPLE_CALLBACK,i=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=t.ERR_TRANSFORM_WITH_LENGTH_0,a=e("./_stream_duplex");e("inherits")(l,a);function n(p,y){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(g===null)return this.emit("error",new s);m.writechunk=null,m.writecb=null,y!=null&&this.push(y),g(p);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function l(p){if(!(this instanceof l))return new l(p);a.call(this,p),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",c)}function c(){var p=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,m){f(p,y,m)}):f(this,null,null)}l.prototype.push=function(p,y){return this._transformState.needTransform=!1,a.prototype.push.call(this,p,y)},l.prototype._transform=function(p,y,m){m(new r("_transform()"))},l.prototype._write=function(p,y,m){var g=this._transformState;if(g.writecb=m,g.writechunk=p,g.writeencoding=y,!g.transforming){var h=this._readableState;(g.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},l.prototype._read=function(p){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},l.prototype._destroy=function(p,y){a.prototype._destroy.call(this,p,function(m){y(m)})};function f(p,y,m){if(y)return p.emit("error",y);if(m!=null&&p.push(m),p._writableState.length)throw new u;if(p._transformState.transforming)throw new i;return p.push(null)}},{"../errors":469,"./_stream_duplex":470,inherits:407}],474:[function(e,o,d){(function(t,r){(function(){o.exports=D;function s(R){var L=this;this.next=null,this.entry=null,this.finish=function(){G(L,R)}}var i;D.WritableState=A;var u={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),n=e("buffer").Buffer,l=(typeof r!="undefined"?r:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function c(R){return n.from(R)}function f(R){return n.isBuffer(R)||R instanceof l}var p=e("./internal/streams/destroy"),y=e("./internal/streams/state"),m=y.getHighWaterMark,g=e("../errors").codes,h=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,j=g.ERR_MULTIPLE_CALLBACK,T=g.ERR_STREAM_CANNOT_PIPE,S=g.ERR_STREAM_DESTROYED,b=g.ERR_STREAM_NULL_VALUES,E=g.ERR_STREAM_WRITE_AFTER_END,O=g.ERR_UNKNOWN_ENCODING,C=p.errorOrDestroy;e("inherits")(D,a);function k(){}function A(R,L,M){i=i||e("./_stream_duplex"),R=R||{},typeof M!="boolean"&&(M=L instanceof i),this.objectMode=!!R.objectMode,M&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=m(this,R,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var le=R.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){J(L,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}A.prototype.getBuffer=function(){for(var L=this.bufferedRequest,M=[];L;)M.push(L),L=L.next;return M},function(){try{Object.defineProperty(A.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(R){}}();var I;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(L){return I.call(this,L)?!0:this!==D?!1:L&&L._writableState instanceof A}})):I=function(L){return L instanceof this};function D(R){i=i||e("./_stream_duplex");var L=this instanceof i;if(!L&&!I.call(D,this))return new D(R);this._writableState=new A(R,this,L),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),a.call(this)}D.prototype.pipe=function(){C(this,new T)};function F(R,L){var M=new E;C(R,M),t.nextTick(L,M)}function Q(R,L,M,le){var ce;return M===null?ce=new b:typeof M!="string"&&!L.objectMode&&(ce=new h("chunk",["string","Buffer"],M)),ce?(C(R,ce),t.nextTick(le,ce),!1):!0}D.prototype.write=function(R,L,M){var le=this._writableState,ce=!1,W=!le.objectMode&&f(R);return W&&!n.isBuffer(R)&&(R=c(R)),typeof L=="function"&&(M=L,L=null),W?L="buffer":L||(L=le.defaultEncoding),typeof M!="function"&&(M=k),le.ending?F(this,M):(W||Q(this,le,R,M))&&(le.pendingcb++,ce=$(this,le,W,R,L,M)),ce},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&X(this,R))},D.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new O(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(D.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function te(R,L,M){return!R.objectMode&&R.decodeStrings!==!1&&typeof L=="string"&&(L=n.from(L,M)),L}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function $(R,L,M,le,ce,W){if(!M){var ee=te(L,le,ce);le!==ee&&(M=!0,ce="buffer",le=ee)}var z=L.objectMode?1:le.length;L.length+=z;var N=L.length<L.highWaterMark;if(N||(L.needDrain=!0),L.writing||L.corked){var V=L.lastBufferedRequest;L.lastBufferedRequest={chunk:le,encoding:ce,isBuf:M,callback:W,next:null},V?V.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else Z(R,L,!1,z,le,ce,W);return N}function Z(R,L,M,le,ce,W,ee){L.writelen=le,L.writecb=ee,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new S("write")):M?R._writev(ce,L.onwrite):R._write(ce,W,L.onwrite),L.sync=!1}function ne(R,L,M,le,ce){--L.pendingcb,M?(t.nextTick(ce,le),t.nextTick(ae,R,L),R._writableState.errorEmitted=!0,C(R,le)):(ce(le),R._writableState.errorEmitted=!0,C(R,le),ae(R,L))}function ie(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function J(R,L){var M=R._writableState,le=M.sync,ce=M.writecb;if(typeof ce!="function")throw new j;if(ie(M),L)ne(R,M,le,L,ce);else{var W=U(M)||R.destroyed;!W&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&X(R,M),le?t.nextTick(Y,R,M,W,ce):Y(R,M,W,ce)}}function Y(R,L,M,le){M||K(R,L),L.pendingcb--,le(),ae(R,L)}function K(R,L){L.length===0&&L.needDrain&&(L.needDrain=!1,R.emit("drain"))}function X(R,L){L.bufferProcessing=!0;var M=L.bufferedRequest;if(R._writev&&M&&M.next){var le=L.bufferedRequestCount,ce=new Array(le),W=L.corkedRequestsFree;W.entry=M;for(var ee=0,z=!0;M;)ce[ee]=M,M.isBuf||(z=!1),M=M.next,ee+=1;ce.allBuffers=z,Z(R,L,!0,L.length,ce,"",W.finish),L.pendingcb++,L.lastBufferedRequest=null,W.next?(L.corkedRequestsFree=W.next,W.next=null):L.corkedRequestsFree=new s(L),L.bufferedRequestCount=0}else{for(;M;){var N=M.chunk,V=M.encoding,q=M.callback,ue=L.objectMode?1:N.length;if(Z(R,L,!1,ue,N,V,q),M=M.next,L.bufferedRequestCount--,L.writing)break}M===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=M,L.bufferProcessing=!1}D.prototype._write=function(R,L,M){M(new _("_write()"))},D.prototype._writev=null,D.prototype.end=function(R,L,M){var le=this._writableState;return typeof R=="function"?(M=R,R=null,L=null):typeof L=="function"&&(M=L,L=null),R!=null&&this.write(R,L),le.corked&&(le.corked=1,this.uncork()),le.ending||de(this,le,M),this},Object.defineProperty(D.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function U(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function se(R,L){R._final(function(M){L.pendingcb--,M&&C(R,M),L.prefinished=!0,R.emit("prefinish"),ae(R,L)})}function oe(R,L){!L.prefinished&&!L.finalCalled&&(typeof R._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,t.nextTick(se,R,L)):(L.prefinished=!0,R.emit("prefinish")))}function ae(R,L){var M=U(L);if(M&&(oe(R,L),L.pendingcb===0&&(L.finished=!0,R.emit("finish"),L.autoDestroy))){var le=R._readableState;(!le||le.autoDestroy&&le.endEmitted)&&R.destroy()}return M}function de(R,L,M){L.ending=!0,ae(R,L),M&&(L.finished?t.nextTick(M):R.once("finish",M)),L.ended=!0,R.writable=!1}function G(R,L,M){var le=R.entry;for(R.entry=null;le;){var ce=le.callback;L.pendingcb--,ce(M),le=le.next}L.corkedRequestsFree.next=R}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),D.prototype.destroy=p.destroy,D.prototype._undestroy=p.undestroy,D.prototype._destroy=function(R,L){L(R)}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"../errors":469,"./_stream_duplex":470,"./internal/streams/destroy":477,"./internal/streams/state":481,"./internal/streams/stream":482,_process:538,buffer:103,inherits:407,"util-deprecate":486}],475:[function(e,o,d){(function(t){(function(){var r;function s(E,O,C){return O=i(O),O in E?Object.defineProperty(E,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[O]=C,E}function i(E){var O=u(E,"string");return typeof O=="symbol"?O:String(O)}function u(E,O){if(typeof E!="object"||E===null)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var k=C.call(E,O);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(E)}var a=e("./end-of-stream"),n=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),p=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function g(E,O){return{value:E,done:O}}function h(E){var O=E[n];if(O!==null){var C=E[m].read();C!==null&&(E[p]=null,E[n]=null,E[l]=null,O(g(C,!1)))}}function _(E){t.nextTick(h,E)}function j(E,O){return function(C,k){E.then(function(){if(O[f]){C(g(void 0,!0));return}O[y](C,k)},k)}}var T=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((r={get stream(){return this[m]},next:function(){var O=this,C=this[c];if(C!==null)return Promise.reject(C);if(this[f])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(D,F){t.nextTick(function(){O[c]?F(O[c]):D(g(void 0,!0))})});var k=this[p],A;if(k)A=new Promise(j(k,this));else{var I=this[m].read();if(I!==null)return Promise.resolve(g(I,!1));A=new Promise(this[y])}return this[p]=A,A}},s(r,Symbol.asyncIterator,function(){return this}),s(r,"return",function(){var O=this;return new Promise(function(C,k){O[m].destroy(null,function(A){if(A){k(A);return}C(g(void 0,!0))})})}),r),T),b=function(O){var C,k=Object.create(S,(C={},s(C,m,{value:O,writable:!0}),s(C,n,{value:null,writable:!0}),s(C,l,{value:null,writable:!0}),s(C,c,{value:null,writable:!0}),s(C,f,{value:O._readableState.endEmitted,writable:!0}),s(C,y,{value:function(I,D){var F=k[m].read();F?(k[p]=null,k[n]=null,k[l]=null,I(g(F,!1))):(k[n]=I,k[l]=D)},writable:!0}),C));return k[p]=null,a(O,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=k[l];I!==null&&(k[p]=null,k[n]=null,k[l]=null,I(A)),k[c]=A;return}var D=k[n];D!==null&&(k[p]=null,k[n]=null,k[l]=null,D(g(void 0,!0))),k[f]=!0}),O.on("readable",_.bind(null,k)),k};o.exports=b}).call(this)}).call(this,e("_process"))},{"./end-of-stream":478,_process:538}],476:[function(e,o,d){function t(h,_){var j=Object.keys(h);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(h);_&&(T=T.filter(function(S){return Object.getOwnPropertyDescriptor(h,S).enumerable})),j.push.apply(j,T)}return j}function r(h){for(var _=1;_<arguments.length;_++){var j=arguments[_]!=null?arguments[_]:{};_%2?t(Object(j),!0).forEach(function(T){s(h,T,j[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(j)):t(Object(j)).forEach(function(T){Object.defineProperty(h,T,Object.getOwnPropertyDescriptor(j,T))})}return h}function s(h,_,j){return _=n(_),_ in h?Object.defineProperty(h,_,{value:j,enumerable:!0,configurable:!0,writable:!0}):h[_]=j,h}function i(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}function u(h,_){for(var j=0;j<_.length;j++){var T=_[j];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(h,n(T.key),T)}}function a(h,_,j){return _&&u(h.prototype,_),Object.defineProperty(h,"prototype",{writable:!1}),h}function n(h){var _=l(h,"string");return typeof _=="symbol"?_:String(_)}function l(h,_){if(typeof h!="object"||h===null)return h;var j=h[Symbol.toPrimitive];if(j!==void 0){var T=j.call(h,_);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(h)}var c=e("buffer"),f=c.Buffer,p=e("util"),y=p.inspect,m=y&&y.custom||"inspect";function g(h,_,j){f.prototype.copy.call(h,_,j)}o.exports=function(){function h(){i(this,h),this.head=null,this.tail=null,this.length=0}return a(h,[{key:"push",value:function(j){var T={data:j,next:null};this.length>0?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(j){var T={data:j,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var j=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,j}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(j){if(this.length===0)return"";for(var T=this.head,S=""+T.data;T=T.next;)S+=j+T.data;return S}},{key:"concat",value:function(j){if(this.length===0)return f.alloc(0);for(var T=f.allocUnsafe(j>>>0),S=this.head,b=0;S;)g(S.data,T,b),b+=S.data.length,S=S.next;return T}},{key:"consume",value:function(j,T){var S;return j<this.head.data.length?(S=this.head.data.slice(0,j),this.head.data=this.head.data.slice(j)):j===this.head.data.length?S=this.shift():S=T?this._getString(j):this._getBuffer(j),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(j){var T=this.head,S=1,b=T.data;for(j-=b.length;T=T.next;){var E=T.data,O=j>E.length?E.length:j;if(O===E.length?b+=E:b+=E.slice(0,j),j-=O,j===0){O===E.length?(++S,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=E.slice(O));break}++S}return this.length-=S,b}},{key:"_getBuffer",value:function(j){var T=f.allocUnsafe(j),S=this.head,b=1;for(S.data.copy(T),j-=S.data.length;S=S.next;){var E=S.data,O=j>E.length?E.length:j;if(E.copy(T,T.length-j,0,O),j-=O,j===0){O===E.length?(++b,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=E.slice(O));break}++b}return this.length-=b,T}},{key:m,value:function(j,T){return y(this,r(r({},T),{},{depth:0,customInspect:!1}))}}]),h}()},{buffer:103,util:102}],477:[function(e,o,d){(function(t){(function(){function r(l,c){var f=this,p=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return p||y?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(a,this,l)):t.nextTick(a,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!c&&m?f._writableState?f._writableState.errorEmitted?t.nextTick(i,f):(f._writableState.errorEmitted=!0,t.nextTick(s,f,m)):t.nextTick(s,f,m):c?(t.nextTick(i,f),c(m)):t.nextTick(i,f)}),this)}function s(l,c){a(l,c),i(l)}function i(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(l,c){l.emit("error",c)}function n(l,c){var f=l._readableState,p=l._writableState;f&&f.autoDestroy||p&&p.autoDestroy?l.destroy(c):l.emit("error",c)}o.exports={destroy:r,undestroy:u,errorOrDestroy:n}}).call(this)}).call(this,e("_process"))},{_process:538}],478:[function(e,o,d){var t=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function r(a){var n=!1;return function(){if(!n){n=!0;for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];a.apply(this,c)}}}function s(){}function i(a){return a.setHeader&&typeof a.abort=="function"}function u(a,n,l){if(typeof n=="function")return u(a,null,n);n||(n={}),l=r(l||s);var c=n.readable||n.readable!==!1&&a.readable,f=n.writable||n.writable!==!1&&a.writable,p=function(){a.writable||m()},y=a._writableState&&a._writableState.finished,m=function(){f=!1,y=!0,c||l.call(a)},g=a._readableState&&a._readableState.endEmitted,h=function(){c=!1,g=!0,f||l.call(a)},_=function(b){l.call(a,b)},j=function(){var b;if(c&&!g)return(!a._readableState||!a._readableState.ended)&&(b=new t),l.call(a,b);if(f&&!y)return(!a._writableState||!a._writableState.ended)&&(b=new t),l.call(a,b)},T=function(){a.req.on("finish",m)};return i(a)?(a.on("complete",m),a.on("abort",j),a.req?T():a.on("request",T)):f&&!a._writableState&&(a.on("end",p),a.on("close",p)),a.on("end",h),a.on("finish",m),n.error!==!1&&a.on("error",_),a.on("close",j),function(){a.removeListener("complete",m),a.removeListener("abort",j),a.removeListener("request",T),a.req&&a.req.removeListener("finish",m),a.removeListener("end",p),a.removeListener("close",p),a.removeListener("finish",m),a.removeListener("end",h),a.removeListener("error",_),a.removeListener("close",j)}}o.exports=u},{"../../../errors":469}],479:[function(e,o,d){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],480:[function(e,o,d){var t;function r(m){var g=!1;return function(){g||(g=!0,m.apply(void 0,arguments))}}var s=e("../../../errors").codes,i=s.ERR_MISSING_ARGS,u=s.ERR_STREAM_DESTROYED;function a(m){if(m)throw m}function n(m){return m.setHeader&&typeof m.abort=="function"}function l(m,g,h,_){_=r(_);var j=!1;m.on("close",function(){j=!0}),t===void 0&&(t=e("./end-of-stream")),t(m,{readable:g,writable:h},function(S){if(S)return _(S);j=!0,_()});var T=!1;return function(S){if(!j&&!T){if(T=!0,n(m))return m.abort();if(typeof m.destroy=="function")return m.destroy();_(S||new u("pipe"))}}}function c(m){m()}function f(m,g){return m.pipe(g)}function p(m){return!m.length||typeof m[m.length-1]!="function"?a:m.pop()}function y(){for(var m=arguments.length,g=new Array(m),h=0;h<m;h++)g[h]=arguments[h];var _=p(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new i("streams");var j,T=g.map(function(S,b){var E=b<g.length-1,O=b>0;return l(S,E,O,function(C){j||(j=C),C&&T.forEach(c),!E&&(T.forEach(c),_(j))})});return g.reduce(f)}o.exports=y},{"../../../errors":469,"./end-of-stream":478}],481:[function(e,o,d){var t=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function r(i,u,a){return i.highWaterMark!=null?i.highWaterMark:u?i[a]:null}function s(i,u,a,n){var l=r(u,n,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=n?a:"highWaterMark";throw new t(c,l)}return Math.floor(l)}return i.objectMode?16:16*1024}o.exports={getHighWaterMark:s}},{"../../../errors":469}],482:[function(e,o,d){arguments[4][459][0].apply(d,arguments)},{dup:459,events:386}],483:[function(e,o,d){arguments[4][462][0].apply(d,arguments)},{dup:462,"safe-buffer":464}],484:[function(e,o,d){(function(t,r){(function(){var s=e("process/browser.js").nextTick,i=Function.prototype.apply,u=Array.prototype.slice,a={},n=0;d.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},d.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},d.clearTimeout=d.clearInterval=function(c){c.close()};function l(c,f){this._id=c,this._clearFn=f}l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},d.enroll=function(c,f){clearTimeout(c._idleTimeoutId),c._idleTimeout=f},d.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},d._unrefActive=d.active=function(c){clearTimeout(c._idleTimeoutId);var f=c._idleTimeout;f>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},f))},d.setImmediate=typeof t=="function"?t:function(c){var f=n++,p=arguments.length<2?!1:u.call(arguments,1);return a[f]=!0,s(function(){a[f]&&(p?c.apply(null,p):c.call(null),d.clearImmediate(f))}),f},d.clearImmediate=typeof r=="function"?r:function(c){delete a[c]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":442,timers:484}],485:[function(e,o,d){var t=e("buffer").Buffer;o.exports=function(r){if(r instanceof Uint8Array){if(r.byteOffset===0&&r.byteLength===r.buffer.byteLength)return r.buffer;if(typeof r.buffer.slice=="function")return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}if(t.isBuffer(r)){for(var s=new Uint8Array(r.length),i=r.length,u=0;u<i;u++)s[u]=r[u];return s.buffer}else throw new Error("Argument must be a Buffer")}},{buffer:103}],486:[function(e,o,d){(function(t){(function(){o.exports=r;function r(i,u){if(s("noDeprecation"))return i;var a=!1;function n(){if(!a){if(s("throwDeprecation"))throw new Error(u);s("traceDeprecation")?console.trace(u):console.warn(u),a=!0}return i.apply(this,arguments)}return n}function s(i){try{if(!t.localStorage)return!1}catch(a){return!1}var u=t.localStorage[i];return u==null?!1:String(u).toLowerCase()==="true"}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],487:[function(e,o,d){arguments[4][97][0].apply(d,arguments)},{dup:97}],488:[function(e,o,d){var t=e("is-arguments"),r=e("is-generator-function"),s=e("which-typed-array"),i=e("is-typed-array");function u(q){return q.call.bind(q)}var a=typeof BigInt!="undefined",n=typeof Symbol!="undefined",l=u(Object.prototype.toString),c=u(Number.prototype.valueOf),f=u(String.prototype.valueOf),p=u(Boolean.prototype.valueOf);if(a)var y=u(BigInt.prototype.valueOf);if(n)var m=u(Symbol.prototype.valueOf);function g(q,ue){if(typeof q!="object")return!1;try{return ue(q),!0}catch(fe){return!1}}d.isArgumentsObject=t,d.isGeneratorFunction=r,d.isTypedArray=i;function h(q){return typeof Promise!="undefined"&&q instanceof Promise||q!==null&&typeof q=="object"&&typeof q.then=="function"&&typeof q.catch=="function"}d.isPromise=h;function _(q){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(q):i(q)||U(q)}d.isArrayBufferView=_;function j(q){return s(q)==="Uint8Array"}d.isUint8Array=j;function T(q){return s(q)==="Uint8ClampedArray"}d.isUint8ClampedArray=T;function S(q){return s(q)==="Uint16Array"}d.isUint16Array=S;function b(q){return s(q)==="Uint32Array"}d.isUint32Array=b;function E(q){return s(q)==="Int8Array"}d.isInt8Array=E;function O(q){return s(q)==="Int16Array"}d.isInt16Array=O;function C(q){return s(q)==="Int32Array"}d.isInt32Array=C;function k(q){return s(q)==="Float32Array"}d.isFloat32Array=k;function A(q){return s(q)==="Float64Array"}d.isFloat64Array=A;function I(q){return s(q)==="BigInt64Array"}d.isBigInt64Array=I;function D(q){return s(q)==="BigUint64Array"}d.isBigUint64Array=D;function F(q){return l(q)==="[object Map]"}F.working=typeof Map!="undefined"&&F(new Map);function Q(q){return typeof Map=="undefined"?!1:F.working?F(q):q instanceof Map}d.isMap=Q;function te(q){return l(q)==="[object Set]"}te.working=typeof Set!="undefined"&&te(new Set);function $(q){return typeof Set=="undefined"?!1:te.working?te(q):q instanceof Set}d.isSet=$;function Z(q){return l(q)==="[object WeakMap]"}Z.working=typeof WeakMap!="undefined"&&Z(new WeakMap);function ne(q){return typeof WeakMap=="undefined"?!1:Z.working?Z(q):q instanceof WeakMap}d.isWeakMap=ne;function ie(q){return l(q)==="[object WeakSet]"}ie.working=typeof WeakSet!="undefined"&&ie(new WeakSet);function J(q){return ie(q)}d.isWeakSet=J;function Y(q){return l(q)==="[object ArrayBuffer]"}Y.working=typeof ArrayBuffer!="undefined"&&Y(new ArrayBuffer);function K(q){return typeof ArrayBuffer=="undefined"?!1:Y.working?Y(q):q instanceof ArrayBuffer}d.isArrayBuffer=K;function X(q){return l(q)==="[object DataView]"}X.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&X(new DataView(new ArrayBuffer(1),0,1));function U(q){return typeof DataView=="undefined"?!1:X.working?X(q):q instanceof DataView}d.isDataView=U;var se=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function oe(q){return l(q)==="[object SharedArrayBuffer]"}function ae(q){return typeof se=="undefined"?!1:(typeof oe.working=="undefined"&&(oe.working=oe(new se)),oe.working?oe(q):q instanceof se)}d.isSharedArrayBuffer=ae;function de(q){return l(q)==="[object AsyncFunction]"}d.isAsyncFunction=de;function G(q){return l(q)==="[object Map Iterator]"}d.isMapIterator=G;function R(q){return l(q)==="[object Set Iterator]"}d.isSetIterator=R;function L(q){return l(q)==="[object Generator]"}d.isGeneratorObject=L;function M(q){return l(q)==="[object WebAssembly.Module]"}d.isWebAssemblyCompiledModule=M;function le(q){return g(q,c)}d.isNumberObject=le;function ce(q){return g(q,f)}d.isStringObject=ce;function W(q){return g(q,p)}d.isBooleanObject=W;function ee(q){return a&&g(q,y)}d.isBigIntObject=ee;function z(q){return n&&g(q,m)}d.isSymbolObject=z;function N(q){return le(q)||ce(q)||W(q)||ee(q)||z(q)}d.isBoxedPrimitive=N;function V(q){return typeof Uint8Array!="undefined"&&(K(q)||ae(q))}d.isAnyArrayBuffer=V,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(q){Object.defineProperty(d,q,{enumerable:!1,value:function(){throw new Error(q+" is not supported in userland")}})})},{"is-arguments":408,"is-generator-function":411,"is-typed-array":412,"which-typed-array":490}],489:[function(e,o,d){(function(t){(function(){var r=Object.getOwnPropertyDescriptors||function(se){for(var oe=Object.keys(se),ae={},de=0;de<oe.length;de++)ae[oe[de]]=Object.getOwnPropertyDescriptor(se,oe[de]);return ae},s=/%[sdj%]/g;d.format=function(U){if(!O(U)){for(var se=[],oe=0;oe<arguments.length;oe++)se.push(n(arguments[oe]));return se.join(" ")}for(var oe=1,ae=arguments,de=ae.length,G=String(U).replace(s,function(L){if(L==="%%")return"%";if(oe>=de)return L;switch(L){case"%s":return String(ae[oe++]);case"%d":return Number(ae[oe++]);case"%j":try{return JSON.stringify(ae[oe++])}catch(M){return"[Circular]"}default:return L}}),R=ae[oe];oe<de;R=ae[++oe])S(R)||!I(R)?G+=" "+R:G+=" "+n(R);return G},d.deprecate=function(U,se){if(typeof t!="undefined"&&t.noDeprecation===!0)return U;if(typeof t=="undefined")return function(){return d.deprecate(U,se).apply(this,arguments)};var oe=!1;function ae(){if(!oe){if(t.throwDeprecation)throw new Error(se);t.traceDeprecation?console.trace(se):console.error(se),oe=!0}return U.apply(this,arguments)}return ae};var i={},u=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+a+"$","i")}d.debuglog=function(U){if(U=U.toUpperCase(),!i[U])if(u.test(U)){var se=t.pid;i[U]=function(){var oe=d.format.apply(d,arguments);console.error("%s %d: %s",U,se,oe)}}else i[U]=function(){};return i[U]};function n(U,se){var oe={seen:[],stylize:c};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),T(se)?oe.showHidden=se:se&&d._extend(oe,se),k(oe.showHidden)&&(oe.showHidden=!1),k(oe.depth)&&(oe.depth=2),k(oe.colors)&&(oe.colors=!1),k(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=l),p(oe,U,oe.depth)}d.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(U,se){var oe=n.styles[se];return oe?"\x1B["+n.colors[oe][0]+"m"+U+"\x1B["+n.colors[oe][1]+"m":U}function c(U,se){return U}function f(U){var se={};return U.forEach(function(oe,ae){se[oe]=!0}),se}function p(U,se,oe){if(U.customInspect&&se&&Q(se.inspect)&&se.inspect!==d.inspect&&!(se.constructor&&se.constructor.prototype===se)){var ae=se.inspect(oe,U);return O(ae)||(ae=p(U,ae,oe)),ae}var de=y(U,se);if(de)return de;var G=Object.keys(se),R=f(G);if(U.showHidden&&(G=Object.getOwnPropertyNames(se)),F(se)&&(G.indexOf("message")>=0||G.indexOf("description")>=0))return m(se);if(G.length===0){if(Q(se)){var L=se.name?": "+se.name:"";return U.stylize("[Function"+L+"]","special")}if(A(se))return U.stylize(RegExp.prototype.toString.call(se),"regexp");if(D(se))return U.stylize(Date.prototype.toString.call(se),"date");if(F(se))return m(se)}var M="",le=!1,ce=["{","}"];if(j(se)&&(le=!0,ce=["[","]"]),Q(se)){var W=se.name?": "+se.name:"";M=" [Function"+W+"]"}if(A(se)&&(M=" "+RegExp.prototype.toString.call(se)),D(se)&&(M=" "+Date.prototype.toUTCString.call(se)),F(se)&&(M=" "+m(se)),G.length===0&&(!le||se.length==0))return ce[0]+M+ce[1];if(oe<0)return A(se)?U.stylize(RegExp.prototype.toString.call(se),"regexp"):U.stylize("[Object]","special");U.seen.push(se);var ee;return le?ee=g(U,se,oe,R,G):ee=G.map(function(z){return h(U,se,oe,R,z,le)}),U.seen.pop(),_(ee,M,ce)}function y(U,se){if(k(se))return U.stylize("undefined","undefined");if(O(se)){var oe="'"+JSON.stringify(se).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(oe,"string")}if(E(se))return U.stylize(""+se,"number");if(T(se))return U.stylize(""+se,"boolean");if(S(se))return U.stylize("null","null")}function m(U){return"["+Error.prototype.toString.call(U)+"]"}function g(U,se,oe,ae,de){for(var G=[],R=0,L=se.length;R<L;++R)J(se,String(R))?G.push(h(U,se,oe,ae,String(R),!0)):G.push("");return de.forEach(function(M){M.match(/^\d+$/)||G.push(h(U,se,oe,ae,M,!0))}),G}function h(U,se,oe,ae,de,G){var R,L,M;if(M=Object.getOwnPropertyDescriptor(se,de)||{value:se[de]},M.get?M.set?L=U.stylize("[Getter/Setter]","special"):L=U.stylize("[Getter]","special"):M.set&&(L=U.stylize("[Setter]","special")),J(ae,de)||(R="["+de+"]"),L||(U.seen.indexOf(M.value)<0?(S(oe)?L=p(U,M.value,null):L=p(U,M.value,oe-1),L.indexOf(`
`)>-1&&(G?L=L.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):L=`
`+L.split(`
`).map(function(le){return"   "+le}).join(`
`))):L=U.stylize("[Circular]","special")),k(R)){if(G&&de.match(/^\d+$/))return L;R=JSON.stringify(""+de),R.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(R=R.slice(1,-1),R=U.stylize(R,"name")):(R=R.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),R=U.stylize(R,"string"))}return R+": "+L}function _(U,se,oe){var ae=U.reduce(function(de,G){return G.indexOf(`
`)>=0,de+G.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?oe[0]+(se===""?"":se+`
 `)+" "+U.join(`,
  `)+" "+oe[1]:oe[0]+se+" "+U.join(", ")+" "+oe[1]}d.types=e("./support/types");function j(U){return Array.isArray(U)}d.isArray=j;function T(U){return typeof U=="boolean"}d.isBoolean=T;function S(U){return U===null}d.isNull=S;function b(U){return U==null}d.isNullOrUndefined=b;function E(U){return typeof U=="number"}d.isNumber=E;function O(U){return typeof U=="string"}d.isString=O;function C(U){return typeof U=="symbol"}d.isSymbol=C;function k(U){return U===void 0}d.isUndefined=k;function A(U){return I(U)&&$(U)==="[object RegExp]"}d.isRegExp=A,d.types.isRegExp=A;function I(U){return typeof U=="object"&&U!==null}d.isObject=I;function D(U){return I(U)&&$(U)==="[object Date]"}d.isDate=D,d.types.isDate=D;function F(U){return I(U)&&($(U)==="[object Error]"||U instanceof Error)}d.isError=F,d.types.isNativeError=F;function Q(U){return typeof U=="function"}d.isFunction=Q;function te(U){return U===null||typeof U=="boolean"||typeof U=="number"||typeof U=="string"||typeof U=="symbol"||typeof U=="undefined"}d.isPrimitive=te,d.isBuffer=e("./support/isBuffer");function $(U){return Object.prototype.toString.call(U)}function Z(U){return U<10?"0"+U.toString(10):U.toString(10)}var ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ie(){var U=new Date,se=[Z(U.getHours()),Z(U.getMinutes()),Z(U.getSeconds())].join(":");return[U.getDate(),ne[U.getMonth()],se].join(" ")}d.log=function(){console.log("%s - %s",ie(),d.format.apply(d,arguments))},d.inherits=e("inherits"),d._extend=function(U,se){if(!se||!I(se))return U;for(var oe=Object.keys(se),ae=oe.length;ae--;)U[oe[ae]]=se[oe[ae]];return U};function J(U,se){return Object.prototype.hasOwnProperty.call(U,se)}var Y=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;d.promisify=function(se){if(typeof se!="function")throw new TypeError('The "original" argument must be of type Function');if(Y&&se[Y]){var oe=se[Y];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,Y,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var ae,de,G=new Promise(function(M,le){ae=M,de=le}),R=[],L=0;L<arguments.length;L++)R.push(arguments[L]);R.push(function(M,le){M?de(M):ae(le)});try{se.apply(this,R)}catch(M){de(M)}return G}return Object.setPrototypeOf(oe,Object.getPrototypeOf(se)),Y&&Object.defineProperty(oe,Y,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,r(se))},d.promisify.custom=Y;function K(U,se){if(!U){var oe=new Error("Promise was rejected with a falsy value");oe.reason=U,U=oe}return se(U)}function X(U){if(typeof U!="function")throw new TypeError('The "original" argument must be of type Function');function se(){for(var oe=[],ae=0;ae<arguments.length;ae++)oe.push(arguments[ae]);var de=oe.pop();if(typeof de!="function")throw new TypeError("The last argument must be of type Function");var G=this,R=function(){return de.apply(G,arguments)};U.apply(this,oe).then(function(L){t.nextTick(R.bind(null,null,L))},function(L){t.nextTick(K.bind(null,L,R))})}return Object.setPrototypeOf(se,Object.getPrototypeOf(U)),Object.defineProperties(se,r(U)),se}d.callbackify=X}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":487,"./support/types":488,_process:538,inherits:407}],490:[function(e,o,d){(function(t){(function(){var r=e("for-each"),s=e("available-typed-arrays"),i=e("call-bind"),u=e("call-bind/callBound"),a=e("gopd"),n=u("Object.prototype.toString"),l=e("has-tostringtag/shams")(),c=typeof globalThis=="undefined"?t:globalThis,f=s(),p=u("String.prototype.slice"),y=Object.getPrototypeOf,m=u("Array.prototype.indexOf",!0)||function(T,S){for(var b=0;b<T.length;b+=1)if(T[b]===S)return b;return-1},g={__proto__:null};l&&a&&y?r(f,function(j){var T=new c[j];if(Symbol.toStringTag in T){var S=y(T),b=a(S,Symbol.toStringTag);if(!b){var E=y(S);b=a(E,Symbol.toStringTag)}g["$"+j]=i(b.get)}}):r(f,function(j){var T=new c[j],S=T.slice||T.set;S&&(g["$"+j]=i(S))});var h=function(T){var S=!1;return r(g,function(b,E){if(!S)try{"$"+b(T)===E&&(S=p(E,1))}catch(O){}}),S},_=function(T){var S=!1;return r(g,function(b,E){if(!S)try{b(T),S=p(E,1)}catch(O){}}),S};o.exports=function(T){if(!T||typeof T!="object")return!1;if(!l){var S=p(n(T),8,-1);return m(f,S)>-1?S:S!=="Object"?!1:_(T)}return a?h(T):null}}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"available-typed-arrays":99,"call-bind":106,"call-bind/callBound":105,"for-each":387,gopd:391,"has-tostringtag/shams":396}],491:[function(e,o,d){(function(){d.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(this)},{}],492:[function(e,o,d){(function(){var t,r,s,i,u,a={}.hasOwnProperty;t=e("xmlbuilder"),r=e("./defaults").defaults,i=function(n){return typeof n=="string"&&(n.indexOf("&")>=0||n.indexOf(">")>=0||n.indexOf("<")>=0)},u=function(n){return"<![CDATA["+s(n)+"]]>"},s=function(n){return n.replace("]]>","]]]]><![CDATA[>")},d.Builder=function(){function n(l){var c,f,p;this.options={},f=r["0.2"];for(c in f)a.call(f,c)&&(p=f[c],this.options[c]=p);for(c in l)a.call(l,c)&&(p=l[c],this.options[c]=p)}return n.prototype.buildObject=function(l){var c,f,p,y,m;return c=this.options.attrkey,f=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===r["0.2"].rootName?(m=Object.keys(l)[0],l=l[m]):m=this.options.rootName,p=function(g){return function(h,_){var j,T,S,b,E,O;if(typeof _!="object")g.options.cdata&&i(_)?h.raw(u(_)):h.txt(_);else if(Array.isArray(_)){for(b in _)if(a.call(_,b)){T=_[b];for(E in T)S=T[E],h=p(h.ele(E),S).up()}}else for(E in _)if(a.call(_,E))if(T=_[E],E===c){if(typeof T=="object")for(j in T)O=T[j],h=h.att(j,O)}else if(E===f)g.options.cdata&&i(T)?h=h.raw(u(T)):h=h.txt(T);else if(Array.isArray(T))for(b in T)a.call(T,b)&&(S=T[b],typeof S=="string"?g.options.cdata&&i(S)?h=h.ele(E).raw(u(S)).up():h=h.ele(E,S).up():h=p(h.ele(E),S).up());else typeof T=="object"?h=p(h.ele(E),T).up():typeof T=="string"&&g.options.cdata&&i(T)?h=h.ele(E).raw(u(T)).up():(T==null&&(T=""),h=h.ele(E,T.toString()).up());return h}}(this),y=t.create(m,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),p(y,l).end(this.options.renderOpts)},n}()}).call(this)},{"./defaults":493,xmlbuilder:529}],493:[function(e,o,d){(function(){d.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],494:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c,f=function(m,g){return function(){return m.apply(g,arguments)}},p=function(m,g){for(var h in g)y.call(g,h)&&(m[h]=g[h]);function _(){this.constructor=m}return _.prototype=g.prototype,m.prototype=new _,m.__super__=g.prototype,m},y={}.hasOwnProperty;l=e("sax"),i=e("events"),t=e("./bom"),n=e("./processors"),c=e("timers").setImmediate,r=e("./defaults").defaults,u=function(m){return typeof m=="object"&&m!=null&&Object.keys(m).length===0},a=function(m,g,h){var _,j,T;for(_=0,j=m.length;_<j;_++)T=m[_],g=T(g,h);return g},s=function(m,g,h){var _;return _=Object.create(null),_.value=h,_.writable=!0,_.enumerable=!0,_.configurable=!0,Object.defineProperty(m,g,_)},d.Parser=function(m){p(g,m);function g(h){this.parseStringPromise=f(this.parseStringPromise,this),this.parseString=f(this.parseString,this),this.reset=f(this.reset,this),this.assignOrPush=f(this.assignOrPush,this),this.processAsync=f(this.processAsync,this);var _,j,T;if(!(this instanceof d.Parser))return new d.Parser(h);this.options={},j=r["0.2"];for(_ in j)y.call(j,_)&&(T=j[_],this.options[_]=T);for(_ in h)y.call(h,_)&&(T=h[_],this.options[_]=T);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(n.normalize)),this.reset()}return g.prototype.processAsync=function(){var h,_;try{return this.remaining.length<=this.options.chunkSize?(h=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(h),this.saxParser.close()):(h=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(h),c(this.processAsync))}catch(j){if(_=j,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(_)}},g.prototype.assignOrPush=function(h,_,j){return _ in h?(h[_]instanceof Array||s(h,_,[h[_]]),h[_].push(j)):this.options.explicitArray?s(h,_,[j]):s(h,_,j)},g.prototype.reset=function(){var h,_,j,T;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(S){return function(b){if(S.saxParser.resume(),!S.saxParser.errThrown)return S.saxParser.errThrown=!0,S.emit("error",b)}}(this),this.saxParser.onend=function(S){return function(){if(!S.saxParser.ended)return S.saxParser.ended=!0,S.emit("end",S.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,T=[],h=this.options.attrkey,_=this.options.charkey,this.saxParser.onopentag=function(S){return function(b){var E,O,C,k,A;if(C={},C[_]="",!S.options.ignoreAttrs){A=b.attributes;for(E in A)y.call(A,E)&&(!(h in C)&&!S.options.mergeAttrs&&(C[h]={}),O=S.options.attrValueProcessors?a(S.options.attrValueProcessors,b.attributes[E],E):b.attributes[E],k=S.options.attrNameProcessors?a(S.options.attrNameProcessors,E):E,S.options.mergeAttrs?S.assignOrPush(C,k,O):s(C[h],k,O))}return C["#name"]=S.options.tagNameProcessors?a(S.options.tagNameProcessors,b.name):b.name,S.options.xmlns&&(C[S.options.xmlnskey]={uri:b.uri,local:b.local}),T.push(C)}}(this),this.saxParser.onclosetag=function(S){return function(){var b,E,O,C,k,A,I,D,F,Q;if(A=T.pop(),k=A["#name"],(!S.options.explicitChildren||!S.options.preserveChildrenOrder)&&delete A["#name"],A.cdata===!0&&(b=A.cdata,delete A.cdata),F=T[T.length-1],A[_].match(/^\s*$/)&&!b?(E=A[_],delete A[_]):(S.options.trim&&(A[_]=A[_].trim()),S.options.normalize&&(A[_]=A[_].replace(/\s{2,}/g," ").trim()),A[_]=S.options.valueProcessors?a(S.options.valueProcessors,A[_],k):A[_],Object.keys(A).length===1&&_ in A&&!S.EXPLICIT_CHARKEY&&(A=A[_])),u(A)&&(typeof S.options.emptyTag=="function"?A=S.options.emptyTag():A=S.options.emptyTag!==""?S.options.emptyTag:E),S.options.validator!=null&&(Q="/"+function(){var te,$,Z;for(Z=[],te=0,$=T.length;te<$;te++)C=T[te],Z.push(C["#name"]);return Z}().concat(k).join("/"),function(){var te;try{return A=S.options.validator(Q,F&&F[k],A)}catch($){return te=$,S.emit("error",te)}}()),S.options.explicitChildren&&!S.options.mergeAttrs&&typeof A=="object"){if(!S.options.preserveChildrenOrder)C={},S.options.attrkey in A&&(C[S.options.attrkey]=A[S.options.attrkey],delete A[S.options.attrkey]),!S.options.charsAsChildren&&S.options.charkey in A&&(C[S.options.charkey]=A[S.options.charkey],delete A[S.options.charkey]),Object.getOwnPropertyNames(A).length>0&&(C[S.options.childkey]=A),A=C;else if(F){F[S.options.childkey]=F[S.options.childkey]||[],I={};for(O in A)y.call(A,O)&&s(I,O,A[O]);F[S.options.childkey].push(I),delete A["#name"],Object.keys(A).length===1&&_ in A&&!S.EXPLICIT_CHARKEY&&(A=A[_])}}return T.length>0?S.assignOrPush(F,k,A):(S.options.explicitRoot&&(D=A,A={},s(A,k,D)),S.resultObject=A,S.saxParser.ended=!0,S.emit("end",S.resultObject))}}(this),j=function(S){return function(b){var E,O;if(O=T[T.length-1],O)return O[_]+=b,S.options.explicitChildren&&S.options.preserveChildrenOrder&&S.options.charsAsChildren&&(S.options.includeWhiteChars||b.replace(/\\n/g,"").trim()!=="")&&(O[S.options.childkey]=O[S.options.childkey]||[],E={"#name":"__text__"},E[_]=b,S.options.normalize&&(E[_]=E[_].replace(/\s{2,}/g," ").trim()),O[S.options.childkey].push(E)),O}}(this),this.saxParser.ontext=j,this.saxParser.oncdata=function(S){return function(b){var E;if(E=j(b),E)return E.cdata=!0}}()},g.prototype.parseString=function(h,_){var j;_!=null&&typeof _=="function"&&(this.on("end",function(T){return this.reset(),_(null,T)}),this.on("error",function(T){return this.reset(),_(T)}));try{return h=h.toString(),h.trim()===""?(this.emit("end",null),!0):(h=t.stripBOM(h),this.options.async?(this.remaining=h,c(this.processAsync),this.saxParser):this.saxParser.write(h).close())}catch(T){if(j=T,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw j}else return this.emit("error",j),this.saxParser.errThrown=!0}},g.prototype.parseStringPromise=function(h){return new Promise(function(_){return function(j,T){return _.parseString(h,function(S,b){return S?T(S):j(b)})}}(this))},g}(i),d.parseString=function(m,g,h){var _,j,T;return h!=null?(typeof h=="function"&&(_=h),typeof g=="object"&&(j=g)):(typeof g=="function"&&(_=g),j={}),T=new d.Parser(j),T.parseString(m,_)},d.parseStringPromise=function(m,g){var h,_;return typeof g=="object"&&(h=g),_=new d.Parser(h),_.parseStringPromise(m)}}).call(this)},{"./bom":491,"./defaults":493,"./processors":495,events:386,sax:465,timers:484}],495:[function(e,o,d){(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),d.normalize=function(r){return r.toLowerCase()},d.firstCharLowerCase=function(r){return r.charAt(0).toLowerCase()+r.slice(1)},d.stripPrefix=function(r){return r.replace(t,"")},d.parseNumbers=function(r){return isNaN(r)||(r=r%1===0?parseInt(r,10):parseFloat(r)),r},d.parseBooleans=function(r){return/^(?:true|false)$/i.test(r)&&(r=r.toLowerCase()==="true"),r}}).call(this)},{}],496:[function(e,o,d){(function(){var t,r,s,i,u=function(n,l){for(var c in l)a.call(l,c)&&(n[c]=l[c]);function f(){this.constructor=n}return f.prototype=l.prototype,n.prototype=new f,n.__super__=l.prototype,n},a={}.hasOwnProperty;r=e("./defaults"),t=e("./builder"),s=e("./parser"),i=e("./processors"),d.defaults=r.defaults,d.processors=i,d.ValidationError=function(n){u(l,n);function l(c){this.message=c}return l}(Error),d.Builder=t.Builder,d.Parser=s.Parser,d.parseString=s.parseString,d.parseStringPromise=s.parseStringPromise}).call(this)},{"./builder":492,"./defaults":493,"./parser":494,"./processors":495}],497:[function(e,o,d){(function(){o.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},{}],498:[function(e,o,d){(function(){o.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},{}],499:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l=[].slice,c={}.hasOwnProperty;t=function(){var f,p,y,m,g,h;if(h=arguments[0],g=2<=arguments.length?l.call(arguments,1):[],u(Object.assign))Object.assign.apply(null,arguments);else for(f=0,y=g.length;f<y;f++)if(m=g[f],m!=null)for(p in m)c.call(m,p)&&(h[p]=m[p]);return h},u=function(f){return!!f&&Object.prototype.toString.call(f)==="[object Function]"},a=function(f){var p;return!!f&&((p=typeof f)=="function"||p==="object")},s=function(f){return u(Array.isArray)?Array.isArray(f):Object.prototype.toString.call(f)==="[object Array]"},i=function(f){var p;if(s(f))return!f.length;for(p in f)if(c.call(f,p))return!1;return!0},n=function(f){var p,y;return a(f)&&(y=Object.getPrototypeOf(f))&&(p=y.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},r=function(f){return u(f.valueOf)?f.valueOf():f},o.exports.assign=t,o.exports.isFunction=u,o.exports.isObject=a,o.exports.isArray=s,o.exports.isEmpty=i,o.exports.isPlainObject=n,o.exports.getValue=r}).call(this)},{}],500:[function(e,o,d){(function(){o.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},{}],501:[function(e,o,d){(function(){var t;t=e("./NodeType"),e("./XMLNode"),o.exports=function(){function r(s,i,u){if(this.parent=s,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),i==null)throw new Error("Missing attribute name. "+this.debugInfo(i));this.name=this.stringify.name(i),this.value=this.stringify.attValue(u),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(r.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(r.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(r.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(r.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(r.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(r.prototype,"specified",{get:function(){return!0}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(s){return this.options.writer.attribute(this,this.options.writer.filterOptions(s))},r.prototype.debugInfo=function(s){return s=s||this.name,s==null?"parent: <"+this.parent.name+">":"attribute: {"+s+"}, parent: <"+this.parent.name+">"},r.prototype.isEqualNode=function(s){return!(s.namespaceURI!==this.namespaceURI||s.prefix!==this.prefix||s.localName!==this.localName||s.value!==this.value)},r}()}).call(this)},{"./NodeType":498,"./XMLNode":520}],502:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;t=e("./NodeType"),r=e("./XMLCharacterData"),o.exports=function(u){s(a,u);function a(n,l){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(l)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return this.options.writer.cdata(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLCharacterData":503}],503:[function(e,o,d){(function(){var t,r=function(i,u){for(var a in u)s.call(u,a)&&(i[a]=u[a]);function n(){this.constructor=i}return n.prototype=u.prototype,i.prototype=new n,i.__super__=u.prototype,i},s={}.hasOwnProperty;t=e("./XMLNode"),o.exports=function(i){r(u,i);function u(a){u.__super__.constructor.call(this,a),this.value=""}return Object.defineProperty(u.prototype,"data",{get:function(){return this.value},set:function(a){return this.value=a||""}}),Object.defineProperty(u.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(u.prototype,"textContent",{get:function(){return this.value},set:function(a){return this.value=a||""}}),u.prototype.clone=function(){return Object.create(this)},u.prototype.substringData=function(a,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.appendData=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.insertData=function(a,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.deleteData=function(a,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.replaceData=function(a,n,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},u.prototype.isEqualNode=function(a){return!(!u.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.data!==this.data)},u}(t)}).call(this)},{"./XMLNode":520}],504:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;t=e("./NodeType"),r=e("./XMLCharacterData"),o.exports=function(u){s(a,u);function a(n,l){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(l)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return this.options.writer.comment(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLCharacterData":503}],505:[function(e,o,d){(function(){var t,r;t=e("./XMLDOMErrorHandler"),r=e("./XMLDOMStringList"),o.exports=function(){function s(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(s.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),s.prototype.getParameter=function(i){return this.params.hasOwnProperty(i)?this.params[i]:null},s.prototype.canSetParameter=function(i,u){return!0},s.prototype.setParameter=function(i,u){return u!=null?this.params[i]=u:delete this.params[i]},s}()}).call(this)},{"./XMLDOMErrorHandler":506,"./XMLDOMStringList":508}],506:[function(e,o,d){(function(){o.exports=function(){function t(){}return t.prototype.handleError=function(r){throw new Error(r)},t}()}).call(this)},{}],507:[function(e,o,d){(function(){o.exports=function(){function t(){}return t.prototype.hasFeature=function(r,s){return!0},t.prototype.createDocumentType=function(r,s,i){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(r,s,i){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(r,s){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},{}],508:[function(e,o,d){(function(){o.exports=function(){function t(r){this.arr=r||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(r){return this.arr[r]||null},t.prototype.contains=function(r){return this.arr.indexOf(r)!==-1},t}()}).call(this)},{}],509:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(u){s(a,u);function a(n,l,c,f,p,y){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(c==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!f)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!p)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(p.indexOf("#")!==0&&(p="#"+p),!p.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(y&&!p.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(c),this.attributeType=this.stringify.dtdAttType(f),y&&(this.defaultValue=this.stringify.dtdAttDefault(y)),this.defaultValueType=p}return a.prototype.toString=function(n){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLNode":520}],510:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(u){s(a,u);function a(n,l,c){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());c||(c="(#PCDATA)"),Array.isArray(c)&&(c="("+c.join(",")+")"),this.name=this.stringify.name(l),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(c)}return a.prototype.toString=function(n){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLNode":520}],511:[function(e,o,d){(function(){var t,r,s,i=function(a,n){for(var l in n)u.call(n,l)&&(a[l]=n[l]);function c(){this.constructor=a}return c.prototype=n.prototype,a.prototype=new c,a.__super__=n.prototype,a},u={}.hasOwnProperty;s=e("./Utility").isObject,r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(a){i(n,a);function n(l,c,f,p){if(n.__super__.constructor.call(this,l),f==null)throw new Error("Missing DTD entity name. "+this.debugInfo(f));if(p==null)throw new Error("Missing DTD entity value. "+this.debugInfo(f));if(this.pe=!!c,this.name=this.stringify.name(f),this.type=t.EntityDeclaration,!s(p))this.value=this.stringify.dtdEntityValue(p),this.internal=!0;else{if(!p.pubID&&!p.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(f));if(p.pubID&&!p.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(f));if(this.internal=!1,p.pubID!=null&&(this.pubID=this.stringify.dtdPubID(p.pubID)),p.sysID!=null&&(this.sysID=this.stringify.dtdSysID(p.sysID)),p.nData!=null&&(this.nData=this.stringify.dtdNData(p.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(f))}}return Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},n}(r)}).call(this)},{"./NodeType":498,"./Utility":499,"./XMLNode":520}],512:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(u){s(a,u);function a(n,l,c){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!c.pubID&&!c.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=t.NotationDeclaration,c.pubID!=null&&(this.pubID=this.stringify.dtdPubID(c.pubID)),c.sysID!=null&&(this.sysID=this.stringify.dtdSysID(c.sysID))}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),a.prototype.toString=function(n){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLNode":520}],513:[function(e,o,d){(function(){var t,r,s,i=function(a,n){for(var l in n)u.call(n,l)&&(a[l]=n[l]);function c(){this.constructor=a}return c.prototype=n.prototype,a.prototype=new c,a.__super__=n.prototype,a},u={}.hasOwnProperty;s=e("./Utility").isObject,r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(a){i(n,a);function n(l,c,f,p){var y;n.__super__.constructor.call(this,l),s(c)&&(y=c,c=y.version,f=y.encoding,p=y.standalone),c||(c="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(c),f!=null&&(this.encoding=this.stringify.xmlEncoding(f)),p!=null&&(this.standalone=this.stringify.xmlStandalone(p))}return n.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},n}(r)}).call(this)},{"./NodeType":498,"./Utility":499,"./XMLNode":520}],514:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c=function(p,y){for(var m in y)f.call(y,m)&&(p[m]=y[m]);function g(){this.constructor=p}return g.prototype=y.prototype,p.prototype=new g,p.__super__=y.prototype,p},f={}.hasOwnProperty;l=e("./Utility").isObject,n=e("./XMLNode"),t=e("./NodeType"),r=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),s=e("./XMLDTDElement"),u=e("./XMLDTDNotation"),a=e("./XMLNamedNodeMap"),o.exports=function(p){c(y,p);function y(m,g,h){var _,j,T,S,b,E;if(y.__super__.constructor.call(this,m),this.type=t.DocType,m.children){for(S=m.children,j=0,T=S.length;j<T;j++)if(_=S[j],_.type===t.Element){this.name=_.name;break}}this.documentObject=m,l(g)&&(b=g,g=b.pubID,h=b.sysID),h==null&&(E=[g,h],h=E[0],g=E[1]),g!=null&&(this.pubID=this.stringify.dtdPubID(g)),h!=null&&(this.sysID=this.stringify.dtdSysID(h))}return Object.defineProperty(y.prototype,"entities",{get:function(){var m,g,h,_,j;for(_={},j=this.children,g=0,h=j.length;g<h;g++)m=j[g],m.type===t.EntityDeclaration&&!m.pe&&(_[m.name]=m);return new a(_)}}),Object.defineProperty(y.prototype,"notations",{get:function(){var m,g,h,_,j;for(_={},j=this.children,g=0,h=j.length;g<h;g++)m=j[g],m.type===t.NotationDeclaration&&(_[m.name]=m);return new a(_)}}),Object.defineProperty(y.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(y.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(y.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),y.prototype.element=function(m,g){var h;return h=new s(this,m,g),this.children.push(h),this},y.prototype.attList=function(m,g,h,_,j){var T;return T=new r(this,m,g,h,_,j),this.children.push(T),this},y.prototype.entity=function(m,g){var h;return h=new i(this,!1,m,g),this.children.push(h),this},y.prototype.pEntity=function(m,g){var h;return h=new i(this,!0,m,g),this.children.push(h),this},y.prototype.notation=function(m,g){var h;return h=new u(this,m,g),this.children.push(h),this},y.prototype.toString=function(m){return this.options.writer.docType(this,this.options.writer.filterOptions(m))},y.prototype.ele=function(m,g){return this.element(m,g)},y.prototype.att=function(m,g,h,_,j){return this.attList(m,g,h,_,j)},y.prototype.ent=function(m,g){return this.entity(m,g)},y.prototype.pent=function(m,g){return this.pEntity(m,g)},y.prototype.not=function(m,g){return this.notation(m,g)},y.prototype.up=function(){return this.root()||this.documentObject},y.prototype.isEqualNode=function(m){return!(!y.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.name!==this.name||m.publicId!==this.publicId||m.systemId!==this.systemId)},y}(n)}).call(this)},{"./NodeType":498,"./Utility":499,"./XMLDTDAttList":509,"./XMLDTDElement":510,"./XMLDTDEntity":511,"./XMLDTDNotation":512,"./XMLNamedNodeMap":519,"./XMLNode":520}],515:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l=function(f,p){for(var y in p)c.call(p,y)&&(f[y]=p[y]);function m(){this.constructor=f}return m.prototype=p.prototype,f.prototype=new m,f.__super__=p.prototype,f},c={}.hasOwnProperty;n=e("./Utility").isPlainObject,s=e("./XMLDOMImplementation"),r=e("./XMLDOMConfiguration"),i=e("./XMLNode"),t=e("./NodeType"),a=e("./XMLStringifier"),u=e("./XMLStringWriter"),o.exports=function(f){l(p,f);function p(y){p.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new r,y||(y={}),y.writer||(y.writer=new u),this.options=y,this.stringify=new a(y)}return Object.defineProperty(p.prototype,"implementation",{value:new s}),Object.defineProperty(p.prototype,"doctype",{get:function(){var y,m,g,h;for(h=this.children,m=0,g=h.length;m<g;m++)if(y=h[m],y.type===t.DocType)return y;return null}}),Object.defineProperty(p.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(p.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(p.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(p.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(p.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(p.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(p.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(p.prototype,"origin",{get:function(){return null}}),Object.defineProperty(p.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(p.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(p.prototype,"contentType",{get:function(){return null}}),p.prototype.end=function(y){var m;return m={},y?n(y)&&(m=y,y=this.options.writer):y=this.options.writer,y.document(this,y.filterOptions(m))},p.prototype.toString=function(y){return this.options.writer.document(this,this.options.writer.filterOptions(y))},p.prototype.createElement=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTextNode=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createComment=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createCDATASection=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createProcessingInstruction=function(y,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttribute=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEntityReference=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.importNode=function(y,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createElementNS=function(y,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttributeNS=function(y,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(y,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementById=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.adoptNode=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.renameNode=function(y,m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByClassName=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEvent=function(y){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createNodeIterator=function(y,m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTreeWalker=function(y,m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p}(i)}).call(this)},{"./NodeType":498,"./Utility":499,"./XMLDOMConfiguration":505,"./XMLDOMImplementation":507,"./XMLNode":520,"./XMLStringWriter":525,"./XMLStringifier":526}],516:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c,f,p,y,m,g,h,_,j,T,S,b,E,O,C,k={}.hasOwnProperty;C=e("./Utility"),E=C.isObject,b=C.isFunction,O=C.isPlainObject,S=C.getValue,t=e("./NodeType"),y=e("./XMLDocument"),m=e("./XMLElement"),i=e("./XMLCData"),u=e("./XMLComment"),h=e("./XMLRaw"),T=e("./XMLText"),g=e("./XMLProcessingInstruction"),f=e("./XMLDeclaration"),p=e("./XMLDocType"),a=e("./XMLDTDAttList"),l=e("./XMLDTDEntity"),n=e("./XMLDTDElement"),c=e("./XMLDTDNotation"),s=e("./XMLAttribute"),j=e("./XMLStringifier"),_=e("./XMLStringWriter"),r=e("./WriterState"),o.exports=function(){function A(I,D,F){var Q;this.name="?xml",this.type=t.Document,I||(I={}),Q={},I.writer?O(I.writer)&&(Q=I.writer,I.writer=new _):I.writer=new _,this.options=I,this.writer=I.writer,this.writerOptions=this.writer.filterOptions(Q),this.stringify=new j(I),this.onDataCallback=D||function(){},this.onEndCallback=F||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return A.prototype.createChildNode=function(I){var D,F,Q,te,$,Z,ne,ie;switch(I.type){case t.CData:this.cdata(I.value);break;case t.Comment:this.comment(I.value);break;case t.Element:Q={},ne=I.attribs;for(F in ne)k.call(ne,F)&&(D=ne[F],Q[F]=D.value);this.node(I.name,Q);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(I.value);break;case t.Text:this.text(I.value);break;case t.ProcessingInstruction:this.instruction(I.target,I.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+I.constructor.name)}for(ie=I.children,$=0,Z=ie.length;$<Z;$++)te=ie[$],this.createChildNode(te),te.type===t.Element&&this.up();return this},A.prototype.dummy=function(){return this},A.prototype.node=function(I,D,F){var Q;if(I==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(I));return this.openCurrent(),I=S(I),D==null&&(D={}),D=S(D),E(D)||(Q=[D,F],F=Q[0],D=Q[1]),this.currentNode=new m(this,I,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,F!=null&&this.text(F),this},A.prototype.element=function(I,D,F){var Q,te,$,Z,ne,ie;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(I)||E(I)||b(I))for(Z=this.options.noValidation,this.options.noValidation=!0,ie=new y(this.options).element("TEMP_ROOT"),ie.element(I),this.options.noValidation=Z,ne=ie.children,te=0,$=ne.length;te<$;te++)Q=ne[te],this.createChildNode(Q),Q.type===t.Element&&this.up();else this.node(I,D,F);return this},A.prototype.attribute=function(I,D){var F,Q;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(I));if(I!=null&&(I=S(I)),E(I))for(F in I)k.call(I,F)&&(Q=I[F],this.attribute(F,Q));else b(D)&&(D=D.apply()),this.options.keepNullAttributes&&D==null?this.currentNode.attribs[I]=new s(this,I,""):D!=null&&(this.currentNode.attribs[I]=new s(this,I,D));return this},A.prototype.text=function(I){var D;return this.openCurrent(),D=new T(this,I),this.onData(this.writer.text(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.cdata=function(I){var D;return this.openCurrent(),D=new i(this,I),this.onData(this.writer.cdata(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.comment=function(I){var D;return this.openCurrent(),D=new u(this,I),this.onData(this.writer.comment(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.raw=function(I){var D;return this.openCurrent(),D=new h(this,I),this.onData(this.writer.raw(D,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.instruction=function(I,D){var F,Q,te,$,Z;if(this.openCurrent(),I!=null&&(I=S(I)),D!=null&&(D=S(D)),Array.isArray(I))for(F=0,$=I.length;F<$;F++)Q=I[F],this.instruction(Q);else if(E(I))for(Q in I)k.call(I,Q)&&(te=I[Q],this.instruction(Q,te));else b(D)&&(D=D.apply()),Z=new g(this,I,D),this.onData(this.writer.processingInstruction(Z,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},A.prototype.declaration=function(I,D,F){var Q;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return Q=new f(this,I,D,F),this.onData(this.writer.declaration(Q,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.doctype=function(I,D,F){if(this.openCurrent(),I==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,D,F),this.currentNode.rootNodeName=I,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},A.prototype.dtdElement=function(I,D){var F;return this.openCurrent(),F=new n(this,I,D),this.onData(this.writer.dtdElement(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.attList=function(I,D,F,Q,te){var $;return this.openCurrent(),$=new a(this,I,D,F,Q,te),this.onData(this.writer.dtdAttList($,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.entity=function(I,D){var F;return this.openCurrent(),F=new l(this,!1,I,D),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.pEntity=function(I,D){var F;return this.openCurrent(),F=new l(this,!0,I,D),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.notation=function(I,D){var F;return this.openCurrent(),F=new c(this,I,D),this.onData(this.writer.dtdNotation(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},A.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},A.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},A.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},A.prototype.openNode=function(I){var D,F,Q,te;if(!I.isOpen){if(!this.root&&this.currentLevel===0&&I.type===t.Element&&(this.root=I),F="",I.type===t.Element){this.writerOptions.state=r.OpenTag,F=this.writer.indent(I,this.writerOptions,this.currentLevel)+"<"+I.name,te=I.attribs;for(Q in te)k.call(te,Q)&&(D=te[Q],F+=this.writer.attribute(D,this.writerOptions,this.currentLevel));F+=(I.children?">":"/>")+this.writer.endline(I,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,F=this.writer.indent(I,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+I.rootNodeName,I.pubID&&I.sysID?F+=' PUBLIC "'+I.pubID+'" "'+I.sysID+'"':I.sysID&&(F+=' SYSTEM "'+I.sysID+'"'),I.children?(F+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,F+=">"),F+=this.writer.endline(I,this.writerOptions,this.currentLevel);return this.onData(F,this.currentLevel),I.isOpen=!0}},A.prototype.closeNode=function(I){var D;if(!I.isClosed)return D="",this.writerOptions.state=r.CloseTag,I.type===t.Element?D=this.writer.indent(I,this.writerOptions,this.currentLevel)+"</"+I.name+">"+this.writer.endline(I,this.writerOptions,this.currentLevel):D=this.writer.indent(I,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(I,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(D,this.currentLevel),I.isClosed=!0},A.prototype.onData=function(I,D){return this.documentStarted=!0,this.onDataCallback(I,D+1)},A.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},A.prototype.debugInfo=function(I){return I==null?"":"node: <"+I+">"},A.prototype.ele=function(){return this.element.apply(this,arguments)},A.prototype.nod=function(I,D,F){return this.node(I,D,F)},A.prototype.txt=function(I){return this.text(I)},A.prototype.dat=function(I){return this.cdata(I)},A.prototype.com=function(I){return this.comment(I)},A.prototype.ins=function(I,D){return this.instruction(I,D)},A.prototype.dec=function(I,D,F){return this.declaration(I,D,F)},A.prototype.dtd=function(I,D,F){return this.doctype(I,D,F)},A.prototype.e=function(I,D,F){return this.element(I,D,F)},A.prototype.n=function(I,D,F){return this.node(I,D,F)},A.prototype.t=function(I){return this.text(I)},A.prototype.d=function(I){return this.cdata(I)},A.prototype.c=function(I){return this.comment(I)},A.prototype.r=function(I){return this.raw(I)},A.prototype.i=function(I,D){return this.instruction(I,D)},A.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},A.prototype.ent=function(I,D){return this.entity(I,D)},A.prototype.pent=function(I,D){return this.pEntity(I,D)},A.prototype.not=function(I,D){return this.notation(I,D)},A}()}).call(this)},{"./NodeType":498,"./Utility":499,"./WriterState":500,"./XMLAttribute":501,"./XMLCData":502,"./XMLComment":504,"./XMLDTDAttList":509,"./XMLDTDElement":510,"./XMLDTDEntity":511,"./XMLDTDNotation":512,"./XMLDeclaration":513,"./XMLDocType":514,"./XMLDocument":515,"./XMLElement":518,"./XMLProcessingInstruction":522,"./XMLRaw":523,"./XMLStringWriter":525,"./XMLStringifier":526,"./XMLText":527}],517:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;r=e("./XMLNode"),t=e("./NodeType"),o.exports=function(u){s(a,u);function a(n){a.__super__.constructor.call(this,n),this.type=t.Dummy}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return""},a}(r)}).call(this)},{"./NodeType":498,"./XMLNode":520}],518:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c=function(p,y){for(var m in y)f.call(y,m)&&(p[m]=y[m]);function g(){this.constructor=p}return g.prototype=y.prototype,p.prototype=new g,p.__super__=y.prototype,p},f={}.hasOwnProperty;l=e("./Utility"),n=l.isObject,a=l.isFunction,u=l.getValue,i=e("./XMLNode"),t=e("./NodeType"),r=e("./XMLAttribute"),s=e("./XMLNamedNodeMap"),o.exports=function(p){c(y,p);function y(m,g,h){var _,j,T,S;if(y.__super__.constructor.call(this,m),g==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(g),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,h!=null&&this.attribute(h),m.type===t.Document&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this,m.children)){for(S=m.children,j=0,T=S.length;j<T;j++)if(_=S[j],_.type===t.DocType){_.name=this.name;break}}}return Object.defineProperty(y.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(y.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(y.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(y.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(y.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(y.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(y.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(y.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new s(this.attribs)),this.attributeMap}}),y.prototype.clone=function(){var m,g,h,_;h=Object.create(this),h.isRoot&&(h.documentObject=null),h.attribs={},_=this.attribs;for(g in _)f.call(_,g)&&(m=_[g],h.attribs[g]=m.clone());return h.children=[],this.children.forEach(function(j){var T;return T=j.clone(),T.parent=h,h.children.push(T)}),h},y.prototype.attribute=function(m,g){var h,_;if(m!=null&&(m=u(m)),n(m))for(h in m)f.call(m,h)&&(_=m[h],this.attribute(h,_));else a(g)&&(g=g.apply()),this.options.keepNullAttributes&&g==null?this.attribs[m]=new r(this,m,""):g!=null&&(this.attribs[m]=new r(this,m,g));return this},y.prototype.removeAttribute=function(m){var g,h,_;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=u(m),Array.isArray(m))for(h=0,_=m.length;h<_;h++)g=m[h],delete this.attribs[g];else delete this.attribs[m];return this},y.prototype.toString=function(m){return this.options.writer.element(this,this.options.writer.filterOptions(m))},y.prototype.att=function(m,g){return this.attribute(m,g)},y.prototype.a=function(m,g){return this.attribute(m,g)},y.prototype.getAttribute=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m].value:null},y.prototype.setAttribute=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getAttributeNode=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m]:null},y.prototype.setAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.removeAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getAttributeNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.setAttributeNS=function(m,g,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.removeAttributeNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getAttributeNodeNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.setAttributeNodeNS=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getElementsByTagNameNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.hasAttribute=function(m){return this.attribs.hasOwnProperty(m)},y.prototype.hasAttributeNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.setIdAttribute=function(m,g){return this.attribs.hasOwnProperty(m)?this.attribs[m].isId:g},y.prototype.setIdAttributeNS=function(m,g,h){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.setIdAttributeNode=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getElementsByTagNameNS=function(m,g){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},y.prototype.isEqualNode=function(m){var g,h,_;if(!y.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.namespaceURI!==this.namespaceURI||m.prefix!==this.prefix||m.localName!==this.localName||m.attribs.length!==this.attribs.length)return!1;for(g=h=0,_=this.attribs.length-1;0<=_?h<=_:h>=_;g=0<=_?++h:--h)if(!this.attribs[g].isEqualNode(m.attribs[g]))return!1;return!0},y}(i)}).call(this)},{"./NodeType":498,"./Utility":499,"./XMLAttribute":501,"./XMLNamedNodeMap":519,"./XMLNode":520}],519:[function(e,o,d){(function(){o.exports=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(r){return this.nodes[r]},t.prototype.setNamedItem=function(r){var s;return s=this.nodes[r.nodeName],this.nodes[r.nodeName]=r,s||null},t.prototype.removeNamedItem=function(r){var s;return s=this.nodes[r],delete this.nodes[r],s||null},t.prototype.item=function(r){return this.nodes[Object.keys(this.nodes)[r]]||null},t.prototype.getNamedItemNS=function(r,s){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(r,s){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},{}],520:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c,f,p,y,m,g,h,_,j,T={}.hasOwnProperty;j=e("./Utility"),_=j.isObject,h=j.isFunction,g=j.isEmpty,m=j.getValue,l=null,s=null,i=null,u=null,a=null,p=null,y=null,f=null,n=null,r=null,c=null,t=null,o.exports=function(){function S(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=e("./XMLElement"),s=e("./XMLCData"),i=e("./XMLComment"),u=e("./XMLDeclaration"),a=e("./XMLDocType"),p=e("./XMLRaw"),y=e("./XMLText"),f=e("./XMLProcessingInstruction"),n=e("./XMLDummy"),r=e("./NodeType"),c=e("./XMLNodeList"),e("./XMLNamedNodeMap"),t=e("./DocumentPosition"))}return Object.defineProperty(S.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(S.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(S.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(S.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(S.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(S.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){var b;return b=this.parent.children.indexOf(this),this.parent.children[b-1]||null}}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){var b;return b=this.parent.children.indexOf(this),this.parent.children[b+1]||null}}),Object.defineProperty(S.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(S.prototype,"textContent",{get:function(){var b,E,O,C,k;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(k="",C=this.children,E=0,O=C.length;E<O;E++)b=C[E],b.textContent&&(k+=b.textContent);return k}else return null},set:function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),S.prototype.setParent=function(b){var E,O,C,k,A;for(this.parent=b,b&&(this.options=b.options,this.stringify=b.stringify),k=this.children,A=[],O=0,C=k.length;O<C;O++)E=k[O],A.push(E.setParent(this));return A},S.prototype.element=function(b,E,O){var C,k,A,I,D,F,Q,te,$,Z,ne;if(F=null,E===null&&O==null&&($=[{},null],E=$[0],O=$[1]),E==null&&(E={}),E=m(E),_(E)||(Z=[E,O],O=Z[0],E=Z[1]),b!=null&&(b=m(b)),Array.isArray(b))for(A=0,Q=b.length;A<Q;A++)k=b[A],F=this.element(k);else if(h(b))F=this.element(b.apply());else if(_(b)){for(D in b)if(T.call(b,D))if(ne=b[D],h(ne)&&(ne=ne.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)F=this.attribute(D.substr(this.stringify.convertAttKey.length),ne);else if(!this.options.separateArrayItems&&Array.isArray(ne)&&g(ne))F=this.dummy();else if(_(ne)&&g(ne))F=this.element(D);else if(!this.options.keepNullNodes&&ne==null)F=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(ne))for(I=0,te=ne.length;I<te;I++)k=ne[I],C={},C[D]=k,F=this.element(C);else _(ne)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&D.indexOf(this.stringify.convertTextKey)===0?F=this.element(ne):(F=this.element(D),F.element(ne)):F=this.element(D,ne)}else!this.options.keepNullNodes&&O===null?F=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?F=this.text(O):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?F=this.cdata(O):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?F=this.comment(O):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?F=this.raw(O):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?F=this.instruction(b.substr(this.stringify.convertPIKey.length),O):F=this.node(b,E,O);if(F==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return F},S.prototype.insertBefore=function(b,E,O){var C,k,A,I,D;if(b!=null&&b.type)return A=b,I=E,A.setParent(this),I?(k=children.indexOf(I),D=children.splice(k),children.push(A),Array.prototype.push.apply(children,D)):children.push(A),A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return k=this.parent.children.indexOf(this),D=this.parent.children.splice(k),C=this.parent.element(b,E,O),Array.prototype.push.apply(this.parent.children,D),C},S.prototype.insertAfter=function(b,E,O){var C,k,A;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return k=this.parent.children.indexOf(this),A=this.parent.children.splice(k+1),C=this.parent.element(b,E,O),Array.prototype.push.apply(this.parent.children,A),C},S.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},S.prototype.node=function(b,E,O){var C,k;return b!=null&&(b=m(b)),E||(E={}),E=m(E),_(E)||(k=[E,O],O=k[0],E=k[1]),C=new l(this,b,E),O!=null&&C.text(O),this.children.push(C),C},S.prototype.text=function(b){var E;return _(b)&&this.element(b),E=new y(this,b),this.children.push(E),this},S.prototype.cdata=function(b){var E;return E=new s(this,b),this.children.push(E),this},S.prototype.comment=function(b){var E;return E=new i(this,b),this.children.push(E),this},S.prototype.commentBefore=function(b){var E,O;return E=this.parent.children.indexOf(this),O=this.parent.children.splice(E),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,O),this},S.prototype.commentAfter=function(b){var E,O;return E=this.parent.children.indexOf(this),O=this.parent.children.splice(E+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,O),this},S.prototype.raw=function(b){var E;return E=new p(this,b),this.children.push(E),this},S.prototype.dummy=function(){var b;return b=new n(this),b},S.prototype.instruction=function(b,E){var O,C,k,A,I;if(b!=null&&(b=m(b)),E!=null&&(E=m(E)),Array.isArray(b))for(A=0,I=b.length;A<I;A++)O=b[A],this.instruction(O);else if(_(b))for(O in b)T.call(b,O)&&(C=b[O],this.instruction(O,C));else h(E)&&(E=E.apply()),k=new f(this,b,E),this.children.push(k);return this},S.prototype.instructionBefore=function(b,E){var O,C;return O=this.parent.children.indexOf(this),C=this.parent.children.splice(O),this.parent.instruction(b,E),Array.prototype.push.apply(this.parent.children,C),this},S.prototype.instructionAfter=function(b,E){var O,C;return O=this.parent.children.indexOf(this),C=this.parent.children.splice(O+1),this.parent.instruction(b,E),Array.prototype.push.apply(this.parent.children,C),this},S.prototype.declaration=function(b,E,O){var C,k;return C=this.document(),k=new u(C,b,E,O),C.children.length===0?C.children.unshift(k):C.children[0].type===r.Declaration?C.children[0]=k:C.children.unshift(k),C.root()||C},S.prototype.dtd=function(b,E){var O,C,k,A,I,D,F,Q,te,$;for(C=this.document(),k=new a(C,b,E),te=C.children,A=I=0,F=te.length;I<F;A=++I)if(O=te[A],O.type===r.DocType)return C.children[A]=k,k;for($=C.children,A=D=0,Q=$.length;D<Q;A=++D)if(O=$[A],O.isRoot)return C.children.splice(A,0,k),k;return C.children.push(k),k},S.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},S.prototype.root=function(){var b;for(b=this;b;){if(b.type===r.Document)return b.rootObject;if(b.isRoot)return b;b=b.parent}},S.prototype.document=function(){var b;for(b=this;b;){if(b.type===r.Document)return b;b=b.parent}},S.prototype.end=function(b){return this.document().end(b)},S.prototype.prev=function(){var b;if(b=this.parent.children.indexOf(this),b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},S.prototype.next=function(){var b;if(b=this.parent.children.indexOf(this),b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},S.prototype.importDocument=function(b){var E;return E=b.root().clone(),E.parent=this,E.isRoot=!1,this.children.push(E),this},S.prototype.debugInfo=function(b){var E,O;return b=b||this.name,b==null&&!((E=this.parent)!=null&&E.name)?"":b==null?"parent: <"+this.parent.name+">":(O=this.parent)!=null&&O.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},S.prototype.ele=function(b,E,O){return this.element(b,E,O)},S.prototype.nod=function(b,E,O){return this.node(b,E,O)},S.prototype.txt=function(b){return this.text(b)},S.prototype.dat=function(b){return this.cdata(b)},S.prototype.com=function(b){return this.comment(b)},S.prototype.ins=function(b,E){return this.instruction(b,E)},S.prototype.doc=function(){return this.document()},S.prototype.dec=function(b,E,O){return this.declaration(b,E,O)},S.prototype.e=function(b,E,O){return this.element(b,E,O)},S.prototype.n=function(b,E,O){return this.node(b,E,O)},S.prototype.t=function(b){return this.text(b)},S.prototype.d=function(b){return this.cdata(b)},S.prototype.c=function(b){return this.comment(b)},S.prototype.r=function(b){return this.raw(b)},S.prototype.i=function(b,E){return this.instruction(b,E)},S.prototype.u=function(){return this.up()},S.prototype.importXMLBuilder=function(b){return this.importDocument(b)},S.prototype.replaceChild=function(b,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.removeChild=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.appendChild=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.hasChildNodes=function(){return this.children.length!==0},S.prototype.cloneNode=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.isSupported=function(b,E){return!0},S.prototype.hasAttributes=function(){return this.attribs.length!==0},S.prototype.compareDocumentPosition=function(b){var E,O;return E=this,E===b?0:this.document()!==b.document()?(O=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?O|=t.Preceding:O|=t.Following,O):E.isAncestor(b)?t.Contains|t.Preceding:E.isDescendant(b)?t.Contains|t.Following:E.isPreceding(b)?t.Preceding:t.Following},S.prototype.isSameNode=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.lookupPrefix=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.isDefaultNamespace=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.lookupNamespaceURI=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.isEqualNode=function(b){var E,O,C;if(b.nodeType!==this.nodeType||b.children.length!==this.children.length)return!1;for(E=O=0,C=this.children.length-1;0<=C?O<=C:O>=C;E=0<=C?++O:--O)if(!this.children[E].isEqualNode(b.children[E]))return!1;return!0},S.prototype.getFeature=function(b,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.setUserData=function(b,E,O){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.getUserData=function(b){throw new Error("This DOM method is not implemented."+this.debugInfo())},S.prototype.contains=function(b){return b?b===this||this.isDescendant(b):!1},S.prototype.isDescendant=function(b){var E,O,C,k,A;for(A=this.children,C=0,k=A.length;C<k;C++)if(E=A[C],b===E||(O=E.isDescendant(b),O))return!0;return!1},S.prototype.isAncestor=function(b){return b.isDescendant(this)},S.prototype.isPreceding=function(b){var E,O;return E=this.treePosition(b),O=this.treePosition(this),E===-1||O===-1?!1:E<O},S.prototype.isFollowing=function(b){var E,O;return E=this.treePosition(b),O=this.treePosition(this),E===-1||O===-1?!1:E>O},S.prototype.treePosition=function(b){var E,O;return O=0,E=!1,this.foreachTreeNode(this.document(),function(C){if(O++,!E&&C===b)return E=!0}),E?O:-1},S.prototype.foreachTreeNode=function(b,E){var O,C,k,A,I;for(b||(b=this.document()),A=b.children,C=0,k=A.length;C<k;C++){if(O=A[C],I=E(O))return I;if(I=this.foreachTreeNode(O,E),I)return I}},S}()}).call(this)},{"./DocumentPosition":497,"./NodeType":498,"./Utility":499,"./XMLCData":502,"./XMLComment":504,"./XMLDeclaration":513,"./XMLDocType":514,"./XMLDummy":517,"./XMLElement":518,"./XMLNamedNodeMap":519,"./XMLNodeList":521,"./XMLProcessingInstruction":522,"./XMLRaw":523,"./XMLText":527}],521:[function(e,o,d){(function(){o.exports=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(r){return this.nodes[r]||null},t}()}).call(this)},{}],522:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;t=e("./NodeType"),r=e("./XMLCharacterData"),o.exports=function(u){s(a,u);function a(n,l,c){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,c&&(this.value=this.stringify.insValue(c))}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(n))},a.prototype.isEqualNode=function(n){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(n)||n.target!==this.target)},a}(r)}).call(this)},{"./NodeType":498,"./XMLCharacterData":503}],523:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;t=e("./NodeType"),r=e("./XMLNode"),o.exports=function(u){s(a,u);function a(n,l){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(l)}return a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return this.options.writer.raw(this,this.options.writer.filterOptions(n))},a}(r)}).call(this)},{"./NodeType":498,"./XMLNode":520}],524:[function(e,o,d){(function(){var t,r,s,i=function(a,n){for(var l in n)u.call(n,l)&&(a[l]=n[l]);function c(){this.constructor=a}return c.prototype=n.prototype,a.prototype=new c,a.__super__=n.prototype,a},u={}.hasOwnProperty;t=e("./NodeType"),s=e("./XMLWriterBase"),r=e("./WriterState"),o.exports=function(a){i(n,a);function n(l,c){this.stream=l,n.__super__.constructor.call(this,c)}return n.prototype.endline=function(l,c,f){return l.isLastRootNode&&c.state===r.CloseTag?"":n.__super__.endline.call(this,l,c,f)},n.prototype.document=function(l,c){var f,p,y,m,g,h,_,j,T;for(_=l.children,p=y=0,g=_.length;y<g;p=++y)f=_[p],f.isLastRootNode=p===l.children.length-1;for(c=this.filterOptions(c),j=l.children,T=[],m=0,h=j.length;m<h;m++)f=j[m],T.push(this.writeChildNode(f,c,0));return T},n.prototype.attribute=function(l,c,f){return this.stream.write(n.__super__.attribute.call(this,l,c,f))},n.prototype.cdata=function(l,c,f){return this.stream.write(n.__super__.cdata.call(this,l,c,f))},n.prototype.comment=function(l,c,f){return this.stream.write(n.__super__.comment.call(this,l,c,f))},n.prototype.declaration=function(l,c,f){return this.stream.write(n.__super__.declaration.call(this,l,c,f))},n.prototype.docType=function(l,c,f){var p,y,m,g;if(f||(f=0),this.openNode(l,c,f),c.state=r.OpenTag,this.stream.write(this.indent(l,c,f)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,c,f)),c.state=r.InsideTag,g=l.children,y=0,m=g.length;y<m;y++)p=g[y],this.writeChildNode(p,c,f+1);c.state=r.CloseTag,this.stream.write("]")}return c.state=r.CloseTag,this.stream.write(c.spaceBeforeSlash+">"),this.stream.write(this.endline(l,c,f)),c.state=r.None,this.closeNode(l,c,f)},n.prototype.element=function(l,c,f){var p,y,m,g,h,_,j,T,S;f||(f=0),this.openNode(l,c,f),c.state=r.OpenTag,this.stream.write(this.indent(l,c,f)+"<"+l.name),T=l.attribs;for(j in T)u.call(T,j)&&(p=T[j],this.attribute(p,c,f));if(m=l.children.length,g=m===0?null:l.children[0],m===0||l.children.every(function(b){return(b.type===t.Text||b.type===t.Raw)&&b.value===""}))c.allowEmpty?(this.stream.write(">"),c.state=r.CloseTag,this.stream.write("</"+l.name+">")):(c.state=r.CloseTag,this.stream.write(c.spaceBeforeSlash+"/>"));else if(c.pretty&&m===1&&(g.type===t.Text||g.type===t.Raw)&&g.value!=null)this.stream.write(">"),c.state=r.InsideTag,c.suppressPrettyCount++,this.writeChildNode(g,c,f+1),c.suppressPrettyCount--,c.state=r.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,c,f)),c.state=r.InsideTag,S=l.children,h=0,_=S.length;h<_;h++)y=S[h],this.writeChildNode(y,c,f+1);c.state=r.CloseTag,this.stream.write(this.indent(l,c,f)+"</"+l.name+">")}return this.stream.write(this.endline(l,c,f)),c.state=r.None,this.closeNode(l,c,f)},n.prototype.processingInstruction=function(l,c,f){return this.stream.write(n.__super__.processingInstruction.call(this,l,c,f))},n.prototype.raw=function(l,c,f){return this.stream.write(n.__super__.raw.call(this,l,c,f))},n.prototype.text=function(l,c,f){return this.stream.write(n.__super__.text.call(this,l,c,f))},n.prototype.dtdAttList=function(l,c,f){return this.stream.write(n.__super__.dtdAttList.call(this,l,c,f))},n.prototype.dtdElement=function(l,c,f){return this.stream.write(n.__super__.dtdElement.call(this,l,c,f))},n.prototype.dtdEntity=function(l,c,f){return this.stream.write(n.__super__.dtdEntity.call(this,l,c,f))},n.prototype.dtdNotation=function(l,c,f){return this.stream.write(n.__super__.dtdNotation.call(this,l,c,f))},n}(s)}).call(this)},{"./NodeType":498,"./WriterState":500,"./XMLWriterBase":528}],525:[function(e,o,d){(function(){var t,r=function(i,u){for(var a in u)s.call(u,a)&&(i[a]=u[a]);function n(){this.constructor=i}return n.prototype=u.prototype,i.prototype=new n,i.__super__=u.prototype,i},s={}.hasOwnProperty;t=e("./XMLWriterBase"),o.exports=function(i){r(u,i);function u(a){u.__super__.constructor.call(this,a)}return u.prototype.document=function(a,n){var l,c,f,p,y;for(n=this.filterOptions(n),p="",y=a.children,c=0,f=y.length;c<f;c++)l=y[c],p+=this.writeChildNode(l,n,0);return n.pretty&&p.slice(-n.newline.length)===n.newline&&(p=p.slice(0,-n.newline.length)),p},u}(t)}).call(this)},{"./XMLWriterBase":528}],526:[function(e,o,d){(function(){var t=function(s,i){return function(){return s.apply(i,arguments)}},r={}.hasOwnProperty;o.exports=function(){function s(i){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var u,a,n;i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),a=i.stringify||{};for(u in a)r.call(a,u)&&(n=a[u],this[u]=n)}return s.prototype.name=function(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")},s.prototype.text=function(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))},s.prototype.cdata=function(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))},s.prototype.comment=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},s.prototype.raw=function(i){return this.options.noValidation?i:""+i||""},s.prototype.attValue=function(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))},s.prototype.insTarget=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.insValue=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)},s.prototype.xmlVersion=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},s.prototype.xmlEncoding=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)},s.prototype.xmlStandalone=function(i){return this.options.noValidation?i:i?"yes":"no"},s.prototype.dtdPubID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdSysID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdElementValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdAttType=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdAttDefault=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdEntityValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.dtdNData=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},s.prototype.convertAttKey="@",s.prototype.convertPIKey="?",s.prototype.convertTextKey="#text",s.prototype.convertCDataKey="#cdata",s.prototype.convertCommentKey="#comment",s.prototype.convertRawKey="#raw",s.prototype.assertLegalChar=function(i){var u,a;if(this.options.noValidation)return i;if(u="",this.options.version==="1.0"){if(u=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=i.match(u))throw new Error("Invalid character in string: "+i+" at index "+a.index)}else if(this.options.version==="1.1"&&(u=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,a=i.match(u)))throw new Error("Invalid character in string: "+i+" at index "+a.index);return i},s.prototype.assertLegalName=function(i){var u;if(this.options.noValidation)return i;if(this.assertLegalChar(i),u=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(u))throw new Error("Invalid character in name");return i},s.prototype.textEscape=function(i){var u;return this.options.noValidation?i:(u=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(u,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},s.prototype.attEscape=function(i){var u;return this.options.noValidation?i:(u=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(u,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},s}()}).call(this)},{}],527:[function(e,o,d){(function(){var t,r,s=function(u,a){for(var n in a)i.call(a,n)&&(u[n]=a[n]);function l(){this.constructor=u}return l.prototype=a.prototype,u.prototype=new l,u.__super__=a.prototype,u},i={}.hasOwnProperty;t=e("./NodeType"),r=e("./XMLCharacterData"),o.exports=function(u){s(a,u);function a(n,l){if(a.__super__.constructor.call(this,n),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(l)}return Object.defineProperty(a.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(a.prototype,"wholeText",{get:function(){var n,l,c;for(c="",l=this.previousSibling;l;)c=l.data+c,l=l.previousSibling;for(c+=this.data,n=this.nextSibling;n;)c=c+n.data,n=n.nextSibling;return c}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.toString=function(n){return this.options.writer.text(this,this.options.writer.filterOptions(n))},a.prototype.splitText=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceWholeText=function(n){throw new Error("This DOM method is not implemented."+this.debugInfo())},a}(r)}).call(this)},{"./NodeType":498,"./XMLCharacterData":503}],528:[function(e,o,d){(function(){var t,r,s,i={}.hasOwnProperty;s=e("./Utility").assign,t=e("./NodeType"),e("./XMLDeclaration"),e("./XMLDocType"),e("./XMLCData"),e("./XMLComment"),e("./XMLElement"),e("./XMLRaw"),e("./XMLText"),e("./XMLProcessingInstruction"),e("./XMLDummy"),e("./XMLDTDAttList"),e("./XMLDTDElement"),e("./XMLDTDEntity"),e("./XMLDTDNotation"),r=e("./WriterState"),o.exports=function(){function u(a){var n,l,c;a||(a={}),this.options=a,l=a.writer||{};for(n in l)i.call(l,n)&&(c=l[n],this["_"+n]=this[n],this[n]=c)}return u.prototype.filterOptions=function(a){var n,l,c,f,p,y,m,g;return a||(a={}),a=s({},this.options,a),n={writer:this},n.pretty=a.pretty||!1,n.allowEmpty=a.allowEmpty||!1,n.indent=(l=a.indent)!=null?l:"  ",n.newline=(c=a.newline)!=null?c:`
`,n.offset=(f=a.offset)!=null?f:0,n.dontPrettyTextNodes=(p=(y=a.dontPrettyTextNodes)!=null?y:a.dontprettytextnodes)!=null?p:0,n.spaceBeforeSlash=(m=(g=a.spaceBeforeSlash)!=null?g:a.spacebeforeslash)!=null?m:"",n.spaceBeforeSlash===!0&&(n.spaceBeforeSlash=" "),n.suppressPrettyCount=0,n.user={},n.state=r.None,n},u.prototype.indent=function(a,n,l){var c;return!n.pretty||n.suppressPrettyCount?"":n.pretty&&(c=(l||0)+n.offset+1,c>0)?new Array(c).join(n.indent):""},u.prototype.endline=function(a,n,l){return!n.pretty||n.suppressPrettyCount?"":n.newline},u.prototype.attribute=function(a,n,l){var c;return this.openAttribute(a,n,l),c=" "+a.name+'="'+a.value+'"',this.closeAttribute(a,n,l),c},u.prototype.cdata=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<![CDATA[",n.state=r.InsideTag,c+=a.value,n.state=r.CloseTag,c+="]]>"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.comment=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<!-- ",n.state=r.InsideTag,c+=a.value,n.state=r.CloseTag,c+=" -->"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.declaration=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<?xml",n.state=r.InsideTag,c+=' version="'+a.version+'"',a.encoding!=null&&(c+=' encoding="'+a.encoding+'"'),a.standalone!=null&&(c+=' standalone="'+a.standalone+'"'),n.state=r.CloseTag,c+=n.spaceBeforeSlash+"?>",c+=this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.docType=function(a,n,l){var c,f,p,y,m;if(l||(l=0),this.openNode(a,n,l),n.state=r.OpenTag,y=this.indent(a,n,l),y+="<!DOCTYPE "+a.root().name,a.pubID&&a.sysID?y+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(y+=' SYSTEM "'+a.sysID+'"'),a.children.length>0){for(y+=" [",y+=this.endline(a,n,l),n.state=r.InsideTag,m=a.children,f=0,p=m.length;f<p;f++)c=m[f],y+=this.writeChildNode(c,n,l+1);n.state=r.CloseTag,y+="]"}return n.state=r.CloseTag,y+=n.spaceBeforeSlash+">",y+=this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),y},u.prototype.element=function(a,n,l){var c,f,p,y,m,g,h,_,j,T,S,b,E,O;l||(l=0),T=!1,S="",this.openNode(a,n,l),n.state=r.OpenTag,S+=this.indent(a,n,l)+"<"+a.name,b=a.attribs;for(j in b)i.call(b,j)&&(c=b[j],S+=this.attribute(c,n,l));if(p=a.children.length,y=p===0?null:a.children[0],p===0||a.children.every(function(C){return(C.type===t.Text||C.type===t.Raw)&&C.value===""}))n.allowEmpty?(S+=">",n.state=r.CloseTag,S+="</"+a.name+">"+this.endline(a,n,l)):(n.state=r.CloseTag,S+=n.spaceBeforeSlash+"/>"+this.endline(a,n,l));else if(n.pretty&&p===1&&(y.type===t.Text||y.type===t.Raw)&&y.value!=null)S+=">",n.state=r.InsideTag,n.suppressPrettyCount++,T=!0,S+=this.writeChildNode(y,n,l+1),n.suppressPrettyCount--,T=!1,n.state=r.CloseTag,S+="</"+a.name+">"+this.endline(a,n,l);else{if(n.dontPrettyTextNodes){for(E=a.children,m=0,h=E.length;m<h;m++)if(f=E[m],(f.type===t.Text||f.type===t.Raw)&&f.value!=null){n.suppressPrettyCount++,T=!0;break}}for(S+=">"+this.endline(a,n,l),n.state=r.InsideTag,O=a.children,g=0,_=O.length;g<_;g++)f=O[g],S+=this.writeChildNode(f,n,l+1);n.state=r.CloseTag,S+=this.indent(a,n,l)+"</"+a.name+">",T&&n.suppressPrettyCount--,S+=this.endline(a,n,l),n.state=r.None}return this.closeNode(a,n,l),S},u.prototype.writeChildNode=function(a,n,l){switch(a.type){case t.CData:return this.cdata(a,n,l);case t.Comment:return this.comment(a,n,l);case t.Element:return this.element(a,n,l);case t.Raw:return this.raw(a,n,l);case t.Text:return this.text(a,n,l);case t.ProcessingInstruction:return this.processingInstruction(a,n,l);case t.Dummy:return"";case t.Declaration:return this.declaration(a,n,l);case t.DocType:return this.docType(a,n,l);case t.AttributeDeclaration:return this.dtdAttList(a,n,l);case t.ElementDeclaration:return this.dtdElement(a,n,l);case t.EntityDeclaration:return this.dtdEntity(a,n,l);case t.NotationDeclaration:return this.dtdNotation(a,n,l);default:throw new Error("Unknown XML node type: "+a.constructor.name)}},u.prototype.processingInstruction=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<?",n.state=r.InsideTag,c+=a.target,a.value&&(c+=" "+a.value),n.state=r.CloseTag,c+=n.spaceBeforeSlash+"?>",c+=this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.raw=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l),n.state=r.InsideTag,c+=a.value,n.state=r.CloseTag,c+=this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.text=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l),n.state=r.InsideTag,c+=a.value,n.state=r.CloseTag,c+=this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.dtdAttList=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<!ATTLIST",n.state=r.InsideTag,c+=" "+a.elementName+" "+a.attributeName+" "+a.attributeType,a.defaultValueType!=="#DEFAULT"&&(c+=" "+a.defaultValueType),a.defaultValue&&(c+=' "'+a.defaultValue+'"'),n.state=r.CloseTag,c+=n.spaceBeforeSlash+">"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.dtdElement=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<!ELEMENT",n.state=r.InsideTag,c+=" "+a.name+" "+a.value,n.state=r.CloseTag,c+=n.spaceBeforeSlash+">"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.dtdEntity=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<!ENTITY",n.state=r.InsideTag,a.pe&&(c+=" %"),c+=" "+a.name,a.value?c+=' "'+a.value+'"':(a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),a.nData&&(c+=" NDATA "+a.nData)),n.state=r.CloseTag,c+=n.spaceBeforeSlash+">"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.dtdNotation=function(a,n,l){var c;return this.openNode(a,n,l),n.state=r.OpenTag,c=this.indent(a,n,l)+"<!NOTATION",n.state=r.InsideTag,c+=" "+a.name,a.pubID&&a.sysID?c+=' PUBLIC "'+a.pubID+'" "'+a.sysID+'"':a.pubID?c+=' PUBLIC "'+a.pubID+'"':a.sysID&&(c+=' SYSTEM "'+a.sysID+'"'),n.state=r.CloseTag,c+=n.spaceBeforeSlash+">"+this.endline(a,n,l),n.state=r.None,this.closeNode(a,n,l),c},u.prototype.openNode=function(a,n,l){},u.prototype.closeNode=function(a,n,l){},u.prototype.openAttribute=function(a,n,l){},u.prototype.closeAttribute=function(a,n,l){},u}()}).call(this)},{"./NodeType":498,"./Utility":499,"./WriterState":500,"./XMLCData":502,"./XMLComment":504,"./XMLDTDAttList":509,"./XMLDTDElement":510,"./XMLDTDEntity":511,"./XMLDTDNotation":512,"./XMLDeclaration":513,"./XMLDocType":514,"./XMLDummy":517,"./XMLElement":518,"./XMLProcessingInstruction":522,"./XMLRaw":523,"./XMLText":527}],529:[function(e,o,d){(function(){var t,r,s,i,u,a,n,l,c,f;f=e("./Utility"),l=f.assign,c=f.isFunction,s=e("./XMLDOMImplementation"),i=e("./XMLDocument"),u=e("./XMLDocumentCB"),n=e("./XMLStringWriter"),a=e("./XMLStreamWriter"),t=e("./NodeType"),r=e("./WriterState"),o.exports.create=function(p,y,m,g){var h,_;if(p==null)throw new Error("Root element needs a name.");return g=l({},y,m,g),h=new i(g),_=h.element(p),g.headless||(h.declaration(g),(g.pubID!=null||g.sysID!=null)&&h.dtd(g)),_},o.exports.begin=function(p,y,m){var g;return c(p)&&(g=[p,y],y=g[0],m=g[1],p={}),y?new u(p,y,m):new i(p)},o.exports.stringWriter=function(p){return new n(p)},o.exports.streamWriter=function(p,y){return new a(p,y)},o.exports.implementation=new s,o.exports.nodeType=t,o.exports.writerState=r}).call(this)},{"./NodeType":498,"./Utility":499,"./WriterState":500,"./XMLDOMImplementation":507,"./XMLDocument":515,"./XMLDocumentCB":516,"./XMLStreamWriter":524,"./XMLStringWriter":525}],530:[function(e,o,d){o.exports=r;var t=Object.prototype.hasOwnProperty;function r(){for(var s={},i=0;i<arguments.length;i++){var u=arguments[i];for(var a in u)t.call(u,a)&&(s[a]=u[a])}return s}},{}],531:[function(e,o,d){e("core-js/modules/es.array.fill.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.array.slice.js");var t=e("buffer").Buffer,r=e("./sha"),s=e("./sha256"),i=e("./md5"),u={sha1:r,sha256:s,md5:i},a=64,n=t.alloc(a);n.fill(0);function l(p,y,m){t.isBuffer(y)||(y=t.from(y)),t.isBuffer(m)||(m=t.from(m)),y.length>a?y=p(y):y.length<a&&(y=t.concat([y,n],a));for(var g=t.alloc(a),h=t.alloc(a),_=0;_<a;_++)g[_]=y[_]^54,h[_]=y[_]^92;var j=p(t.concat([g,m]));return p(t.concat([h,j]))}function c(p,y){p=p||"sha1";var m=u[p],g=[],h=0;return m||f("algorithm:",p,"is not yet supported"),{update:function(j){return t.isBuffer(j)||(j=t.from(j)),g.push(j),h+=j.length,this},digest:function(j){var T=t.concat(g),S=y?l(m,y,T):m(T);return g=null,j?S.toString(j):S}}}function f(){var p=[].slice.call(arguments).join(" ");throw new Error([p,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}d.createHash=function(p){return c(p)},d.createHmac=function(p,y){return c(p,y)},d.createCredentials=function(){f("sorry,createCredentials is not implemented yet")},d.createCipher=function(){f("sorry,createCipher is not implemented yet")},d.createCipheriv=function(){f("sorry,createCipheriv is not implemented yet")},d.createDecipher=function(){f("sorry,createDecipher is not implemented yet")},d.createDecipheriv=function(){f("sorry,createDecipheriv is not implemented yet")},d.createSign=function(){f("sorry,createSign is not implemented yet")},d.createVerify=function(){f("sorry,createVerify is not implemented yet")},d.createDiffieHellman=function(){f("sorry,createDiffieHellman is not implemented yet")},d.pbkdf2=function(){f("sorry,pbkdf2 is not implemented yet")}},{"./md5":533,"./sha":534,"./sha256":535,buffer:103,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.fill.js":311,"core-js/modules/es.array.join.js":317,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.regexp.to-string.js":339}],532:[function(e,o,d){e("core-js/modules/es.array.fill.js"),e("core-js/modules/es.array.concat.js");var t=e("buffer").Buffer,r=4,s=t.alloc(r);s.fill(0);var i=8;function u(l,c){if(l.length%r!==0){var f=l.length+(r-l.length%r);l=t.concat([l,s],f)}for(var p=[],y=c?l.readInt32BE:l.readInt32LE,m=0;m<l.length;m+=r)p.push(y.call(l,m));return p}function a(l,c,f){for(var p=t.alloc(c),y=f?p.writeInt32BE:p.writeInt32LE,m=0;m<l.length;m++)y.call(p,l[m],m*4,!0);return p}function n(l,c,f,p){t.isBuffer(l)||(l=t.from(l));var y=c(u(l,p),l.length*i);return a(y,f,p)}o.exports={hash:n}},{buffer:103,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.fill.js":311}],533:[function(e,o,d){var t=e("./helpers");function r(f,p){f[p>>5]|=128<<p%32,f[(p+64>>>9<<4)+14]=p;for(var y=1732584193,m=-271733879,g=-1732584194,h=271733878,_=0;_<f.length;_+=16){var j=y,T=m,S=g,b=h;y=i(y,m,g,h,f[_+0],7,-680876936),h=i(h,y,m,g,f[_+1],12,-389564586),g=i(g,h,y,m,f[_+2],17,606105819),m=i(m,g,h,y,f[_+3],22,-1044525330),y=i(y,m,g,h,f[_+4],7,-176418897),h=i(h,y,m,g,f[_+5],12,1200080426),g=i(g,h,y,m,f[_+6],17,-1473231341),m=i(m,g,h,y,f[_+7],22,-45705983),y=i(y,m,g,h,f[_+8],7,1770035416),h=i(h,y,m,g,f[_+9],12,-1958414417),g=i(g,h,y,m,f[_+10],17,-42063),m=i(m,g,h,y,f[_+11],22,-1990404162),y=i(y,m,g,h,f[_+12],7,1804603682),h=i(h,y,m,g,f[_+13],12,-40341101),g=i(g,h,y,m,f[_+14],17,-1502002290),m=i(m,g,h,y,f[_+15],22,1236535329),y=u(y,m,g,h,f[_+1],5,-165796510),h=u(h,y,m,g,f[_+6],9,-1069501632),g=u(g,h,y,m,f[_+11],14,643717713),m=u(m,g,h,y,f[_+0],20,-373897302),y=u(y,m,g,h,f[_+5],5,-701558691),h=u(h,y,m,g,f[_+10],9,38016083),g=u(g,h,y,m,f[_+15],14,-660478335),m=u(m,g,h,y,f[_+4],20,-405537848),y=u(y,m,g,h,f[_+9],5,568446438),h=u(h,y,m,g,f[_+14],9,-1019803690),g=u(g,h,y,m,f[_+3],14,-187363961),m=u(m,g,h,y,f[_+8],20,1163531501),y=u(y,m,g,h,f[_+13],5,-1444681467),h=u(h,y,m,g,f[_+2],9,-51403784),g=u(g,h,y,m,f[_+7],14,1735328473),m=u(m,g,h,y,f[_+12],20,-1926607734),y=a(y,m,g,h,f[_+5],4,-378558),h=a(h,y,m,g,f[_+8],11,-2022574463),g=a(g,h,y,m,f[_+11],16,1839030562),m=a(m,g,h,y,f[_+14],23,-35309556),y=a(y,m,g,h,f[_+1],4,-1530992060),h=a(h,y,m,g,f[_+4],11,1272893353),g=a(g,h,y,m,f[_+7],16,-155497632),m=a(m,g,h,y,f[_+10],23,-1094730640),y=a(y,m,g,h,f[_+13],4,681279174),h=a(h,y,m,g,f[_+0],11,-358537222),g=a(g,h,y,m,f[_+3],16,-722521979),m=a(m,g,h,y,f[_+6],23,76029189),y=a(y,m,g,h,f[_+9],4,-640364487),h=a(h,y,m,g,f[_+12],11,-421815835),g=a(g,h,y,m,f[_+15],16,530742520),m=a(m,g,h,y,f[_+2],23,-995338651),y=n(y,m,g,h,f[_+0],6,-198630844),h=n(h,y,m,g,f[_+7],10,1126891415),g=n(g,h,y,m,f[_+14],15,-1416354905),m=n(m,g,h,y,f[_+5],21,-57434055),y=n(y,m,g,h,f[_+12],6,1700485571),h=n(h,y,m,g,f[_+3],10,-1894986606),g=n(g,h,y,m,f[_+10],15,-1051523),m=n(m,g,h,y,f[_+1],21,-2054922799),y=n(y,m,g,h,f[_+8],6,1873313359),h=n(h,y,m,g,f[_+15],10,-30611744),g=n(g,h,y,m,f[_+6],15,-1560198380),m=n(m,g,h,y,f[_+13],21,1309151649),y=n(y,m,g,h,f[_+4],6,-145523070),h=n(h,y,m,g,f[_+11],10,-1120210379),g=n(g,h,y,m,f[_+2],15,718787259),m=n(m,g,h,y,f[_+9],21,-343485551),y=l(y,j),m=l(m,T),g=l(g,S),h=l(h,b)}return Array(y,m,g,h)}function s(f,p,y,m,g,h){return l(c(l(l(p,f),l(m,h)),g),y)}function i(f,p,y,m,g,h,_){return s(p&y|~p&m,f,p,g,h,_)}function u(f,p,y,m,g,h,_){return s(p&m|y&~m,f,p,g,h,_)}function a(f,p,y,m,g,h,_){return s(p^y^m,f,p,g,h,_)}function n(f,p,y,m,g,h,_){return s(y^(p|~m),f,p,g,h,_)}function l(f,p){var y=(f&65535)+(p&65535),m=(f>>16)+(p>>16)+(y>>16);return m<<16|y&65535}function c(f,p){return f<<p|f>>>32-p}o.exports=function(p){return t.hash(p,r,16)}},{"./helpers":532}],534:[function(e,o,d){var t=e("./helpers");function r(n,l){n[l>>5]|=128<<24-l%32,n[(l+64>>9<<4)+15]=l;for(var c=Array(80),f=1732584193,p=-271733879,y=-1732584194,m=271733878,g=-1009589776,h=0;h<n.length;h+=16){for(var _=f,j=p,T=y,S=m,b=g,E=0;E<80;E++){E<16?c[E]=n[h+E]:c[E]=a(c[E-3]^c[E-8]^c[E-14]^c[E-16],1);var O=u(u(a(f,5),s(E,p,y,m)),u(u(g,c[E]),i(E)));g=m,m=y,y=a(p,30),p=f,f=O}f=u(f,_),p=u(p,j),y=u(y,T),m=u(m,S),g=u(g,b)}return Array(f,p,y,m,g)}function s(n,l,c,f){return n<20?l&c|~l&f:n<40?l^c^f:n<60?l&c|l&f|c&f:l^c^f}function i(n){return n<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514}function u(n,l){var c=(n&65535)+(l&65535),f=(n>>16)+(l>>16)+(c>>16);return f<<16|c&65535}function a(n,l){return n<<l|n>>>32-l}o.exports=function(l){return t.hash(l,r,20,!0)}},{"./helpers":532}],535:[function(e,o,d){var t=e("./helpers"),r=function(m,g){var h=(m&65535)+(g&65535),_=(m>>16)+(g>>16)+(h>>16);return _<<16|h&65535},s=function(m,g){return m>>>g|m<<32-g},i=function(m,g){return m>>>g},u=function(m,g,h){return m&g^~m&h},a=function(m,g,h){return m&g^m&h^g&h},n=function(m){return s(m,2)^s(m,13)^s(m,22)},l=function(m){return s(m,6)^s(m,11)^s(m,25)},c=function(m){return s(m,7)^s(m,18)^i(m,3)},f=function(m){return s(m,17)^s(m,19)^i(m,10)},p=function(m,g){var h=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),_=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),j=new Array(64),T,S,b,E,O,C,k,A,I,D,F,Q;m[g>>5]|=128<<24-g%32,m[(g+64>>9<<4)+15]=g;for(var I=0;I<m.length;I+=16){T=_[0],S=_[1],b=_[2],E=_[3],O=_[4],C=_[5],k=_[6],A=_[7];for(var D=0;D<64;D++)D<16?j[D]=m[D+I]:j[D]=r(r(r(f(j[D-2]),j[D-7]),c(j[D-15])),j[D-16]),F=r(r(r(r(A,l(O)),u(O,C,k)),h[D]),j[D]),Q=r(n(T),a(T,S,b)),A=k,k=C,C=O,O=r(E,F),E=b,b=S,S=T,T=r(F,Q);_[0]=r(T,_[0]),_[1]=r(S,_[1]),_[2]=r(b,_[2]),_[3]=r(E,_[3]),_[4]=r(O,_[4]),_[5]=r(C,_[5]),_[6]=r(k,_[6]),_[7]=r(A,_[7])}return _};o.exports=function(m){return t.hash(m,p,32,!0)}},{"./helpers":532}],536:[function(e,o,d){o.exports=function(){return function(){}}},{}],537:[function(e,o,d){(function(t){(function(){var r=e("@babel/runtime/helpers/interopRequireDefault"),s=r(e("@babel/runtime/helpers/typeof")),i=e("stream"),u=i.Stream,a=e("../lib/common/utils/isArray"),n=a.isArray;o.exports.string=function(f){return typeof f=="string"},o.exports.array=n,o.exports.buffer=t.isBuffer;function l(c){return c instanceof u}o.exports.writableStream=function(f){return l(f)&&typeof f._write=="function"&&(0,s.default)(f._writableState)==="object"}}).call(this)}).call(this,{isBuffer:e("../node_modules/is-buffer/index.js")})},{"../lib/common/utils/isArray":67,"../node_modules/is-buffer/index.js":409,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,stream:468}],538:[function(e,o,d){var t=e("immediate"),r=o.exports={};r.nextTick=t,r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function s(){}r.on=s,r.addListener=s,r.once=s,r.off=s,r.removeListener=s,r.removeAllListeners=s,r.emit=s,r.prependListener=s,r.prependOnceListener=s,r.listeners=function(i){return[]},r.binding=function(i){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(i){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{immediate:401}],539:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.search.js");var r=e("./lib/request"),s=e("./lib/response"),i=e("xtend"),u=e("builtin-status-codes"),a=e("url"),n=d;n.request=function(l,c){typeof l=="string"?l=a.parse(l):l=i(l);var f=t.location.protocol.search(/^https?:$/)===-1?"http:":"",p=l.protocol||f,y=l.hostname||l.host,m=l.port,g=l.path||"/";y&&y.indexOf(":")!==-1&&(y="["+y+"]"),l.url=(y?p+"//"+y:"")+(m?":"+m:"")+g,l.method=(l.method||"GET").toUpperCase(),l.headers=l.headers||{};var h=new r(l);return c&&h.on("response",c),h},n.get=function(c,f){var p=n.request(c,f);return p.end(),p},n.ClientRequest=r,n.IncomingMessage=s.IncomingMessage,n.Agent=function(){},n.Agent.defaultMaxSockets=4,n.globalAgent=new n.Agent,n.STATUS_CODES=u,n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"./lib/request":541,"./lib/response":542,"builtin-status-codes":104,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.search.js":346,url:543,xtend:530}],540:[function(e,o,d){(function(t){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.array-buffer.constructor.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.array.slice.js"),d.fetch=n(t.fetch)&&n(t.ReadableStream),d.writableStream=n(t.WritableStream),d.abortController=n(t.AbortController),d.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),d.blobConstructor=!0}catch(l){}var r;function s(){if(r!==void 0)return r;if(t.XMLHttpRequest){r=new t.XMLHttpRequest;try{r.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(l){r=null}}else r=null;return r}function i(l){var c=s();if(!c)return!1;try{return c.responseType=l,c.responseType===l}catch(f){}return!1}var u=typeof t.ArrayBuffer!="undefined",a=u&&n(t.ArrayBuffer.prototype.slice);d.arraybuffer=d.fetch||u&&i("arraybuffer"),d.msstream=!d.fetch&&a&&i("ms-stream"),d.mozchunkedarraybuffer=!d.fetch&&u&&i("moz-chunked-arraybuffer"),d.overrideMimeType=d.fetch||(s()?n(s().overrideMimeType):!1),d.vbArray=n(t.VBArray);function n(l){return typeof l=="function"}r=null}).call(this)}).call(this,typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"core-js/modules/es.array-buffer.constructor.js":308,"core-js/modules/es.array-buffer.slice.js":309,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333}],541:[function(e,o,d){(function(t,r,s){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.regexp.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.array.map.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.promise.js");var i=e("./capability"),u=e("inherits"),a=e("./response"),n=e("readable-stream"),l=e("to-arraybuffer"),c=a.IncomingMessage,f=a.readyStates;function p(h,_){return i.fetch&&_?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&h?"arraybuffer":i.vbArray&&h?"text:vbarray":"text"}var y=o.exports=function(h){var _=this;n.Writable.call(_),_._opts=h,_._body=[],_._headers={},h.auth&&_.setHeader("Authorization","Basic "+new s(h.auth).toString("base64")),Object.keys(h.headers).forEach(function(S){_.setHeader(S,h.headers[S])});var j,T=!0;if(h.mode==="disable-fetch"||"requestTimeout"in h&&!i.abortController)T=!1,j=!0;else if(h.mode==="prefer-streaming")j=!1;else if(h.mode==="allow-wrong-content-type")j=!i.overrideMimeType;else if(!h.mode||h.mode==="default"||h.mode==="prefer-fast")j=!0;else throw new Error("Invalid value for opts.mode");_._mode=p(j,T),_._fetchTimer=null,_.on("finish",function(){_._onFinish()})};u(y,n.Writable),y.prototype.setHeader=function(h,_){var j=this,T=h.toLowerCase();g.indexOf(T)===-1&&(j._headers[T]={name:h,value:_})},y.prototype.getHeader=function(h){var _=this._headers[h.toLowerCase()];return _?_.value:null},y.prototype.removeHeader=function(h){var _=this;delete _._headers[h.toLowerCase()]},y.prototype._onFinish=function(){var h=this;if(!h._destroyed){var _=h._opts,j=h._headers,T=null;_.method!=="GET"&&_.method!=="HEAD"&&(i.arraybuffer?T=l(s.concat(h._body)):i.blobConstructor?T=new r.Blob(h._body.map(function(C){return l(C)}),{type:(j["content-type"]||{}).value||""}):T=s.concat(h._body).toString());var S=[];if(Object.keys(j).forEach(function(C){var k=j[C].name,A=j[C].value;Array.isArray(A)?A.forEach(function(I){S.push([k,I])}):S.push([k,A])}),h._mode==="fetch"){var b=null;if(i.abortController){var E=new AbortController;b=E.signal,h._fetchAbortController=E,"requestTimeout"in _&&_.requestTimeout!==0&&(h._fetchTimer=r.setTimeout(function(){h.emit("requestTimeout"),h._fetchAbortController&&h._fetchAbortController.abort()},_.requestTimeout))}r.fetch(h._opts.url,{method:h._opts.method,headers:S,body:T||void 0,mode:"cors",credentials:_.withCredentials?"include":"same-origin",signal:b}).then(function(C){h._fetchResponse=C,h._connect()},function(C){r.clearTimeout(h._fetchTimer),h._destroyed||h.emit("error",C)})}else{var O=h._xhr=new r.XMLHttpRequest;try{O.open(h._opts.method,h._opts.url,!0)}catch(C){t.nextTick(function(){h.emit("error",C)});return}"responseType"in O&&(O.responseType=h._mode.split(":")[0]),"withCredentials"in O&&(O.withCredentials=!!_.withCredentials),h._mode==="text"&&"overrideMimeType"in O&&O.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in _&&(O.timeout=_.requestTimeout,O.ontimeout=function(){h.emit("requestTimeout")}),S.forEach(function(C){O.setRequestHeader(C[0],C[1])}),h._response=null,O.onreadystatechange=function(){switch(O.readyState){case f.LOADING:case f.DONE:h._onXHRProgress();break}},h._mode==="moz-chunked-arraybuffer"&&(O.onprogress=function(){h._onXHRProgress()}),O.onerror=function(){h._destroyed||h.emit("error",new Error("XHR error"))};try{O.send(T)}catch(C){t.nextTick(function(){h.emit("error",C)});return}}}};function m(h){try{var _=h.status;return _!==null&&_!==0}catch(j){return!1}}y.prototype._onXHRProgress=function(){var h=this;!m(h._xhr)||h._destroyed||(h._response||h._connect(),h._response._onXHRProgress())},y.prototype._connect=function(){var h=this;h._destroyed||(h._response=new c(h._xhr,h._fetchResponse,h._mode,h._fetchTimer),h._response.on("error",function(_){h.emit("error",_)}),h.emit("response",h._response))},y.prototype._write=function(h,_,j){var T=this;T._body.push(h),j()},y.prototype.abort=y.prototype.destroy=function(){var h=this;h._destroyed=!0,r.clearTimeout(h._fetchTimer),h._response&&(h._response._destroyed=!0),h._xhr?h._xhr.abort():h._fetchAbortController&&h._fetchAbortController.abort()},y.prototype.end=function(h,_,j){var T=this;typeof h=="function"&&(j=h,h=void 0),n.Writable.prototype.end.call(T,h,_,j)},y.prototype.flushHeaders=function(){},y.prototype.setTimeout=function(){},y.prototype.setNoDelay=function(){},y.prototype.setSocketKeepAlive=function(){};var g=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{},e("buffer").Buffer)},{"./capability":540,"./response":542,_process:538,buffer:103,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.map.js":318,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.to-string.js":339,"core-js/modules/web.dom-collections.for-each.js":380,inherits:407,"readable-stream":463,"to-arraybuffer":485}],542:[function(e,o,d){(function(t,r,s){(function(){e("core-js/modules/es.object.to-string.js"),e("core-js/modules/web.dom-collections.for-each.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.iterator.js"),e("core-js/modules/es.array-buffer.slice.js"),e("core-js/modules/es.typed-array.uint8-array.js"),e("core-js/modules/es.typed-array.copy-within.js"),e("core-js/modules/es.typed-array.every.js"),e("core-js/modules/es.typed-array.fill.js"),e("core-js/modules/es.typed-array.filter.js"),e("core-js/modules/es.typed-array.find.js"),e("core-js/modules/es.typed-array.find-index.js"),e("core-js/modules/es.typed-array.for-each.js"),e("core-js/modules/es.typed-array.includes.js"),e("core-js/modules/es.typed-array.index-of.js"),e("core-js/modules/es.typed-array.iterator.js"),e("core-js/modules/es.typed-array.join.js"),e("core-js/modules/es.typed-array.last-index-of.js"),e("core-js/modules/es.typed-array.map.js"),e("core-js/modules/es.typed-array.reduce.js"),e("core-js/modules/es.typed-array.reduce-right.js"),e("core-js/modules/es.typed-array.reverse.js"),e("core-js/modules/es.typed-array.set.js"),e("core-js/modules/es.typed-array.slice.js"),e("core-js/modules/es.typed-array.some.js"),e("core-js/modules/es.typed-array.sort.js"),e("core-js/modules/es.typed-array.subarray.js"),e("core-js/modules/es.typed-array.to-locale-string.js"),e("core-js/modules/es.typed-array.to-string.js"),e("core-js/modules/es.array.slice.js");var i=e("./capability"),u=e("inherits"),a=e("readable-stream"),n=d.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=d.IncomingMessage=function(c,f,p,y){var m=this;if(a.Readable.call(m),m._mode=p,m.headers={},m.rawHeaders=[],m.trailers={},m.rawTrailers=[],m.on("end",function(){t.nextTick(function(){m.emit("close")})}),p==="fetch"){var g=function b(){_.read().then(function(E){if(!m._destroyed){if(E.done){r.clearTimeout(y),m.push(null);return}m.push(new s(E.value)),b()}}).catch(function(E){r.clearTimeout(y),m._destroyed||m.emit("error",E)})};if(m._fetchResponse=f,m.url=f.url,m.statusCode=f.status,m.statusMessage=f.statusText,f.headers.forEach(function(b,E){m.headers[E.toLowerCase()]=b,m.rawHeaders.push(E,b)}),i.writableStream){var h=new WritableStream({write:function(E){return new Promise(function(O,C){m._destroyed?C():m.push(new s(E))?O():m._resumeFetch=O})},close:function(){r.clearTimeout(y),m._destroyed||m.push(null)},abort:function(E){m._destroyed||m.emit("error",E)}});try{f.body.pipeTo(h).catch(function(b){r.clearTimeout(y),m._destroyed||m.emit("error",b)});return}catch(b){}}var _=f.body.getReader();g()}else{m._xhr=c,m._pos=0,m.url=c.responseURL,m.statusCode=c.status,m.statusMessage=c.statusText;var j=c.getAllResponseHeaders().split(/\r?\n/);if(j.forEach(function(b){var E=b.match(/^([^:]+):\s*(.*)/);if(E){var O=E[1].toLowerCase();O==="set-cookie"?(m.headers[O]===void 0&&(m.headers[O]=[]),m.headers[O].push(E[2])):m.headers[O]!==void 0?m.headers[O]+=", "+E[2]:m.headers[O]=E[2],m.rawHeaders.push(E[1],E[2])}}),m._charset="x-user-defined",!i.overrideMimeType){var T=m.rawHeaders["mime-type"];if(T){var S=T.match(/;\s*charset=([^;])(;|$)/);S&&(m._charset=S[1].toLowerCase())}m._charset||(m._charset="utf-8")}}};u(l,a.Readable),l.prototype._read=function(){var c=this,f=c._resumeFetch;f&&(c._resumeFetch=null,f())},l.prototype._onXHRProgress=function(){var c=this,f=c._xhr,p=null;switch(c._mode){case"text:vbarray":if(f.readyState!==n.DONE)break;try{p=new r.VBArray(f.responseBody).toArray()}catch(_){}if(p!==null){c.push(new s(p));break}case"text":try{p=f.responseText}catch(_){c._mode="text:vbarray";break}if(p.length>c._pos){var y=p.substr(c._pos);if(c._charset==="x-user-defined"){for(var m=new s(y.length),g=0;g<y.length;g++)m[g]=y.charCodeAt(g)&255;c.push(m)}else c.push(y,c._charset);c._pos=p.length}break;case"arraybuffer":if(f.readyState!==n.DONE||!f.response)break;p=f.response,c.push(new s(new Uint8Array(p)));break;case"moz-chunked-arraybuffer":if(p=f.response,f.readyState!==n.LOADING||!p)break;c.push(new s(new Uint8Array(p)));break;case"ms-stream":if(p=f.response,f.readyState!==n.LOADING)break;var h=new r.MSStreamReader;h.onprogress=function(){h.result.byteLength>c._pos&&(c.push(new s(new Uint8Array(h.result.slice(c._pos)))),c._pos=h.result.byteLength)},h.onload=function(){c.push(null)},h.readAsArrayBuffer(p);break}c._xhr.readyState===n.DONE&&c._mode!=="ms-stream"&&c.push(null)}}).call(this)}).call(this,e("_process"),typeof w!="undefined"?w:typeof self!="undefined"?self:typeof window!="undefined"?window:{},e("buffer").Buffer)},{"./capability":540,_process:538,buffer:103,"core-js/modules/es.array-buffer.slice.js":309,"core-js/modules/es.array.iterator.js":316,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.match.js":344,"core-js/modules/es.string.split.js":347,"core-js/modules/es.typed-array.copy-within.js":356,"core-js/modules/es.typed-array.every.js":357,"core-js/modules/es.typed-array.fill.js":358,"core-js/modules/es.typed-array.filter.js":359,"core-js/modules/es.typed-array.find-index.js":360,"core-js/modules/es.typed-array.find.js":361,"core-js/modules/es.typed-array.for-each.js":362,"core-js/modules/es.typed-array.includes.js":363,"core-js/modules/es.typed-array.index-of.js":364,"core-js/modules/es.typed-array.iterator.js":365,"core-js/modules/es.typed-array.join.js":366,"core-js/modules/es.typed-array.last-index-of.js":367,"core-js/modules/es.typed-array.map.js":368,"core-js/modules/es.typed-array.reduce-right.js":369,"core-js/modules/es.typed-array.reduce.js":370,"core-js/modules/es.typed-array.reverse.js":371,"core-js/modules/es.typed-array.set.js":372,"core-js/modules/es.typed-array.slice.js":373,"core-js/modules/es.typed-array.some.js":374,"core-js/modules/es.typed-array.sort.js":375,"core-js/modules/es.typed-array.subarray.js":376,"core-js/modules/es.typed-array.to-locale-string.js":377,"core-js/modules/es.typed-array.to-string.js":378,"core-js/modules/es.typed-array.uint8-array.js":379,"core-js/modules/web.dom-collections.for-each.js":380,inherits:407,"readable-stream":463}],543:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/helpers/typeof"));e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.string.search.js"),e("core-js/modules/es.array.concat.js"),e("core-js/modules/es.string.split.js"),e("core-js/modules/es.string.replace.js"),e("core-js/modules/es.array.join.js"),e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.string.match.js"),e("core-js/modules/es.array.slice.js"),e("core-js/modules/es.object.keys.js"),e("core-js/modules/es.array.splice.js");var s=e("punycode"),i=e("./util");d.parse=E,d.resolve=C,d.resolveObject=k,d.format=O,d.Url=u;function u(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(c),p=["'"].concat(f),y=["%","/","?",";","#"].concat(p),m=["/","?","#"],g=255,h=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,j={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function E(A,I,D){if(A&&i.isObject(A)&&A instanceof u)return A;var F=new u;return F.parse(A,I,D),F}u.prototype.parse=function(A,I,D){if(!i.isString(A))throw new TypeError("Parameter 'url' must be a string, not "+(0,r.default)(A));var F=A.indexOf("?"),Q=F!==-1&&F<A.indexOf("#")?"?":"#",te=A.split(Q),$=/\\/g;te[0]=te[0].replace($,"/"),A=te.join(Q);var Z=A;if(Z=Z.trim(),!D&&A.split("#").length===1){var ne=l.exec(Z);if(ne)return this.path=Z,this.href=Z,this.pathname=ne[1],ne[2]?(this.search=ne[2],I?this.query=b.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var ie=a.exec(Z);if(ie){ie=ie[0];var J=ie.toLowerCase();this.protocol=J,Z=Z.substr(ie.length)}if(D||ie||Z.match(/^\/\/[^@\/]+@[^@\/]+/)){var Y=Z.substr(0,2)==="//";Y&&!(ie&&T[ie])&&(Z=Z.substr(2),this.slashes=!0)}if(!T[ie]&&(Y||ie&&!S[ie])){for(var K=-1,X=0;X<m.length;X++){var U=Z.indexOf(m[X]);U!==-1&&(K===-1||U<K)&&(K=U)}var se,oe;K===-1?oe=Z.lastIndexOf("@"):oe=Z.lastIndexOf("@",K),oe!==-1&&(se=Z.slice(0,oe),Z=Z.slice(oe+1),this.auth=decodeURIComponent(se)),K=-1;for(var X=0;X<y.length;X++){var U=Z.indexOf(y[X]);U!==-1&&(K===-1||U<K)&&(K=U)}K===-1&&(K=Z.length),this.host=Z.slice(0,K),Z=Z.slice(K),this.parseHost(),this.hostname=this.hostname||"";var ae=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ae)for(var de=this.hostname.split("."),X=0,G=de.length;X<G;X++){var R=de[X];if(R&&!R.match(h)){for(var L="",M=0,le=R.length;M<le;M++)R.charCodeAt(M)>127?L+="x":L+=R[M];if(!L.match(h)){var ce=de.slice(0,X),W=de.slice(X+1),ee=R.match(_);ee&&(ce.push(ee[1]),W.unshift(ee[2])),W.length&&(Z="/"+W.join(".")+Z),this.hostname=ce.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),ae||(this.hostname=s.toASCII(this.hostname));var z=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+z,this.href+=this.host,ae&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Z[0]!=="/"&&(Z="/"+Z))}if(!j[J])for(var X=0,G=p.length;X<G;X++){var V=p[X];if(Z.indexOf(V)!==-1){var q=encodeURIComponent(V);q===V&&(q=escape(V)),Z=Z.split(V).join(q)}}var ue=Z.indexOf("#");ue!==-1&&(this.hash=Z.substr(ue),Z=Z.slice(0,ue));var fe=Z.indexOf("?");if(fe!==-1?(this.search=Z.substr(fe),this.query=Z.substr(fe+1),I&&(this.query=b.parse(this.query)),Z=Z.slice(0,fe)):I&&(this.search="",this.query={}),Z&&(this.pathname=Z),S[J]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",ye=this.search||"";this.path=z+ye}return this.href=this.format(),this};function O(A){return i.isString(A)&&(A=E(A)),A instanceof u?A.format():u.prototype.format.call(A)}u.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var I=this.protocol||"",D=this.pathname||"",F=this.hash||"",Q=!1,te="";this.host?Q=A+this.host:this.hostname&&(Q=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Q+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(te=b.stringify(this.query));var $=this.search||te&&"?"+te||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||S[I])&&Q!==!1?(Q="//"+(Q||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):Q||(Q=""),F&&F.charAt(0)!=="#"&&(F="#"+F),$&&$.charAt(0)!=="?"&&($="?"+$),D=D.replace(/[?#]/g,function(Z){return encodeURIComponent(Z)}),$=$.replace("#","%23"),I+Q+D+$+F};function C(A,I){return E(A,!1,!0).resolve(I)}u.prototype.resolve=function(A){return this.resolveObject(E(A,!1,!0)).format()};function k(A,I){return A?E(A,!1,!0).resolveObject(I):I}u.prototype.resolveObject=function(A){if(i.isString(A)){var I=new u;I.parse(A,!1,!0),A=I}for(var D=new u,F=Object.keys(this),Q=0;Q<F.length;Q++){var te=F[Q];D[te]=this[te]}if(D.hash=A.hash,A.href==="")return D.href=D.format(),D;if(A.slashes&&!A.protocol){for(var $=Object.keys(A),Z=0;Z<$.length;Z++){var ne=$[Z];ne!=="protocol"&&(D[ne]=A[ne])}return S[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(A.protocol&&A.protocol!==D.protocol){if(!S[A.protocol]){for(var ie=Object.keys(A),J=0;J<ie.length;J++){var Y=ie[J];D[Y]=A[Y]}return D.href=D.format(),D}if(D.protocol=A.protocol,!A.host&&!T[A.protocol]){for(var G=(A.pathname||"").split("/");G.length&&!(A.host=G.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),G[0]!==""&&G.unshift(""),G.length<2&&G.unshift(""),D.pathname=G.join("/")}else D.pathname=A.pathname;if(D.search=A.search,D.query=A.query,D.host=A.host||"",D.auth=A.auth,D.hostname=A.hostname||A.host,D.port=A.port,D.pathname||D.search){var K=D.pathname||"",X=D.search||"";D.path=K+X}return D.slashes=D.slashes||A.slashes,D.href=D.format(),D}var U=D.pathname&&D.pathname.charAt(0)==="/",se=A.host||A.pathname&&A.pathname.charAt(0)==="/",oe=se||U||D.host&&A.pathname,ae=oe,de=D.pathname&&D.pathname.split("/")||[],G=A.pathname&&A.pathname.split("/")||[],R=D.protocol&&!S[D.protocol];if(R&&(D.hostname="",D.port=null,D.host&&(de[0]===""?de[0]=D.host:de.unshift(D.host)),D.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(G[0]===""?G[0]=A.host:G.unshift(A.host)),A.host=null),oe=oe&&(G[0]===""||de[0]==="")),se)D.host=A.host||A.host===""?A.host:D.host,D.hostname=A.hostname||A.hostname===""?A.hostname:D.hostname,D.search=A.search,D.query=A.query,de=G;else if(G.length)de||(de=[]),de.pop(),de=de.concat(G),D.search=A.search,D.query=A.query;else if(!i.isNullOrUndefined(A.search)){if(R){D.hostname=D.host=de.shift();var L=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;L&&(D.auth=L.shift(),D.host=D.hostname=L.shift())}return D.search=A.search,D.query=A.query,(!i.isNull(D.pathname)||!i.isNull(D.search))&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!de.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var M=de.slice(-1)[0],le=(D.host||A.host||de.length>1)&&(M==="."||M==="..")||M==="",ce=0,W=de.length;W>=0;W--)M=de[W],M==="."?de.splice(W,1):M===".."?(de.splice(W,1),ce++):ce&&(de.splice(W,1),ce--);if(!oe&&!ae)for(;ce--;ce)de.unshift("..");oe&&de[0]!==""&&(!de[0]||de[0].charAt(0)!=="/")&&de.unshift(""),le&&de.join("/").substr(-1)!=="/"&&de.push("");var ee=de[0]===""||de[0]&&de[0].charAt(0)==="/";if(R){D.hostname=D.host=ee?"":de.length?de.shift():"";var L=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;L&&(D.auth=L.shift(),D.host=D.hostname=L.shift())}return oe=oe||D.host&&de.length,oe&&!ee&&de.unshift(""),de.length?D.pathname=de.join("/"):(D.pathname=null,D.path=null),(!i.isNull(D.pathname)||!i.isNull(D.search))&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=A.auth||D.auth,D.slashes=D.slashes||A.slashes,D.href=D.format(),D},u.prototype.parseHost=function(){var A=this.host,I=n.exec(A);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),A=A.substr(0,A.length-I.length)),A&&(this.hostname=A)}},{"./util":544,"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.array.join.js":317,"core-js/modules/es.array.slice.js":319,"core-js/modules/es.array.splice.js":321,"core-js/modules/es.object.keys.js":328,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.match.js":344,"core-js/modules/es.string.replace.js":345,"core-js/modules/es.string.search.js":346,"core-js/modules/es.string.split.js":347,"core-js/modules/es.string.trim.js":349,punycode:443,querystring:451}],544:[function(e,o,d){var t=e("@babel/runtime/helpers/interopRequireDefault"),r=t(e("@babel/runtime/helpers/typeof"));o.exports={isString:function(i){return typeof i=="string"},isObject:function(i){return(0,r.default)(i)==="object"&&i!==null},isNull:function(i){return i===null},isNullOrUndefined:function(i){return i==null}}},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91}],545:[function(e,o,d){e("core-js/modules/es.number.constructor.js"),d.encodeURIComponent=function(t){try{return encodeURIComponent(t)}catch(r){return t}},d.escape=e("escape-html"),d.timestamp=function(r){if(r){var s=r;return typeof s=="string"&&(s=Number(s)),String(r).length===10&&(s*=1e3),new Date(s)}return Math.round(Date.now()/1e3)}},{"core-js/modules/es.number.constructor.js":324,"escape-html":385}],546:[function(e,o,d){(function(t,r){(function(){var s=e("@babel/runtime/helpers/interopRequireDefault"),i=s(e("@babel/runtime/helpers/typeof"));e("core-js/modules/es.string.trim.js"),e("core-js/modules/es.object.to-string.js"),e("core-js/modules/es.promise.js"),e("core-js/modules/es.regexp.exec.js"),e("core-js/modules/es.function.name.js"),e("core-js/modules/es.array.concat.js");var u=e("util"),a=e("url"),n=e("http"),l=e("https"),c=e("debug")("urllib"),f=e("humanize-ms"),p=0,y=Math.pow(2,31)-10,m=/^https?:\/\//i;function g(T,S){return T===void 0?S:T}function h(T){return T?T.split(";")[0].trim().toLowerCase():""}function _(T,S){return function(b,E,O){if(b)return S(b);T({data:E,status:O.statusCode,headers:O.headers,res:O})}}d.TIMEOUTS=[f("300s"),f("300s")];var j=["json","text"];d.request=function(S,b,E){return arguments.length===2&&typeof b=="function"&&(E=b,b=null),typeof E=="function"?d.requestWithCallback(S,b,E):new Promise(function(O,C){d.requestWithCallback(S,b,_(O,C))})},d.requestWithCallback=function(S,b,E){if(!S||typeof S!="string"&&(0,i.default)(S)!=="object"){var O=u.format("expect request url to be a string or a http request options, but got %j",S);throw new Error(O)}arguments.length===2&&typeof b=="function"&&(E=b,b=null),b=b||{},p>=y&&(p=0);var C=++p;b.requestUrls=b.requestUrls||[];var k={requestId:C,url:S,args:b,ctx:b.ctx};b.emitter&&b.emitter.emit("request",k),b.timeout=b.timeout||d.TIMEOUTS,b.maxRedirects=b.maxRedirects||10,b.streaming=b.streaming||b.customResponse;var A=Date.now(),I;typeof S=="string"?(m.test(S)||(S="https://"+S),I=a.parse(S)):I=S;var D=(b.type||b.method||I.method||"GET").toUpperCase(),F=I.port||80,Q=n,te=g(b.agent,d.agent),$=b.fixJSONCtlChars;I.protocol==="https:"&&(Q=l,te=g(b.httpsAgent,d.httpsAgent),I.port||(F=443));var Z={host:I.hostname||I.host||"localhost",path:I.path||"/",method:D,port:F,agent:te,headers:b.headers||{},lookup:b.lookup};Array.isArray(b.timeout)?Z.requestTimeout=b.timeout[b.timeout.length-1]:typeof b.timeout!="undefined"&&(Z.requestTimeout=b.timeout);var ne=b.auth||I.auth;ne&&(Z.auth=ne);var ie=b.content||b.data,J=D==="GET"||D==="HEAD"||b.dataAsQueryString;if(!b.content&&ie&&!(typeof ie=="string"||r.isBuffer(ie)))if(J)ie=b.nestedQuerystring?qs.stringify(ie):querystring.stringify(ie);else{var Y=Z.headers["Content-Type"]||Z.headers["content-type"];Y||(b.contentType==="json"?Y="application/json":Y="application/x-www-form-urlencoded",Z.headers["Content-Type"]=Y),h(Y)==="application/json"?ie=JSON.stringify(ie):ie=b.nestedQuerystring?qs.stringify(ie):querystring.stringify(ie)}J&&ie&&(Z.path+=(I.query?"&":"?")+ie,ie=null);var K=0;if(ie){var X=ie.length;r.isBuffer(ie)||(X=r.byteLength(ie)),K=Z.headers["Content-Length"]=X}b.dataType==="json"&&(Z.headers.Accept="application/json"),typeof b.beforeRequest=="function"&&b.beforeRequest(Z);var U=null,se=null,oe=null,ae=!1,de=!1,G=0,R=-1,L=!1,M="",le="",ce=null;b.timing&&(ce={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0});function W(){U&&(clearTimeout(U),U=null)}function ee(){se&&(clearTimeout(se),se=null)}function z(ge,Ee,Ne){if(ee(),!E){console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),C,t.pid,Z.method,S),ge&&console.warn(`[urllib:warn] [%s] [%s] [worker:%s] %s: %s
stack: %s`,Date(),C,t.pid,ge.name,ge.message,ge.stack);return}var Ye=E;E=null;var Ke={};Ne&&(R=Ne.statusCode,Ke=Ne.headers);var He=Date.now()-A;ce&&(ce.contentDownload=He),c("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",He,G,R,Z.method,Z.host,Z.path,de,ce);var Be={status:R,statusCode:R,headers:Ke,size:G,aborted:L,rt:He,keepAliveSocket:de,data:Ee,requestUrls:b.requestUrls,timing:ce,remoteAddress:M,remotePort:le};if(ge){var Re="";te&&typeof te.getCurrentStatus=="function"&&(Re=", agent status: "+JSON.stringify(te.getCurrentStatus())),ge.message+=", "+Z.method+" "+S+" "+R+" (connected: "+ae+", keepalive socket: "+de+Re+`)
headers: `+JSON.stringify(Ke),ge.data=Ee,ge.path=Z.path,ge.status=R,ge.headers=Ke,ge.res=Be}Ye(ge,Ee,b.streaming?Ne:Be),b.emitter&&(k.url=S,k.socket=je&&je.connection,k.options=Z,k.size=K,b.emitter.emit("response",{requestId:C,error:ge,ctx:b.ctx,req:k,res:Be}))}function N(ge){var Ee=null;if(b.followRedirect&&statuses.redirect[ge.statusCode]){b._followRedirectCount=(b._followRedirectCount||0)+1;var Ne=ge.headers.location;if(!Ne)Ee=new Error("Got statusCode "+ge.statusCode+" but cannot resolve next location from headers"),Ee.name="FollowRedirectError";else if(b._followRedirectCount>b.maxRedirects)Ee=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+S),Ee.name="MaxRedirectError";else{var Ye=b.formatRedirectUrl?b.formatRedirectUrl(S,Ne):a.resolve(S,Ne);c("Request#%d %s: `redirected` from %s to %s",C,Z.path,S,Ye),ee(),b.headers&&b.headers.Host&&m.test(Ne)&&(b.headers.Host=null);var Ke=E;return E=null,d.requestWithCallback(Ye,b,Ke),{redirect:!0,error:null}}}return{redirect:!1,error:Ee}}b.gzip&&!Z.headers["Accept-Encoding"]&&!Z.headers["accept-encoding"]&&(Z.headers["Accept-Encoding"]="gzip");function V(ge,Ee,Ne){var Ye=ge.headers["content-encoding"];return Ne(null,Ee,Ye)}var q=b.writeStream;c("Request#%d %s %s with headers %j, options.path: %s",C,D,S,Z.headers,Z.path),b.requestUrls.push(S);function ue(ge){if(ce&&(ce.waiting=Date.now()-A),c("Request#%d %s `req response` event emit: status %d, headers: %j",C,S,ge.statusCode,ge.headers),b.streaming){var Ee=N(ge);if(Ee.redirect){ge.resume();return}return Ee.error?(ge.resume(),z(Ee.error,null,ge)):z(null,null,ge)}if(ge.on("close",function(){c("Request#%d %s: `res close` event emit, total size %d",C,S,G)}),ge.on("error",function(){c("Request#%d %s: `res error` event emit, total size %d",C,S,G)}),ge.on("aborted",function(){L=!0,c("Request#%d %s: `res aborted` event emit, total size %d",C,S,G)}),q){var Ne=N(ge);if(Ne.redirect){ge.resume();return}return Ne.error?(ge.resume(),q.end(),z(Ne.error,null,ge)):(b.consumeWriteStream===!1?ge.on("end",z.bind(null,null,null,ge)):q.on("close",function(){c("Request#%d %s: writeStream close event emitted",C,S),z(oe||null,null,ge)}),ge.pipe(q))}var Ye=[];ge.on("data",function(Ke){c("Request#%d %s: `res data` event emit, size %d",C,S,Ke.length),G+=Ke.length,Ye.push(Ke)}),ge.on("end",function(){var Ke=r.concat(Ye,G);if(c("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",C,S,G,ge._dumped),oe)return z(oe,Ke,ge);var He=N(ge);if(He.error)return z(He.error,Ke,ge);He.redirect||V(ge,Ke,function(Be,Re,he){if(Be)return z(Be,Ke,ge);if(!he&&j.indexOf(b.dataType)>=0){try{Re=decodeBodyByCharset(Re,ge)}catch(Le){return c("decodeBodyByCharset error: %s",Le),z(null,Re,ge)}if(b.dataType==="json")if(G===0)Re=null;else{var be=parseJSON(Re,$);be.error?Be=be.error:Re=be.data}}L&&c("Request#%d %s: Remote socket was terminated before `response.end()` was called",C,S),z(Be,Re,ge)})})}var fe,ye;Array.isArray(b.timeout)?(fe=f(b.timeout[0]),ye=f(b.timeout[1])):fe=ye=f(b.timeout),c("ConnectTimeout: %d, ResponseTimeout: %d",fe,ye);function _e(){c("Connect timer ticking, timeout: %d",fe),U=setTimeout(function(){U=null,R===-1&&(R=-2);var ge="Connect timeout for "+fe+"ms",Ee="ConnectionTimeoutError";je.socket||(Ee="SocketAssignTimeoutError",ge+=", working sockets is full"),oe=new Error(ge),oe.name=Ee,oe.requestId=C,c("ConnectTimeout: Request#%d %s %s: %s, connected: %s",C,S,oe.name,ge,ae),Oe()},fe)}function Te(){c("Response timer ticking, timeout: %d",ye),se=setTimeout(function(){se=null;var ge="Response timeout for "+ye+"ms",Ee="ResponseTimeoutError";oe=new Error(ge),oe.name=Ee,oe.requestId=C,c("ResponseTimeout: Request#%d %s %s: %s, connected: %s",C,S,oe.name,ge,ae),Oe()},ye)}var je;Z.mode=b.mode?b.mode:"";try{je=Q.request(Z,ue)}catch(ge){return z(ge)}typeof window=="undefined"?_e():je.on("requestTimeout",function(){R===-1&&(R=-2);var ge="Connect timeout for "+fe+"ms",Ee="ConnectionTimeoutError";oe=new Error(ge),oe.name=Ee,oe.requestId=C,Oe()});function Oe(){c("Request#%d %s abort, connected: %s",C,S,ae),je.socket||(oe.noSocket=!0,z(oe)),je.abort()}return ce&&je.on("finish",function(){ce.requestSent=Date.now()-A}),je.once("socket",function(ge){ce&&(ce.queuing=Date.now()-A);var Ee=ge.readyState;if(Ee==="opening"){ge.once("lookup",function(Ne,Ye,Ke){c("Request#%d %s lookup: %s, %s, %s",C,S,Ne,Ye,Ke),ce&&(ce.dnslookup=Date.now()-A),Ye&&(M=Ye)}),ge.once("connect",function(){ce&&(ce.connected=Date.now()-A),W(),Te(),c("Request#%d %s new socket connected",C,S),ae=!0,M||(M=ge.remoteAddress),le=ge.remotePort});return}c("Request#%d %s reuse socket connected, readyState: %s",C,S,Ee),ae=!0,de=!0,M||(M=ge.remoteAddress),le=ge.remotePort,W(),Te()}),je.on("error",function(ge){(ge.name==="Error"||ge.name==="TypeError")&&(ge.name=ae?"ResponseError":"RequestError"),ge.message+=' (req "error")',c("Request#%d %s `req error` event emit, %s: %s",C,S,ge.name,ge.message),z(oe||ge)}),q&&q.once("error",function(ge){ge.message+=' (writeStream "error")',oe=ge,c("Request#%d %s `writeStream error` event emit, %s: %s",C,S,ge.name,ge.message),Oe()}),b.stream?(b.stream.pipe(je),b.stream.once("error",function(ge){ge.message+=' (stream "error")',oe=ge,c("Request#%d %s `readStream error` event emit, %s: %s",C,S,ge.name,ge.message),Oe()})):je.end(ie),je.requestId=C,je}}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":86,"@babel/runtime/helpers/typeof":91,_process:538,buffer:103,"core-js/modules/es.array.concat.js":310,"core-js/modules/es.function.name.js":322,"core-js/modules/es.object.to-string.js":329,"core-js/modules/es.promise.js":333,"core-js/modules/es.regexp.exec.js":338,"core-js/modules/es.string.trim.js":349,debug:536,http:539,https:398,"humanize-ms":399,url:543,util:489}]},{},[1])(1)})})(window)})(Ns);var Jo=Ns.exports;const Yo=Oa(Jo),lr=class lr{constructor(){qe(this,"ossClient",null);qe(this,"configStore",Rr());this.initOSSClient()}static getInstance(){return lr.instance||(lr.instance=new lr),lr.instance}initOSSClient(){return pe(this,null,function*(){try{const v=this.configStore.storageConfig;if(v.storageType!=="oss"){console.log("当前存储类型不是OSS，跳过初始化");return}if(!v.accessKey||!v.secretKey||!v.bucketName||!v.region){console.warn("OSS配置不完整，无法初始化客户端");return}this.ossClient=new Yo({region:v.region,accessKeyId:v.accessKey,accessKeySecret:v.secretKey,bucket:v.bucketName,endpoint:v.customDomain||void 0,secure:!0,cname:!!v.customDomain})}catch(v){console.error("OSS客户端初始化失败:",v),this.ossClient=null}})}isOSSAvailable(){const v=this.configStore.storageConfig;return v.storageType==="oss"&&!!this.ossClient&&!!v.accessKey&&!!v.secretKey&&!!v.bucketName}getOSSConfigDiagnosis(){const v=this.configStore.storageConfig,w=[];return v.storageType!=="oss"&&w.push("存储类型未设置为OSS"),v.accessKey||w.push("Access Key未配置"),v.secretKey||w.push("Secret Key未配置"),v.bucketName||w.push("Bucket名称未配置"),v.region||w.push("Region未配置"),this.ossClient||w.push("OSS客户端未初始化"),{isAvailable:this.isOSSAvailable(),issues:w,config:{storageType:v.storageType,hasAccessKey:!!v.accessKey,hasSecretKey:!!v.secretKey,hasBucketName:!!v.bucketName,hasRegion:!!v.region,hasClient:!!this.ossClient}}}diagnoseOSSPermissions(){return pe(this,null,function*(){const v={hasListPermission:!1,hasReadPermission:!1,hasWritePermission:!1,errors:[],recommendations:[]};try{if(this.ossClient||(yield this.initOSSClient()),!this.ossClient)return v.errors.push("OSS客户端初始化失败"),v.recommendations.push("检查Access Key、Secret Key和Region配置"),v;try{yield this.ossClient.list({"max-keys":1}),v.hasListPermission=!0,console.log("✓ List权限测试通过")}catch(w){v.errors.push(`List权限测试失败: ${w.code||w.message}`),w.code==="AccessDenied"&&v.recommendations.push("需要为Access Key添加oss:ListObjects权限")}try{yield this.ossClient.get("permission-test-nonexistent-file.txt")}catch(w){w.code==="NoSuchKey"?(v.hasReadPermission=!0,console.log("✓ Read权限测试通过")):w.code==="AccessDenied"?(v.errors.push("Read权限测试失败: 访问被拒绝"),v.recommendations.push("需要为Access Key添加oss:GetObject权限")):v.errors.push(`Read权限测试失败: ${w.code||w.message}`)}try{const w="permission-test",e=`permission-test-${Date.now()}.txt`;yield this.ossClient.put(e,Buffer.from(w)),v.hasWritePermission=!0,console.log("✓ Write权限测试通过");try{yield this.ossClient.delete(e)}catch(o){console.warn("清理测试文件失败:",o)}}catch(w){v.errors.push(`Write权限测试失败: ${w.code||w.message}`),w.code==="AccessDenied"&&v.recommendations.push("需要为Access Key添加oss:PutObject和oss:DeleteObject权限")}}catch(w){v.errors.push(`权限诊断失败: ${w.message}`)}return v})}testOSSConnection(){return pe(this,null,function*(){var v,w;try{if(this.ossClient||(console.log("OSS客户端未初始化，尝试重新初始化..."),yield this.initOSSClient()),!this.ossClient)return{success:!1,error:"OSS客户端初始化失败，请检查配置"};if(typeof this.ossClient.list!="function")return console.error("OSS客户端对象:",this.ossClient),console.error("可用方法:",Object.getOwnPropertyNames(this.ossClient)),{success:!1,error:"OSS客户端方法不可用，可能是版本兼容性问题"};const e=this.configStore.storageConfig.bucketName,o=yield this.ossClient.list({"max-keys":1});return{success:!0,details:{bucketName:e,region:this.configStore.storageConfig.region,objectCount:o.objects?o.objects.length:0,isTruncated:o.isTruncated||!1}}}catch(e){let o="未知错误",d={},t="";if(e.name==="RequestError"||(v=e.message)!=null&&v.includes("XHR error")||(w=e.message)!=null&&w.includes("ERR_FAILED"))o=`OSS错误: ${e.name} - ${e.message}`,t=`这可能是CORS配置问题。请检查：
1. OSS Bucket的CORS规则是否包含当前域名
2. 允许的方法是否包含GET
3. 是否使用了正确的协议(HTTPS)`,d={name:e.name,message:e.message,status:e.status,code:e.code,corsAdvice:t,currentOrigin:window.location.origin,requestUrl:`https://${this.configStore.storageConfig.bucketName}.${this.configStore.storageConfig.region}.aliyuncs.com/`};else if(e.code){switch(e.code){case"InvalidAccessKeyId":o="Access Key ID无效";break;case"SignatureDoesNotMatch":o="Secret Key错误或签名不匹配";break;case"NoSuchBucket":o="Bucket不存在";break;case"AccessDenied":o="访问被拒绝，请检查权限配置";break;case"RequestTimeTooSkewed":o="请求时间偏差过大，请检查系统时间";break;default:o=`OSS错误: ${e.code} - ${e.message}`}d={code:e.code,message:e.message,requestId:e.requestId}}else o=e.message||"连接失败",d=e;let r=null;if(e.code==="AccessDenied"||o.includes("访问被拒绝")){console.log("检测到权限错误，开始权限诊断...");try{r=yield this.diagnoseOSSPermissions(),console.log("权限诊断结果:",r)}catch(s){console.error("权限诊断失败:",s)}}return console.error("OSS连接测试失败:",{error:o,details:d,permissionDiagnosis:r,config:{region:this.configStore.storageConfig.region,bucket:this.configStore.storageConfig.bucketName,endpoint:this.configStore.storageConfig.customDomain,hasClient:!!this.ossClient,currentOrigin:window.location.origin}}),{success:!1,error:`${o}${t?" "+t:""}`,details:ot(Me({},d),{permissionDiagnosis:r})}}})}uploadFile(v,w,e){return pe(this,null,function*(){try{if(!this.isOSSAvailable())return{success:!1,error:"OSS服务不可用，请检查配置"};const o=this.generateFileName(v.name),d=w?`${w}/${o}`:o;return{success:!0,url:(yield this.ossClient.put(d,v,{progress:r=>{e&&e(Math.round(r*100))}})).url,key:d}}catch(o){return console.error("OSS文件上传失败:",o),{success:!1,error:o instanceof Error?o.message:"上传失败"}}})}deleteFile(v){return pe(this,null,function*(){try{if(!v||typeof v!="string")return console.error("OSS文件删除失败: 无效的文件key",{key:v}),!1;if(!this.isOSSAvailable())return console.warn("OSS服务不可用，无法删除文件",{key:v,diagnosis:this.getOSSConfigDiagnosis()}),!1;const w=yield this.ossClient.delete(v);return!0}catch(w){if(w.code!=="AccessDenied"){if(w.code==="NoSuchKey")return!0;w.code==="InvalidAccessKeyId"||w.code}return!1}})}listFiles(v,w=100){return pe(this,null,function*(){var e;try{if(!this.isOSSAvailable())return{success:!1,error:"OSS服务不可用"};console.log(`开始列出OSS文件，前缀: ${v||"无"}`);const d=((e=(yield this.ossClient.list({prefix:v||"","max-keys":w})).objects)==null?void 0:e.map(t=>({key:t.name,size:t.size,lastModified:new Date(t.lastModified),etag:t.etag})))||[];return console.log(`OSS文件列表获取成功，共 ${d.length} 个文件`),{success:!0,files:d}}catch(o){return console.error("OSS文件列表获取失败:",{prefix:v,error:o.message||o,code:o.code,requestId:o.requestId}),{success:!1,error:o.message||"获取文件列表失败"}}})}downloadFile(v){return pe(this,null,function*(){try{if(!v||typeof v!="string")return{success:!1,error:"无效的文件key"};if(!this.isOSSAvailable())return{success:!1,error:"OSS服务不可用"};console.log(`开始下载OSS文件: ${v}`);const w=yield this.ossClient.get(v);if(w.content){const e=w.content.toString();return console.log(`OSS文件下载成功: ${v}，大小: ${e.length} 字符`),{success:!0,content:e,blob:new Blob([e],{type:"application/json"})}}else return{success:!1,error:"文件内容为空"}}catch(w){return console.error("OSS文件下载失败:",{key:v,error:w.message||w,code:w.code,requestId:w.requestId}),w.code==="NoSuchKey"?{success:!1,error:"文件不存在"}:w.code==="AccessDenied"?{success:!1,error:"访问被拒绝，请检查权限配置"}:{success:!1,error:w.message||"下载文件失败"}}})}getFileUrl(v){const w=this.configStore.storageConfig;return w.customDomain?`${w.customDomain}/${v}`:`https://${w.bucketName}.${w.region}.aliyuncs.com/${v}`}generateFileName(v){const w=Date.now(),e=Math.random().toString(36).substring(2,8),o=v.split(".").pop();return`${w}_${e}.${o}`}validateFileType(v){var d;const e=this.configStore.storageConfig.allowedTypes.split(",").map(t=>t.trim().toLowerCase()),o=(d=v.name.split(".").pop())==null?void 0:d.toLowerCase();return o?e.includes(o):!1}validateFileSize(v){const e=this.configStore.storageConfig.maxFileSize*1024*1024;return v.size<=e}reinitialize(){return pe(this,null,function*(){this.ossClient=null,yield this.initOSSClient()})}};qe(lr,"instance");let ln=lr;const wt=ln.getInstance(),Qo=Object.freeze(Object.defineProperty({__proto__:null,OSSService:ln,ossService:wt},Symbol.toStringTag,{value:"Module"})),cr=class cr{constructor(){qe(this,"configStore",Rr());qe(this,"syncStatus",{isEnabled:!1,syncInProgress:!1,totalItems:0,syncedItems:0,failedItems:0,errors:[]});qe(this,"syncConfig",{autoSync:!0,syncInterval:30,syncOnDataChange:!0,backupRetention:5});qe(this,"syncTimer",null);this.initializeSync()}static getInstance(){return cr.instance||(cr.instance=new cr),cr.instance}initializeSync(){this.syncStatus.isEnabled=wt.isOSSAvailable(),this.syncStatus.isEnabled&&this.syncConfig.autoSync&&this.startAutoSync(),this.watchStorageConfig()}watchStorageConfig(){setInterval(()=>{const v=this.syncStatus.isEnabled;this.syncStatus.isEnabled=wt.isOSSAvailable(),!v&&this.syncStatus.isEnabled?this.syncConfig.autoSync&&this.startAutoSync():v&&!this.syncStatus.isEnabled&&this.stopAutoSync()},5e3)}startAutoSync(){if(!this.syncStatus.isEnabled){console.warn("OSS服务不可用，无法启动自动同步");return}this.stopAutoSync(),this.syncTimer=window.setInterval(()=>{this.syncStatus.syncInProgress||this.syncAllData()},this.syncConfig.syncInterval*60*1e3),console.log(`自动同步已启动，间隔: ${this.syncConfig.syncInterval}分钟`)}stopAutoSync(){this.syncTimer&&(clearInterval(this.syncTimer),this.syncTimer=null,console.log("自动同步已停止"))}syncAllData(){return pe(this,null,function*(){if(!this.syncStatus.isEnabled)return console.warn("OSS服务不可用，无法同步数据"),!1;if(this.syncStatus.syncInProgress)return console.warn("同步正在进行中，请稍后再试"),!1;try{this.syncStatus.syncInProgress=!0,this.syncStatus.syncedItems=0,this.syncStatus.failedItems=0,this.syncStatus.errors=[],console.log("开始同步数据到OSS...");const v=this.getAllLocalData();this.syncStatus.totalItems=v.length;for(const w of v)try{yield this.syncSingleData(w),this.syncStatus.syncedItems++}catch(e){this.syncStatus.failedItems++,this.syncStatus.errors.push(`同步 ${w.key} 失败: ${e instanceof Error?e.message:"未知错误"}`)}return this.syncStatus.lastSyncTime=new Date().toISOString(),console.log(`数据同步完成: 成功 ${this.syncStatus.syncedItems}，失败 ${this.syncStatus.failedItems}`),this.syncStatus.failedItems===0}catch(v){return console.error("数据同步失败:",v),!1}finally{this.syncStatus.syncInProgress=!1}})}getAllLocalData(){const v=[];for(let w=0;w<localStorage.length;w++){const e=localStorage.key(w);if(e&&e.startsWith("crm_"))try{const o=localStorage.getItem(e);o&&v.push({key:e,data:JSON.parse(o)})}catch(o){console.warn(`解析本地数据失败: ${e}`,o)}}return v}syncSingleData(v){return pe(this,null,function*(){const w=`backup/${v.key}_${Date.now()}.json`,e=new Blob([JSON.stringify(v.data,null,2)],{type:"application/json"}),o=new File([e],w,{type:"application/json"}),d=yield wt.uploadFile(o,"crm-backup");if(!d.success)throw new Error(d.error||"上传失败")})}restoreFromOSS(){return pe(this,null,function*(){if(!this.syncStatus.isEnabled)return console.warn("OSS服务不可用，无法恢复数据"),!1;try{return console.log("开始从OSS恢复数据..."),console.log("数据恢复功能需要进一步实现"),!0}catch(v){return console.error("从OSS恢复数据失败:",v),!1}})}getSyncStatus(){return Me({},this.syncStatus)}getSyncConfig(){return Me({},this.syncConfig)}updateSyncConfig(v){Object.assign(this.syncConfig,v),v.autoSync!==void 0&&(v.autoSync&&this.syncStatus.isEnabled?this.startAutoSync():this.stopAutoSync()),v.syncInterval!==void 0&&this.syncConfig.autoSync&&this.startAutoSync()}cleanupOldBackups(){return pe(this,null,function*(){if(this.syncStatus.isEnabled)try{console.log("清理旧备份文件...")}catch(v){console.error("清理旧备份失败:",v)}})}checkDataIntegrity(){return pe(this,null,function*(){try{const v=this.getAllLocalData();return console.log(`本地数据项数量: ${v.length}`),!0}catch(v){return console.error("数据完整性检查失败:",v),!1}})}};qe(cr,"instance");let Vn=cr;const kt=Vn.getInstance();class Zo{constructor(){qe(this,"dataSyncService",kt)}saveData(v,w){return pe(this,null,function*(){try{return localStorage.setItem(v,JSON.stringify(w)),this.dataSyncService.getSyncConfig().syncOnDataChange&&this.dataSyncService.getSyncStatus().isEnabled&&setTimeout(()=>{this.dataSyncService.syncAllData()},1e3),!0}catch(e){return console.error("保存数据失败:",e),!1}})}loadData(v){try{const w=localStorage.getItem(v);return w?JSON.parse(w):null}catch(w){return console.error("加载数据失败:",w),null}}removeData(v){return pe(this,null,function*(){try{return localStorage.removeItem(v),this.dataSyncService.getSyncConfig().syncOnDataChange&&this.dataSyncService.getSyncStatus().isEnabled&&setTimeout(()=>{this.dataSyncService.syncAllData()},1e3),!0}catch(w){return console.error("删除数据失败:",w),!1}})}}const kn=new Zo;class qo{constructor(){qe(this,"results",[])}runAllTests(){return pe(this,null,function*(){return this.results=[],console.log("开始数据持久性测试..."),yield this.testLocalStorage(),yield this.testConfigStore(),yield this.testEnhancedStorage(),yield this.testOSSService(),yield this.testDataSyncService(),console.log("数据持久性测试完成"),this.printResults(),this.results})}testLocalStorage(){return pe(this,null,function*(){try{const v="test_local_storage",w={message:"Hello World",timestamp:Date.now()};localStorage.setItem(v,JSON.stringify(w));const e=localStorage.getItem(v),o=e?JSON.parse(e):null,d=o&&o.message===w.message;localStorage.removeItem(v),this.addResult({name:"本地存储功能",passed:d,message:d?"本地存储读写正常":"本地存储读写失败",error:{testData:w,savedData:o}})}catch(v){this.addResult({name:"本地存储功能",passed:!1,message:`本地存储测试失败: ${v instanceof Error?v.message:"未知错误"}`,error:v})}})}testConfigStore(){return pe(this,null,function*(){try{const v=Rr(),w=Me({},v.systemConfig),e=ot(Me({},w),{siteName:"Test Site Name"});v.updateSystemConfig(e);const o=v.systemConfig.siteName==="Test Site Name";v.updateSystemConfig(w),this.addResult({name:"配置存储功能",passed:o,message:o?"配置存储更新正常":"配置存储更新失败",error:{testSystemConfig:e,currentConfig:v.systemConfig}})}catch(v){this.addResult({name:"配置存储功能",passed:!1,message:`配置存储测试失败: ${v instanceof Error?v.message:"未知错误"}`,error:v})}})}testEnhancedStorage(){return pe(this,null,function*(){try{const v="test_enhanced_storage",w={type:"enhanced",value:"test data",timestamp:Date.now()},e=yield kn.saveData(v,w),o=kn.loadData(v),d=e&&o&&o.value===w.value;yield kn.removeData(v),this.addResult({name:"增强存储服务",passed:d,message:d?"增强存储服务正常":"增强存储服务异常",error:{testData:w,loadedData:o,saveResult:e}})}catch(v){this.addResult({name:"增强存储服务",passed:!1,message:`增强存储服务测试失败: ${v instanceof Error?v.message:"未知错误"}`,error:v})}})}testOSSService(){return pe(this,null,function*(){try{const v=wt.getOSSConfigDiagnosis();if(!v.isAvailable){this.addResult({name:"OSS服务可用性",passed:!1,message:`OSS服务不可用: ${v.issues.join(", ")}`,error:{diagnosis:v}});return}const w=yield wt.testOSSConnection();if(this.addResult({name:"OSS连接测试",passed:w.success,message:w.success?"OSS连接成功":`OSS连接失败: ${w.error}`,error:w.success?null:w.details}),!w.success)return;const e="This is a test file for OSS upload",o=new Blob([e],{type:"text/plain"}),d=new File([o],"test-file.txt",{type:"text/plain"}),t=yield wt.uploadFile(d,"test");if(this.addResult({name:"OSS文件上传",passed:t.success,message:t.success?"OSS文件上传成功":`OSS文件上传失败: ${t.error}`,error:{uploadResult:t,fileName:d.name}}),t.success&&t.key)try{const r=yield wt.deleteFile(t.key);this.addResult({name:"OSS文件删除",passed:r,message:r?"OSS文件删除成功":"OSS文件删除失败",error:r?null:{fileKey:t.key,url:t.url}})}catch(r){this.addResult({name:"OSS文件删除",passed:!1,message:`OSS文件删除测试失败: ${r instanceof Error?r.message:"未知错误"}`,error:{deleteError:r,fileKey:t.key,url:t.url}})}else t.success&&!t.key&&this.addResult({name:"OSS文件删除",passed:!1,message:"OSS文件删除失败: 上传结果中缺少文件key",error:{uploadResult:t}})}catch(v){this.addResult({name:"OSS服务",passed:!1,message:`OSS服务测试失败: ${v instanceof Error?v.message:"未知错误"}`,error:v})}})}testDataSyncService(){return pe(this,null,function*(){try{const v=kt.getSyncStatus(),w=kt.getSyncConfig(),e=yield kt.checkDataIntegrity();if(this.addResult({name:"数据同步服务状态",passed:!0,message:"数据同步服务状态获取正常",error:{syncStatus:v,syncConfig:w,integrityCheck:e}}),v.isEnabled)try{const o=yield kt.checkDataIntegrity();this.addResult({name:"数据同步准备",passed:o,message:o?"数据同步准备就绪":"数据同步准备失败",error:{testSyncResult:o}})}catch(o){this.addResult({name:"数据同步准备",passed:!1,message:`数据同步准备失败: ${o instanceof Error?o.message:"未知错误"}`,error:o})}else this.addResult({name:"数据同步准备",passed:!1,message:"数据同步服务未启用，OSS配置可能不完整",error:{syncStatus:v}})}catch(v){this.addResult({name:"数据同步服务",passed:!1,message:`数据同步服务测试失败: ${v instanceof Error?v.message:"未知错误"}`,error:v})}})}addResult(v){this.results.push(v),console.log(`[测试] ${v.name}: ${v.passed?"✅ 通过":"❌ 失败"} - ${v.message}`)}printResults(){const v=this.results.length,w=this.results.filter(o=>o.passed).length,e=v-w;console.log(`
=== 数据持久性测试结果摘要 ===`),console.log(`总测试数: ${v}`),console.log(`通过: ${w}`),console.log(`失败: ${e}`),console.log(`成功率: ${(w/v*100).toFixed(1)}%`),e>0&&(console.log(`
失败的测试:`),this.results.filter(o=>!o.passed).forEach(o=>{console.log(`- ${o.name}: ${o.message}`)}))}getResults(){return[...this.results]}getSummary(){const v=this.results.length,w=this.results.filter(d=>d.passed).length,e=v-w,o=v>0?w/v*100:0;return{total:v,passed:w,failed:e,successRate:o}}}const Ls=new qo;function Bs(){return pe(this,null,function*(){return yield Ls.runAllTests()})}typeof window!="undefined"&&(window.testDataPersistence=Bs().dataPersistenceTest=Ls);class ei{constructor(){qe(this,"configStore",Rr());qe(this,"autoBackupTimer",null)}getDefaultBackupConfig(){return{enabled:!1,autoBackupInterval:24,maxBackupCount:30,backupPath:"backups/data",includeStores:["crm_store_customer","crm_store_order","crm_store_product","crm_store_performance","crm_store_department","crm_store_service","crm_store_config"],excludeKeys:["test_","temp_","cache_"]}}getBackupConfig(){const v=localStorage.getItem("crm_backup_config");if(v)try{return Me(Me({},this.getDefaultBackupConfig()),JSON.parse(v))}catch(w){console.error("备份配置解析失败:",w)}return this.getDefaultBackupConfig()}saveBackupConfig(v){localStorage.setItem("crm_backup_config",JSON.stringify(v)),this.setupAutoBackup()}setBackupConfig(v){return pe(this,null,function*(){this.saveBackupConfig(v),this.setupAutoBackup(),console.log("备份配置已更新并重新启动自动备份")})}collectBackupData(v){const w={};let e=0,o=0;for(let d=0;d<localStorage.length;d++){const t=localStorage.key(d);if(!t)continue;const r=v.includeStores.some(i=>t.startsWith(i))||t.startsWith("crm_"),s=v.excludeKeys.some(i=>t.includes(i));if(r&&!s)try{const i=localStorage.getItem(t);i&&(w[t]=JSON.parse(i),e+=t.length+i.length,o++)}catch(i){console.warn(`备份数据时跳过无效键 ${t}:`,i)}}return{version:"1.0.0",timestamp:Date.now(),data:w,metadata:{userAgent:navigator.userAgent,url:window.location.href,totalSize:e,itemCount:o}}}performManualBackup(){return pe(this,null,function*(){try{if(!wt.isOSSAvailable())return Se.error("OSS未配置或不可用，无法执行备份"),!1;const v=this.getBackupConfig(),w=this.collectBackupData(v),e=new Date().toISOString().replace(/[:.]/g,"-"),o=`${v.backupPath}/manual-backup-${e}.json`,d=JSON.stringify(w,null,2),t=new Blob([d],{type:"application/json"}),r=new File([t],`manual-backup-${e}.json`,{type:"application/json"}),s=yield wt.uploadFile(r,o);return s.success?(localStorage.setItem("crm_last_backup_time",Date.now().toString()),Se.success(`手动备份成功！备份了 ${w.metadata.itemCount} 项数据`),yield this.cleanupOldBackups(v),!0):(Se.error(`备份失败: ${s.error}`),!1)}catch(v){return console.error("手动备份失败:",v),Se.error(`备份失败: ${v instanceof Error?v.message:"未知错误"}`),!1}})}performAutoBackup(){return pe(this,null,function*(){try{if(!wt.isOSSAvailable())return console.warn("OSS未配置或不可用，跳过自动备份"),!1;const v=this.getBackupConfig();if(!v.enabled)return!1;const w=this.collectBackupData(v),e=new Date().toISOString().replace(/[:.]/g,"-"),o=`${v.backupPath}/auto-backup-${e}.json`,d=JSON.stringify(w,null,2),t=new Blob([d],{type:"application/json"}),r=new File([t],`auto-backup-${e}.json`,{type:"application/json"}),s=yield wt.uploadFile(r,o);return s.success?(localStorage.setItem("crm_last_backup_time",Date.now().toString()),console.log(`自动备份成功！备份了 ${w.metadata.itemCount} 项数据`),yield this.cleanupOldBackups(v),!0):(console.error(`自动备份失败: ${s.error}`),!1)}catch(v){return console.error("自动备份失败:",v),!1}})}getBackupList(){return pe(this,null,function*(){var v;try{if(!wt.isOSSAvailable())throw new Error("OSS未配置或不可用");const w=this.getBackupConfig(),e=yield wt.listFiles(w.backupPath,1e3);if(!e.success)throw new Error(e.error||"获取备份列表失败");const o=((v=e.files)==null?void 0:v.filter(t=>t.key.endsWith(".json")&&(t.key.includes("manual-backup-")||t.key.includes("auto-backup-"))))||[],d=[];for(const t of o)try{const r=t.key.split("/").pop()||t.key,s=r.match(/(\d{4}-\d{2}-\d{2}T\d{2}-\d{2}-\d{2})/);let i=t.lastModified.getTime();if(s){const u=s[1].replace(/-/g,":").replace("T","T").slice(0,-3)+":"+s[1].slice(-3),a=new Date(u.replace(/-/g,":"));isNaN(a.getTime())||(i=a.getTime())}d.push({filename:r,timestamp:i,size:t.size,version:"1.0.0",itemCount:0})}catch(r){console.warn("解析备份文件信息失败:",t.key,r)}return d.sort((t,r)=>r.timestamp-t.timestamp),console.log(`获取到 ${d.length} 个备份文件`),d}catch(w){throw console.error("获取备份列表失败:",w),w}})}restoreFromBackup(v){return pe(this,null,function*(){try{if((yield bt.confirm("恢复备份将覆盖当前所有数据，此操作不可撤销。是否继续？","确认恢复",{confirmButtonText:"确定恢复",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!1}))!=="confirm")return!1;if(!wt.isOSSAvailable())return Se.error("OSS未配置或不可用，无法恢复备份"),!1;const o=`${this.getBackupConfig().backupPath}/${v}`,d=yield wt.downloadFile(o);if(!d.success)return Se.error(`下载备份文件失败: ${d.error}`),!1;if(!d.content)return Se.error("备份文件内容为空"),!1;let t;try{t=JSON.parse(d.content)}catch(s){return Se.error("备份文件格式错误，无法解析"),!1}if(!t.data||!t.version||!t.timestamp)return Se.error("备份文件格式不正确"),!1;let r=0;for(const[s,i]of Object.entries(t.data))try{typeof i=="string"?localStorage.setItem(s,i):localStorage.setItem(s,JSON.stringify(i)),r++}catch(u){console.warn(`恢复数据项失败: ${s}`,u)}return localStorage.setItem("crm_last_restore_time",Date.now().toString()),localStorage.setItem("crm_last_restore_file",v),Se.success(`数据恢复成功！恢复了 ${r} 项数据，页面将自动刷新`),setTimeout(()=>{window.location.reload()},2e3),!0}catch(w){return w==="cancel"||(console.error("恢复备份失败:",w),Se.error(`恢复失败: ${w instanceof Error?w.message:"未知错误"}`)),!1}})}cleanupOldBackups(v){return pe(this,null,function*(){try{if(v.maxBackupCount<=0)return;const w=yield this.getBackupList();if(w.length<=v.maxBackupCount){console.log(`当前备份数量 ${w.length}，未超过限制 ${v.maxBackupCount}，无需清理`);return}const o=w.sort((t,r)=>r.timestamp-t.timestamp).slice(v.maxBackupCount);console.log(`开始清理 ${o.length} 个旧备份`);let d=0;for(const t of o)try{const r=`${v.backupPath}/${t.filename}`;(yield wt.deleteFile(r))?(d++,console.log(`删除旧备份成功: ${t.filename}`)):console.warn(`删除旧备份失败: ${t.filename}`)}catch(r){console.error(`删除备份文件失败: ${t.filename}`,r)}console.log(`清理旧备份完成，成功删除 ${d} 个文件`)}catch(w){console.error("清理旧备份失败:",w)}})}setupAutoBackup(){this.autoBackupTimer&&(clearInterval(this.autoBackupTimer),this.autoBackupTimer=null);const v=this.getBackupConfig();if(!v.enabled||v.autoBackupInterval<=0)return;const w=v.autoBackupInterval*60*60*1e3;this.autoBackupTimer=window.setInterval(()=>{this.performAutoBackup()},w),console.log(`自动备份已设置，间隔: ${v.autoBackupInterval} 小时`)}stopAutoBackup(){this.autoBackupTimer&&(clearInterval(this.autoBackupTimer),this.autoBackupTimer=null,console.log("自动备份已停止"))}initialize(){this.setupAutoBackup(),window.addEventListener("beforeunload",()=>{this.stopAutoBackup()})}getBackupStats(){const v=this.getBackupConfig(),w=this.collectBackupData(v),e=localStorage.getItem("crm_last_backup_time"),o=e?new Date(parseInt(e)).toLocaleString():null;return{totalItems:w.metadata.itemCount,totalSize:this.formatFileSize(w.metadata.totalSize),lastBackup:o}}formatFileSize(v){if(v===0)return"0 B";const w=1024,e=["B","KB","MB","GB"],o=Math.floor(Math.log(v)/Math.log(w));return parseFloat((v/Math.pow(w,o)).toFixed(2))+" "+e[o]}}const xt=new ei;xt.initialize();function Us(){const x={test_customer_data:JSON.stringify([{id:1,name:"测试客户1",phone:"13800138001"},{id:2,name:"测试客户2",phone:"13800138002"}]),test_order_data:JSON.stringify([{id:1,customerId:1,amount:1e3,status:"已完成"},{id:2,customerId:2,amount:2e3,status:"进行中"}]),test_config:JSON.stringify({theme:"dark",language:"zh-CN",autoSave:!0}),test_user_preferences:JSON.stringify({sidebarCollapsed:!1,tablePageSize:20,notifications:!0})};Object.entries(x).forEach(([v,w])=>{localStorage.setItem(v,w)}),console.log("测试数据已创建:",x),Se.success("测试数据创建成功")}function ti(){["test_customer_data","test_order_data","test_config","test_user_preferences"].forEach(v=>{localStorage.removeItem(v)}),console.log("测试数据已清理"),Se.success("测试数据清理完成")}function ri(){const v=["test_customer_data","test_order_data","test_config","test_user_preferences"].filter(w=>!localStorage.getItem(w));return v.length>0?(console.warn("缺少测试数据:",v),Se.warning(`缺少测试数据: ${v.join(", ")}`),!1):(console.log("测试数据验证通过"),Se.success("测试数据验证通过"),!0)}function Fs(){return pe(this,null,function*(){try{return console.log("开始测试手动备份功能..."),Us(),(yield xt.performManualBackup())?(console.log("手动备份测试成功"),Se.success("手动备份测试成功"),!0):(console.error("手动备份测试失败"),Se.error("手动备份测试失败"),!1)}catch(x){return console.error("手动备份测试异常:",x),Se.error(`手动备份测试异常: ${x}`),!1}})}function $s(){return pe(this,null,function*(){try{console.log("开始测试备份列表功能...");const x=yield xt.getBackupList();return console.log("备份列表:",x),Se.success(`获取到 ${x.length} 个备份文件`),!0}catch(x){return console.error("备份列表测试失败:",x),Se.error(`备份列表测试失败: ${x}`),!1}})}function Vs(){return pe(this,null,function*(){try{console.log("开始测试备份配置功能...");const x=xt.getDefaultBackupConfig();console.log("默认配置:",x);const v=ot(Me({},x),{enabled:!0,autoBackupInterval:2,maxBackupCount:5});yield xt.setBackupConfig(v);const w=xt.getBackupConfig();return console.log("保存的配置:",w),w.enabled===v.enabled&&w.autoBackupInterval===v.autoBackupInterval?(console.log("备份配置测试成功"),Se.success("备份配置测试成功"),!0):(console.error("备份配置测试失败: 配置不匹配"),Se.error("备份配置测试失败: 配置不匹配"),!1)}catch(x){return console.error("备份配置测试异常:",x),Se.error(`备份配置测试异常: ${x}`),!1}})}function Gs(){return pe(this,null,function*(){console.log("开始运行备份服务测试套件...");const x=[{name:"备份配置测试",fn:Vs},{name:"手动备份测试",fn:Fs},{name:"备份列表测试",fn:$s}],v=[];for(const o of x)try{console.log(`
=== ${o.name} ===`);const d=yield o.fn();v.push({name:o.name,success:d}),yield new Promise(t=>setTimeout(t,1e3))}catch(d){console.error(`${o.name} 执行异常:`,d),v.push({name:o.name,success:!1})}console.log(`
=== 测试结果汇总 ===`),v.forEach(o=>{console.log(`${o.name}: ${o.success?"✅ 通过":"❌ 失败"}`)});const w=v.filter(o=>o.success).length,e=v.length;w===e?Se.success(`所有测试通过 (${w}/${e})`):Se.warning(`部分测试失败 (${w}/${e})`),console.log(`测试完成: ${w}/${e} 通过`)})}typeof window!="undefined"&&(window.backupTests={createTestData:Us,cleanupTestData:ti,verifyTestData:ri,testManualBackup:Fs,testBackupList:$s,testBackupConfig:Vs,runAllTests:Gs},console.log("备份测试工具已加载，可在控制台使用 window.backupTests"));class Cn{static exportAllData(){const v={customers:[],orders:[],products:[],departments:[],users:[],configs:{}};try{const w=localStorage.getItem("crm_store_customers");w&&(v.customers=JSON.parse(w));const e=localStorage.getItem("crm_store_order");e&&(v.orders=JSON.parse(e));const o=localStorage.getItem("crm_store_product");o&&(v.products=JSON.parse(o));const d=localStorage.getItem("crm_store_departments");d&&(v.departments=JSON.parse(d));const t=localStorage.getItem("crm_store_users");t&&(v.users=JSON.parse(t));const r=localStorage.getItem("crm_store_configs");return r&&(v.configs=JSON.parse(r)),console.log("数据导出完成:",v),v}catch(w){throw console.error("数据导出失败:",w),w}}static downloadAsJson(v,w="crm_data_export.json"){const e=JSON.stringify(v,null,2),o=new Blob([e],{type:"application/json"}),d=document.createElement("a");d.href=URL.createObjectURL(o),d.download=w,d.click()}static cleanAndFormatData(v){return{customers:this.cleanCustomers(v.customers),orders:this.cleanOrders(v.orders),products:this.cleanProducts(v.products),departments:this.cleanDepartments(v.departments),users:this.cleanUsers(v.users),configs:this.cleanConfigs(v.configs)}}static cleanCustomers(v){return v.map(w=>({id:w.id,customer_code:w.customerCode||`CUST${w.id}`,name:w.name||"",phone:w.phone||"",email:w.email||"",address:w.address||"",company:w.company||"",industry:w.industry||"",source:w.source||"unknown",level:w.level||"normal",status:w.status||"active",tags:JSON.stringify(w.tags||[]),remark:w.remark||"",order_count:w.orderCount||0,total_amount:w.totalAmount||0,last_order_time:w.lastOrderTime?new Date(w.lastOrderTime):null,assigned_to:w.assignedTo||1,created_by:w.createdBy||1,created_at:w.createdAt?new Date(w.createdAt):new Date,updated_at:w.updatedAt?new Date(w.updatedAt):new Date}))}static cleanOrders(v){return v.map(w=>{var e,o;return{id:w.id,order_number:w.orderNumber,customer_id:w.customerId,customer_name:w.customerName,customer_phone:w.customerPhone,subtotal:w.subtotal||0,discount:w.discount||0,total_amount:w.totalAmount||0,collect_amount:w.collectAmount||0,deposit_amount:w.depositAmount||0,deposit_screenshots:JSON.stringify(w.depositScreenshots||[]),receiver_name:w.receiverName,receiver_phone:w.receiverPhone,receiver_address:w.receiverAddress,remark:w.remark||"",status:w.status||"pending_transfer",audit_status:w.auditStatus||"pending",mark_type:w.markType||"normal",sales_person_id:w.salesPersonId||1,auditor_id:w.auditorId||null,audit_time:w.auditTime?new Date(w.auditTime):null,audit_remark:w.auditRemark||"",express_company:w.expressCompany||"",tracking_number:w.trackingNumber||"",logistics_status:w.logisticsStatus||"pending",shipping_time:w.shippingTime?new Date(w.shippingTime):null,delivery_time:w.deliveryTime?new Date(w.deliveryTime):null,cancel_reason:w.cancelReason||"",cancel_time:w.cancelTime?new Date(w.cancelTime):null,created_by:w.createdBy||1,created_at:w.createdAt?new Date(w.createdAt):new Date,updated_at:w.updatedAt?new Date(w.updatedAt):new Date,items:((e=w.products)==null?void 0:e.map(d=>({product_id:d.id,product_name:d.name,product_code:d.code||"",price:d.price,quantity:d.quantity,total:d.price*d.quantity})))||[],status_history:((o=w.statusHistory)==null?void 0:o.map(d=>({status:d.status,operator_id:d.operatorId||1,operator_name:d.operatorName||"系统",description:d.description||"",remark:d.remark||"",created_at:d.createdAt?new Date(d.createdAt):new Date})))||[]}})}static cleanProducts(v){return v.map(w=>({id:w.id,product_code:w.code||`PROD${w.id}`,name:w.name,category_id:w.categoryId||1,description:w.description||"",price:w.price,cost_price:w.costPrice||0,stock_quantity:w.stock||0,min_stock:w.minStock||0,unit:w.unit||"件",specifications:JSON.stringify(w.specifications||{}),images:JSON.stringify(w.images||[]),status:w.status||"active",created_by:w.createdBy||1,created_at:w.createdAt?new Date(w.createdAt):new Date,updated_at:w.updatedAt?new Date(w.updatedAt):new Date}))}static cleanDepartments(v){return v.map(w=>({id:w.id,name:w.name,description:w.description||"",parent_id:w.parentId||null,manager_id:w.managerId||null,status:w.status||"active",created_at:w.createdAt?new Date(w.createdAt):new Date,updated_at:w.updatedAt?new Date(w.updatedAt):new Date}))}static cleanUsers(v){return v.map(w=>({id:w.id,username:w.username,email:w.email||"",password_hash:w.passwordHash||"$2b$10$defaulthash",real_name:w.realName||w.name||"",phone:w.phone||"",role:w.role||"sales",department_id:w.departmentId||1,status:w.status||"active",last_login_at:w.lastLoginAt?new Date(w.lastLoginAt):null,created_at:w.createdAt?new Date(w.createdAt):new Date,updated_at:w.updatedAt?new Date(w.updatedAt):new Date}))}static cleanConfigs(v){const w=[];for(const[e,o]of Object.entries(v||{}))w.push({config_key:e,config_value:JSON.stringify(o),description:`从localStorage迁移的配置: ${e}`,is_public:!1,updated_by:1,updated_at:new Date});return w}static validateData(v){const w=[];return v.customers.forEach((e,o)=>{e.name||w.push(`客户 ${o+1}: 缺少姓名`),!e.phone&&!e.email&&w.push(`客户 ${o+1}: 缺少联系方式`)}),v.orders.forEach((e,o)=>{e.orderNumber||w.push(`订单 ${o+1}: 缺少订单号`),e.customerId||w.push(`订单 ${o+1}: 缺少客户ID`),(!e.products||e.products.length===0)&&w.push(`订单 ${o+1}: 缺少商品信息`)}),v.products.forEach((e,o)=>{e.name||w.push(`产品 ${o+1}: 缺少产品名称`),(!e.price||e.price<=0)&&w.push(`产品 ${o+1}: 价格无效`)}),w}static getDataStatistics(v){return{customers:v.customers.length,orders:v.orders.length,products:v.products.length,departments:v.departments.length,users:v.users.length,configs:Object.keys(v.configs).length,totalSize:JSON.stringify(v).length}}}const ni={class:"sms-management"},si={class:"management-header"},ai={class:"header-content"},oi={class:"header-right"},ii={class:"stats-overview"},li={class:"stats-grid"},ci={class:"stat-item pending"},ui={class:"stat-icon"},di={class:"stat-content"},fi={class:"stat-number"},pi={class:"stat-action"},mi={class:"stat-item sms"},hi={class:"stat-icon"},yi={class:"stat-content"},gi={class:"stat-number"},vi={class:"stat-action"},bi={class:"stat-item today"},wi={class:"stat-icon"},Si={class:"stat-content"},_i={class:"stat-number"},Ti={class:"stat-item total"},Ei={class:"stat-icon"},ji={class:"stat-content"},Ai={class:"stat-number"},xi={class:"management-tabs"},Ii={class:"tab-header"},Oi={class:"tab-title"},ki={class:"tab-actions"},Ci={class:"templates-list"},Pi={class:"template-info"},Ri={class:"template-header"},Di={class:"template-name"},Mi={class:"template-meta"},Ni={class:"apply-time"},Li={class:"template-content"},Bi={class:"content-text"},Ui={key:0,class:"variables"},Fi={key:0,class:"template-description"},$i={class:"desc-text"},Vi={class:"applicant-info"},Gi={class:"applicant-name"},Wi={class:"applicant-dept"},zi={class:"template-actions"},Hi={class:"tab-header"},Ki={class:"tab-title"},Xi={class:"tab-actions"},Ji={class:"sms-list"},Yi={class:"sms-info"},Qi={class:"sms-header"},Zi={class:"sms-title"},qi={class:"sms-meta"},el={class:"recipient-count"},tl={class:"apply-time"},rl={class:"sms-content"},nl={class:"content-text"},sl={class:"recipients-info"},al={class:"recipients-list"},ol={key:0,class:"more-recipients"},il={key:0,class:"sms-reason"},ll={class:"reason-text"},cl={class:"applicant-info"},ul={class:"applicant-name"},dl={class:"applicant-dept"},fl={key:0,class:"sms-actions"},pl={key:1,class:"sms-result"},ml={class:"result-info"},hl={class:"result-time"},yl={class:"tab-header"},gl={class:"tab-actions"},vl={class:"records-table"},bl={class:"content-preview"},wl={class:"recipient-count"},Sl={class:"success-stats"},_l={class:"success"},Tl={class:"failed"},El={class:"pagination-section"},jl={key:0,class:"template-preview-content"},Al={class:"preview-header"},xl={class:"preview-body"},Il={class:"content-section"},Ol={class:"content-display"},kl={key:0,class:"variables-section"},Cl={class:"variables-display"},Pl={class:"meta-section"},Rl={class:"meta-item"},Dl={class:"value"},Ml={class:"meta-item"},Nl={class:"value"},Ll={class:"meta-item"},Bl={class:"value"},Ul={key:1,class:"description-section"},Fl={class:"description-display"},$l={key:0,class:"sms-detail-content"},Vl={class:"detail-header"},Gl={class:"detail-body"},Wl={class:"content-section"},zl={class:"content-display"},Hl={class:"recipients-section"},Kl={class:"recipients-table"},Xl={class:"meta-section"},Jl={class:"meta-item"},Yl={class:"value"},Ql={class:"meta-item"},Zl={class:"value"},ql={class:"meta-item"},ec={class:"value"},tc={key:0,class:"meta-item"},rc={class:"value"},nc={key:0,class:"reason-section"},sc={class:"reason-display"},ac=Gn({__name:"SmsManagement",setup(x){const v=Ie("templates"),w=Ie(!1),e=Ie(!1),o=Ie(!1),d=Ie(!1),t=Ie(!1),r=Ie(""),s=Ie(""),i=Ie(""),u=Ie(""),a=Ie(null),n=Ie(null),l=Ie(null),c=Nt({pendingTemplates:0,pendingSms:0,todaySent:0,totalSent:0}),f=Ie([]),p=Ie([]),y=Ie([]),m=Nt({currentPage:1,pageSize:20,total:0}),g=De(()=>{if(!r.value)return f.value;const X=r.value.toLowerCase();return f.value.filter(U=>U.name.toLowerCase().includes(X)||U.content.toLowerCase().includes(X)||U.applicantName.toLowerCase().includes(X))}),h=De(()=>{let X=p.value;if(i.value&&(X=X.filter(U=>U.status===i.value)),s.value){const U=s.value.toLowerCase();X=X.filter(se=>se.content.toLowerCase().includes(U)||se.applicantName.toLowerCase().includes(U)||se.recipients.some(oe=>oe.name.toLowerCase().includes(U)||oe.phone.includes(U)))}return X}),_=()=>pe(this,null,function*(){yield Promise.all([j(),T(),S(),b()])}),j=()=>pe(this,null,function*(){w.value=!0;try{yield new Promise(X=>setTimeout(X,500)),f.value=[{id:"1",name:"营销推广模板",content:"【限时优惠】{name}，{product}现在只要{price}元！立即购买享受{discount}折优惠，活动截止{endTime}。",category:"marketing",variables:["name","product","price","discount","endTime"],description:"用于产品促销活动的短信推广，需要向客户发送优惠信息",applicantName:"张三",applicantDept:"市场部",createdAt:"2024-01-22 11:20:00"},{id:"2",name:"会议通知模板",content:"尊敬的{name}，您有一场会议将于{time}在{location}举行，主题：{topic}，请准时参加。",category:"notification",variables:["name","time","location","topic"],description:"用于公司内部会议通知，提醒员工参加重要会议",applicantName:"李四",applicantDept:"行政部",createdAt:"2024-01-21 15:30:00"}]}catch(X){Se.error("加载待审核模板失败")}finally{w.value=!1}}),T=()=>pe(this,null,function*(){e.value=!0;try{yield new Promise(X=>setTimeout(X,500)),p.value=[{id:"1",templateName:"验证码模板",content:"您的验证码是123456，请在5分钟内使用，请勿泄露给他人。",recipients:[{name:"王五",phone:"13800138001",department:"技术部",status:"pending"},{name:"赵六",phone:"13800138002",department:"产品部",status:"pending"}],reason:"系统测试需要发送验证码",status:"pending",applicantName:"王五",applicantDept:"技术部",createdAt:"2024-01-22 14:30:00"},{id:"2",templateName:"订单通知",content:"您的订单ORD123456已确认，金额299元，预计明天送达。",recipients:[{name:"客户A",phone:"13900139001",department:"客户",status:"pending"},{name:"客户B",phone:"13900139002",department:"客户",status:"pending"},{name:"客户C",phone:"13900139003",department:"客户",status:"pending"}],reason:"订单确认通知，需要及时告知客户",status:"approved",applicantName:"李四",applicantDept:"销售部",createdAt:"2024-01-21 16:45:00",processedAt:"2024-01-21 17:00:00"}]}catch(X){Se.error("加载短信申请失败")}finally{e.value=!1}}),S=()=>pe(this,null,function*(){o.value=!0;try{yield new Promise(X=>setTimeout(X,500)),y.value=[{id:"1",templateName:"验证码模板",content:"您的验证码是123456，请在5分钟内使用，请勿泄露给他人。",recipientCount:150,status:"success",successCount:148,failedCount:2,sentAt:"2024-01-22 10:30:00",operator:"管理员"},{id:"2",templateName:"订单通知",content:"您的订单已确认，请注意查收。",recipientCount:89,status:"success",successCount:89,failedCount:0,sentAt:"2024-01-21 15:20:00",operator:"张三"}],m.total=y.value.length}catch(X){Se.error("加载发送记录失败")}finally{o.value=!1}}),b=()=>pe(this,null,function*(){try{c.pendingTemplates=f.value.length,c.pendingSms=p.value.filter(X=>X.status==="pending").length,c.todaySent=1250,c.totalSent=15680}catch(X){Se.error("加载统计数据失败")}}),E=X=>pe(this,null,function*(){try{yield bt.confirm("确定要审核通过这个模板吗？","确认审核",{type:"warning"}),yield new Promise(se=>setTimeout(se,1e3));const U=f.value.findIndex(se=>se.id===X.id);U>-1&&(f.value.splice(U,1),c.pendingTemplates--),Se.success("模板审核通过")}catch(U){}}),O=X=>pe(this,null,function*(){try{const{value:U}=yield bt.prompt("请输入拒绝原因","审核拒绝",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.{5,}/,inputErrorMessage:"拒绝原因至少5个字符"});yield new Promise(oe=>setTimeout(oe,1e3));const se=f.value.findIndex(oe=>oe.id===X.id);se>-1&&(f.value.splice(se,1),c.pendingTemplates--),Se.success("模板已拒绝")}catch(U){}}),C=X=>{n.value=X,d.value=!0},k=X=>pe(this,null,function*(){try{yield bt.confirm("确定要审核通过这条短信申请吗？","确认审核",{type:"warning"}),yield new Promise(U=>setTimeout(U,1e3)),X.status="approved",X.processedAt=new Date().toLocaleString(),c.pendingSms--,Se.success("短信申请已通过，将立即发送")}catch(U){}}),A=X=>pe(this,null,function*(){try{const{value:U}=yield bt.prompt("请输入拒绝原因","审核拒绝",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/.{5,}/,inputErrorMessage:"拒绝原因至少5个字符"});yield new Promise(se=>setTimeout(se,1e3)),X.status="rejected",X.processedAt=new Date().toLocaleString(),X.rejectReason=U,c.pendingSms--,Se.success("短信申请已拒绝")}catch(U){}}),I=X=>{l.value=X,t.value=!0},D=()=>{Se.info("跳转到模板创建页面")},F=()=>{Se.info("打开短信发送对话框")},Q=X=>{Se.info("查看发送记录详情")},te=X=>{m.pageSize=X,S()},$=X=>{m.currentPage=X,S()},Z=X=>({marketing:"营销推广",notification:"系统通知",verification:"验证码",order:"订单提醒"})[X]||"其他",ne=X=>({pending:"warning",approved:"success",rejected:"danger"})[X]||"info",ie=X=>({pending:"待审核",approved:"已通过",rejected:"已拒绝"})[X]||"未知",J=X=>({success:"success",failed:"danger",sending:"warning"})[X]||"info",Y=X=>({success:"发送成功",failed:"发送失败",sending:"发送中"})[X]||"未知",K=X=>X||"-";return Wn(()=>{_()}),cn(v,X=>{X==="records"&&S()}),(X,U)=>{const se=Ue("el-button"),oe=Ue("el-icon"),ae=Ue("el-badge"),de=Ue("el-input"),G=Ue("el-tag"),R=Ue("el-empty"),L=Ue("el-tab-pane"),M=Ue("el-option"),le=Ue("el-select"),ce=Ue("el-date-picker"),W=Ue("el-table-column"),ee=Ue("el-table"),z=Ue("el-pagination"),N=Ue("el-tabs"),V=Ue("el-card"),q=Ue("el-dialog"),ue=Ts("loading");return ke(),Je("div",ni,[re("div",si,[re("div",ai,[U[14]||(U[14]=re("div",{class:"header-left"},[re("h2",{class:"header-title"},"短信管理中心"),re("p",{class:"header-subtitle"},"审核模板申请、管理短信发送和查看统计数据")],-1)),re("div",oi,[B(se,{type:"primary",icon:We(_s),onClick:D,class:"create-btn"},{default:H(()=>[...U[12]||(U[12]=[we(" 创建模板 ",-1)])]),_:1},8,["icon"]),B(se,{type:"success",icon:We(os),onClick:F,class:"send-btn"},{default:H(()=>[...U[13]||(U[13]=[we(" 发送短信 ",-1)])]),_:1},8,["icon"])])])]),re("div",ii,[re("div",li,[re("div",ci,[re("div",ui,[B(oe,null,{default:H(()=>[B(We(ka))]),_:1})]),re("div",di,[re("div",fi,Ae(c.pendingTemplates),1),U[15]||(U[15]=re("div",{class:"stat-label"},"待审核模板",-1))]),re("div",pi,[c.pendingTemplates>0?(ke(),Ze(se,{key:0,size:"small",type:"warning",onClick:U[0]||(U[0]=fe=>v.value="templates")},{default:H(()=>[...U[16]||(U[16]=[we(" 立即处理 ",-1)])]),_:1})):Ge("",!0)])]),re("div",mi,[re("div",hi,[B(oe,null,{default:H(()=>[B(We(os))]),_:1})]),re("div",yi,[re("div",gi,Ae(c.pendingSms),1),U[17]||(U[17]=re("div",{class:"stat-label"},"待审核短信",-1))]),re("div",vi,[c.pendingSms>0?(ke(),Ze(se,{key:0,size:"small",type:"primary",onClick:U[1]||(U[1]=fe=>v.value="sms")},{default:H(()=>[...U[18]||(U[18]=[we(" 立即处理 ",-1)])]),_:1})):Ge("",!0)])]),re("div",bi,[re("div",wi,[B(oe,null,{default:H(()=>[B(We(Ca))]),_:1})]),re("div",Si,[re("div",_i,Ae(c.todaySent),1),U[19]||(U[19]=re("div",{class:"stat-label"},"今日发送",-1))])]),re("div",Ti,[re("div",Ei,[B(oe,null,{default:H(()=>[B(We(Pa))]),_:1})]),re("div",ji,[re("div",Ai,Ae(c.totalSent),1),U[20]||(U[20]=re("div",{class:"stat-label"},"总发送量",-1))])])])]),re("div",xi,[B(V,{class:"tabs-card"},{default:H(()=>[B(N,{modelValue:v.value,"onUpdate:modelValue":U[9]||(U[9]=fe=>v.value=fe),class:"management-tabs-content"},{default:H(()=>[B(L,{label:"模板审核",name:"templates"},{default:H(()=>[re("div",Ii,[re("div",Oi,[U[21]||(U[21]=re("h3",null,"模板审核",-1)),f.value.length>0?(ke(),Ze(ae,{key:0,value:f.value.length,class:"badge"},null,8,["value"])):Ge("",!0)]),re("div",ki,[B(de,{modelValue:r.value,"onUpdate:modelValue":U[2]||(U[2]=fe=>r.value=fe),placeholder:"搜索模板","prefix-icon":We(is),clearable:"",style:{width:"250px"}},null,8,["modelValue","prefix-icon"])])]),br((ke(),Je("div",Ci,[(ke(!0),Je(Ut,null,Zt(g.value,fe=>{var ye;return ke(),Je("div",{key:fe.id,class:"template-item"},[re("div",Pi,[re("div",Ri,[re("h4",Di,Ae(fe.name),1),re("div",Mi,[B(G,{size:"small",type:"info"},{default:H(()=>[we(Ae(Z(fe.category)),1)]),_:2},1024),re("span",Ni,Ae(K(fe.createdAt)),1)])]),re("div",Li,[re("p",Bi,Ae(fe.content),1),(ye=fe.variables)!=null&&ye.length?(ke(),Je("div",Ui,[U[22]||(U[22]=re("span",{class:"variables-label"},"变量：",-1)),(ke(!0),Je(Ut,null,Zt(fe.variables,_e=>(ke(),Ze(G,{key:_e,size:"small",class:"variable-tag"},{default:H(()=>[we(Ae(_e),1)]),_:2},1024))),128))])):Ge("",!0)]),fe.description?(ke(),Je("div",Fi,[U[23]||(U[23]=re("span",{class:"desc-label"},"申请说明：",-1)),re("p",$i,Ae(fe.description),1)])):Ge("",!0),re("div",Vi,[U[24]||(U[24]=re("span",{class:"applicant-label"},"申请人：",-1)),re("span",Gi,Ae(fe.applicantName),1),re("span",Wi,Ae(fe.applicantDept),1)])]),re("div",zi,[B(se,{type:"success",icon:We(Pn),onClick:_e=>E(fe),class:"approve-btn"},{default:H(()=>[...U[25]||(U[25]=[we(" 通过 ",-1)])]),_:1},8,["icon","onClick"]),B(se,{type:"danger",icon:We(ls),onClick:_e=>O(fe),class:"reject-btn"},{default:H(()=>[...U[26]||(U[26]=[we(" 拒绝 ",-1)])]),_:1},8,["icon","onClick"]),B(se,{type:"info",icon:We(_n),onClick:_e=>C(fe),class:"preview-btn"},{default:H(()=>[...U[27]||(U[27]=[we(" 预览 ",-1)])]),_:1},8,["icon","onClick"])])])}),128)),g.value.length===0&&!w.value?(ke(),Ze(R,{key:0,description:"暂无待审核模板","image-size":120})):Ge("",!0)])),[[ue,w.value]])]),_:1}),B(L,{label:"短信审核",name:"sms"},{default:H(()=>[re("div",Hi,[re("div",Ki,[U[28]||(U[28]=re("h3",null,"短信审核",-1)),p.value.length>0?(ke(),Ze(ae,{key:0,value:p.value.length,class:"badge"},null,8,["value"])):Ge("",!0)]),re("div",Xi,[B(le,{modelValue:i.value,"onUpdate:modelValue":U[3]||(U[3]=fe=>i.value=fe),placeholder:"状态筛选",style:{width:"120px","margin-right":"12px"}},{default:H(()=>[B(M,{label:"全部",value:""}),B(M,{label:"待审核",value:"pending"}),B(M,{label:"已通过",value:"approved"}),B(M,{label:"已拒绝",value:"rejected"})]),_:1},8,["modelValue"]),B(de,{modelValue:s.value,"onUpdate:modelValue":U[4]||(U[4]=fe=>s.value=fe),placeholder:"搜索内容或接收人","prefix-icon":We(is),clearable:"",style:{width:"250px"}},null,8,["modelValue","prefix-icon"])])]),br((ke(),Je("div",Ji,[(ke(!0),Je(Ut,null,Zt(h.value,fe=>(ke(),Je("div",{key:fe.id,class:ms(["sms-item",{approved:fe.status==="approved",rejected:fe.status==="rejected"}])},[re("div",Yi,[re("div",Qi,[re("div",Zi,[re("h4",null,Ae(fe.templateName||"自定义内容"),1),B(G,{type:ne(fe.status),size:"small"},{default:H(()=>[we(Ae(ie(fe.status)),1)]),_:2},1032,["type"])]),re("div",qi,[re("span",el,Ae(fe.recipients.length)+" 人",1),re("span",tl,Ae(K(fe.createdAt)),1)])]),re("div",rl,[re("p",nl,Ae(fe.content),1)]),re("div",sl,[U[29]||(U[29]=re("span",{class:"recipients-label"},"接收人：",-1)),re("div",al,[(ke(!0),Je(Ut,null,Zt(fe.recipients.slice(0,5),(ye,_e)=>(ke(),Ze(G,{key:_e,size:"small",class:"recipient-tag"},{default:H(()=>[we(Ae(ye.name)+" ("+Ae(ye.phone)+") ",1)]),_:2},1024))),128)),fe.recipients.length>5?(ke(),Je("span",ol," 等 "+Ae(fe.recipients.length)+" 人 ",1)):Ge("",!0)])]),fe.reason?(ke(),Je("div",il,[U[30]||(U[30]=re("span",{class:"reason-label"},"发送原因：",-1)),re("p",ll,Ae(fe.reason),1)])):Ge("",!0),re("div",cl,[U[31]||(U[31]=re("span",{class:"applicant-label"},"申请人：",-1)),re("span",ul,Ae(fe.applicantName),1),re("span",dl,Ae(fe.applicantDept),1)])]),fe.status==="pending"?(ke(),Je("div",fl,[B(se,{type:"success",icon:We(Pn),onClick:ye=>k(fe),class:"approve-btn"},{default:H(()=>[...U[32]||(U[32]=[we(" 通过 ",-1)])]),_:1},8,["icon","onClick"]),B(se,{type:"danger",icon:We(ls),onClick:ye=>A(fe),class:"reject-btn"},{default:H(()=>[...U[33]||(U[33]=[we(" 拒绝 ",-1)])]),_:1},8,["icon","onClick"]),B(se,{type:"info",icon:We(_n),onClick:ye=>I(fe),class:"preview-btn"},{default:H(()=>[...U[34]||(U[34]=[we(" 详情 ",-1)])]),_:1},8,["icon","onClick"])])):(ke(),Je("div",pl,[re("div",ml,[U[35]||(U[35]=re("span",{class:"result-label"},"处理结果：",-1)),re("span",{class:ms(["result-text",fe.status])},Ae(ie(fe.status)),3)]),re("div",hl,[re("span",null,Ae(K(fe.processedAt)),1)])]))],2))),128)),h.value.length===0&&!e.value?(ke(),Ze(R,{key:0,description:"暂无短信记录","image-size":120})):Ge("",!0)])),[[ue,e.value]])]),_:1}),B(L,{label:"发送记录",name:"records"},{default:H(()=>[re("div",yl,[U[37]||(U[37]=re("div",{class:"tab-title"},[re("h3",null,"发送记录")],-1)),re("div",gl,[B(ce,{modelValue:a.value,"onUpdate:modelValue":U[5]||(U[5]=fe=>a.value=fe),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",style:{"margin-right":"12px"}},null,8,["modelValue"]),B(le,{modelValue:u.value,"onUpdate:modelValue":U[6]||(U[6]=fe=>u.value=fe),placeholder:"状态筛选",style:{width:"120px","margin-right":"12px"}},{default:H(()=>[B(M,{label:"全部",value:""}),B(M,{label:"发送成功",value:"success"}),B(M,{label:"发送失败",value:"failed"}),B(M,{label:"发送中",value:"sending"})]),_:1},8,["modelValue"]),B(se,{type:"primary",icon:We(rn),onClick:S},{default:H(()=>[...U[36]||(U[36]=[we("刷新",-1)])]),_:1},8,["icon"])])]),re("div",vl,[br((ke(),Ze(ee,{data:y.value,stripe:"",style:{width:"100%"}},{default:H(()=>[B(W,{prop:"templateName",label:"模板名称",width:"150"},{default:H(({row:fe})=>[re("span",null,Ae(fe.templateName||"自定义内容"),1)]),_:1}),B(W,{prop:"content",label:"短信内容","min-width":"200"},{default:H(({row:fe})=>[re("div",bl,Ae(fe.content),1)]),_:1}),B(W,{prop:"recipientCount",label:"接收人数",width:"100",align:"center"},{default:H(({row:fe})=>[re("span",wl,Ae(fe.recipientCount),1)]),_:1}),B(W,{prop:"status",label:"发送状态",width:"100"},{default:H(({row:fe})=>[B(G,{type:J(fe.status),size:"small"},{default:H(()=>[we(Ae(Y(fe.status)),1)]),_:2},1032,["type"])]),_:1}),B(W,{prop:"successCount",label:"成功/失败",width:"100",align:"center"},{default:H(({row:fe})=>[re("div",Sl,[re("span",_l,Ae(fe.successCount),1),U[38]||(U[38]=re("span",{class:"divider"},"/",-1)),re("span",Tl,Ae(fe.failedCount),1)])]),_:1}),B(W,{prop:"sentAt",label:"发送时间",width:"160"},{default:H(({row:fe})=>[re("span",null,Ae(K(fe.sentAt)),1)]),_:1}),B(W,{prop:"operator",label:"操作人",width:"120"},{default:H(({row:fe})=>[re("span",null,Ae(fe.operator),1)]),_:1}),B(W,{label:"操作",width:"120",fixed:"right"},{default:H(({row:fe})=>[B(se,{size:"small",type:"primary",icon:We(_n),onClick:ye=>Q(fe)},{default:H(()=>[...U[39]||(U[39]=[we(" 详情 ",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"])),[[ue,o.value]]),re("div",El,[B(z,{"current-page":m.currentPage,"onUpdate:currentPage":U[7]||(U[7]=fe=>m.currentPage=fe),"page-size":m.pageSize,"onUpdate:pageSize":U[8]||(U[8]=fe=>m.pageSize=fe),"page-sizes":[10,20,50,100],total:m.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:te,onCurrentChange:$},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),B(q,{modelValue:d.value,"onUpdate:modelValue":U[10]||(U[10]=fe=>d.value=fe),title:"模板预览",width:"600px",class:"preview-dialog"},{default:H(()=>{var fe;return[n.value?(ke(),Je("div",jl,[re("div",Al,[re("h4",null,Ae(n.value.name),1),B(G,{type:"warning"},{default:H(()=>[...U[40]||(U[40]=[we("待审核",-1)])]),_:1})]),re("div",xl,[re("div",Il,[U[41]||(U[41]=re("h5",null,"模板内容",-1)),re("div",Ol,Ae(n.value.content),1)]),(fe=n.value.variables)!=null&&fe.length?(ke(),Je("div",kl,[U[42]||(U[42]=re("h5",null,"变量列表",-1)),re("div",Cl,[(ke(!0),Je(Ut,null,Zt(n.value.variables,ye=>(ke(),Ze(G,{key:ye,class:"variable-tag"},{default:H(()=>[we(Ae(ye),1)]),_:2},1024))),128))])])):Ge("",!0),re("div",Pl,[re("div",Rl,[U[43]||(U[43]=re("span",{class:"label"},"分类：",-1)),re("span",Dl,Ae(Z(n.value.category)),1)]),re("div",Ml,[U[44]||(U[44]=re("span",{class:"label"},"申请人：",-1)),re("span",Nl,Ae(n.value.applicantName),1)]),re("div",Ll,[U[45]||(U[45]=re("span",{class:"label"},"申请时间：",-1)),re("span",Bl,Ae(K(n.value.createdAt)),1)])]),n.value.description?(ke(),Je("div",Ul,[U[46]||(U[46]=re("h5",null,"申请说明",-1)),re("div",Fl,Ae(n.value.description),1)])):Ge("",!0)])])):Ge("",!0)]}),_:1},8,["modelValue"]),B(q,{modelValue:t.value,"onUpdate:modelValue":U[11]||(U[11]=fe=>t.value=fe),title:"短信详情",width:"800px",class:"detail-dialog"},{default:H(()=>[l.value?(ke(),Je("div",$l,[re("div",Vl,[re("h4",null,Ae(l.value.templateName||"自定义短信"),1),B(G,{type:ne(l.value.status)},{default:H(()=>[we(Ae(ie(l.value.status)),1)]),_:1},8,["type"])]),re("div",Gl,[re("div",Wl,[U[47]||(U[47]=re("h5",null,"短信内容",-1)),re("div",zl,Ae(l.value.content),1)]),re("div",Hl,[re("h5",null,"接收人列表 ("+Ae(l.value.recipients.length)+" 人)",1),re("div",Kl,[B(ee,{data:l.value.recipients,"max-height":"300"},{default:H(()=>[B(W,{prop:"name",label:"姓名",width:"120"}),B(W,{prop:"phone",label:"手机号",width:"140"}),B(W,{prop:"department",label:"部门",width:"120"}),B(W,{prop:"status",label:"发送状态",width:"100"},{default:H(({row:fe})=>[B(G,{type:fe.status==="success"?"success":fe.status==="failed"?"danger":"warning",size:"small"},{default:H(()=>[we(Ae(fe.status==="success"?"成功":fe.status==="failed"?"失败":"待发送"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])])]),re("div",Xl,[re("div",Jl,[U[48]||(U[48]=re("span",{class:"label"},"申请人：",-1)),re("span",Yl,Ae(l.value.applicantName),1)]),re("div",Ql,[U[49]||(U[49]=re("span",{class:"label"},"申请部门：",-1)),re("span",Zl,Ae(l.value.applicantDept),1)]),re("div",ql,[U[50]||(U[50]=re("span",{class:"label"},"申请时间：",-1)),re("span",ec,Ae(K(l.value.createdAt)),1)]),l.value.processedAt?(ke(),Je("div",tc,[U[51]||(U[51]=re("span",{class:"label"},"处理时间：",-1)),re("span",rc,Ae(K(l.value.processedAt)),1)])):Ge("",!0)]),l.value.reason?(ke(),Je("div",nc,[U[52]||(U[52]=re("h5",null,"发送原因",-1)),re("div",sc,Ae(l.value.reason),1)])):Ge("",!0)])])):Ge("",!0)]),_:1},8,["modelValue"])])}}}),oc=Kn(ac,[["__scopeId","data-v-440989b0"]]),ic={class:"health-check-notification-settings"},lc={class:"card-header"},cc={key:0,class:"no-permission"},uc={key:1,class:"settings-content"},dc={class:"status-section"},fc={class:"preference-section"},pc={class:"current-preference"},mc={class:"suppress-time"},hc={class:"suppress-time"},yc={class:"last-notification"},gc={class:"test-section"},vc={class:"info-section"},bc=Gn({__name:"HealthCheckNotificationSettings",setup(x){const v=Ct(),w=Ie(!1),e=Ie({suppressType:"none",suppressUntil:null,lastNotificationTime:null}),o=De(()=>v.isSuperAdmin),d=De(()=>Ms.isApiMode()),t=De(()=>{const f=localStorage.getItem("api_health_check_errors");return f&&JSON.parse(f).count||0}),r=De(()=>{const f=localStorage.getItem("api_health_check_errors");if(f){const p=JSON.parse(f);return p.lastCheck?new Date(p.lastCheck).toLocaleString():null}return null}),s=De(()=>e.value.suppressType==="none"),i=()=>{switch(e.value.suppressType){case"none":return"正常接收";case"today":return"今天已暂停";case"month":return"一个月已暂停";default:return"未知状态"}},u=f=>f?new Date(f).toLocaleString():"",a=f=>pe(this,null,function*(){var y;const p=(y=v.currentUser)==null?void 0:y.id;if(!p){Se.error("用户信息获取失败");return}try{if(f==="none")e.value={suppressType:"none",suppressUntil:null,lastNotificationTime:e.value.lastNotificationTime},vr.clearAllPreferences(),Se.success("已恢复API健康检查通知");else{const m=Date.now();let g;if(f==="today"){const _=new Date;_.setDate(_.getDate()+1),_.setHours(0,0,0,0),g=_.getTime(),Se.success("已设置今天不再提醒API健康检查失败")}else g=m+30*24*60*60*1e3,Se.success("已设置一个月内不再提醒API健康检查失败");e.value={suppressType:f,suppressUntil:g,lastNotificationTime:e.value.lastNotificationTime},vr.setSuppression(p,f)}}catch(m){console.error("设置通知偏好失败:",m),Se.error("设置失败，请重试")}}),n=()=>pe(this,null,function*(){w.value=!0;try{yield vr.showHealthCheckFailureNotification("这是一个测试通知")}catch(f){console.error("测试通知失败:",f)}finally{w.value=!1}}),l=()=>pe(this,null,function*(){try{yield bt.confirm("确定要清除所有用户的通知偏好设置吗？此操作不可撤销。","确认清除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),vr.clearAllPreferences(),c(),Se.success("已清除所有通知偏好设置")}catch(f){}}),c=()=>{var y;const f=(y=v.currentUser)==null?void 0:y.id;if(!f)return;const p=vr.getUserPreference(f);p&&(e.value={suppressType:p.suppressType,suppressUntil:p.suppressUntil,lastNotificationTime:p.lastNotificationTime})};return Wn(()=>{c()}),(f,p)=>{const y=Ue("el-tag"),m=Ue("el-result"),g=Ue("el-descriptions-item"),h=Ue("el-descriptions"),_=Ue("el-form-item"),j=Ue("el-button"),T=Ue("el-button-group"),S=Ue("el-form"),b=Ue("el-alert"),E=Ue("el-card");return ke(),Je("div",ic,[B(E,{class:"setting-card"},{header:H(()=>[re("div",lc,[p[4]||(p[4]=re("span",null,"API健康检查通知设置",-1)),o.value?Ge("",!0):(ke(),Ze(y,{key:0,type:"info",size:"small"},{default:H(()=>[...p[3]||(p[3]=[we(" 仅超级管理员可见 ",-1)])]),_:1}))])]),default:H(()=>[o.value?(ke(),Je("div",uc,[re("div",dc,[p[5]||(p[5]=re("h4",null,"当前状态",-1)),B(h,{column:2,border:""},{default:H(()=>[B(g,{label:"API状态"},{default:H(()=>[B(y,{type:d.value?"success":"danger"},{default:H(()=>[we(Ae(d.value?"正常":"异常"),1)]),_:1},8,["type"])]),_:1}),B(g,{label:"通知状态"},{default:H(()=>[B(y,{type:s.value?"success":"warning"},{default:H(()=>[we(Ae(i()),1)]),_:1},8,["type"])]),_:1}),B(g,{label:"上次检查时间"},{default:H(()=>[we(Ae(r.value||"暂无"),1)]),_:1}),B(g,{label:"错误次数"},{default:H(()=>[we(Ae(t.value),1)]),_:1})]),_:1})]),re("div",fc,[p[12]||(p[12]=re("h4",null,"通知偏好",-1)),B(S,{model:e.value,"label-width":"140px"},{default:H(()=>[B(_,{label:"当前设置"},{default:H(()=>[re("div",pc,[e.value.suppressType==="none"?(ke(),Ze(y,{key:0,type:"success"},{default:H(()=>[...p[6]||(p[6]=[we(" 正常接收通知 ",-1)])]),_:1})):e.value.suppressType==="today"?(ke(),Ze(y,{key:1,type:"warning"},{default:H(()=>[p[7]||(p[7]=we(" 今天不再提醒 ",-1)),re("span",mc," (至 "+Ae(u(e.value.suppressUntil))+") ",1)]),_:1})):e.value.suppressType==="month"?(ke(),Ze(y,{key:2,type:"info"},{default:H(()=>[p[8]||(p[8]=we(" 一个月不再提醒 ",-1)),re("span",hc," (至 "+Ae(u(e.value.suppressUntil))+") ",1)]),_:1})):Ge("",!0)])]),_:1}),B(_,{label:"快速设置"},{default:H(()=>[B(T,null,{default:H(()=>[B(j,{onClick:p[0]||(p[0]=O=>a("none")),type:e.value.suppressType==="none"?"primary":"default"},{default:H(()=>[...p[9]||(p[9]=[we(" 恢复通知 ",-1)])]),_:1},8,["type"]),B(j,{onClick:p[1]||(p[1]=O=>a("today")),type:e.value.suppressType==="today"?"primary":"default"},{default:H(()=>[...p[10]||(p[10]=[we(" 今天不再提醒 ",-1)])]),_:1},8,["type"]),B(j,{onClick:p[2]||(p[2]=O=>a("month")),type:e.value.suppressType==="month"?"primary":"default"},{default:H(()=>[...p[11]||(p[11]=[we(" 一个月不再提醒 ",-1)])]),_:1},8,["type"])]),_:1})]),_:1}),B(_,{label:"上次通知时间"},{default:H(()=>[re("span",yc,Ae(e.value.lastNotificationTime?new Date(e.value.lastNotificationTime).toLocaleString():"暂无通知记录"),1)]),_:1})]),_:1},8,["model"])]),re("div",gc,[p[17]||(p[17]=re("h4",null,"测试功能",-1)),B(S,{"label-width":"140px"},{default:H(()=>[B(_,{label:"手动测试"},{default:H(()=>[B(j,{onClick:n,loading:w.value,type:"warning"},{default:H(()=>[...p[13]||(p[13]=[we(" 模拟API失败通知 ",-1)])]),_:1},8,["loading"]),p[14]||(p[14]=re("span",{class:"test-tip"}," 点击此按钮可以测试API健康检查失败时的通知效果 ",-1))]),_:1}),B(_,{label:"清除设置"},{default:H(()=>[B(j,{onClick:l,type:"danger",plain:""},{default:H(()=>[...p[15]||(p[15]=[we(" 清除所有通知偏好 ",-1)])]),_:1}),p[16]||(p[16]=re("span",{class:"clear-tip"}," 清除所有用户的通知偏好设置，恢复默认状态 ",-1))]),_:1})]),_:1})]),re("div",vc,[B(b,{title:"功能说明",type:"info",closable:!1,"show-icon":""},{default:H(()=>[...p[18]||(p[18]=[re("ul",{class:"info-list"},[re("li",null,"API健康检查每30秒自动执行一次"),re("li",null,"只有超级管理员才能看到API失败通知"),re("li",null,'可以设置"今天不再提醒"或"一个月不再提醒"'),re("li",null,"系统会自动记住您的通知偏好设置"),re("li",null,"API恢复正常后，错误计数会自动重置")],-1)])]),_:1})])])):(ke(),Je("div",cc,[B(m,{icon:"info",title:"权限提示","sub-title":"API健康检查通知功能仅对超级管理员开放"})]))]),_:1})])}}}),wc=Kn(bc,[["__scopeId","data-v-0f832c12"]]),Sc=x=>Et({url:"/logs/system",method:"get",params:x}),_c=()=>Et({url:"/logs/clear",method:"delete"}),Tc={class:"system-settings"},Ec={class:"card-header"},jc=["src"],Ac={class:"card-header"},xc={class:"card-header"},Ic={class:"header-actions"},Oc={class:"form-section"},kc={class:"section-title"},Cc={class:"form-section"},Pc={class:"section-title"},Rc={class:"form-section"},Dc={class:"section-title"},Mc={class:"form-section"},Nc={class:"section-title"},Lc={class:"card-header"},Bc={class:"header-actions"},Uc={class:"card-header"},Fc={class:"header-actions"},$c={class:"card-header"},Vc={class:"header-actions"},Gc={class:"sync-status"},Wc={key:1,class:"sync-info"},zc={key:2,class:"sync-progress"},Hc={key:0,class:"failed-count"},Kc={class:"sync-actions"},Xc={class:"card-header"},Jc={class:"form-section"},Yc={class:"section-title"},Qc={class:"form-section"},Zc={class:"section-title"},qc={class:"form-section"},eu={class:"section-title"},tu={class:"form-section"},ru={class:"section-title"},nu={class:"form-section"},su={class:"section-title"},au={key:0,class:"form-actions"},ou={class:"card-header"},iu={class:"monitor-content"},lu={class:"monitor-section"},cu={class:"monitor-section"},uu={class:"monitor-section"},du={class:"monitor-section"},fu={class:"card-header"},pu={class:"header-actions"},mu={class:"form-section"},hu={class:"form-section"},yu={class:"form-section"},gu={class:"card-header"},vu={class:"header-actions"},bu={class:"migration-content"},wu={key:0,class:"data-statistics"},Su={key:1,class:"validation-result"},_u={key:0},Tu={class:"migration-steps"},Eu={class:"documentation-links"},ju={class:"card-header"},Au={class:"header-actions"},xu={class:"mobile-app-content"},Iu={class:"sdk-overview"},Ou={class:"section-title"},ku={class:"status-info"},Cu={class:"file-size"},Pu={class:"status-info"},Ru={class:"file-size"},Du={class:"status-info"},Mu={class:"sdk-management"},Nu={class:"section-title"},Lu={class:"sdk-grid"},Bu={class:"sdk-item"},Uu={class:"sdk-header"},Fu={class:"sdk-icon android"},$u={class:"sdk-details"},Vu={class:"detail-item"},Gu={class:"value"},Wu={class:"detail-item"},zu={class:"value"},Hu={class:"detail-item"},Ku={class:"value"},Xu={class:"sdk-actions"},Ju={class:"sdk-item"},Yu={class:"sdk-header"},Qu={class:"sdk-icon ios"},Zu={class:"sdk-details"},qu={class:"detail-item"},ed={class:"value"},td={class:"detail-item"},rd={class:"value"},nd={class:"detail-item"},sd={class:"value"},ad={class:"sdk-actions"},od={class:"sdk-item"},id={class:"sdk-header"},ld={class:"sdk-icon pwa"},cd={class:"sdk-actions"},ud={class:"connection-status"},dd={class:"section-title"},fd={class:"qr-connection-management"},pd={class:"section-title"},md={class:"qr-generator"},hd={class:"qr-display"},yd={key:0,class:"qr-code-container"},gd=["src"],vd={class:"qr-info"},bd={class:"qr-status"},wd={key:0,class:"qr-expire"},Sd={key:1,class:"qr-id"},_d={key:1,class:"qr-placeholder"},Td={class:"alternative-connections"},Ed={class:"section-title"},jd={class:"connection-header"},Ad={class:"connection-content"},xd={class:"connection-status"},Id={class:"connection-config"},Od={class:"connection-actions"},kd={class:"connection-header"},Cd={class:"connection-content"},Pd={class:"connection-status"},Rd={class:"connection-config"},Dd={class:"connection-actions"},Md={class:"connection-header"},Nd={class:"connection-content"},Ld={class:"connection-status"},Bd={class:"connection-config"},Ud={class:"pairing-code-display"},Fd={class:"pairing-code"},$d={class:"connection-actions"},Vd={class:"stat-item"},Gd={class:"stat-value"},Wd={class:"stat-item"},zd={class:"stat-value"},Hd={class:"stat-item"},Kd={class:"stat-value"},Xd={class:"stat-item"},Jd={class:"stat-value"},Yd={class:"connected-devices-section"},Qd={class:"card-header"},Zd={key:0,class:"empty-devices"},qd={class:"usage-guide"},ef={class:"section-title"},tf={class:"guide-content"},rf={class:"card-header"},nf={class:"logs-container"},sf=Gn({__name:"Settings",setup(x){var ts;const v=Ct(),w=Rr(),e=Ie("basic"),o=Ie(!1),d=Ie(!1),t=Ie(!1),r=Ie(!1),s=Ie(!1),i=Ie(!1),u=Ie(!1),a=Ie(!1),n=Ie(!1),l=Ie(!1),c=Ie(!1),f=Ie(!1),p=Ie(!1),y=Ie(!1),m=De(()=>w.systemConfig),g=De(()=>w.securityConfig),h=Nt({smtpHost:"smtp.qq.com",smtpPort:587,senderEmail:"",senderName:"CRM系统",emailPassword:"",enableSsl:!1,enableTls:!0,testEmail:""}),_=Nt({sipServer:"",sipPort:5060,sipUsername:"",sipPassword:"",sipTransport:"UDP",autoAnswer:!1,autoRecord:!0,qualityMonitoring:!0,incomingCallPopup:!0,maxCallDuration:3600,recordFormat:"wav",recordQuality:"standard",recordPath:"/recordings",recordRetentionDays:30,outboundPermission:["admin","manager","sales"],recordAccessPermission:["admin","manager"],statisticsPermission:["admin","manager"],numberRestriction:!1,allowedPrefixes:""}),j=De(()=>w.smsConfig),T=De(()=>w.storageConfig),S=De(()=>w.productConfig),b=Ie(kt.getSyncConfig()),E=Ie(kt.getSyncStatus()),O=Ie({systemInfo:{os:"Windows 10",arch:"x64",cpuCores:8,totalMemory:"16 GB",nodeVersion:"v18.17.0",uptime:"5天 12小时 30分钟"},performance:{cpuUsage:25,memoryUsage:68,diskUsage:45,networkLatency:12},database:{type:"MySQL",version:"8.0.33",connected:!0,activeConnections:15,size:"2.5 GB",lastBackup:"2024-01-15 02:00:00"},services:[{name:"Web服务器",status:"running",port:3e3,uptime:"5天 12小时",memory:"256 MB"},{name:"API服务",status:"running",port:3001,uptime:"5天 12小时",memory:"128 MB"},{name:"Redis缓存",status:"running",port:6379,uptime:"5天 12小时",memory:"64 MB"}]}),C=Ie(!1),k=Ie(!1),A=Ie(!1),I=Ie(""),D=Ie(!1),F=Nt({autoBackupEnabled:!1,backupFrequency:"daily",retentionDays:30,compression:!0}),Q=Ie(""),te=Ie(0),$=Ie(0),Z=Ie([]),ne=Ie(!1),ie=Ie(!1),J=Ie(null),Y=Ie(null),K=Ie(0),X=Ie([]),U=Ie(!1),se=Ie("android"),oe=Ie({android:{version:"v2.1.3",size:"6.0 MB",updateTime:"2024-01-20 16:45:00",available:!0,downloadUrl:"/api/sdk/download/android/latest",features:["通话管理","客户管理","数据同步","离线支持"]},ios:{version:"v2.1.3",size:"32.8 MB",updateTime:"2024-01-20 16:45:00",available:!0,downloadUrl:"/api/sdk/download/ios/latest",features:["通话管理","客户管理","数据同步","离线支持"]}}),ae=Ie(!1);Ie({qrCodeUrl:"",connectionId:"",expiresAt:"",isActive:!1}),Nt({userId:((ts=v.user)==null?void 0:ts.id)||"",permissions:["read","write"],expirationMinutes:30});const de=Ie([]),G=Ie(!1),R=Ie({qrCodeUrl:"",connectionId:"",status:"inactive",expiresAt:"",connectedDevices:[]}),L=Nt({permissions:["call","sms"],expireTime:"30"}),M=Ie(!1),le=Ie({host:"localhost",port:3e3,wsPort:3001,ssl:!1,apiVersion:"v1.0"}),ce=Ie({active:5,today:23,total:156,lastConnection:"2024-01-15 16:45:00",qr:0,bluetooth:0,network:0,digital:0}),W=Ie({enabled:!1,deviceName:"CRM-Server",pairingCode:""}),ee=Ie(!1),z=Ie({enabled:!1,port:8080,broadcastInterval:"10"}),N=Ie(!1),V=Ie({enabled:!1,currentCode:"",expireTime:"10"}),q=Ie(!1),ue=Ie(!1),fe=De(()=>{const ve=w.storageConfig;return ve.storageType==="oss"&&ve.accessKey&&ve.secretKey&&ve.bucketName&&ve.region}),ye=De(()=>v.hasPermission("system:backup:edit")),_e={systemName:[{required:!0,message:"请输入系统名称",trigger:"blur"}],companyName:[{required:!0,message:"请输入公司名称",trigger:"blur"}],contactEmail:[{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},Te={passwordMinLength:[{required:!0,message:"请设置密码最小长度",trigger:"blur"}],maxLoginFails:[{required:!0,message:"请设置最大失败次数",trigger:"blur"}],lockDuration:[{required:!0,message:"请设置锁定时间",trigger:"blur"}],sessionTimeout:[{required:!0,message:"请设置会话超时时间",trigger:"blur"}]},je={smtpHost:[{required:!0,message:"请输入SMTP服务器",trigger:"blur"}],smtpPort:[{required:!0,message:"请输入SMTP端口",trigger:"blur"}],senderEmail:[{required:!0,message:"请输入发件人邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],testEmail:[{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},Oe={sipServer:[{required:!0,message:"请输入SIP服务器地址",trigger:"blur"}],sipPort:[{required:!0,message:"请输入SIP端口",trigger:"blur"},{type:"number",min:1,max:65535,message:"端口范围为1-65535",trigger:"blur"}],sipUsername:[{required:!0,message:"请输入SIP用户名",trigger:"blur"}],sipPassword:[{required:!0,message:"请输入SIP密码",trigger:"blur"}],recordPath:[{required:!0,message:"请输入录音保存路径",trigger:"blur"}],recordRetentionDays:[{required:!0,message:"请设置录音保留时间",trigger:"blur"},{type:"number",min:1,max:365,message:"保留时间范围为1-365天",trigger:"blur"}]},ge={provider:[{required:!0,message:"请选择短信服务商",trigger:"change"}],accessKey:[{required:!0,message:"请输入AccessKey",trigger:"blur"}],secretKey:[{required:!0,message:"请输入SecretKey",trigger:"blur"}],signName:[{required:!0,message:"请输入短信签名",trigger:"blur"}],dailyLimit:[{required:!0,message:"请设置每日发送限制",trigger:"blur"}],monthlyLimit:[{required:!0,message:"请设置每月发送限制",trigger:"blur"}],testPhone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}]},Ee=De(()=>{const ve={};return T.value.storageType==="local"?ve.localPath=[{required:!0,message:"请输入存储路径",trigger:"blur"}]:T.value.storageType==="oss"&&(ve.accessKey=[{required:!0,message:"请输入Access Key",trigger:"blur"}],ve.secretKey=[{required:!0,message:"请输入Secret Key",trigger:"blur"}],ve.bucketName=[{required:!0,message:"请输入存储桶名称",trigger:"blur"}],ve.region=[{required:!0,message:"请选择存储区域",trigger:"change"}]),ve}),Ne={maxDiscountPercent:[{required:!0,message:"请设置全局最大优惠比例",trigger:"blur"},{type:"number",min:0,max:100,message:"优惠比例应在0-100之间",trigger:"blur"}],adminMaxDiscount:[{required:!0,message:"请设置管理员最大优惠",trigger:"blur"},{type:"number",min:0,max:100,message:"优惠比例应在0-100之间",trigger:"blur"}],managerMaxDiscount:[{required:!0,message:"请设置经理最大优惠",trigger:"blur"},{type:"number",min:0,max:100,message:"优惠比例应在0-100之间",trigger:"blur"}],salesMaxDiscount:[{required:!0,message:"请设置销售员最大优惠",trigger:"blur"},{type:"number",min:0,max:100,message:"优惠比例应在0-100之间",trigger:"blur"}],discountApprovalThreshold:[{required:!0,message:"请设置优惠审批阈值",trigger:"blur"},{type:"number",min:0,max:100,message:"审批阈值应在0-100之间",trigger:"blur"}],lowStockThreshold:[{required:!0,message:"请设置低库存预警阈值",trigger:"blur"},{type:"number",min:0,message:"预警阈值不能为负数",trigger:"blur"}],defaultCategory:[{required:!0,message:"请输入默认分类名称",trigger:"blur"},{min:1,max:20,message:"分类名称长度在1-20个字符",trigger:"blur"}],maxCategoryLevel:[{required:!0,message:"请设置分类层级限制",trigger:"blur"},{type:"number",min:1,max:5,message:"分类层级应在1-5之间",trigger:"blur"}],costPriceViewRoles:[{required:!0,message:"请选择成本价格查看权限角色",trigger:"change"}],salesDataViewRoles:[{required:!0,message:"请选择销售数据查看权限角色",trigger:"change"}],stockInfoViewRoles:[{required:!0,message:"请选择库存信息查看权限角色",trigger:"change"}],operationLogsViewRoles:[{required:!0,message:"请选择操作日志查看权限角色",trigger:"change"}],sensitiveInfoHideMethod:[{required:!0,message:"请选择敏感信息隐藏方式",trigger:"change"}]},Ye={backupFrequency:[{required:!0,message:"请选择备份频率",trigger:"change"}],retentionDays:[{required:!0,message:"请设置保留天数",trigger:"blur"},{type:"number",min:1,max:365,message:"保留天数应在1-365之间",trigger:"blur"}]},Ke=Ie(),He=Ie(),Be=Ie(),Re=Ie(),he=Ie(),be=Ie(),Le=Ie(),tt=Ie(),at=De(()=>v.isAdmin),Xe=De(()=>v.isAdmin),gt=De(()=>v.isAdmin),_t=De(()=>v.isAdmin),yt=De(()=>v.isAdmin),Lt=De(()=>v.isAdmin),dr=De(()=>v.isAdmin||v.isManager),Gt=De(()=>v.isAdmin||v.isManager),It=De(()=>v.isAdmin),Dr=ve=>ve<50?"#67c23a":ve<80?"#e6a23c":"#f56c6c",Mr=ve=>ve<60?"#67c23a":ve<85?"#e6a23c":"#f56c6c",Nr=ve=>ve<70?"#67c23a":ve<90?"#e6a23c":"#f56c6c",Qt=ve=>{const P=ve.type==="image/jpeg"||ve.type==="image/png",Pe=ve.size/1024/1024<2;return P?Pe?!0:(Se.error("Logo大小不能超过 2MB!"),!1):(Se.error("Logo只能是 JPG/PNG 格式!"),!1)},Sr=(ve,P)=>{m.value.systemLogo=URL.createObjectURL(P.raw)},fr=()=>pe(this,null,function*(){var ve;try{yield(ve=Ke.value)==null?void 0:ve.validate(),o.value=!0,w.updateSystemConfig(m.value),yield new Promise(P=>setTimeout(P,1e3)),Se.success("基本设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{o.value=!1}}),_r=()=>pe(this,null,function*(){var ve;try{yield(ve=He.value)==null?void 0:ve.validate(),d.value=!0,w.updateSecurityConfig(g.value),yield new Promise(P=>setTimeout(P,1e3)),Se.success("安全设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{d.value=!1}}),Tr=()=>pe(this,null,function*(){var ve;try{yield(ve=Re.value)==null?void 0:ve.validate(),t.value=!0,yield new Promise(P=>setTimeout(P,1e3)),Se.success("邮件设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{t.value=!1}}),Lr=()=>pe(this,null,function*(){var ve;try{yield(ve=Be.value)==null?void 0:ve.validate(),f.value=!0,yield new Promise(P=>setTimeout(P,1e3)),Se.success("通话设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{f.value=!1}}),Br=()=>pe(this,null,function*(){try{p.value=!0,yield new Promise(ve=>setTimeout(ve,2e3)),Se.success("SIP连接测试成功")}catch(ve){Se.error("SIP连接测试失败")}finally{p.value=!1}}),Er=()=>pe(this,null,function*(){if(!h.testEmail){Se.warning("请先输入测试邮箱地址");return}try{r.value=!0,yield new Promise(ve=>setTimeout(ve,2e3)),Se.success("测试邮件发送成功，请检查邮箱")}catch(ve){Se.error("测试邮件发送失败")}finally{r.value=!1}}),Ur=()=>pe(this,null,function*(){var ve;try{yield(ve=he.value)==null?void 0:ve.validate(),s.value=!0,w.updateSmsConfig(j.value),yield new Promise(P=>setTimeout(P,1e3)),Se.success("短信设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{s.value=!1}}),jr=()=>pe(this,null,function*(){if(!j.value.testPhone){Se.warning("请先输入测试手机号");return}try{i.value=!0,yield new Promise(ve=>setTimeout(ve,2e3)),Se.success("测试短信发送成功，请检查手机")}catch(ve){Se.error("测试短信发送失败")}finally{i.value=!1}}),Fr=()=>{l.value=!0},pn=()=>pe(this,null,function*(){try{G.value=!0;const{getConnectedDevices:ve}=yield Ce(()=>pe(this,null,function*(){const{getConnectedDevices:Pe}=yield import("./qr-connection-BfxN7ei6.js");return{getConnectedDevices:Pe}}),__vite__mapDeps([110,2,1,3])),P=yield ve();de.value=P,Se.success("设备列表刷新成功")}catch(ve){console.error("刷新设备列表失败:",ve),Se.error("刷新设备列表失败，请重试")}finally{G.value=!1}}),Ar=ve=>pe(this,null,function*(){try{yield bt.confirm("确定要断开此设备的连接吗？","断开连接确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),yield Ko(ve),yield es(),Se.success("设备连接已断开")}catch(P){P!=="cancel"&&(console.error("断开设备连接失败:",P),Se.error("断开设备连接失败，请重试"))}}),Wt=()=>pe(this,null,function*(){try{if(ee.value=!0,W.value.enabled)yield Lo(),W.value.enabled=!1,W.value.pairingCode="",Se.success("蓝牙服务已停止");else{const ve=yield No({deviceName:W.value.deviceName});W.value.enabled=!0,W.value.pairingCode=ve.data.pairingCode||Vr(6),Se.success("蓝牙服务已启动")}yield Gr()}catch(ve){console.error("切换蓝牙连接失败:",ve),Se.error("操作失败，请重试")}finally{ee.value=!1}}),pr=()=>pe(this,null,function*(){try{N.value=!0,z.value.enabled?(yield Fo(),z.value.enabled=!1,Se.success("网络发现已停止")):(yield Uo({port:z.value.port,broadcastInterval:z.value.broadcastInterval}),z.value.enabled=!0,Se.success(`网络发现已启动，端口: ${z.value.port}`)),yield Gr()}catch(ve){console.error("切换网络连接失败:",ve),Se.error("操作失败，请重试")}finally{N.value=!1}}),mn=()=>pe(this,null,function*(){try{if(q.value=!0,V.value.enabled)yield Go(),V.value.enabled=!1,V.value.currentCode="",Se.success("数字配对已停止");else{const ve=yield Vo({expireTime:V.value.expireTime});V.value.enabled=!0,V.value.currentCode=ve.data.pairingCode||Vr(6),Se.success("数字配对已启动")}yield Gr()}catch(ve){console.error("切换数字配对失败:",ve),Se.error("操作失败，请重试")}finally{q.value=!1}}),$r=()=>pe(this,null,function*(){try{ue.value=!0;const ve=yield zo();V.value.currentCode=ve.data.pairingCode||Vr(6),Se.success("配对码已更新")}catch(ve){console.error("生成配对码失败:",ve),V.value.currentCode=Vr(6),Se.error("生成配对码失败，使用本地生成的配对码")}finally{ue.value=!1}}),Vr=ve=>{const P="0123456789";let Pe="";for(let Ve=0;Ve<ve;Ve++)Pe+=P.charAt(Math.floor(Math.random()*P.length));return Pe},Gr=()=>pe(this,null,function*(){try{const P=(yield Xo()).data;ce.value={qr:P.qr||ce.value.qr,bluetooth:P.bluetooth||0,network:P.network||0,digital:P.digital||0,active:P.active||0}}catch(ve){console.error("获取连接统计失败:",ve),W.value.enabled?ce.value.bluetooth=Math.floor(Math.random()*5)+1:ce.value.bluetooth=0,z.value.enabled?ce.value.network=Math.floor(Math.random()*8)+1:ce.value.network=0,V.value.enabled?ce.value.digital=Math.floor(Math.random()*3)+1:ce.value.digital=0,ce.value.active=ce.value.qr+ce.value.bluetooth+ce.value.network+ce.value.digital}}),Ws=()=>pe(this,null,function*(){var ve;try{if(yield(ve=be.value)==null?void 0:ve.validate(),u.value=!0,w.updateStorageConfig(T.value),T.value.storageType==="oss"){const{ossService:P}=yield Ce(()=>pe(this,null,function*(){const{ossService:Pe}=yield Promise.resolve().then(()=>Qo);return{ossService:Pe}}),void 0);yield P.reinitialize()}Se.success("存储设置保存成功")}catch(P){console.error("表单验证失败:",P)}finally{u.value=!1}}),Xn=()=>pe(this,null,function*(){var ve;try{if(yield(ve=Le.value)==null?void 0:ve.validate(),S.value.salesMaxDiscount>S.value.managerMaxDiscount){Se.warning("销售员最大优惠不能超过经理最大优惠");return}if(S.value.managerMaxDiscount>S.value.adminMaxDiscount){Se.warning("经理最大优惠不能超过管理员最大优惠");return}if(S.value.discountApprovalThreshold>S.value.maxDiscountPercent){Se.warning("优惠审批阈值不能超过全局最大优惠比例");return}a.value=!0,w.updateProductConfig(S.value),console.log("保存商品设置:",S.value),yield new Promise(P=>setTimeout(P,1500)),Se.success("商品设置保存成功")}catch(P){console.error("表单验证失败:",P),P.message?Se.error(P.message):Se.error("保存商品设置失败，请重试")}finally{a.value=!1}}),zs=()=>{bt.confirm("确定要重置商品设置吗？这将恢复到默认配置。","重置确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{var ve;w.resetProductConfig(),(ve=Le.value)==null||ve.clearValidate(),Se.success("商品设置已重置为默认配置")}).catch(()=>{})},Hs=()=>pe(this,null,function*(){try{n.value=!0,yield new Promise(ve=>setTimeout(ve,1e3)),O.value.performance.cpuUsage=Math.floor(Math.random()*100),O.value.performance.memoryUsage=Math.floor(Math.random()*100),O.value.performance.diskUsage=Math.floor(Math.random()*100),O.value.performance.networkLatency=Math.floor(Math.random()*50)+5,Se.success("监控数据刷新成功")}catch(ve){Se.error("刷新监控数据失败")}finally{n.value=!1}}),Wr=()=>{kt.updateSyncConfig(b.value),Se.success("同步配置已更新")},Ks=()=>pe(this,null,function*(){try{Se.info("开始同步数据到云端...");const ve=yield kt.syncAllData();E.value=kt.getSyncStatus(),ve?Se.success("数据同步完成"):Se.warning("数据同步完成，但有部分失败项")}catch(ve){console.error("手动同步失败:",ve),Se.error("数据同步失败，请检查网络连接和OSS配置")}}),Xs=()=>pe(this,null,function*(){try{yield bt.confirm("确定要从云端恢复数据吗？这将覆盖本地数据。","恢复数据确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),Se.info("开始从云端恢复数据..."),(yield kt.restoreFromOSS())?(Se.success("数据恢复完成"),location.reload()):Se.error("数据恢复失败")}catch(ve){ve!=="cancel"&&(console.error("数据恢复失败:",ve),Se.error("数据恢复失败，请重试"))}}),Js=()=>pe(this,null,function*(){try{Se.info("正在检查数据完整性..."),(yield kt.checkDataIntegrity())?Se.success("数据完整性检查通过"):Se.warning("数据完整性检查发现问题，建议重新同步")}catch(ve){console.error("数据完整性检查失败:",ve),Se.error("数据完整性检查失败")}}),Ys=ve=>{try{return new Date(ve).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch(P){return ve}},Qs=()=>pe(this,null,function*(){c.value=!0;try{Se.info("开始测试数据持久性功能...");const ve=yield Bs(),P=ve.length,Pe=ve.filter(Fe=>Fe.passed).length,Ve=P-Pe;Ve===0?Se.success(`所有测试通过！(${Pe}/${P})`):Se.warning(`测试完成：${Pe}/${P} 通过，${Ve} 失败`),console.group("数据持久性测试结果"),ve.forEach(Fe=>{Fe.passed?console.log(`✅ ${Fe.name}: ${Fe.message}`):(console.error(`❌ ${Fe.name}: ${Fe.message}`),Fe.error&&console.error("错误详情:",Fe.error))}),console.groupEnd();const xe=ve.filter(Fe=>!Fe.passed);if(xe.length>0){const Fe=xe.map(mt=>`• ${mt.name}: ${mt.message}`).join(`
`);bt.alert(`失败的测试:
${Fe}

请查看控制台获取详细错误信息`,"测试结果",{type:"warning"})}}catch(ve){console.error("测试执行失败:",ve),Se.error("测试执行失败，请查看控制台获取详细信息")}finally{c.value=!1}}),Zs=()=>pe(this,null,function*(){if(!fe.value){Se.warning("请先配置OSS存储");return}try{C.value=!0,yield xt.performManualBackup(),Se.success("备份成功"),yield hn(),yield yn()}catch(ve){console.error("备份失败:",ve),Se.error("备份失败: "+ve.message)}finally{C.value=!1}}),ea=()=>pe(this,null,function*(){var ve;try{yield(ve=tt.value)==null?void 0:ve.validate(),k.value=!0,yield xt.setBackupConfig(F),Se.success("备份设置保存成功")}catch(P){console.error("保存备份设置失败:",P),Se.error("保存失败: "+P.message)}finally{k.value=!1}}),ta=()=>pe(this,null,function*(){try{D.value=!0,Se.info("开始运行备份功能测试..."),yield Gs()}catch(ve){console.error("测试备份功能失败:",ve),Se.error("测试失败: "+ve.message)}finally{D.value=!1}}),ra=ve=>pe(this,null,function*(){try{yield bt.confirm(`确定要恢复备份 "${ve.filename}" 吗？这将覆盖当前所有数据！`,"确认恢复",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),I.value=ve.filename,yield xt.restoreFromBackup(ve.filename),Se.success("数据恢复成功，请刷新页面"),setTimeout(()=>{window.location.reload()},2e3)}catch(P){P!=="cancel"&&(console.error("恢复失败:",P),Se.error("恢复失败: "+P.message))}finally{I.value=""}}),na=ve=>pe(this,null,function*(){try{const P=yield xt.getBackupDownloadUrl(ve.filename),Pe=document.createElement("a");Pe.href=P,Pe.download=ve.filename,document.body.appendChild(Pe),Pe.click(),document.body.removeChild(Pe),Se.success("备份下载开始")}catch(P){console.error("下载失败:",P),Se.error("下载失败: "+P.message)}}),sa=ve=>pe(this,null,function*(){try{yield bt.confirm(`确定要删除备份 "${ve.filename}" 吗？`,"确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),yield xt.deleteBackup(ve.filename),Se.success("备份删除成功"),yield hn(),yield yn()}catch(P){P!=="cancel"&&(console.error("删除失败:",P),Se.error("删除失败: "+P.message))}}),hn=()=>pe(this,null,function*(){try{A.value=!0,Z.value=yield xt.getBackupList()}catch(ve){console.error("加载备份列表失败:",ve)}finally{A.value=!1}}),yn=()=>pe(this,null,function*(){try{const ve=yield xt.getBackupConfig();Object.assign(F,ve);const P=yield xt.getBackupList();if(te.value=P.length,$.value=P.reduce((Pe,Ve)=>Pe+Ve.size,0),P.length>0){const Pe=P.sort((Ve,xe)=>new Date(xe.timestamp).getTime()-new Date(Ve.timestamp).getTime())[0];Q.value=Pe.timestamp}}catch(ve){console.error("加载备份状态失败:",ve)}}),Jn=ve=>{if(ve===0)return"0 B";const P=1024,Pe=["B","KB","MB","GB"],Ve=Math.floor(Math.log(ve)/Math.log(P));return parseFloat((ve/Math.pow(P,Ve)).toFixed(2))+" "+Pe[Ve]},aa=()=>pe(this,null,function*(){try{ne.value=!0;const P=yield new Cn().exportAllData();P.success?(Se.success("数据导出成功！"),J.value=P.statistics,K.value=1):Se.error(`数据导出失败：${P.error}`)}catch(ve){console.error("导出数据失败:",ve),Se.error("导出数据失败，请检查控制台错误信息")}finally{ne.value=!1}}),oa=()=>pe(this,null,function*(){try{ie.value=!0;const P=yield new Cn().validateData();Y.value=P,P.issues.length===0?Se.success("数据验证通过！"):Se.warning(`发现 ${P.issues.length} 个数据问题`)}catch(ve){console.error("验证数据失败:",ve),Se.error("验证数据失败，请检查控制台错误信息")}finally{ie.value=!1}}),ia=ve=>{if(ve===0)return"0 B";const P=1024,Pe=["B","KB","MB","GB"],Ve=Math.floor(Math.log(ve)/Math.log(P));return parseFloat((ve/Math.pow(P,Ve)).toFixed(2))+" "+Pe[Ve]},gn=ve=>{const Pe={database:"DATABASE_ARCHITECTURE.md",api:"BACKEND_API_ARCHITECTURE.md",migration:"DATA_MIGRATION_PLAN.md"}[ve];Pe&&Se.info(`请查看项目根目录下的 ${Pe} 文件`)},la=ve=>ve.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),ca=ve=>{switch(ve){case"ERROR":return"danger";case"WARN":return"warning";case"INFO":return"success";case"DEBUG":return"info";default:return""}},Yn=()=>pe(this,null,function*(){try{y.value=!0;const ve=yield Sc({limit:100});ve.success?(X.value=ve.data,Se.success(`已刷新 ${ve.data.length} 条日志`)):Se.error("获取日志失败")}catch(ve){console.error("刷新日志失败:",ve),Se.error("刷新日志失败")}finally{y.value=!1}}),ua=()=>pe(this,null,function*(){try{yield bt.confirm("确定要清空所有系统日志吗？此操作不可恢复。","确认清空",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const ve=yield _c();ve.success?(X.value=[],Se.success(ve.message)):Se.error("清空日志失败")}catch(ve){ve!=="cancel"&&(console.error("清空日志失败:",ve),Se.error("清空日志失败"))}}),da=ve=>{bt.alert(ve.details,`日志详情 - ${ve.message}`,{confirmButtonText:"确定",type:"info"})},fa=()=>pe(this,null,function*(){U.value=!0;try{yield new Promise(ve=>setTimeout(ve,1e3)),oe.value.android.updateTime=new Date().toLocaleString(),oe.value.ios.updateTime=new Date().toLocaleString(),ce.value.active=Math.floor(Math.random()*10)+1,ce.value.today=Math.floor(Math.random()*50)+10,ce.value.lastConnection=new Date().toLocaleString(),Se.success("SDK信息已刷新")}catch(ve){Se.error("刷新SDK信息失败")}finally{U.value=!1}}),pa=()=>{if(!oe.value.android.available){Se.warning("Android SDK暂不可用");return}const ve=document.createElement("a");ve.href="/downloads/CRM-Mobile-SDK-v2.1.3.apk",ve.download="CRM-Mobile-SDK-v2.1.3.apk",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),Se.success("开始下载Android SDK v2.1.3 (6MB)")},ma=()=>{if(!oe.value.ios.available){Se.warning("iOS SDK暂不可用");return}const ve=document.createElement("a");ve.href="/downloads/crm-ios-v1.0.0.ipa",ve.download="crm-ios-v1.0.0.ipa",document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),Se.success("开始下载iOS SDK")},Qn=ve=>{se.value=ve;const P=document.querySelector(".usage-guide");P&&P.scrollIntoView({behavior:"smooth"})},ha=()=>{const ve=`${window.location.origin}/mobile`;window.open(ve,"_blank"),Se.success("正在打开PWA应用")},ya=()=>pe(this,null,function*(){const ve=`${window.location.origin}/mobile`;try{const P=yield Zn(ve);bt.alert(`<div style="text-align: center; padding: 20px;">
        <div style="margin-bottom: 16px; font-size: 16px; font-weight: 600;">扫描二维码访问PWA应用</div>
        <div style="margin-bottom: 16px;">
          <img src="${P}" alt="PWA二维码" style="width: 200px; height: 200px; border: 1px solid #ddd; border-radius: 8px;" />
        </div>
        <div style="font-size: 14px; color: #666;">
          或直接访问：<br>
          <a href="${ve}" target="_blank" style="color: #409eff;">${ve}</a>
        </div>
      </div>`,"移动应用二维码",{confirmButtonText:"确定",dangerouslyUseHTMLString:!0})}catch(P){console.error("生成二维码失败:",P),Se.error("生成二维码失败")}}),Zn=ve=>pe(this,null,function*(){try{return yield(yield Ce(()=>import("./browser-CKYXhPt6.js").then(Ve=>Ve.b),[])).toDataURL(ve,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(P){return console.error("生成二维码图片失败:",P),`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(ve)}`}}),qn=()=>pe(this,null,function*(){ae.value=!0;try{const ve="qr_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),P=parseInt(L.expireTime),Pe=new Date(Date.now()+P*60*1e3),Ve={connectionId:ve,serverUrl:`${window.location.protocol}//${window.location.host}`,permissions:L.permissions,expiresAt:Pe.getTime(),type:"system_connection"},xe=yield Zn(JSON.stringify(Ve));R.value={qrCodeUrl:xe,connectionId:ve,status:"active",expiresAt:Pe.toISOString(),connectedDevices:[]},Se.success("二维码生成成功")}catch(ve){console.error("生成二维码失败:",ve),Se.error("生成二维码失败")}finally{ae.value=!1}}),ga=()=>pe(this,null,function*(){if(!R.value.connectionId){Se.warning("请先生成二维码");return}yield qn(),Se.success("二维码已刷新")}),va=ve=>{switch(ve){case"active":return"success";case"connected":return"primary";case"expired":return"danger";default:return"info"}},ba=ve=>{switch(ve){case"active":return"等待连接";case"connected":return"已连接";case"expired":return"已过期";default:return"未激活"}},es=()=>pe(this,null,function*(){M.value=!0;try{const ve=yield Ho();de.value=ve.data||[],Se.success("设备列表已刷新")}catch(ve){console.error("刷新设备列表失败:",ve),Se.error("刷新设备列表失败"),de.value=[{id:"device_001",name:"iPhone 13 Pro",type:"iOS",connectionType:"QR Code",connectedAt:"2024-01-20 15:30:00",lastActivity:"2024-01-20 16:45:00",status:"online"},{id:"device_002",name:"Samsung Galaxy S21",type:"Android",connectionType:"Bluetooth",connectedAt:"2024-01-20 14:20:00",lastActivity:"2024-01-20 16:40:00",status:"online"}]}finally{M.value=!1}}),zr=ve=>ve?new Date(ve).toLocaleString("zh-CN"):"";return Wn(()=>{yn(),hn(),Yn(),pe(this,null,function*(){try{const Fe=yield new Cn().getDataStatistics();J.value=Fe}catch(xe){console.error("获取数据统计失败:",xe)}}),pn(),pe(this,null,function*(){try{const xe=yield Bo();xe.data&&(W.value.enabled=xe.data.enabled||!1,W.value.pairingCode=xe.data.pairingCode||"");const Fe=yield $o();Fe.data&&(z.value.enabled=Fe.data.enabled||!1);const mt=yield Wo();mt.data&&(V.value.enabled=mt.data.enabled||!1,V.value.currentCode=mt.data.currentCode||""),yield Gr()}catch(xe){console.error("初始化替代连接状态失败:",xe)}});const Ve=setInterval(()=>{E.value=kt.getSyncStatus()},5e3);Ga(()=>{clearInterval(Ve)})}),(ve,P)=>{const Pe=Ue("el-button"),Ve=Ue("el-input"),xe=Ue("el-form-item"),Fe=Ue("el-col"),mt=Ue("el-row"),nt=Ue("el-icon"),wa=Ue("el-upload"),Rt=Ue("el-form"),ct=Ue("el-card"),Tt=Ue("el-tab-pane"),dt=Ue("el-input-number"),rt=Ue("el-checkbox"),Bt=Ue("el-checkbox-group"),ht=Ue("el-switch"),zt=Ue("el-radio"),vn=Ue("el-radio-group"),ze=Ue("el-option"),$t=Ue("el-select"),Sa=Ue("el-divider"),vt=Ue("el-tag"),mr=Ue("el-alert"),ut=Ue("el-descriptions-item"),xr=Ue("el-descriptions"),Ot=Ue("el-statistic"),ft=Ue("el-table-column"),Hr=Ue("el-table"),Ir=Ue("el-step"),_a=Ue("el-steps"),Ta=Ue("el-space"),Ea=Ue("el-empty"),rs=Ue("el-tabs"),ja=Ue("el-dialog"),bn=Ts("loading");return ke(),Je("div",Tc,[P[315]||(P[315]=re("div",{class:"page-header"},[re("h2",null,"系统设置"),re("p",null,"管理系统的基本配置和参数设置")],-1)),B(rs,{modelValue:e.value,"onUpdate:modelValue":P[105]||(P[105]=me=>e.value=me),class:"settings-tabs"},{default:H(()=>[B(Tt,{label:"基本设置",name:"basic"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",Ec,[P[108]||(P[108]=re("span",null,"基本信息",-1)),at.value?(ke(),Ze(Pe,{key:0,onClick:fr,type:"primary",loading:o.value},{default:H(()=>[...P[107]||(P[107]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])]),default:H(()=>[B(Rt,{ref_key:"basicFormRef",ref:Ke,model:m.value,rules:_e,"label-width":"120px",class:"setting-form"},{default:H(()=>[B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"系统名称",prop:"systemName"},{default:H(()=>[B(Ve,{modelValue:m.value.systemName,"onUpdate:modelValue":P[0]||(P[0]=me=>m.value.systemName=me),placeholder:"请输入系统名称"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"系统版本",prop:"systemVersion"},{default:H(()=>[B(Ve,{modelValue:m.value.systemVersion,"onUpdate:modelValue":P[1]||(P[1]=me=>m.value.systemVersion=me),placeholder:"请输入系统版本"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"公司名称",prop:"companyName"},{default:H(()=>[B(Ve,{modelValue:m.value.companyName,"onUpdate:modelValue":P[2]||(P[2]=me=>m.value.companyName=me),placeholder:"请输入公司名称"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"联系电话",prop:"contactPhone"},{default:H(()=>[B(Ve,{modelValue:m.value.contactPhone,"onUpdate:modelValue":P[3]||(P[3]=me=>m.value.contactPhone=me),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"联系邮箱",prop:"contactEmail"},{default:H(()=>[B(Ve,{modelValue:m.value.contactEmail,"onUpdate:modelValue":P[4]||(P[4]=me=>m.value.contactEmail=me),placeholder:"请输入联系邮箱"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"网站地址",prop:"websiteUrl"},{default:H(()=>[B(Ve,{modelValue:m.value.websiteUrl,"onUpdate:modelValue":P[5]||(P[5]=me=>m.value.websiteUrl=me),placeholder:"请输入网站地址"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),B(xe,{label:"公司地址",prop:"companyAddress"},{default:H(()=>[B(Ve,{modelValue:m.value.companyAddress,"onUpdate:modelValue":P[6]||(P[6]=me=>m.value.companyAddress=me),placeholder:"请输入公司地址"},null,8,["modelValue"])]),_:1}),B(xe,{label:"系统描述",prop:"systemDescription"},{default:H(()=>[B(Ve,{modelValue:m.value.systemDescription,"onUpdate:modelValue":P[7]||(P[7]=me=>m.value.systemDescription=me),type:"textarea",rows:3,placeholder:"请输入系统描述"},null,8,["modelValue"])]),_:1}),B(xe,{label:"系统Logo",prop:"systemLogo"},{default:H(()=>[B(wa,{class:"logo-uploader",action:"#","show-file-list":!1,"before-upload":Qt,"on-success":Sr},{default:H(()=>[m.value.systemLogo?(ke(),Je("img",{key:0,src:m.value.systemLogo,class:"logo"},null,8,jc)):(ke(),Ze(nt,{key:1,class:"logo-uploader-icon"},{default:H(()=>[B(We(_s))]),_:1}))]),_:1}),P[109]||(P[109]=re("div",{class:"upload-tip"},"建议尺寸：200x60px，支持 jpg、png 格式",-1))]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"安全设置",name:"security"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",Ac,[P[111]||(P[111]=re("span",null,"安全配置",-1)),Xe.value?(ke(),Ze(Pe,{key:0,onClick:_r,type:"primary",loading:d.value},{default:H(()=>[...P[110]||(P[110]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])]),default:H(()=>[B(Rt,{ref_key:"securityFormRef",ref:He,model:g.value,rules:Te,"label-width":"150px",class:"setting-form"},{default:H(()=>[B(xe,{label:"密码最小长度",prop:"passwordMinLength"},{default:H(()=>[B(dt,{modelValue:g.value.passwordMinLength,"onUpdate:modelValue":P[8]||(P[8]=me=>g.value.passwordMinLength=me),min:6,max:20,placeholder:"密码最小长度"},null,8,["modelValue"]),P[112]||(P[112]=re("span",{class:"form-tip"},"建议设置为6-20位",-1))]),_:1}),B(xe,{label:"密码复杂度要求",prop:"passwordComplexity"},{default:H(()=>[B(Bt,{modelValue:g.value.passwordComplexity,"onUpdate:modelValue":P[9]||(P[9]=me=>g.value.passwordComplexity=me)},{default:H(()=>[B(rt,{value:"uppercase"},{default:H(()=>[...P[113]||(P[113]=[we("包含大写字母",-1)])]),_:1}),B(rt,{value:"lowercase"},{default:H(()=>[...P[114]||(P[114]=[we("包含小写字母",-1)])]),_:1}),B(rt,{value:"number"},{default:H(()=>[...P[115]||(P[115]=[we("包含数字",-1)])]),_:1}),B(rt,{value:"special"},{default:H(()=>[...P[116]||(P[116]=[we("包含特殊字符",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"密码有效期",prop:"passwordExpireDays"},{default:H(()=>[B(dt,{modelValue:g.value.passwordExpireDays,"onUpdate:modelValue":P[10]||(P[10]=me=>g.value.passwordExpireDays=me),min:0,max:365,placeholder:"密码有效期"},null,8,["modelValue"]),P[117]||(P[117]=re("span",{class:"form-tip"},"天（0表示永不过期）",-1))]),_:1}),B(xe,{label:"登录失败锁定",prop:"loginFailLock"},{default:H(()=>[B(ht,{modelValue:g.value.loginFailLock,"onUpdate:modelValue":P[11]||(P[11]=me=>g.value.loginFailLock=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),g.value.loginFailLock?(ke(),Ze(xe,{key:0,label:"最大失败次数",prop:"maxLoginFails"},{default:H(()=>[B(dt,{modelValue:g.value.maxLoginFails,"onUpdate:modelValue":P[12]||(P[12]=me=>g.value.maxLoginFails=me),min:3,max:10,placeholder:"最大失败次数"},null,8,["modelValue"]),P[118]||(P[118]=re("span",{class:"form-tip"},"次",-1))]),_:1})):Ge("",!0),g.value.loginFailLock?(ke(),Ze(xe,{key:1,label:"锁定时间",prop:"lockDuration"},{default:H(()=>[B(dt,{modelValue:g.value.lockDuration,"onUpdate:modelValue":P[13]||(P[13]=me=>g.value.lockDuration=me),min:5,max:1440,placeholder:"锁定时间"},null,8,["modelValue"]),P[119]||(P[119]=re("span",{class:"form-tip"},"分钟",-1))]),_:1})):Ge("",!0),B(xe,{label:"会话超时时间",prop:"sessionTimeout"},{default:H(()=>[B(dt,{modelValue:g.value.sessionTimeout,"onUpdate:modelValue":P[14]||(P[14]=me=>g.value.sessionTimeout=me),min:30,max:1440,placeholder:"会话超时时间"},null,8,["modelValue"]),P[120]||(P[120]=re("span",{class:"form-tip"},"分钟",-1))]),_:1}),B(xe,{label:"强制HTTPS",prop:"forceHttps"},{default:H(()=>[B(ht,{modelValue:g.value.forceHttps,"onUpdate:modelValue":P[15]||(P[15]=me=>g.value.forceHttps=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),B(xe,{label:"IP白名单",prop:"ipWhitelist"},{default:H(()=>[B(Ve,{modelValue:g.value.ipWhitelist,"onUpdate:modelValue":P[16]||(P[16]=me=>g.value.ipWhitelist=me),type:"textarea",rows:3,placeholder:"请输入IP地址，多个IP用换行分隔"},null,8,["modelValue"]),P[121]||(P[121]=re("div",{class:"form-tip"},"留空表示不限制IP访问",-1))]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"通话设置",name:"call"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",xc,[P[124]||(P[124]=re("span",null,"通话配置",-1)),re("div",Ic,[B(Pe,{onClick:Br,type:"info",size:"small",loading:p.value},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Or))]),_:1}),P[122]||(P[122]=we(" 测试连接 ",-1))]),_:1},8,["loading"]),gt.value?(ke(),Ze(Pe,{key:0,onClick:Lr,type:"primary",loading:f.value},{default:H(()=>[...P[123]||(P[123]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])])]),default:H(()=>[B(Rt,{ref_key:"callFormRef",ref:Be,model:_,rules:Oe,"label-width":"150px",class:"setting-form"},{default:H(()=>[re("div",Oc,[re("h4",kc,[B(nt,null,{default:H(()=>[B(We(cs))]),_:1}),P[125]||(P[125]=we(" SIP服务器配置 ",-1))]),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"SIP服务器地址",prop:"sipServer"},{default:H(()=>[B(Ve,{modelValue:_.sipServer,"onUpdate:modelValue":P[17]||(P[17]=me=>_.sipServer=me),placeholder:"请输入SIP服务器地址"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"SIP端口",prop:"sipPort"},{default:H(()=>[B(dt,{modelValue:_.sipPort,"onUpdate:modelValue":P[18]||(P[18]=me=>_.sipPort=me),min:1,max:65535,placeholder:"SIP端口"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"用户名",prop:"sipUsername"},{default:H(()=>[B(Ve,{modelValue:_.sipUsername,"onUpdate:modelValue":P[19]||(P[19]=me=>_.sipUsername=me),placeholder:"请输入SIP用户名"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"密码",prop:"sipPassword"},{default:H(()=>[B(Ve,{modelValue:_.sipPassword,"onUpdate:modelValue":P[20]||(P[20]=me=>_.sipPassword=me),type:"password",placeholder:"请输入SIP密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),B(xe,{label:"传输协议",prop:"sipTransport"},{default:H(()=>[B(vn,{modelValue:_.sipTransport,"onUpdate:modelValue":P[21]||(P[21]=me=>_.sipTransport=me)},{default:H(()=>[B(zt,{value:"UDP"},{default:H(()=>[...P[126]||(P[126]=[we("UDP",-1)])]),_:1}),B(zt,{value:"TCP"},{default:H(()=>[...P[127]||(P[127]=[we("TCP",-1)])]),_:1}),B(zt,{value:"TLS"},{default:H(()=>[...P[128]||(P[128]=[we("TLS",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),re("div",Cc,[re("h4",Pc,[B(nt,null,{default:H(()=>[B(We(Tn))]),_:1}),P[129]||(P[129]=we(" 通话功能配置 ",-1))]),B(xe,{label:"自动接听",prop:"autoAnswer"},{default:H(()=>[B(ht,{modelValue:_.autoAnswer,"onUpdate:modelValue":P[22]||(P[22]=me=>_.autoAnswer=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[130]||(P[130]=re("span",{class:"form-tip"},"启用后将自动接听来电",-1))]),_:1}),B(xe,{label:"自动录音",prop:"autoRecord"},{default:H(()=>[B(ht,{modelValue:_.autoRecord,"onUpdate:modelValue":P[23]||(P[23]=me=>_.autoRecord=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[131]||(P[131]=re("span",{class:"form-tip"},"启用后将自动录制通话",-1))]),_:1}),B(xe,{label:"通话质量监控",prop:"qualityMonitoring"},{default:H(()=>[B(ht,{modelValue:_.qualityMonitoring,"onUpdate:modelValue":P[24]||(P[24]=me=>_.qualityMonitoring=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[132]||(P[132]=re("span",{class:"form-tip"},"启用后将监控通话质量",-1))]),_:1}),B(xe,{label:"呼入弹窗",prop:"incomingCallPopup"},{default:H(()=>[B(ht,{modelValue:_.incomingCallPopup,"onUpdate:modelValue":P[25]||(P[25]=me=>_.incomingCallPopup=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[133]||(P[133]=re("span",{class:"form-tip"},"启用后来电时自动弹出客户详情",-1))]),_:1}),B(xe,{label:"最大通话时长",prop:"maxCallDuration"},{default:H(()=>[B(dt,{modelValue:_.maxCallDuration,"onUpdate:modelValue":P[26]||(P[26]=me=>_.maxCallDuration=me),min:1,max:7200,placeholder:"最大通话时长"},null,8,["modelValue"]),P[134]||(P[134]=re("span",{class:"form-tip"},"秒（1-7200秒，0表示不限制）",-1))]),_:1})]),re("div",Rc,[re("h4",Dc,[B(nt,null,{default:H(()=>[B(We(Ra))]),_:1}),P[135]||(P[135]=we(" 录音配置 ",-1))]),B(xe,{label:"录音格式",prop:"recordFormat"},{default:H(()=>[B($t,{modelValue:_.recordFormat,"onUpdate:modelValue":P[27]||(P[27]=me=>_.recordFormat=me),placeholder:"请选择录音格式"},{default:H(()=>[B(ze,{label:"WAV",value:"wav"}),B(ze,{label:"MP3",value:"mp3"}),B(ze,{label:"AAC",value:"aac"})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"录音质量",prop:"recordQuality"},{default:H(()=>[B($t,{modelValue:_.recordQuality,"onUpdate:modelValue":P[28]||(P[28]=me=>_.recordQuality=me),placeholder:"请选择录音质量"},{default:H(()=>[B(ze,{label:"标准质量",value:"standard"}),B(ze,{label:"高质量",value:"high"}),B(ze,{label:"超高质量",value:"ultra"})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"录音保存路径",prop:"recordPath"},{default:H(()=>[B(Ve,{modelValue:_.recordPath,"onUpdate:modelValue":P[29]||(P[29]=me=>_.recordPath=me),placeholder:"请输入录音保存路径"},null,8,["modelValue"]),P[136]||(P[136]=re("span",{class:"form-tip"},"录音文件的存储路径",-1))]),_:1}),B(xe,{label:"录音保留时间",prop:"recordRetentionDays"},{default:H(()=>[B(dt,{modelValue:_.recordRetentionDays,"onUpdate:modelValue":P[30]||(P[30]=me=>_.recordRetentionDays=me),min:1,max:365,placeholder:"录音保留时间"},null,8,["modelValue"]),P[137]||(P[137]=re("span",{class:"form-tip"},"天（1-365天）",-1))]),_:1})]),re("div",Mc,[re("h4",Nc,[B(nt,null,{default:H(()=>[B(We(En))]),_:1}),P[138]||(P[138]=we(" 权限管理 ",-1))]),B(xe,{label:"外呼权限",prop:"outboundPermission"},{default:H(()=>[B(Bt,{modelValue:_.outboundPermission,"onUpdate:modelValue":P[31]||(P[31]=me=>_.outboundPermission=me)},{default:H(()=>[B(rt,{value:"admin"},{default:H(()=>[...P[139]||(P[139]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[140]||(P[140]=[we("经理",-1)])]),_:1}),B(rt,{value:"sales"},{default:H(()=>[...P[141]||(P[141]=[we("销售",-1)])]),_:1}),B(rt,{value:"service"},{default:H(()=>[...P[142]||(P[142]=[we("客服",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"录音访问权限",prop:"recordAccessPermission"},{default:H(()=>[B(Bt,{modelValue:_.recordAccessPermission,"onUpdate:modelValue":P[32]||(P[32]=me=>_.recordAccessPermission=me)},{default:H(()=>[B(rt,{value:"admin"},{default:H(()=>[...P[143]||(P[143]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[144]||(P[144]=[we("经理",-1)])]),_:1}),B(rt,{value:"self"},{default:H(()=>[...P[145]||(P[145]=[we("仅本人",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"通话统计权限",prop:"statisticsPermission"},{default:H(()=>[B(Bt,{modelValue:_.statisticsPermission,"onUpdate:modelValue":P[33]||(P[33]=me=>_.statisticsPermission=me)},{default:H(()=>[B(rt,{value:"admin"},{default:H(()=>[...P[146]||(P[146]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[147]||(P[147]=[we("经理",-1)])]),_:1}),B(rt,{value:"sales"},{default:H(()=>[...P[148]||(P[148]=[we("销售",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"号码限制",prop:"numberRestriction"},{default:H(()=>[B(ht,{modelValue:_.numberRestriction,"onUpdate:modelValue":P[34]||(P[34]=me=>_.numberRestriction=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[149]||(P[149]=re("span",{class:"form-tip"},"启用后将限制可拨打的号码范围",-1))]),_:1}),_.numberRestriction?(ke(),Ze(xe,{key:0,label:"允许的号码前缀",prop:"allowedPrefixes"},{default:H(()=>[B(Ve,{modelValue:_.allowedPrefixes,"onUpdate:modelValue":P[35]||(P[35]=me=>_.allowedPrefixes=me),type:"textarea",rows:3,placeholder:"请输入允许的号码前缀，多个前缀用换行分隔"},null,8,["modelValue"]),P[150]||(P[150]=re("span",{class:"form-tip"},"例如：138、139、186等",-1))]),_:1})):Ge("",!0)])]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"邮件设置",name:"email"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",Lc,[P[153]||(P[153]=re("span",null,"邮件配置",-1)),re("div",Bc,[_t.value?(ke(),Ze(Pe,{key:0,onClick:Er,loading:r.value},{default:H(()=>[...P[151]||(P[151]=[we(" 测试邮件 ",-1)])]),_:1},8,["loading"])):Ge("",!0),_t.value?(ke(),Ze(Pe,{key:1,onClick:Tr,type:"primary",loading:t.value},{default:H(()=>[...P[152]||(P[152]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])])]),default:H(()=>[B(Rt,{ref_key:"emailFormRef",ref:Re,model:h,rules:je,"label-width":"120px",class:"setting-form"},{default:H(()=>[B(xe,{label:"SMTP服务器",prop:"smtpHost"},{default:H(()=>[B(Ve,{modelValue:h.smtpHost,"onUpdate:modelValue":P[36]||(P[36]=me=>h.smtpHost=me),placeholder:"请输入SMTP服务器地址"},null,8,["modelValue"])]),_:1}),B(xe,{label:"SMTP端口",prop:"smtpPort"},{default:H(()=>[B(dt,{modelValue:h.smtpPort,"onUpdate:modelValue":P[37]||(P[37]=me=>h.smtpPort=me),min:1,max:65535,placeholder:"SMTP端口"},null,8,["modelValue"])]),_:1}),B(xe,{label:"发件人邮箱",prop:"senderEmail"},{default:H(()=>[B(Ve,{modelValue:h.senderEmail,"onUpdate:modelValue":P[38]||(P[38]=me=>h.senderEmail=me),placeholder:"请输入发件人邮箱"},null,8,["modelValue"])]),_:1}),B(xe,{label:"发件人名称",prop:"senderName"},{default:H(()=>[B(Ve,{modelValue:h.senderName,"onUpdate:modelValue":P[39]||(P[39]=me=>h.senderName=me),placeholder:"请输入发件人名称"},null,8,["modelValue"])]),_:1}),B(xe,{label:"邮箱密码",prop:"emailPassword"},{default:H(()=>[B(Ve,{modelValue:h.emailPassword,"onUpdate:modelValue":P[40]||(P[40]=me=>h.emailPassword=me),type:"password",placeholder:"请输入邮箱密码或授权码","show-password":""},null,8,["modelValue"])]),_:1}),B(xe,{label:"启用SSL",prop:"enableSsl"},{default:H(()=>[B(ht,{modelValue:h.enableSsl,"onUpdate:modelValue":P[41]||(P[41]=me=>h.enableSsl=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),B(xe,{label:"启用TLS",prop:"enableTls"},{default:H(()=>[B(ht,{modelValue:h.enableTls,"onUpdate:modelValue":P[42]||(P[42]=me=>h.enableTls=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),B(xe,{label:"测试邮箱",prop:"testEmail"},{default:H(()=>[B(Ve,{modelValue:h.testEmail,"onUpdate:modelValue":P[43]||(P[43]=me=>h.testEmail=me),placeholder:"请输入测试邮箱地址"},null,8,["modelValue"]),P[154]||(P[154]=re("div",{class:"form-tip"},"用于测试邮件发送功能",-1))]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"短信设置",name:"sms"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",Uc,[P[158]||(P[158]=re("span",null,"短信配置",-1)),re("div",Fc,[It.value?(ke(),Ze(Pe,{key:0,onClick:Fr,type:"success",icon:We(Tn)},{default:H(()=>[...P[155]||(P[155]=[we(" 短信管理 ",-1)])]),_:1},8,["icon"])):Ge("",!0),yt.value?(ke(),Ze(Pe,{key:1,onClick:jr,loading:i.value},{default:H(()=>[...P[156]||(P[156]=[we(" 测试短信 ",-1)])]),_:1},8,["loading"])):Ge("",!0),yt.value?(ke(),Ze(Pe,{key:2,onClick:Ur,type:"primary",loading:s.value},{default:H(()=>[...P[157]||(P[157]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])])]),default:H(()=>[B(Rt,{ref_key:"smsFormRef",ref:he,model:j.value,rules:ge,"label-width":"120px",class:"setting-form"},{default:H(()=>[B(xe,{label:"短信服务商",prop:"provider"},{default:H(()=>[B($t,{modelValue:j.value.provider,"onUpdate:modelValue":P[44]||(P[44]=me=>j.value.provider=me),placeholder:"请选择短信服务商",style:{width:"100%"}},{default:H(()=>[B(ze,{label:"阿里云短信",value:"aliyun"}),B(ze,{label:"腾讯云短信",value:"tencent"}),B(ze,{label:"华为云短信",value:"huawei"}),B(ze,{label:"网易云信",value:"netease"})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"AccessKey",prop:"accessKey"},{default:H(()=>[B(Ve,{modelValue:j.value.accessKey,"onUpdate:modelValue":P[45]||(P[45]=me=>j.value.accessKey=me),placeholder:"请输入AccessKey","show-password":""},null,8,["modelValue"])]),_:1}),B(xe,{label:"SecretKey",prop:"secretKey"},{default:H(()=>[B(Ve,{modelValue:j.value.secretKey,"onUpdate:modelValue":P[46]||(P[46]=me=>j.value.secretKey=me),placeholder:"请输入SecretKey","show-password":""},null,8,["modelValue"])]),_:1}),B(xe,{label:"短信签名",prop:"signName"},{default:H(()=>[B(Ve,{modelValue:j.value.signName,"onUpdate:modelValue":P[47]||(P[47]=me=>j.value.signName=me),placeholder:"请输入短信签名"},null,8,["modelValue"]),P[159]||(P[159]=re("div",{class:"form-tip"},"短信签名需要在服务商平台申请并审核通过",-1))]),_:1}),B(xe,{label:"每日发送限制",prop:"dailyLimit"},{default:H(()=>[B(dt,{modelValue:j.value.dailyLimit,"onUpdate:modelValue":P[48]||(P[48]=me=>j.value.dailyLimit=me),min:1,max:1e4,placeholder:"每日发送限制",style:{width:"100%"}},null,8,["modelValue"]),P[160]||(P[160]=re("div",{class:"form-tip"},"单个用户每日最大发送短信数量",-1))]),_:1}),B(xe,{label:"每月发送限制",prop:"monthlyLimit"},{default:H(()=>[B(dt,{modelValue:j.value.monthlyLimit,"onUpdate:modelValue":P[49]||(P[49]=me=>j.value.monthlyLimit=me),min:1,max:1e5,placeholder:"每月发送限制",style:{width:"100%"}},null,8,["modelValue"]),P[161]||(P[161]=re("div",{class:"form-tip"},"单个用户每月最大发送短信数量",-1))]),_:1}),B(xe,{label:"启用短信功能"},{default:H(()=>[B(ht,{modelValue:j.value.enabled,"onUpdate:modelValue":P[50]||(P[50]=me=>j.value.enabled=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1}),B(xe,{label:"需要审核"},{default:H(()=>[B(ht,{modelValue:j.value.requireApproval,"onUpdate:modelValue":P[51]||(P[51]=me=>j.value.requireApproval=me),"active-text":"需要","inactive-text":"不需要"},null,8,["modelValue"]),P[162]||(P[162]=re("div",{class:"form-tip"},"开启后，短信发送需要管理员审核",-1))]),_:1}),B(xe,{label:"测试手机号",prop:"testPhone"},{default:H(()=>[B(Ve,{modelValue:j.value.testPhone,"onUpdate:modelValue":P[52]||(P[52]=me=>j.value.testPhone=me),placeholder:"请输入测试手机号"},null,8,["modelValue"]),P[163]||(P[163]=re("div",{class:"form-tip"},"用于测试短信发送功能",-1))]),_:1})]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"存储设置",name:"storage"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",$c,[P[166]||(P[166]=re("span",null,"存储配置",-1)),re("div",Vc,[B(Pe,{onClick:Qs,type:"info",size:"small",loading:c.value},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Tn))]),_:1}),P[164]||(P[164]=we(" 测试功能 ",-1))]),_:1},8,["loading"]),Lt.value?(ke(),Ze(Pe,{key:0,onClick:Ws,type:"primary",loading:u.value},{default:H(()=>[...P[165]||(P[165]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])])]),default:H(()=>[B(Rt,{ref_key:"storageFormRef",ref:be,model:T.value,rules:Ee.value,"label-width":"120px",class:"setting-form"},{default:H(()=>[B(xe,{label:"存储类型",prop:"storageType"},{default:H(()=>[B(vn,{modelValue:T.value.storageType,"onUpdate:modelValue":P[53]||(P[53]=me=>T.value.storageType=me)},{default:H(()=>[B(zt,{value:"local"},{default:H(()=>[...P[167]||(P[167]=[we("本地存储",-1)])]),_:1}),B(zt,{value:"oss"},{default:H(()=>[...P[168]||(P[168]=[we("阿里云OSS",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),T.value.storageType==="local"?(ke(),Je(Ut,{key:0},[B(xe,{label:"存储路径",prop:"localPath"},{default:H(()=>[B(Ve,{modelValue:T.value.localPath,"onUpdate:modelValue":P[54]||(P[54]=me=>T.value.localPath=me),placeholder:"请输入本地存储路径"},null,8,["modelValue"])]),_:1}),B(xe,{label:"访问域名",prop:"localDomain"},{default:H(()=>[B(Ve,{modelValue:T.value.localDomain,"onUpdate:modelValue":P[55]||(P[55]=me=>T.value.localDomain=me),placeholder:"请输入访问域名"},null,8,["modelValue"])]),_:1})],64)):Ge("",!0),T.value.storageType!=="local"?(ke(),Je(Ut,{key:1},[B(xe,{label:"Access Key",prop:"accessKey"},{default:H(()=>[B(Ve,{modelValue:T.value.accessKey,"onUpdate:modelValue":P[56]||(P[56]=me=>T.value.accessKey=me),placeholder:"请输入Access Key"},null,8,["modelValue"])]),_:1}),B(xe,{label:"Secret Key",prop:"secretKey"},{default:H(()=>[B(Ve,{modelValue:T.value.secretKey,"onUpdate:modelValue":P[57]||(P[57]=me=>T.value.secretKey=me),type:"password",placeholder:"请输入Secret Key","show-password":""},null,8,["modelValue"])]),_:1}),B(xe,{label:"存储桶名称",prop:"bucketName"},{default:H(()=>[B(Ve,{modelValue:T.value.bucketName,"onUpdate:modelValue":P[58]||(P[58]=me=>T.value.bucketName=me),placeholder:"请输入存储桶名称"},null,8,["modelValue"])]),_:1}),B(xe,{label:"存储区域",prop:"region"},{default:H(()=>[B($t,{modelValue:T.value.region,"onUpdate:modelValue":P[59]||(P[59]=me=>T.value.region=me),placeholder:"请选择存储区域",style:{width:"100%"}},{default:H(()=>[B(ze,{label:"华东1（杭州）",value:"oss-cn-hangzhou"}),B(ze,{label:"华东2（上海）",value:"oss-cn-shanghai"}),B(ze,{label:"华北1（青岛）",value:"oss-cn-qingdao"}),B(ze,{label:"华北2（北京）",value:"oss-cn-beijing"}),B(ze,{label:"华北3（张家口）",value:"oss-cn-zhangjiakou"}),B(ze,{label:"华北5（呼和浩特）",value:"oss-cn-huhehaote"}),B(ze,{label:"华北6（乌兰察布）",value:"oss-cn-wulanchabu"}),B(ze,{label:"华南1（深圳）",value:"oss-cn-shenzhen"}),B(ze,{label:"华南2（河源）",value:"oss-cn-heyuan"}),B(ze,{label:"华南3（广州）",value:"oss-cn-guangzhou"}),B(ze,{label:"西南1（成都）",value:"oss-cn-chengdu"}),B(ze,{label:"中国（香港）",value:"oss-cn-hongkong"}),B(ze,{label:"美国西部1（硅谷）",value:"oss-us-west-1"}),B(ze,{label:"美国东部1（弗吉尼亚）",value:"oss-us-east-1"}),B(ze,{label:"亚太东南1（新加坡）",value:"oss-ap-southeast-1"}),B(ze,{label:"亚太东南2（悉尼）",value:"oss-ap-southeast-2"}),B(ze,{label:"亚太东南3（吉隆坡）",value:"oss-ap-southeast-3"}),B(ze,{label:"亚太东南5（雅加达）",value:"oss-ap-southeast-5"}),B(ze,{label:"亚太东北1（东京）",value:"oss-ap-northeast-1"}),B(ze,{label:"亚太南部1（孟买）",value:"oss-ap-south-1"}),B(ze,{label:"欧洲中部1（法兰克福）",value:"oss-eu-central-1"}),B(ze,{label:"英国（伦敦）",value:"oss-eu-west-1"}),B(ze,{label:"中东东部1（迪拜）",value:"oss-me-east-1"})]),_:1},8,["modelValue"]),P[169]||(P[169]=re("div",{class:"form-tip"},"选择与您的Bucket相同的区域",-1))]),_:1}),B(xe,{label:"自定义域名",prop:"customDomain"},{default:H(()=>[B(Ve,{modelValue:T.value.customDomain,"onUpdate:modelValue":P[60]||(P[60]=me=>T.value.customDomain=me),placeholder:"请输入自定义域名（可选）"},null,8,["modelValue"])]),_:1})],64)):Ge("",!0),B(xe,{label:"最大文件大小",prop:"maxFileSize"},{default:H(()=>[B(dt,{modelValue:T.value.maxFileSize,"onUpdate:modelValue":P[61]||(P[61]=me=>T.value.maxFileSize=me),min:1,max:100,placeholder:"最大文件大小"},null,8,["modelValue"]),P[170]||(P[170]=re("span",{class:"form-tip"},"MB",-1))]),_:1}),B(xe,{label:"允许的文件类型",prop:"allowedTypes"},{default:H(()=>[B(Ve,{modelValue:T.value.allowedTypes,"onUpdate:modelValue":P[62]||(P[62]=me=>T.value.allowedTypes=me),placeholder:"请输入允许的文件类型，用逗号分隔"},null,8,["modelValue"]),P[171]||(P[171]=re("div",{class:"form-tip"},"例如：jpg,png,gif,pdf,doc,docx",-1))]),_:1}),T.value.storageType!=="local"?(ke(),Je(Ut,{key:2},[B(Sa,{"content-position":"left"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(us))]),_:1}),P[172]||(P[172]=we(" 数据同步设置 ",-1))]),_:1}),B(xe,{label:"自动同步"},{default:H(()=>[B(ht,{modelValue:b.value.autoSync,"onUpdate:modelValue":P[63]||(P[63]=me=>b.value.autoSync=me),onChange:Wr},null,8,["modelValue"]),P[173]||(P[173]=re("div",{class:"form-tip"},"启用后将定期自动同步数据到云端",-1))]),_:1}),b.value.autoSync?(ke(),Ze(xe,{key:0,label:"同步间隔"},{default:H(()=>[B(dt,{modelValue:b.value.syncInterval,"onUpdate:modelValue":P[64]||(P[64]=me=>b.value.syncInterval=me),min:5,max:1440,onChange:Wr},null,8,["modelValue"]),P[174]||(P[174]=re("span",{class:"form-tip"},"分钟（建议30-60分钟）",-1))]),_:1})):Ge("",!0),B(xe,{label:"实时同步"},{default:H(()=>[B(ht,{modelValue:b.value.syncOnDataChange,"onUpdate:modelValue":P[65]||(P[65]=me=>b.value.syncOnDataChange=me),onChange:Wr},null,8,["modelValue"]),P[175]||(P[175]=re("div",{class:"form-tip"},"数据变更时立即同步到云端",-1))]),_:1}),B(xe,{label:"备份保留数量"},{default:H(()=>[B(dt,{modelValue:b.value.backupRetention,"onUpdate:modelValue":P[66]||(P[66]=me=>b.value.backupRetention=me),min:1,max:20,onChange:Wr},null,8,["modelValue"]),P[176]||(P[176]=re("span",{class:"form-tip"},"个（保留最近的备份文件数量）",-1))]),_:1}),B(xe,{label:"同步状态"},{default:H(()=>[re("div",Gc,[B(vt,{type:E.value.isEnabled?"success":"danger",class:"status-tag"},{default:H(()=>[we(Ae(E.value.isEnabled?"已启用":"未启用"),1)]),_:1},8,["type"]),E.value.syncInProgress?(ke(),Ze(vt,{key:0,type:"warning",class:"status-tag"},{default:H(()=>[...P[177]||(P[177]=[we(" 同步中... ",-1)])]),_:1})):Ge("",!0),E.value.lastSyncTime?(ke(),Je("div",Wc," 最后同步: "+Ae(Ys(E.value.lastSyncTime)),1)):Ge("",!0),E.value.totalItems>0?(ke(),Je("div",zc,[we(" 已同步: "+Ae(E.value.syncedItems)+"/"+Ae(E.value.totalItems)+" ",1),E.value.failedItems>0?(ke(),Je("span",Hc," (失败: "+Ae(E.value.failedItems)+") ",1)):Ge("",!0)])):Ge("",!0)])]),_:1}),B(xe,{label:"同步操作"},{default:H(()=>[re("div",Kc,[B(Pe,{onClick:Ks,loading:E.value.syncInProgress,disabled:!E.value.isEnabled,type:"primary",size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(us))]),_:1}),P[178]||(P[178]=we(" 立即同步 ",-1))]),_:1},8,["loading","disabled"]),B(Pe,{onClick:Xs,disabled:!E.value.isEnabled||E.value.syncInProgress,type:"warning",size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Xr))]),_:1}),P[179]||(P[179]=we(" 恢复数据 ",-1))]),_:1},8,["disabled"]),B(Pe,{onClick:Js,disabled:E.value.syncInProgress,size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Pn))]),_:1}),P[180]||(P[180]=we(" 检查完整性 ",-1))]),_:1},8,["disabled"])])]),_:1}),E.value.errors.length>0?(ke(),Ze(xe,{key:1,label:"同步错误"},{default:H(()=>[(ke(!0),Je(Ut,null,Zt(E.value.errors,(me,hr)=>(ke(),Ze(mr,{key:hr,title:me,type:"error",closable:!1,class:"sync-error"},null,8,["title"]))),128))]),_:1})):Ge("",!0)],64)):Ge("",!0)]),_:1},8,["model","rules"])]),_:1})]),_:1}),B(Tt,{label:"商品设置",name:"product"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",Xc,[P[182]||(P[182]=re("span",null,"商品配置",-1)),dr.value?(ke(),Ze(Pe,{key:0,onClick:Xn,type:"primary",loading:a.value},{default:H(()=>[...P[181]||(P[181]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0)])]),default:H(()=>[B(Rt,{ref_key:"productFormRef",ref:Le,model:S.value,rules:Ne,"label-width":"150px",class:"setting-form"},{default:H(()=>[re("div",Jc,[re("h4",Yc,[B(nt,null,{default:H(()=>[B(We(Da))]),_:1}),P[183]||(P[183]=we(" 优惠折扣设置 ",-1))]),B(xe,{label:"全局最大优惠比例",prop:"maxDiscountPercent"},{default:H(()=>[B(dt,{modelValue:S.value.maxDiscountPercent,"onUpdate:modelValue":P[67]||(P[67]=me=>S.value.maxDiscountPercent=me),min:0,max:100,precision:1,placeholder:"最大优惠比例"},null,8,["modelValue"]),P[184]||(P[184]=re("span",{class:"form-tip"},"%（0-100，建议不超过50%）",-1))]),_:1}),B(xe,{label:"管理员最大优惠",prop:"adminMaxDiscount"},{default:H(()=>[B(dt,{modelValue:S.value.adminMaxDiscount,"onUpdate:modelValue":P[68]||(P[68]=me=>S.value.adminMaxDiscount=me),min:0,max:100,precision:1,placeholder:"管理员最大优惠"},null,8,["modelValue"]),P[185]||(P[185]=re("span",{class:"form-tip"},"%（管理员权限下的最大优惠比例）",-1))]),_:1}),B(xe,{label:"经理最大优惠",prop:"managerMaxDiscount"},{default:H(()=>[B(dt,{modelValue:S.value.managerMaxDiscount,"onUpdate:modelValue":P[69]||(P[69]=me=>S.value.managerMaxDiscount=me),min:0,max:100,precision:1,placeholder:"经理最大优惠"},null,8,["modelValue"]),P[186]||(P[186]=re("span",{class:"form-tip"},"%（经理权限下的最大优惠比例）",-1))]),_:1}),B(xe,{label:"销售员最大优惠",prop:"salesMaxDiscount"},{default:H(()=>[B(dt,{modelValue:S.value.salesMaxDiscount,"onUpdate:modelValue":P[70]||(P[70]=me=>S.value.salesMaxDiscount=me),min:0,max:100,precision:1,placeholder:"销售员最大优惠"},null,8,["modelValue"]),P[187]||(P[187]=re("span",{class:"form-tip"},"%（销售员权限下的最大优惠比例）",-1))]),_:1}),B(xe,{label:"优惠审批阈值",prop:"discountApprovalThreshold"},{default:H(()=>[B(dt,{modelValue:S.value.discountApprovalThreshold,"onUpdate:modelValue":P[71]||(P[71]=me=>S.value.discountApprovalThreshold=me),min:0,max:100,precision:1,placeholder:"优惠审批阈值"},null,8,["modelValue"]),P[188]||(P[188]=re("span",{class:"form-tip"},"%（超过此比例需要审批）",-1))]),_:1})]),re("div",Qc,[re("h4",Zc,[B(nt,null,{default:H(()=>[B(We(Ma))]),_:1}),P[189]||(P[189]=we(" 价格管理设置 ",-1))]),B(xe,{label:"允许价格修改",prop:"allowPriceModification"},{default:H(()=>[B(ht,{modelValue:S.value.allowPriceModification,"onUpdate:modelValue":P[72]||(P[72]=me=>S.value.allowPriceModification=me),"active-text":"允许","inactive-text":"禁止"},null,8,["modelValue"]),P[190]||(P[190]=re("div",{class:"form-tip"},"是否允许在订单中修改商品价格",-1))]),_:1}),B(xe,{label:"价格修改权限",prop:"priceModificationRoles"},{default:H(()=>[B(Bt,{modelValue:S.value.priceModificationRoles,"onUpdate:modelValue":P[73]||(P[73]=me=>S.value.priceModificationRoles=me)},{default:H(()=>[B(rt,{value:"admin"},{default:H(()=>[...P[191]||(P[191]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[192]||(P[192]=[we("经理",-1)])]),_:1}),B(rt,{value:"sales"},{default:H(()=>[...P[193]||(P[193]=[we("销售员",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"价格变动记录",prop:"enablePriceHistory"},{default:H(()=>[B(ht,{modelValue:S.value.enablePriceHistory,"onUpdate:modelValue":P[74]||(P[74]=me=>S.value.enablePriceHistory=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[194]||(P[194]=re("div",{class:"form-tip"},"记录商品价格变动历史",-1))]),_:1}),B(xe,{label:"价格显示精度",prop:"pricePrecision"},{default:H(()=>[B($t,{modelValue:S.value.pricePrecision,"onUpdate:modelValue":P[75]||(P[75]=me=>S.value.pricePrecision=me),placeholder:"选择价格精度"},{default:H(()=>[B(ze,{label:"整数（如：100）",value:"0"}),B(ze,{label:"一位小数（如：100.0）",value:"1"}),B(ze,{label:"两位小数（如：100.00）",value:"2"})]),_:1},8,["modelValue"])]),_:1})]),re("div",qc,[re("h4",eu,[B(nt,null,{default:H(()=>[B(We(Na))]),_:1}),P[195]||(P[195]=we(" 库存管理设置 ",-1))]),B(xe,{label:"启用库存管理",prop:"enableInventory"},{default:H(()=>[B(ht,{modelValue:S.value.enableInventory,"onUpdate:modelValue":P[76]||(P[76]=me=>S.value.enableInventory=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[196]||(P[196]=re("div",{class:"form-tip"},"是否启用商品库存管理功能",-1))]),_:1}),B(xe,{label:"低库存预警阈值",prop:"lowStockThreshold"},{default:H(()=>[B(dt,{modelValue:S.value.lowStockThreshold,"onUpdate:modelValue":P[77]||(P[77]=me=>S.value.lowStockThreshold=me),min:0,max:1e3,placeholder:"低库存预警阈值"},null,8,["modelValue"]),P[197]||(P[197]=re("span",{class:"form-tip"},"件（库存低于此数量时预警）",-1))]),_:1}),B(xe,{label:"允许负库存销售",prop:"allowNegativeStock"},{default:H(()=>[B(ht,{modelValue:S.value.allowNegativeStock,"onUpdate:modelValue":P[78]||(P[78]=me=>S.value.allowNegativeStock=me),"active-text":"允许","inactive-text":"禁止"},null,8,["modelValue"]),P[198]||(P[198]=re("div",{class:"form-tip"},"库存不足时是否允许继续销售",-1))]),_:1})]),re("div",tu,[re("h4",ru,[B(nt,null,{default:H(()=>[B(We(La))]),_:1}),P[199]||(P[199]=we(" 商品分类设置 ",-1))]),B(xe,{label:"默认分类",prop:"defaultCategory"},{default:H(()=>[B(Ve,{modelValue:S.value.defaultCategory,"onUpdate:modelValue":P[79]||(P[79]=me=>S.value.defaultCategory=me),placeholder:"请输入默认分类名称"},null,8,["modelValue"]),P[200]||(P[200]=re("div",{class:"form-tip"},"新建商品时的默认分类",-1))]),_:1}),B(xe,{label:"分类层级限制",prop:"maxCategoryLevel"},{default:H(()=>[B(dt,{modelValue:S.value.maxCategoryLevel,"onUpdate:modelValue":P[80]||(P[80]=me=>S.value.maxCategoryLevel=me),min:1,max:5,placeholder:"分类层级限制"},null,8,["modelValue"]),P[201]||(P[201]=re("span",{class:"form-tip"},"级（最多支持的分类层级数）",-1))]),_:1}),B(xe,{label:"启用分类编码",prop:"enableCategoryCode"},{default:H(()=>[B(ht,{modelValue:S.value.enableCategoryCode,"onUpdate:modelValue":P[81]||(P[81]=me=>S.value.enableCategoryCode=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[202]||(P[202]=re("div",{class:"form-tip"},"为商品分类生成唯一编码",-1))]),_:1})]),re("div",nu,[re("h4",su,[B(nt,null,{default:H(()=>[B(We(En))]),_:1}),P[203]||(P[203]=we(" 权限配置设置 ",-1))]),B(xe,{label:"成本价格查看权限",prop:"costPriceViewRoles"},{default:H(()=>[B(Bt,{modelValue:S.value.costPriceViewRoles,"onUpdate:modelValue":P[82]||(P[82]=me=>S.value.costPriceViewRoles=me)},{default:H(()=>[B(rt,{value:"super_admin"},{default:H(()=>[...P[204]||(P[204]=[we("超级管理员",-1)])]),_:1}),B(rt,{value:"admin"},{default:H(()=>[...P[205]||(P[205]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[206]||(P[206]=[we("经理",-1)])]),_:1}),B(rt,{value:"finance"},{default:H(()=>[...P[207]||(P[207]=[we("财务人员",-1)])]),_:1})]),_:1},8,["modelValue"]),P[208]||(P[208]=re("div",{class:"form-tip"},"选择可以查看商品成本价格的角色",-1))]),_:1}),B(xe,{label:"销售数据查看权限",prop:"salesDataViewRoles"},{default:H(()=>[B(Bt,{modelValue:S.value.salesDataViewRoles,"onUpdate:modelValue":P[83]||(P[83]=me=>S.value.salesDataViewRoles=me)},{default:H(()=>[B(rt,{value:"super_admin"},{default:H(()=>[...P[209]||(P[209]=[we("超级管理员",-1)])]),_:1}),B(rt,{value:"admin"},{default:H(()=>[...P[210]||(P[210]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[211]||(P[211]=[we("经理",-1)])]),_:1}),B(rt,{value:"sales_manager"},{default:H(()=>[...P[212]||(P[212]=[we("销售经理",-1)])]),_:1})]),_:1},8,["modelValue"]),P[213]||(P[213]=re("div",{class:"form-tip"},"选择可以查看销售数据的角色",-1))]),_:1}),B(xe,{label:"库存信息查看权限",prop:"stockInfoViewRoles"},{default:H(()=>[B(Bt,{modelValue:S.value.stockInfoViewRoles,"onUpdate:modelValue":P[84]||(P[84]=me=>S.value.stockInfoViewRoles=me)},{default:H(()=>[B(rt,{value:"super_admin"},{default:H(()=>[...P[214]||(P[214]=[we("超级管理员",-1)])]),_:1}),B(rt,{value:"admin"},{default:H(()=>[...P[215]||(P[215]=[we("管理员",-1)])]),_:1}),B(rt,{value:"manager"},{default:H(()=>[...P[216]||(P[216]=[we("经理",-1)])]),_:1}),B(rt,{value:"warehouse"},{default:H(()=>[...P[217]||(P[217]=[we("仓库管理员",-1)])]),_:1})]),_:1},8,["modelValue"]),P[218]||(P[218]=re("div",{class:"form-tip"},"选择可以查看库存信息的角色",-1))]),_:1}),B(xe,{label:"操作日志查看权限",prop:"operationLogsViewRoles"},{default:H(()=>[B(Bt,{modelValue:S.value.operationLogsViewRoles,"onUpdate:modelValue":P[85]||(P[85]=me=>S.value.operationLogsViewRoles=me)},{default:H(()=>[B(rt,{value:"super_admin"},{default:H(()=>[...P[219]||(P[219]=[we("超级管理员",-1)])]),_:1}),B(rt,{value:"admin"},{default:H(()=>[...P[220]||(P[220]=[we("管理员",-1)])]),_:1}),B(rt,{value:"audit"},{default:H(()=>[...P[221]||(P[221]=[we("审计人员",-1)])]),_:1})]),_:1},8,["modelValue"]),P[222]||(P[222]=re("div",{class:"form-tip"},"选择可以查看操作日志的角色",-1))]),_:1}),B(xe,{label:"敏感信息隐藏方式",prop:"sensitiveInfoHideMethod"},{default:H(()=>[B(vn,{modelValue:S.value.sensitiveInfoHideMethod,"onUpdate:modelValue":P[86]||(P[86]=me=>S.value.sensitiveInfoHideMethod=me)},{default:H(()=>[B(zt,{value:"asterisk"},{default:H(()=>[...P[223]||(P[223]=[we("星号（****）",-1)])]),_:1}),B(zt,{value:"eye_icon"},{default:H(()=>[...P[224]||(P[224]=[we("眼睛图标",-1)])]),_:1}),B(zt,{value:"dash"},{default:H(()=>[...P[225]||(P[225]=[we("横线（----）",-1)])]),_:1})]),_:1},8,["modelValue"]),P[226]||(P[226]=re("div",{class:"form-tip"},"选择敏感信息的隐藏显示方式",-1))]),_:1}),B(xe,{label:"启用权限控制",prop:"enablePermissionControl"},{default:H(()=>[B(ht,{modelValue:S.value.enablePermissionControl,"onUpdate:modelValue":P[87]||(P[87]=me=>S.value.enablePermissionControl=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"]),P[227]||(P[227]=re("div",{class:"form-tip"},"是否启用商品信息权限控制功能",-1))]),_:1})]),dr.value?(ke(),Je("div",au,[B(Pe,{onClick:zs,disabled:a.value},{default:H(()=>[...P[228]||(P[228]=[we(" 重置默认 ",-1)])]),_:1},8,["disabled"]),B(Pe,{type:"primary",onClick:Xn,loading:a.value},{default:H(()=>[...P[229]||(P[229]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])])):Ge("",!0)]),_:1},8,["model"])]),_:1})]),_:1}),Gt.value?(ke(),Ze(Tt,{key:0,label:"系统监控",name:"monitor"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",ou,[P[231]||(P[231]=re("span",null,"系统状态",-1)),B(Pe,{onClick:Hs,loading:n.value},{default:H(()=>[...P[230]||(P[230]=[we(" 刷新状态 ",-1)])]),_:1},8,["loading"])])]),default:H(()=>[re("div",iu,[re("div",lu,[P[232]||(P[232]=re("h4",null,"系统信息",-1)),B(xr,{column:2,border:""},{default:H(()=>[B(ut,{label:"操作系统"},{default:H(()=>[we(Ae(O.value.systemInfo.os),1)]),_:1}),B(ut,{label:"系统架构"},{default:H(()=>[we(Ae(O.value.systemInfo.arch),1)]),_:1}),B(ut,{label:"CPU核心数"},{default:H(()=>[we(Ae(O.value.systemInfo.cpuCores),1)]),_:1}),B(ut,{label:"总内存"},{default:H(()=>[we(Ae(O.value.systemInfo.totalMemory),1)]),_:1}),B(ut,{label:"Node.js版本"},{default:H(()=>[we(Ae(O.value.systemInfo.nodeVersion),1)]),_:1}),B(ut,{label:"系统运行时间"},{default:H(()=>[we(Ae(O.value.systemInfo.uptime),1)]),_:1})]),_:1})]),re("div",cu,[P[233]||(P[233]=re("h4",null,"性能监控",-1)),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:6},{default:H(()=>[B(Ot,{title:"CPU使用率",value:O.value.performance.cpuUsage,suffix:"%","value-style":{color:Dr(O.value.performance.cpuUsage)}},null,8,["value","value-style"])]),_:1}),B(Fe,{span:6},{default:H(()=>[B(Ot,{title:"内存使用率",value:O.value.performance.memoryUsage,suffix:"%","value-style":{color:Mr(O.value.performance.memoryUsage)}},null,8,["value","value-style"])]),_:1}),B(Fe,{span:6},{default:H(()=>[B(Ot,{title:"磁盘使用率",value:O.value.performance.diskUsage,suffix:"%","value-style":{color:Nr(O.value.performance.diskUsage)}},null,8,["value","value-style"])]),_:1}),B(Fe,{span:6},{default:H(()=>[B(Ot,{title:"网络延迟",value:O.value.performance.networkLatency,suffix:"ms"},null,8,["value"])]),_:1})]),_:1})]),re("div",uu,[P[234]||(P[234]=re("h4",null,"数据库状态",-1)),B(xr,{column:2,border:""},{default:H(()=>[B(ut,{label:"数据库类型"},{default:H(()=>[we(Ae(O.value.database.type),1)]),_:1}),B(ut,{label:"数据库版本"},{default:H(()=>[we(Ae(O.value.database.version),1)]),_:1}),B(ut,{label:"连接状态"},{default:H(()=>[B(vt,{type:O.value.database.connected?"success":"danger"},{default:H(()=>[we(Ae(O.value.database.connected?"已连接":"未连接"),1)]),_:1},8,["type"])]),_:1}),B(ut,{label:"活跃连接数"},{default:H(()=>[we(Ae(O.value.database.activeConnections),1)]),_:1}),B(ut,{label:"数据库大小"},{default:H(()=>[we(Ae(O.value.database.size),1)]),_:1}),B(ut,{label:"最后备份时间"},{default:H(()=>[we(Ae(O.value.database.lastBackup),1)]),_:1})]),_:1})]),re("div",du,[P[235]||(P[235]=re("h4",null,"服务状态",-1)),B(Hr,{data:O.value.services,style:{width:"100%"}},{default:H(()=>[B(ft,{prop:"name",label:"服务名称",width:"200"}),B(ft,{label:"状态",width:"100"},{default:H(({row:me})=>[B(vt,{type:me.status==="running"?"success":"danger"},{default:H(()=>[we(Ae(me.status==="running"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),B(ft,{prop:"port",label:"端口",width:"100"}),B(ft,{prop:"uptime",label:"运行时间"}),B(ft,{prop:"memory",label:"内存使用",width:"120"})]),_:1},8,["data"])])])]),_:1})]),_:1})):Ge("",!0),B(Tt,{label:"数据备份",name:"backup"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",fu,[P[239]||(P[239]=re("span",null,"数据备份与恢复",-1)),re("div",pu,[B(Pe,{onClick:Zs,type:"primary",loading:C.value,disabled:!fe.value},{default:H(()=>[...P[236]||(P[236]=[we(" 立即备份 ",-1)])]),_:1},8,["loading","disabled"]),ye.value?(ke(),Ze(Pe,{key:0,onClick:ea,type:"success",loading:k.value},{default:H(()=>[...P[237]||(P[237]=[we(" 保存设置 ",-1)])]),_:1},8,["loading"])):Ge("",!0),B(Pe,{onClick:ta,type:"info",plain:"",loading:D.value},{default:H(()=>[...P[238]||(P[238]=[we(" 测试功能 ",-1)])]),_:1},8,["loading"])])])]),default:H(()=>[B(Rt,{ref_key:"backupFormRef",ref:tt,model:F,rules:Ye,"label-width":"120px",class:"setting-form"},{default:H(()=>[re("div",mu,[P[240]||(P[240]=re("h4",null,"备份配置",-1)),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"自动备份",prop:"autoBackupEnabled"},{default:H(()=>[B(ht,{modelValue:F.autoBackupEnabled,"onUpdate:modelValue":P[88]||(P[88]=me=>F.autoBackupEnabled=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[F.autoBackupEnabled?(ke(),Ze(xe,{key:0,label:"备份频率",prop:"backupFrequency"},{default:H(()=>[B($t,{modelValue:F.backupFrequency,"onUpdate:modelValue":P[89]||(P[89]=me=>F.backupFrequency=me),placeholder:"请选择备份频率"},{default:H(()=>[B(ze,{label:"每小时",value:"hourly"}),B(ze,{label:"每天",value:"daily"}),B(ze,{label:"每周",value:"weekly"}),B(ze,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1})):Ge("",!0)]),_:1})]),_:1}),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(xe,{label:"保留天数",prop:"retentionDays"},{default:H(()=>[B(dt,{modelValue:F.retentionDays,"onUpdate:modelValue":P[90]||(P[90]=me=>F.retentionDays=me),min:1,max:365,placeholder:"备份文件保留天数"},null,8,["modelValue"])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(xe,{label:"压缩备份",prop:"compression"},{default:H(()=>[B(ht,{modelValue:F.compression,"onUpdate:modelValue":P[91]||(P[91]=me=>F.compression=me),"active-text":"启用","inactive-text":"禁用"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),re("div",hu,[P[241]||(P[241]=re("h4",null,"备份状态",-1)),B(xr,{column:2,border:""},{default:H(()=>[B(ut,{label:"最后备份时间"},{default:H(()=>[we(Ae(Q.value||"暂无备份"),1)]),_:1}),B(ut,{label:"备份文件数量"},{default:H(()=>[we(Ae(te.value)+" 个 ",1)]),_:1}),B(ut,{label:"总备份大小"},{default:H(()=>[we(Ae(Jn($.value)),1)]),_:1}),B(ut,{label:"自动备份状态"},{default:H(()=>[B(vt,{type:F.autoBackupEnabled?"success":"info"},{default:H(()=>[we(Ae(F.autoBackupEnabled?"已启用":"已禁用"),1)]),_:1},8,["type"])]),_:1})]),_:1})]),re("div",yu,[P[245]||(P[245]=re("h4",null,"备份历史",-1)),br((ke(),Ze(Hr,{data:Z.value,style:{width:"100%"}},{default:H(()=>[B(ft,{prop:"filename",label:"备份文件"}),B(ft,{prop:"timestamp",label:"备份时间",width:"180"},{default:H(({row:me})=>[we(Ae(zr(me.timestamp)),1)]),_:1}),B(ft,{prop:"size",label:"文件大小",width:"120"},{default:H(({row:me})=>[we(Ae(Jn(me.size)),1)]),_:1}),B(ft,{prop:"type",label:"备份类型",width:"100"},{default:H(({row:me})=>[B(vt,{type:me.type==="manual"?"primary":"success"},{default:H(()=>[we(Ae(me.type==="manual"?"手动":"自动"),1)]),_:2},1032,["type"])]),_:1}),B(ft,{label:"操作",width:"200"},{default:H(({row:me})=>[B(Pe,{onClick:hr=>ra(me),type:"warning",size:"small",loading:I.value===me.filename},{default:H(()=>[...P[242]||(P[242]=[we(" 恢复 ",-1)])]),_:1},8,["onClick","loading"]),B(Pe,{onClick:hr=>na(me),type:"info",size:"small"},{default:H(()=>[...P[243]||(P[243]=[we(" 下载 ",-1)])]),_:1},8,["onClick"]),B(Pe,{onClick:hr=>sa(me),type:"danger",size:"small"},{default:H(()=>[...P[244]||(P[244]=[we(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[bn,A.value]])]),fe.value?Ge("",!0):(ke(),Ze(mr,{key:0,title:"请先配置OSS存储",description:"数据备份功能需要先在存储设置中配置阿里云OSS，才能正常使用备份和恢复功能。",type:"warning",closable:!1,"show-icon":""}))]),_:1},8,["model"])]),_:1})]),_:1}),B(Tt,{label:"数据迁移",name:"migration"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",gu,[P[248]||(P[248]=re("span",null,"数据迁移工具",-1)),re("div",vu,[B(Pe,{onClick:aa,type:"primary",loading:ne.value},{default:H(()=>[...P[246]||(P[246]=[we(" 导出数据 ",-1)])]),_:1},8,["loading"]),B(Pe,{onClick:oa,type:"success",plain:"",loading:ie.value},{default:H(()=>[...P[247]||(P[247]=[we(" 验证数据 ",-1)])]),_:1},8,["loading"])])])]),default:H(()=>[re("div",bu,[B(mr,{title:"数据迁移说明",type:"info",closable:!1,"show-icon":"",class:"migration-alert"},{default:H(()=>[...P[249]||(P[249]=[re("p",null,"当前系统使用浏览器本地存储(localStorage)保存数据，存在以下问题：",-1),re("ul",null,[re("li",null,"换电脑或浏览器数据会丢失"),re("li",null,"清除浏览器缓存数据会消失"),re("li",null,"无法实现多设备数据同步"),re("li",null,"不同用户之间无法数据隔离")],-1),re("p",null,[re("strong",null,"建议："),we("导出现有数据，然后部署数据库实现真正的数据持久化。")],-1)])]),_:1}),J.value?(ke(),Je("div",wu,[P[250]||(P[250]=re("h4",null,"当前数据统计",-1)),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"客户数据",value:J.value.customers,suffix:"条"},null,8,["value"])]),_:1}),B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"订单数据",value:J.value.orders,suffix:"条"},null,8,["value"])]),_:1}),B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"产品数据",value:J.value.products,suffix:"条"},null,8,["value"])]),_:1}),B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"部门数据",value:J.value.departments,suffix:"条"},null,8,["value"])]),_:1}),B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"用户数据",value:J.value.users,suffix:"条"},null,8,["value"])]),_:1}),B(Fe,{span:4},{default:H(()=>[B(Ot,{title:"数据大小",value:ia(J.value.totalSize)},null,8,["value"])]),_:1})]),_:1})])):Ge("",!0),Y.value?(ke(),Je("div",Su,[P[252]||(P[252]=re("h4",null,"数据验证结果",-1)),Y.value.issues.length===0?(ke(),Ze(mr,{key:0,title:"数据验证通过",description:"所有数据完整性检查通过，可以安全迁移！",type:"success",closable:!1,"show-icon":""})):(ke(),Ze(mr,{key:1,title:`发现 ${Y.value.issues.length} 个数据问题`,type:"warning",closable:!1,"show-icon":""},{default:H(()=>[P[251]||(P[251]=re("p",null,"建议修复以下问题后再进行迁移：",-1)),re("ul",null,[(ke(!0),Je(Ut,null,Zt(Y.value.issues.slice(0,10),me=>(ke(),Je("li",{key:me},Ae(me),1))),128)),Y.value.issues.length>10?(ke(),Je("li",_u," ... 还有 "+Ae(Y.value.issues.length-10)+" 个问题 ",1)):Ge("",!0)])]),_:1},8,["title"]))])):Ge("",!0),re("div",Tu,[P[253]||(P[253]=re("h4",null,"数据迁移步骤",-1)),B(_a,{active:K.value,direction:"vertical"},{default:H(()=>[B(Ir,{title:"导出现有数据",description:"将localStorage中的数据导出为JSON文件"}),B(Ir,{title:"部署数据库",description:"在阿里云服务器使用宝塔面板创建MySQL数据库"}),B(Ir,{title:"部署后端API",description:"部署Node.js后端服务，提供数据API接口"}),B(Ir,{title:"导入数据",description:"将导出的数据导入到数据库中"}),B(Ir,{title:"切换存储模式",description:"前端切换到API模式，实现真正的数据持久化"})]),_:1},8,["active"])]),re("div",Eu,[P[257]||(P[257]=re("h4",null,"技术文档",-1)),B(Ta,{wrap:""},{default:H(()=>[B(Pe,{onClick:P[92]||(P[92]=me=>gn("database")),type:"primary",plain:"",icon:"Document"},{default:H(()=>[...P[254]||(P[254]=[we(" 数据库架构设计 ",-1)])]),_:1}),B(Pe,{onClick:P[93]||(P[93]=me=>gn("api")),type:"success",plain:"",icon:"Document"},{default:H(()=>[...P[255]||(P[255]=[we(" 后端API架构 ",-1)])]),_:1}),B(Pe,{onClick:P[94]||(P[94]=me=>gn("migration")),type:"warning",plain:"",icon:"Document"},{default:H(()=>[...P[256]||(P[256]=[we(" 数据迁移方案 ",-1)])]),_:1})]),_:1})])])]),_:1})]),_:1}),B(Tt,{label:"通知设置",name:"notification"},{default:H(()=>[B(wc)]),_:1}),B(Tt,{label:"移动应用",name:"mobile"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",ju,[P[259]||(P[259]=re("span",null,"移动应用管理",-1)),re("div",Au,[B(Pe,{onClick:fa,loading:U.value,type:"primary",size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(rn))]),_:1}),P[258]||(P[258]=we(" 刷新信息 ",-1))]),_:1},8,["loading"])])])]),default:H(()=>[re("div",xu,[re("div",Iu,[re("h4",Ou,[B(nt,null,{default:H(()=>[B(We(cs))]),_:1}),P[260]||(P[260]=we(" SDK 状态概览 ",-1))]),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:8},{default:H(()=>[B(ct,{class:"status-card"},{default:H(()=>[B(Ot,{title:"Android SDK",value:oe.value.android.version},null,8,["value"]),re("div",ku,[B(vt,{type:oe.value.android.available?"success":"danger",size:"small"},{default:H(()=>[we(Ae(oe.value.android.available?"可用":"未构建"),1)]),_:1},8,["type"]),re("span",Cu,Ae(oe.value.android.size),1)])]),_:1})]),_:1}),B(Fe,{span:8},{default:H(()=>[B(ct,{class:"status-card"},{default:H(()=>[B(Ot,{title:"iOS SDK",value:oe.value.ios.version},null,8,["value"]),re("div",Pu,[B(vt,{type:oe.value.ios.available?"success":"warning",size:"small"},{default:H(()=>[we(Ae(oe.value.ios.available?"可用":"开发中"),1)]),_:1},8,["type"]),re("span",Ru,Ae(oe.value.ios.size),1)])]),_:1})]),_:1}),B(Fe,{span:8},{default:H(()=>[B(ct,{class:"status-card"},{default:H(()=>[B(Ot,{title:"PWA应用",value:"v1.0.0"}),re("div",Du,[B(vt,{type:"success",size:"small"},{default:H(()=>[...P[261]||(P[261]=[we("已部署",-1)])]),_:1}),P[262]||(P[262]=re("span",{class:"file-size"},"轻量级",-1))])]),_:1})]),_:1})]),_:1})]),re("div",Mu,[re("h4",Nu,[B(nt,null,{default:H(()=>[B(We(Xr))]),_:1}),P[263]||(P[263]=we(" SDK 下载和管理 ",-1))]),re("div",Lu,[re("div",Bu,[re("div",Uu,[re("div",Fu,[B(nt,{size:"32"},{default:H(()=>[B(We(ds))]),_:1})]),P[264]||(P[264]=re("div",{class:"sdk-info"},[re("h5",null,"Android SDK"),re("p",null,"原生Android应用，支持完整CRM功能")],-1))]),re("div",$u,[re("div",Vu,[P[265]||(P[265]=re("span",{class:"label"},"版本:",-1)),re("span",Gu,Ae(oe.value.android.version),1)]),re("div",Wu,[P[266]||(P[266]=re("span",{class:"label"},"大小:",-1)),re("span",zu,Ae(oe.value.android.size),1)]),re("div",Hu,[P[267]||(P[267]=re("span",{class:"label"},"更新时间:",-1)),re("span",Ku,Ae(oe.value.android.updateTime),1)])]),re("div",Xu,[B(Pe,{onClick:pa,type:"primary",disabled:!oe.value.android.available,size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Xr))]),_:1}),P[268]||(P[268]=we(" 下载APK ",-1))]),_:1},8,["disabled"]),B(Pe,{onClick:P[95]||(P[95]=me=>Qn("android")),type:"info",plain:"",size:"small"},{default:H(()=>[...P[269]||(P[269]=[we(" 安装说明 ",-1)])]),_:1})])]),re("div",Ju,[re("div",Yu,[re("div",Qu,[B(nt,{size:"32"},{default:H(()=>[B(We(Ba))]),_:1})]),P[270]||(P[270]=re("div",{class:"sdk-info"},[re("h5",null,"iOS SDK"),re("p",null,"适用于iPhone和iPad的CRM应用")],-1))]),re("div",Zu,[re("div",qu,[P[271]||(P[271]=re("span",{class:"label"},"版本:",-1)),re("span",ed,Ae(oe.value.ios.version),1)]),re("div",td,[P[272]||(P[272]=re("span",{class:"label"},"大小:",-1)),re("span",rd,Ae(oe.value.ios.size),1)]),re("div",nd,[P[273]||(P[273]=re("span",{class:"label"},"状态:",-1)),re("span",sd,[B(vt,{type:oe.value.ios.available?"success":"warning",size:"small"},{default:H(()=>[we(Ae(oe.value.ios.available?"可用":"开发中"),1)]),_:1},8,["type"])])])]),re("div",ad,[B(Pe,{onClick:ma,type:"primary",disabled:!oe.value.ios.available,size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Xr))]),_:1}),P[274]||(P[274]=we(" 下载IPA ",-1))]),_:1},8,["disabled"]),B(Pe,{onClick:P[96]||(P[96]=me=>Qn("ios")),type:"info",plain:"",size:"small"},{default:H(()=>[...P[275]||(P[275]=[we(" 安装说明 ",-1)])]),_:1})])]),re("div",od,[re("div",id,[re("div",ld,[B(nt,{size:"32"},{default:H(()=>[B(We(fs))]),_:1})]),P[276]||(P[276]=re("div",{class:"sdk-info"},[re("h5",null,"PWA 应用"),re("p",null,"渐进式Web应用，无需安装")],-1))]),P[279]||(P[279]=re("div",{class:"sdk-details"},[re("div",{class:"detail-item"},[re("span",{class:"label"},"版本:"),re("span",{class:"value"},"v1.0.0")]),re("div",{class:"detail-item"},[re("span",{class:"label"},"类型:"),re("span",{class:"value"},"Web应用")]),re("div",{class:"detail-item"},[re("span",{class:"label"},"状态:"),re("span",{class:"value"},"已部署")])],-1)),re("div",cd,[B(Pe,{onClick:ha,type:"success",size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(Ua))]),_:1}),P[277]||(P[277]=we(" 打开应用 ",-1))]),_:1}),B(Pe,{onClick:ya,type:"info",plain:"",size:"small"},{default:H(()=>[...P[278]||(P[278]=[we(" 二维码 ",-1)])]),_:1})])])])]),re("div",ud,[re("h4",dd,[B(nt,null,{default:H(()=>[B(We(Or))]),_:1}),P[280]||(P[280]=we(" 连接状态和配置 ",-1))]),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(ct,{class:"config-card"},{header:H(()=>[...P[281]||(P[281]=[re("span",null,"服务器配置",-1)])]),default:H(()=>[B(xr,{column:1,border:"",size:"small"},{default:H(()=>[B(ut,{label:"服务器地址"},{default:H(()=>[we(Ae(le.value.host)+":"+Ae(le.value.port),1)]),_:1}),B(ut,{label:"WebSocket端口"},{default:H(()=>[we(Ae(le.value.wsPort),1)]),_:1}),B(ut,{label:"SSL状态"},{default:H(()=>[B(vt,{type:le.value.ssl?"success":"warning",size:"small"},{default:H(()=>[we(Ae(le.value.ssl?"已启用":"未启用"),1)]),_:1},8,["type"])]),_:1}),B(ut,{label:"API版本"},{default:H(()=>[we(Ae(le.value.apiVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(ct,{class:"config-card"},{header:H(()=>[...P[282]||(P[282]=[re("span",null,"连接统计",-1)])]),default:H(()=>[B(xr,{column:1,border:"",size:"small"},{default:H(()=>[B(ut,{label:"活跃连接"},{default:H(()=>[B(vt,{type:"success",size:"small"},{default:H(()=>[we(Ae(ce.value.active),1)]),_:1})]),_:1}),B(ut,{label:"今日连接"},{default:H(()=>[we(Ae(ce.value.today),1)]),_:1}),B(ut,{label:"总连接数"},{default:H(()=>[we(Ae(ce.value.total),1)]),_:1}),B(ut,{label:"最后连接"},{default:H(()=>[we(Ae(ce.value.lastConnection||"暂无"),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),re("div",fd,[re("h4",pd,[B(nt,null,{default:H(()=>[B(We(Or))]),_:1}),P[283]||(P[283]=we(" 二维码连接管理 ",-1))]),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:12},{default:H(()=>[B(ct,{class:"qr-card"},{header:H(()=>[...P[284]||(P[284]=[re("span",null,"生成连接二维码",-1)])]),default:H(()=>[re("div",md,[B(Rt,{model:L,"label-width":"100px",size:"small"},{default:H(()=>[B(xe,{label:"用户权限"},{default:H(()=>[B(Bt,{modelValue:L.permissions,"onUpdate:modelValue":P[97]||(P[97]=me=>L.permissions=me)},{default:H(()=>[B(rt,{label:"call"},{default:H(()=>[...P[285]||(P[285]=[we("通话权限",-1)])]),_:1}),B(rt,{label:"sms"},{default:H(()=>[...P[286]||(P[286]=[we("短信权限",-1)])]),_:1}),B(rt,{label:"contacts"},{default:H(()=>[...P[287]||(P[287]=[we("联系人权限",-1)])]),_:1}),B(rt,{label:"storage"},{default:H(()=>[...P[288]||(P[288]=[we("存储权限",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),B(xe,{label:"有效期"},{default:H(()=>[B($t,{modelValue:L.expireTime,"onUpdate:modelValue":P[98]||(P[98]=me=>L.expireTime=me),placeholder:"选择有效期"},{default:H(()=>[B(ze,{label:"5分钟",value:"5"}),B(ze,{label:"10分钟",value:"10"}),B(ze,{label:"30分钟",value:"30"}),B(ze,{label:"1小时",value:"60"})]),_:1},8,["modelValue"])]),_:1}),B(xe,null,{default:H(()=>[B(Pe,{type:"primary",onClick:qn,loading:ae.value},{default:H(()=>[...P[289]||(P[289]=[we(" 生成二维码 ",-1)])]),_:1},8,["loading"]),R.value.connectionId?(ke(),Ze(Pe,{key:0,onClick:ga,loading:ae.value},{default:H(()=>[...P[290]||(P[290]=[we(" 刷新二维码 ",-1)])]),_:1},8,["loading"])):Ge("",!0)]),_:1})]),_:1},8,["model"])])]),_:1})]),_:1}),B(Fe,{span:12},{default:H(()=>[B(ct,{class:"qr-display-card"},{header:H(()=>[...P[291]||(P[291]=[re("span",null,"扫码连接",-1)])]),default:H(()=>[re("div",hd,[R.value.qrCodeUrl?(ke(),Je("div",yd,[re("img",{src:R.value.qrCodeUrl,alt:"连接二维码",class:"qr-code-image"},null,8,gd),re("div",vd,[re("p",bd,[B(vt,{type:va(R.value.status),size:"small"},{default:H(()=>[we(Ae(ba(R.value.status)),1)]),_:1},8,["type"])]),R.value.expiresAt?(ke(),Je("p",wd," 过期时间: "+Ae(zr(R.value.expiresAt)),1)):Ge("",!0),R.value.connectionId?(ke(),Je("p",Sd," 连接ID: "+Ae(R.value.connectionId.substring(0,8))+"... ",1)):Ge("",!0)])])):(ke(),Je("div",_d,[B(nt,{size:"48",color:"#dcdfe6"},{default:H(()=>[B(We(Or))]),_:1}),P[292]||(P[292]=re("p",null,"点击生成二维码",-1))]))])]),_:1})]),_:1})]),_:1})]),re("div",Td,[re("h4",Ed,[B(nt,null,{default:H(()=>[B(We(ds))]),_:1}),P[293]||(P[293]=we(" 替代连接方式 ",-1))]),B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:8},{default:H(()=>[B(ct,{class:"connection-card"},{header:H(()=>[re("div",jd,[B(nt,null,{default:H(()=>[B(We(Or))]),_:1}),P[294]||(P[294]=re("span",null,"蓝牙连接",-1))])]),default:H(()=>[re("div",Ad,[re("div",xd,[B(vt,{type:W.value.enabled?"success":"info",size:"small"},{default:H(()=>[we(Ae(W.value.enabled?"已启用":"未启用"),1)]),_:1},8,["type"])]),P[295]||(P[295]=re("div",{class:"connection-description"},[re("p",null,"通过蓝牙配对连接移动设备，适用于近距离连接场景。")],-1)),re("div",Id,[B(Rt,{size:"small"},{default:H(()=>[B(xe,{label:"设备名称"},{default:H(()=>[B(Ve,{modelValue:W.value.deviceName,"onUpdate:modelValue":P[99]||(P[99]=me=>W.value.deviceName=me),placeholder:"CRM-Server"},null,8,["modelValue"])]),_:1}),B(xe,{label:"配对码"},{default:H(()=>[B(Ve,{modelValue:W.value.pairingCode,"onUpdate:modelValue":P[100]||(P[100]=me=>W.value.pairingCode=me),placeholder:"自动生成",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),re("div",Od,[B(Pe,{type:W.value.enabled?"danger":"primary",onClick:Wt,loading:ee.value,size:"small"},{default:H(()=>[we(Ae(W.value.enabled?"停止":"启动")+"蓝牙服务 ",1)]),_:1},8,["type","loading"])])])]),_:1})]),_:1}),B(Fe,{span:8},{default:H(()=>[B(ct,{class:"connection-card"},{header:H(()=>[re("div",kd,[B(nt,null,{default:H(()=>[B(We(fs))]),_:1}),P[296]||(P[296]=re("span",null,"同网络连接",-1))])]),default:H(()=>[re("div",Cd,[re("div",Pd,[B(vt,{type:z.value.enabled?"success":"info",size:"small"},{default:H(()=>[we(Ae(z.value.enabled?"已启用":"未启用"),1)]),_:1},8,["type"])]),P[297]||(P[297]=re("div",{class:"connection-description"},[re("p",null,"在同一局域网内自动发现并连接移动设备。")],-1)),re("div",Rd,[B(Rt,{size:"small"},{default:H(()=>[B(xe,{label:"服务端口"},{default:H(()=>[B(dt,{modelValue:z.value.port,"onUpdate:modelValue":P[101]||(P[101]=me=>z.value.port=me),min:1024,max:65535,placeholder:"8080"},null,8,["modelValue"])]),_:1}),B(xe,{label:"广播间隔"},{default:H(()=>[B($t,{modelValue:z.value.broadcastInterval,"onUpdate:modelValue":P[102]||(P[102]=me=>z.value.broadcastInterval=me)},{default:H(()=>[B(ze,{label:"5秒",value:"5"}),B(ze,{label:"10秒",value:"10"}),B(ze,{label:"30秒",value:"30"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),re("div",Dd,[B(Pe,{type:z.value.enabled?"danger":"primary",onClick:pr,loading:N.value,size:"small"},{default:H(()=>[we(Ae(z.value.enabled?"停止":"启动")+"网络发现 ",1)]),_:1},8,["type","loading"])])])]),_:1})]),_:1}),B(Fe,{span:8},{default:H(()=>[B(ct,{class:"connection-card"},{header:H(()=>[re("div",Md,[B(nt,null,{default:H(()=>[B(We(En))]),_:1}),P[298]||(P[298]=re("span",null,"数字配对",-1))])]),default:H(()=>[re("div",Nd,[re("div",Ld,[B(vt,{type:V.value.enabled?"success":"info",size:"small"},{default:H(()=>[we(Ae(V.value.enabled?"已启用":"未启用"),1)]),_:1},8,["type"])]),P[299]||(P[299]=re("div",{class:"connection-description"},[re("p",null,"通过6位数字配对码连接，安全便捷。")],-1)),re("div",Bd,[B(Rt,{size:"small"},{default:H(()=>[B(xe,{label:"当前配对码"},{default:H(()=>[re("div",Ud,[re("span",Fd,Ae(V.value.currentCode||"------"),1),B(Pe,{onClick:$r,loading:ue.value,size:"small",type:"text"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(rn))]),_:1})]),_:1},8,["loading"])])]),_:1}),B(xe,{label:"有效期"},{default:H(()=>[B($t,{modelValue:V.value.expireTime,"onUpdate:modelValue":P[103]||(P[103]=me=>V.value.expireTime=me)},{default:H(()=>[B(ze,{label:"5分钟",value:"5"}),B(ze,{label:"10分钟",value:"10"}),B(ze,{label:"30分钟",value:"30"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),re("div",$d,[B(Pe,{type:V.value.enabled?"danger":"primary",onClick:mn,loading:q.value,size:"small"},{default:H(()=>[we(Ae(V.value.enabled?"停止":"启动")+"数字配对 ",1)]),_:1},8,["type","loading"])])])]),_:1})]),_:1})]),_:1}),B(ct,{class:"connection-stats-card",style:{"margin-top":"20px"}},{header:H(()=>[...P[300]||(P[300]=[re("span",null,"连接统计",-1)])]),default:H(()=>[B(mt,{gutter:20},{default:H(()=>[B(Fe,{span:6},{default:H(()=>[re("div",Vd,[re("div",Gd,Ae(ce.value.qr||0),1),P[301]||(P[301]=re("div",{class:"stat-label"},"二维码连接",-1))])]),_:1}),B(Fe,{span:6},{default:H(()=>[re("div",Wd,[re("div",zd,Ae(ce.value.bluetooth||0),1),P[302]||(P[302]=re("div",{class:"stat-label"},"蓝牙连接",-1))])]),_:1}),B(Fe,{span:6},{default:H(()=>[re("div",Hd,[re("div",Kd,Ae(ce.value.network||0),1),P[303]||(P[303]=re("div",{class:"stat-label"},"网络连接",-1))])]),_:1}),B(Fe,{span:6},{default:H(()=>[re("div",Xd,[re("div",Jd,Ae(ce.value.digital||0),1),P[304]||(P[304]=re("div",{class:"stat-label"},"数字配对",-1))])]),_:1})]),_:1})]),_:1})]),re("div",Yd,[B(ct,{class:"connected-devices-card",style:{"margin-top":"20px"}},{header:H(()=>[re("div",Qd,[P[306]||(P[306]=re("span",null,"已连接设备",-1)),B(Pe,{onClick:es,loading:M.value,type:"primary",size:"small"},{default:H(()=>[B(nt,null,{default:H(()=>[B(We(rn))]),_:1}),P[305]||(P[305]=we(" 刷新 ",-1))]),_:1},8,["loading"])])]),default:H(()=>[br((ke(),Ze(Hr,{data:de.value,style:{width:"100%"}},{default:H(()=>[B(ft,{prop:"deviceName",label:"设备名称",width:"200"}),B(ft,{prop:"deviceType",label:"设备类型",width:"120"},{default:H(({row:me})=>[B(vt,{size:"small"},{default:H(()=>[we(Ae(me.deviceType),1)]),_:2},1024)]),_:1}),B(ft,{prop:"ipAddress",label:"IP地址",width:"150"}),B(ft,{prop:"connectedAt",label:"连接时间",width:"180"},{default:H(({row:me})=>[we(Ae(zr(me.connectedAt)),1)]),_:1}),B(ft,{prop:"lastActivity",label:"最后活动",width:"180"},{default:H(({row:me})=>[we(Ae(zr(me.lastActivity)),1)]),_:1}),B(ft,{prop:"status",label:"状态",width:"100"},{default:H(({row:me})=>[B(vt,{type:me.status==="connected"?"success":"warning",size:"small"},{default:H(()=>[we(Ae(me.status==="connected"?"在线":"离线"),1)]),_:2},1032,["type"])]),_:1}),B(ft,{label:"操作",width:"120"},{default:H(({row:me})=>[B(Pe,{type:"danger",size:"small",plain:"",onClick:hr=>Ar(me.deviceId)},{default:H(()=>[...P[307]||(P[307]=[we(" 断开连接 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[bn,M.value]]),de.value.length===0?(ke(),Je("div",Zd,[B(Ea,{description:"暂无连接的设备"})])):Ge("",!0)]),_:1})]),re("div",qd,[re("h4",ef,[B(nt,null,{default:H(()=>[B(We(Fa))]),_:1}),P[308]||(P[308]=we(" 使用说明 ",-1))]),B(rs,{modelValue:se.value,"onUpdate:modelValue":P[104]||(P[104]=me=>se.value=me),class:"guide-tabs"},{default:H(()=>[B(Tt,{label:"Android安装",name:"android"},{default:H(()=>[...P[309]||(P[309]=[re("div",{class:"guide-content"},[re("ol",null,[re("li",null,"下载APK文件到Android设备"),re("li",null,'在设备设置中允许"未知来源"应用安装'),re("li",null,"点击APK文件进行安装"),re("li",null,"打开应用，扫描二维码或手动输入服务器地址"),re("li",null,"授予必要的权限（通话、录音、网络等）"),re("li",null,"完成连接配置，开始使用CRM功能")])],-1)])]),_:1}),B(Tt,{label:"iOS安装",name:"ios"},{default:H(()=>[re("div",tf,[B(mr,{title:"iOS版本开发中",description:"iOS版本正在开发中，敬请期待。目前可以使用PWA版本在Safari浏览器中使用。",type:"info",closable:!1})])]),_:1}),B(Tt,{label:"PWA使用",name:"pwa"},{default:H(()=>[...P[310]||(P[310]=[re("div",{class:"guide-content"},[re("ol",null,[re("li",null,"在手机浏览器中访问PWA应用链接"),re("li",null,'点击浏览器菜单中的"添加到主屏幕"'),re("li",null,"确认添加，应用图标将出现在桌面"),re("li",null,"点击桌面图标打开应用"),re("li",null,"享受类似原生应用的体验")])],-1)])]),_:1})]),_:1},8,["modelValue"])])])]),_:1})]),_:1}),B(Tt,{label:"系统日志",name:"logs"},{default:H(()=>[B(ct,{class:"setting-card"},{header:H(()=>[re("div",rf,[P[313]||(P[313]=re("span",null,"系统日志",-1)),re("div",null,[B(Pe,{onClick:Yn,loading:y.value,type:"primary"},{default:H(()=>[...P[311]||(P[311]=[we(" 刷新日志 ",-1)])]),_:1},8,["loading"]),B(Pe,{onClick:ua,type:"danger",plain:""},{default:H(()=>[...P[312]||(P[312]=[we(" 清空日志 ",-1)])]),_:1})])])]),default:H(()=>[re("div",nf,[br((ke(),Ze(Hr,{data:X.value,style:{width:"100%"},height:"500",stripe:""},{default:H(()=>[B(ft,{prop:"timestamp",label:"时间",width:"180"},{default:H(({row:me})=>[we(Ae(la(me.timestamp)),1)]),_:1}),B(ft,{prop:"level",label:"级别",width:"100"},{default:H(({row:me})=>[B(vt,{type:ca(me.level),size:"small"},{default:H(()=>[we(Ae(me.level),1)]),_:2},1032,["type"])]),_:1}),B(ft,{prop:"module",label:"模块",width:"120"}),B(ft,{prop:"message",label:"消息","show-overflow-tooltip":""}),B(ft,{prop:"details",label:"详情",width:"100"},{default:H(({row:me})=>[me.details?(ke(),Ze(Pe,{key:0,type:"text",size:"small",onClick:hr=>da(me)},{default:H(()=>[...P[314]||(P[314]=[we(" 查看详情 ",-1)])]),_:1},8,["onClick"])):Ge("",!0)]),_:1})]),_:1},8,["data"])),[[bn,y.value]])])]),_:1})]),_:1})]),_:1},8,["modelValue"]),B(ja,{modelValue:l.value,"onUpdate:modelValue":P[106]||(P[106]=me=>l.value=me),title:"短信管理",width:"90%","close-on-click-modal":!1,class:"sms-management-dialog"},{default:H(()=>[B(oc)]),_:1},8,["modelValue"])])}}}),af=Kn(sf,[["__scopeId","data-v-2bf77373"]]),of=Object.freeze(Object.defineProperty({__proto__:null,default:af},Symbol.toStringTag,{value:"Module"}));export{qt as $,Xt as A,To as B,Es as C,Eo as D,jo as E,gf as F,yf as G,An as H,Jt as I,lt as J,Hn as K,gs as L,Lo as M,No as N,Fo as O,an as P,Uo as Q,Ho as R,At as S,Go as T,Vo as U,it as V,Ds as W,bs as X,Rs as Y,vf as Z,Kn as _,Ce as a,jt as a0,js as a1,Vt as a2,ff as a3,un as b,Mo as c,ur as d,Ms as e,St as f,en as g,on as h,Rr as i,Ln as j,hf as k,mf as l,dn as m,Io as n,bf as o,wf as p,Pt as q,fn as r,Dt as s,Cs as t,Ct as u,qr as v,pt as w,pf as x,Ao as y,Et as z};
