import{a4 as e,v as a,k as l,R as s,a3 as t,Q as r,ag as i,E as o}from"./elementPlus-DxaqjplL.js";import{a as n}from"./sensitiveInfo-PTigg6SS.js";import{l as d,e as c,ag as u,M as p,q as m,O as v,m as f,Q as _,p as g,U as y,S as h,u as b,T as k,F as w,a9 as A}from"./vendor-BtukhyiH.js";import{_ as j}from"./index-BGtT17ll.js";const T={key:0,class:"order-detail-content"},x={class:"detail-section"},N={class:"section-title"},B={class:"info-grid compact"},C={class:"info-item"},D={class:"value"},S={class:"info-item"},M={class:"info-item"},O={class:"value"},E={class:"info-item"},H={class:"value"},q={class:"info-item"},L={class:"value"},U={class:"info-item"},P={class:"value"},Q={class:"info-item"},R={class:"value"},V={class:"info-item"},Y={class:"value"},$={class:"info-item full-width"},z={class:"value"},F={class:"info-item full-width"},I={class:"value"},K={class:"detail-section compact-section"},J={class:"section-title small"},W={class:"info-grid compact"},Z={class:"info-item"},G={class:"value"},X={class:"info-item"},ee={class:"value"},ae={class:"info-item full-width"},le={class:"value"},se={class:"detail-section"},te={class:"section-title"},re={class:"info-grid compact"},ie={class:"info-item"},oe={class:"value"},ne={class:"info-item"},de={class:"value"},ce={class:"detail-section compact-section"},ue={class:"section-title small"},pe={class:"amount-summary compact"},me={class:"amount-row"},ve={class:"amount-item"},fe={class:"value total"},_e={key:0,class:"amount-item"},ge={class:"value"},ye={key:1,class:"amount-item"},he={class:"value highlight"},be={key:2,class:"amount-item"},ke={class:"value"},we={key:0,class:"detail-section"},Ae={class:"section-title"},je={class:"remark-content"},Te=["innerHTML"],xe={key:1,class:"detail-section compact-section"},Ne={class:"section-title small"},Be={class:"audit-timeline compact"},Ce={class:"audit-header"},De={class:"audit-meta"},Se={key:0,class:"audit-comment"},Me={class:"dialog-footer"},Oe=j(d({__name:"OrderDetailDialog",props:{visible:{type:Boolean},order:{},showActionButtons:{type:Boolean}},emits:["update:visible","update-status","set-todo"],setup(d,{emit:j}){const Oe=d,Ee=j,He=c({get:()=>Oe.visible,set:e=>Ee("update:visible",e)}),qe=e=>null==e||isNaN(e)?"0":e.toLocaleString(),Le=e=>({pending_transfer:"å¾…æµè½¬",pending_audit:"å¾…å®¡æ ¸",audit_rejected:"å®¡æ ¸æ‹’ç»",pending_shipment:"å¾…å‘è´§",shipped:"å·²å‘è´§",delivered:"å·²ç­¾æ”¶",logistics_returned:"ç‰©æµéƒ¨é€€å›",logistics_cancelled:"ç‰©æµéƒ¨å–æ¶ˆ",package_exception:"åŒ…è£¹å¼‚å¸¸",rejected:"æ‹’æ”¶",rejected_returned:"æ‹’æ”¶å·²é€€å›",cancelled:"å·²å–æ¶ˆ",draft:"è‰ç¨¿",picked_up:"å·²æ½æ”¶",in_transit:"è¿è¾“ä¸­",out_for_delivery:"æ´¾é€ä¸­",exception:"å¼‚å¸¸",returned:"å·²é€€å›",refunded:"é€€è´§é€€æ¬¾",abnormal:"çŠ¶æ€å¼‚å¸¸"}[e]||e||"æœªçŸ¥"),Ue=e=>{if(!e)return"-";return{online_store:"ğŸ›’ çº¿ä¸Šå•†åŸ",wechat_mini:"ğŸ“± å¾®ä¿¡å°ç¨‹åº",wechat_service:"ğŸ’¬ å¾®ä¿¡å®¢æœ",phone_call:"ğŸ“ ç”µè¯å’¨è¯¢",offline_store:"ğŸª çº¿ä¸‹é—¨åº—",referral:"ğŸ‘¥ å®¢æˆ·æ¨è",advertisement:"ğŸ“º å¹¿å‘ŠæŠ•æ”¾",other:"ğŸ¯ å…¶ä»–æ¸ é“"}[e]||e},Pe=e=>{if(!e)return"-";return{wechat:"å¾®ä¿¡æ”¯ä»˜",alipay:"æ”¯ä»˜å®",bank_transfer:"é“¶è¡Œè½¬è´¦",unionpay:"äº‘é—ªä»˜",cod:"è´§åˆ°ä»˜æ¬¾",cash:"ç°é‡‘",card:"åˆ·å¡",other:"å…¶ä»–"}[e]||e},Qe=e=>{if(!e)return null;return{SF:"é¡ºä¸°é€Ÿè¿",YTO:"åœ†é€šé€Ÿé€’",ZTO:"ä¸­é€šå¿«é€’",STO:"ç”³é€šå¿«é€’",YD:"éŸµè¾¾å¿«é€’",HTKY:"ç™¾ä¸–å¿«é€’",JD:"äº¬ä¸œç‰©æµ",EMS:"EMS",DBKD:"å¾·é‚¦å¿«é€’",UC:"ä¼˜é€Ÿå¿«é€’"}[e]||e},Re=e=>e&&Array.isArray(e)?e.reduce((e,a)=>e+(a.quantity||0),0):0,Ve=e=>{let a=e;return["ç´§æ€¥","åŠ æ€¥","é‡è¦","ç‰¹æ®Š","æ³¨æ„"].forEach(e=>{const l=new RegExp(e,"gi");a=a.replace(l,`<span class="highlight-keyword">${e}</span>`)}),a},Ye=()=>{He.value=!1},$e=()=>{o.success("æ‰“å°åŠŸèƒ½å¼€å‘ä¸­...")},ze=()=>{Ee("update-status",Oe.order)},Fe=()=>{Ee("set-todo",Oe.order)};return(o,c)=>{const j=u("el-icon"),Oe=u("el-tag"),Ee=u("ChatDotRound"),Ie=u("List"),Ke=u("el-button"),Je=u("el-dialog");return m(),p(Je,{modelValue:He.value,"onUpdate:modelValue":c[0]||(c[0]=e=>He.value=e),title:"è®¢å•è¯¦æƒ…",width:"70%","before-close":Ye,class:"order-detail-dialog",top:"5vh"},{footer:v(()=>[g("div",Me,[y(Ke,{onClick:Ye},{default:v(()=>[...c[26]||(c[26]=[h("å…³é—­",-1)])]),_:1}),d.showActionButtons?(m(),p(Ke,{key:0,type:"warning",onClick:Fe},{default:v(()=>[y(j,null,{default:v(()=>[y(b(t))]),_:1}),c[27]||(c[27]=h(" è®¾ç½®å¾…åŠ ",-1))]),_:1})):_("",!0),d.showActionButtons?(m(),p(Ke,{key:1,type:"success",onClick:ze},{default:v(()=>[y(j,null,{default:v(()=>[y(b(r))]),_:1}),c[28]||(c[28]=h(" æ›´æ–°çŠ¶æ€ ",-1))]),_:1})):_("",!0),y(Ke,{type:"primary",onClick:$e},{default:v(()=>[y(j,null,{default:v(()=>[y(b(i))]),_:1}),c[29]||(c[29]=h(" æ‰“å°è®¢å• ",-1))]),_:1})])]),default:v(()=>{return[d.order?(m(),f("div",T,[g("div",x,[g("h3",N,[y(j,null,{default:v(()=>[y(b(e))]),_:1}),c[1]||(c[1]=h(" è®¢å•åŸºæœ¬ä¿¡æ¯ ",-1))]),g("div",B,[g("div",C,[c[2]||(c[2]=g("label",null,"è®¢å•å·ï¼š",-1)),g("span",D,k(d.order.orderNo||d.order.orderNumber||"-"),1)]),g("div",S,[c[3]||(c[3]=g("label",null,"è®¢å•çŠ¶æ€ï¼š",-1)),y(Oe,{type:(r=d.order.status,{pending_transfer:"info",pending_audit:"warning",audit_rejected:"danger",pending_shipment:"primary",shipped:"success",delivered:"success",logistics_returned:"warning",logistics_cancelled:"info",package_exception:"danger",rejected:"danger",rejected_returned:"warning",cancelled:"info",draft:"info",picked_up:"primary",in_transit:"primary",out_for_delivery:"warning",exception:"danger",returned:"danger",refunded:"danger",abnormal:"danger"}[r]||"info"),size:"small"},{default:v(()=>[h(k(Le(d.order.status)),1)]),_:1},8,["type"])]),g("div",M,[c[4]||(c[4]=g("label",null,"å®¢æˆ·å§“åï¼š",-1)),g("span",O,k(d.order.customerName||"-"),1)]),g("div",E,[c[5]||(c[5]=g("label",null,"è”ç³»ç”µè¯ï¼š",-1)),g("span",H,k(b(n)(d.order.phone||d.order.customerPhone||d.order.receiverPhone,"phone")),1)]),g("div",q,[c[6]||(c[6]=g("label",null,"ä¸‹å•æ—¥æœŸï¼š",-1)),g("span",L,k(d.order.createTime||d.order.orderDate||d.order.shippingTime||"-"),1)]),g("div",U,[c[7]||(c[7]=g("label",null,"å½’å±äººï¼š",-1)),g("span",P,k(d.order.createdByName||d.order.assignedTo||d.order.createdBy||"-"),1)]),g("div",Q,[c[8]||(c[8]=g("label",null,"å®¢æœå¾®ä¿¡å·ï¼š",-1)),g("span",R,k(d.order.serviceWechat||"-"),1)]),g("div",V,[c[9]||(c[9]=g("label",null,"è®¢å•æ¥æºï¼š",-1)),g("span",Y,k(Ue(d.order.orderSource)),1)]),g("div",$,[c[10]||(c[10]=g("label",null,"æ”¶è´§åœ°å€ï¼š",-1)),g("span",z,k(d.order.address||d.order.receiverAddress||"-"),1)]),g("div",F,[c[11]||(c[11]=g("label",null,"å¤‡æ³¨ï¼š",-1)),g("span",I,k(d.order.remark||"-"),1)])])]),g("div",K,[g("h3",J,[y(j,null,{default:v(()=>[y(b(a))]),_:1}),c[12]||(c[12]=h(" ç‰©æµä¿¡æ¯ ",-1))]),g("div",W,[g("div",Z,[c[13]||(c[13]=g("label",null,"å¿«é€’å•å·ï¼š",-1)),g("span",G,k(d.order.expressNo||d.order.trackingNumber||d.order.trackingNo||"-"),1)]),g("div",X,[c[14]||(c[14]=g("label",null,"å¿«é€’å…¬å¸ï¼š",-1)),g("span",ee,k(Qe(d.order.expressCompany)||d.order.logisticsCompany||"-"),1)]),g("div",ae,[c[15]||(c[15]=g("label",null,"æœ€æ–°åŠ¨æ€ï¼š",-1)),g("span",le,k(d.order.latestUpdate||d.order.logisticsStatus||"-"),1)])])]),g("div",se,[g("h3",te,[y(j,null,{default:v(()=>[y(b(l))]),_:1}),c[16]||(c[16]=h(" å•†å“ä¿¡æ¯ ",-1))]),g("div",re,[g("div",ie,[c[17]||(c[17]=g("label",null,"å•†å“åç§°ï¼š",-1)),g("span",oe,k(d.order.productsText||d.order.productName||(t=d.order.products,t&&Array.isArray(t)&&0!==t.length?t.map(e=>`${e.name} Ã— ${e.quantity}`).join("ï¼Œ"):null)||"-"),1)]),g("div",ne,[c[18]||(c[18]=g("label",null,"æ•°é‡ï¼š",-1)),g("span",de,k(d.order.totalQuantity||d.order.quantity||Re(d.order.products)||0),1)])])]),g("div",ce,[g("h3",ue,[y(j,null,{default:v(()=>[y(b(s))]),_:1}),c[19]||(c[19]=h(" é‡‘é¢ä¿¡æ¯ ",-1))]),g("div",pe,[g("div",me,[g("div",ve,[c[20]||(c[20]=g("label",null,"è®¢å•é‡‘é¢ï¼š",-1)),g("span",fe,"Â¥"+k(qe(d.order.totalAmount||d.order.amount)),1)]),d.order.deposit||d.order.depositAmount?(m(),f("div",_e,[c[21]||(c[21]=g("label",null,"å®šé‡‘ï¼š",-1)),g("span",ge,"Â¥"+k(qe(d.order.deposit||d.order.depositAmount)),1)])):_("",!0),d.order.codAmount||d.order.collectAmount?(m(),f("div",ye,[c[22]||(c[22]=g("label",null,"ä»£æ”¶é‡‘é¢ï¼š",-1)),g("span",he,"Â¥"+k(qe(d.order.codAmount||d.order.collectAmount)),1)])):_("",!0),d.order.paymentMethod?(m(),f("div",be,[c[23]||(c[23]=g("label",null,"æ”¯ä»˜æ–¹å¼ï¼š",-1)),g("span",ke,k(Pe(d.order.paymentMethod)),1)])):_("",!0)])])]),d.order.remark?(m(),f("div",we,[g("h3",Ae,[y(j,null,{default:v(()=>[y(Ee)]),_:1}),c[24]||(c[24]=h(" è®¢å•å¤‡æ³¨ ",-1))]),g("div",je,[g("p",{innerHTML:Ve(d.order.remark)},null,8,Te)])])):_("",!0),d.order.auditHistory?(m(),f("div",xe,[g("h3",Ne,[y(j,null,{default:v(()=>[y(Ie)]),_:1}),c[25]||(c[25]=h(" å®¡æ ¸å†å² ",-1))]),g("div",Be,[(m(!0),f(w,null,A(d.order.auditHistory,(e,a)=>(m(),f("div",{key:a,class:"audit-item compact"},[g("div",Ce,[y(Oe,{size:"small",type:"approved"===e.result?"success":"danger"},{default:v(()=>[h(k("approved"===e.result?"å·²é€šè¿‡":"å·²æ‹’ç»"),1)]),_:2},1032,["type"]),g("span",De,k(e.auditor)+" Â· "+k(e.time),1)]),e.remark?(m(),f("div",Se,k(e.remark),1)):_("",!0)]))),128))])])):_("",!0)])):_("",!0)];var t,r}),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-04ed78e1"]]);export{Oe as O};
