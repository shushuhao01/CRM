var M=(V,o,i)=>new Promise((c,u)=>{var g=a=>{try{b(i.next(a))}catch(e){u(e)}},C=a=>{try{b(i.throw(a))}catch(e){u(e)}},b=a=>a.done?c(a.value):Promise.resolve(a.value).then(g,C);b((i=i.apply(V,o)).next())});import{E as w}from"./elementPlus-Bmwh7Rh8.js";import{l as A,r as v,c as D,m as f,p as m,q as s,T as p,S as n,J as S,Q as k,aA as H}from"./vendor-D8Vxqhr-.js";import{_ as y}from"./settings-CuxbDWOu.js";import"./utils-ywHRn0uI.js";const h={class:"mobile-sdk-container"},z={class:"sdk-grid"},P={class:"sdk-card"},q={class:"sdk-info"},x={class:"info-item"},B={class:"value"},I={class:"info-item"},T={class:"value"},R={class:"sdk-actions"},N={class:"sdk-card"},F={class:"sdk-info"},_={class:"info-item"},$={class:"value"},L={class:"info-item"},O={class:"value"},U={class:"sdk-actions"},E={class:"installation-guide"},W={class:"guide-tabs"},G={class:"tab-content"},Z={key:0,class:"guide-content"},j={key:1,class:"guide-content"},J={key:2,class:"guide-content"},Q={class:"qr-section"},X={class:"qr-container"},Y={class:"qr-info"},ss={class:"url-box"},ts=A({__name:"MobileSDK",setup(V){const o=v("android"),i=v("--"),c=v("--"),u=v("--"),g=v("--"),C=v("http://localhost:5173/mobile-sdk/"),b=()=>M(this,null,function*(){try{const t=yield(yield fetch("/api/v1/mobile-sdk/info")).json();if(t.success){const{android:d,ios:r}=t.data;i.value=d.available?a(d.size):"未构建",c.value=r.available?a(r.size):"开发中",u.value=d.updateTime||new Date().toLocaleDateString("zh-CN"),g.value=r.updateTime||new Date().toLocaleDateString("zh-CN")}}catch(l){console.error("获取文件信息失败:",l),i.value="获取失败",c.value="获取失败"}}),a=l=>{if(l===0)return"0 B";const t=1024,d=["B","KB","MB","GB"],r=Math.floor(Math.log(l)/Math.log(t));return parseFloat((l/Math.pow(t,r)).toFixed(2))+" "+d[r]},e=l=>{o.value=l;const t=document.querySelector(".installation-guide");t&&t.scrollIntoView({behavior:"smooth"})},K=()=>M(this,null,function*(){try{yield navigator.clipboard.writeText(C.value),w.success("链接已复制到剪贴板")}catch(l){w.error("复制失败，请手动复制")}});return D(()=>{b()}),(l,t)=>(m(),f("div",h,[t[29]||(t[29]=s("div",{class:"page-header"},[s("h1",null,"移动SDK管理"),s("p",null,"管理和分发CRM系统移动端SDK - 现已升级为PWA应用"),s("div",{class:"alert alert-info"},[s("h3",null,"📱 CRM移动SDK - 原生Android应用"),s("p",null,"提供完整的CRM功能，支持直接安装，无需应用商店。"),s("p",null,"包含权限管理、网络连接测试、通话服务等核心功能。")])],-1)),s("div",z,[s("div",P,[t[10]||(t[10]=s("div",{class:"sdk-icon android"},[s("svg",{viewBox:"0 0 24 24",width:"48",height:"48"},[s("path",{fill:"currentColor",d:"M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.22C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z"})])],-1)),t[11]||(t[11]=s("h3",null,"Android SDK",-1)),t[12]||(t[12]=s("p",null,"适用于Android设备的CRM移动SDK",-1)),s("div",q,[t[7]||(t[7]=s("div",{class:"info-item"},[s("span",{class:"label"},"版本:"),s("span",{class:"value"},"1.0.0")],-1)),s("div",x,[t[5]||(t[5]=s("span",{class:"label"},"大小:",-1)),s("span",B,p(i.value),1)]),s("div",I,[t[6]||(t[6]=s("span",{class:"label"},"更新时间:",-1)),s("span",T,p(u.value),1)])]),s("div",R,[t[9]||(t[9]=s("a",{href:"/api/v1/mobile-sdk/download/android",class:"btn btn-primary",download:""},[s("i",{class:"fas fa-download"}),n(" 下载APK ")],-1)),s("button",{onClick:t[0]||(t[0]=d=>e("android")),class:"btn btn-secondary"},[...t[8]||(t[8]=[s("i",{class:"fas fa-book"},null,-1),n(" 安装说明 ",-1)])])])]),s("div",N,[t[18]||(t[18]=s("div",{class:"sdk-icon ios"},[s("svg",{viewBox:"0 0 24 24",width:"48",height:"48"},[s("path",{fill:"currentColor",d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"})])],-1)),t[19]||(t[19]=s("h3",null,"iOS SDK",-1)),t[20]||(t[20]=s("p",null,"适用于iPhone和iPad的CRM移动SDK",-1)),s("div",F,[t[15]||(t[15]=s("div",{class:"info-item"},[s("span",{class:"label"},"版本:"),s("span",{class:"value"},"1.0.0")],-1)),s("div",_,[t[13]||(t[13]=s("span",{class:"label"},"大小:",-1)),s("span",$,p(c.value),1)]),s("div",L,[t[14]||(t[14]=s("span",{class:"label"},"更新时间:",-1)),s("span",O,p(g.value),1)])]),s("div",U,[t[17]||(t[17]=s("a",{href:"/api/v1/mobile-sdk/download/ios",class:"btn btn-primary",download:""},[s("i",{class:"fas fa-download"}),n(" 下载IPA ")],-1)),s("button",{onClick:t[1]||(t[1]=d=>e("ios")),class:"btn btn-secondary"},[...t[16]||(t[16]=[s("i",{class:"fas fa-book"},null,-1),n(" 安装说明 ",-1)])])])])]),s("div",E,[t[24]||(t[24]=s("h2",null,"安装说明",-1)),s("div",W,[s("button",{class:S(["tab-btn",{active:o.value==="android"}]),onClick:t[2]||(t[2]=d=>o.value="android")}," Android安装 ",2),s("button",{class:S(["tab-btn",{active:o.value==="ios"}]),onClick:t[3]||(t[3]=d=>o.value="ios")}," iOS安装 ",2),s("button",{class:S(["tab-btn",{active:o.value==="web"}]),onClick:t[4]||(t[4]=d=>o.value="web")}," Web版本 ",2)]),s("div",G,[o.value==="android"?(m(),f("div",Z,[...t[21]||(t[21]=[H('<h3 data-v-54c8d166>Android APK安装步骤</h3><ol data-v-54c8d166><li data-v-54c8d166><strong data-v-54c8d166>下载APK文件</strong><br data-v-54c8d166> 点击上方&quot;下载APK&quot;按钮，将文件保存到设备</li><li data-v-54c8d166><strong data-v-54c8d166>启用未知来源</strong><br data-v-54c8d166> 进入设置 → 安全 → 允许安装未知来源的应用</li><li data-v-54c8d166><strong data-v-54c8d166>安装应用</strong><br data-v-54c8d166> 找到下载的APK文件，点击进行安装</li><li data-v-54c8d166><strong data-v-54c8d166>授予权限</strong><br data-v-54c8d166> 首次启动时，根据提示授予必要的权限</li><li data-v-54c8d166><strong data-v-54c8d166>开始使用</strong><br data-v-54c8d166> 完成权限设置后即可正常使用CRM功能</li></ol><div class="note" data-v-54c8d166><strong data-v-54c8d166>优势：</strong>完整的通话功能支持，更好的权限管理，原生性能体验 </div>',3)])])):k("",!0),o.value==="ios"?(m(),f("div",j,[...t[22]||(t[22]=[H('<h3 data-v-54c8d166>iOS IPA安装步骤</h3><ol data-v-54c8d166><li data-v-54c8d166><strong data-v-54c8d166>下载IPA文件</strong><br data-v-54c8d166> 点击上方&quot;下载IPA&quot;按钮，将文件保存到设备</li><li data-v-54c8d166><strong data-v-54c8d166>使用第三方工具</strong><br data-v-54c8d166> 需要使用AltStore、Sideloadly等工具进行安装</li><li data-v-54c8d166><strong data-v-54c8d166>信任开发者</strong><br data-v-54c8d166> 安装后需要在设置中信任开发者证书</li><li data-v-54c8d166><strong data-v-54c8d166>授予权限</strong><br data-v-54c8d166> 首次启动时，根据提示授予必要的权限</li><li data-v-54c8d166><strong data-v-54c8d166>开始使用</strong><br data-v-54c8d166> 完成设置后即可正常使用CRM功能</li></ol><div class="note" data-v-54c8d166><strong data-v-54c8d166>注意：</strong>iOS安装相对复杂，建议企业用户使用企业证书分发 </div>',3)])])):k("",!0),o.value==="web"?(m(),f("div",J,[...t[23]||(t[23]=[s("h3",null,"Web版本使用说明",-1),s("ol",null,[s("li",null,"在手机浏览器中访问SDK页面"),s("li",null,"支持Chrome、Safari、Firefox等主流浏览器"),s("li",null,"可以添加到主屏幕，获得类似原生应用的体验"),s("li",null,"支持离线使用，无需网络连接"),s("li",null,"自动更新，始终使用最新版本")],-1),s("div",{class:"note"},[s("strong",null,"优势："),n("无需下载安装，即开即用，跨平台兼容 ")],-1)])])):k("",!0)])]),s("div",Q,[t[28]||(t[28]=s("h2",null,"扫码访问",-1)),s("div",X,[t[27]||(t[27]=s("div",{class:"qr-code"},[s("div",{class:"qr-placeholder"},[s("svg",{viewBox:"0 0 24 24",width:"64",height:"64"},[s("path",{fill:"currentColor",d:"M3,11H5V13H3V11M11,5H13V9H11V5M9,11H13V15H9V11M15,11H17V13H15V11M19,5H21V9H19V5M5,5H9V9H5V5M3,19H5V21H3V19M5,19H9V21H5V19M11,19H13V21H11V19M15,19H17V21H15V19M19,19H21V21H19V19Z"})])]),s("p",null,[n("扫描二维码"),s("br"),n("在手机上访问")])],-1)),s("div",Y,[t[25]||(t[25]=s("h3",null,"移动端访问地址",-1)),s("div",ss,[s("code",null,p(C.value),1),s("button",{class:"copy-btn",onClick:K},"复制")]),t[26]||(t[26]=s("p",null,"用户可以通过扫描二维码或直接访问链接来使用移动SDK",-1))])])])]))}}),ns=y(ts,[["__scopeId","data-v-54c8d166"]]);export{ns as default};
