import{u as e}from"./call-x2JnX9hE.js";import{s as l,ai as a,H as t,f as o,aG as s,aH as u,b as n,E as d}from"./elementPlus-DxaqjplL.js";import{l as r,r as i,Z as m,b as p,ag as c,m as f,q as g,p as V,U as b,S as v,O as y,u as _,M as h,Q as x,J as w,T as U,F as k,a9 as z}from"./vendor-BtukhyiH.js";import{_ as P}from"./index-C4IdUW1A.js";import"./utils-DfI7e5Rl.js";const I={class:"phone-config"},S={class:"page-header"},R={class:"header-content"},q={class:"page-title"},D={class:"header-actions"},C={class:"config-tabs"},T={class:"config-section"},F={class:"config-section"},L={class:"config-section"},O={class:"config-section"},j={class:"config-section"},A={class:"status-section"},H={class:"status-item"},B={class:"status-info"},G={class:"status-value"},M={class:"status-detail"},N={class:"status-item"},E={class:"status-info"},W={class:"status-value"},$={class:"status-detail"},J={class:"status-item"},Q={class:"status-info"},Z={class:"status-value"},K={class:"status-detail"},X={class:"log-section"},Y={class:"log-header"},ee={class:"log-content"},le={class:"log-time"},ae={class:"log-level"},te={class:"log-message"},oe={key:0,class:"no-logs"},se=P(r({__name:"PhoneConfig",setup(r){const P=e(),se=i("sip"),ue=i(!1),ne=i(!1),de=i(),re=i(),ie=i(),me=i(),pe=i(),ce=m({server:"",port:5060,username:"",password:"",domain:"",transport:"udp",enableRegister:!0,registerInterval:300}),fe=m({enabled:!0,format:"mp3",quality:"medium",sampleRate:"16000",storagePath:"/recordings",autoDelete:!1,retentionDays:30,compress:!0}),ge=m({enabled:!0,latencyThreshold:200,packetLossThreshold:1,jitterThreshold:30,autoOptimize:!0,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}),Ve=m({maxCallDuration:3600,callTimeout:30,maxRetries:3,retryInterval:60,autoAnswer:!1,autoAnswerDelay:2,callForwarding:!1,forwardingNumber:"",blacklistFilter:!0}),be=m({logLevel:"info",logRetentionDays:7,performanceMonitoring:!0,statisticsReporting:!0,reportFrequency:"daily",autoBackup:!0,backupInterval:"daily",apiRateLimit:!0,rateLimitThreshold:100}),ve=m({sip:!1,recording:!1,quality:!1}),ye=i([{timestamp:(new Date).toISOString(),level:"info",message:"系统启动完成"},{timestamp:new Date(Date.now()-6e4).toISOString(),level:"warning",message:"SIP服务器连接超时，正在重试..."},{timestamp:new Date(Date.now()-12e4).toISOString(),level:"error",message:"录音服务启动失败，请检查配置"}]),_e={server:[{required:!0,message:"请输入SIP服务器地址",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},he={format:[{required:!0,message:"请选择录音格式",trigger:"change"}],quality:[{required:!0,message:"请选择音频质量",trigger:"change"}],storagePath:[{required:!0,message:"请输入存储路径",trigger:"blur"}]},xe=async()=>{try{ue.value=!0;const e=await P.testPhoneConnection({server:ce.server,port:ce.port,username:ce.username,password:ce.password});ve.sip=e.success,ve.recording=!0,ve.quality=!0,e.success?(d.success("连接测试成功"),ke("info","SIP服务器连接测试成功")):(d.error("连接测试失败"),ke("error",`SIP服务器连接测试失败: ${e.message}`))}catch(e){console.error("测试连接失败:",e),d.error("测试连接失败"),ke("error","连接测试异常")}finally{ue.value=!1}},we=async()=>{try{const e=[de.value,re.value].map(e=>e?.validate());await Promise.all(e),ne.value=!0;const l={sip:ce,recording:fe,quality:ge,calling:Ve,system:be};await P.updatePhoneConfig(l),d.success("配置保存成功"),ke("info","电话配置已更新")}catch(e){console.error("保存配置失败:",e),d.error("保存配置失败"),ke("error","配置保存失败")}finally{ne.value=!1}},Ue=()=>{n.prompt("请输入录音存储路径","选择路径",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:fe.storagePath}).then(({value:e})=>{fe.storagePath=e,ke("info",`录音存储路径已更改为: ${e}`)}).catch(()=>{})},ke=(e,l)=>{ye.value.unshift({timestamp:(new Date).toISOString(),level:e,message:l}),ye.value.length>50&&(ye.value=ye.value.slice(0,50))},ze=()=>{ye.value=[],d.success("日志已清空")};return p(()=>{(async()=>{try{const e=await P.fetchPhoneConfig();e.sip&&Object.assign(ce,e.sip),e.recording&&Object.assign(fe,e.recording),e.quality&&Object.assign(ge,e.quality),e.calling&&Object.assign(Ve,e.calling),e.system&&Object.assign(be,e.system),ke("info","配置加载完成")}catch(e){console.error("加载配置失败:",e),ke("error","配置加载失败")}})()}),(e,n)=>{const d=c("el-icon"),r=c("el-button"),i=c("el-input"),m=c("el-form-item"),p=c("el-col"),P=c("el-input-number"),ke=c("el-row"),Pe=c("el-option"),Ie=c("el-select"),Se=c("el-switch"),Re=c("el-form"),qe=c("el-tab-pane"),De=c("el-tabs"),Ce=c("el-card"),Te=c("el-empty");return g(),f("div",I,[V("div",S,[V("div",R,[V("h1",q,[b(d,null,{default:y(()=>[b(_(l))]),_:1}),n[43]||(n[43]=v(" 电话配置 ",-1))]),n[44]||(n[44]=V("p",{class:"page-description"},"配置通话系统参数，包括SIP设置、录音配置、质量控制等",-1))]),V("div",D,[b(r,{onClick:xe,loading:ue.value},{default:y(()=>[b(d,null,{default:y(()=>[b(_(a))]),_:1}),n[45]||(n[45]=v(" 测试连接 ",-1))]),_:1},8,["loading"]),b(r,{type:"primary",onClick:we,loading:ne.value},{default:y(()=>[b(d,null,{default:y(()=>[b(_(t))]),_:1}),n[46]||(n[46]=v(" 保存配置 ",-1))]),_:1},8,["loading"])])]),V("div",C,[b(Ce,null,{default:y(()=>[b(De,{modelValue:se.value,"onUpdate:modelValue":n[42]||(n[42]=e=>se.value=e),type:"border-card"},{default:y(()=>[b(qe,{label:"SIP配置",name:"sip"},{default:y(()=>[V("div",T,[n[49]||(n[49]=V("div",{class:"section-header"},[V("h3",null,"SIP服务器配置"),V("p",null,"配置SIP服务器连接参数")],-1)),b(Re,{model:ce,rules:_e,ref_key:"sipFormRef",ref:de,"label-width":"120px"},{default:y(()=>[b(ke,{gutter:20},{default:y(()=>[b(p,{span:12},{default:y(()=>[b(m,{label:"SIP服务器",prop:"server"},{default:y(()=>[b(i,{modelValue:ce.server,"onUpdate:modelValue":n[0]||(n[0]=e=>ce.server=e),placeholder:"请输入SIP服务器地址"},null,8,["modelValue"])]),_:1})]),_:1}),b(p,{span:12},{default:y(()=>[b(m,{label:"端口",prop:"port"},{default:y(()=>[b(P,{modelValue:ce.port,"onUpdate:modelValue":n[1]||(n[1]=e=>ce.port=e),min:1,max:65535,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),b(ke,{gutter:20},{default:y(()=>[b(p,{span:12},{default:y(()=>[b(m,{label:"用户名",prop:"username"},{default:y(()=>[b(i,{modelValue:ce.username,"onUpdate:modelValue":n[2]||(n[2]=e=>ce.username=e),placeholder:"请输入SIP用户名"},null,8,["modelValue"])]),_:1})]),_:1}),b(p,{span:12},{default:y(()=>[b(m,{label:"密码",prop:"password"},{default:y(()=>[b(i,{modelValue:ce.password,"onUpdate:modelValue":n[3]||(n[3]=e=>ce.password=e),type:"password",placeholder:"请输入SIP密码","show-password":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),b(ke,{gutter:20},{default:y(()=>[b(p,{span:12},{default:y(()=>[b(m,{label:"域名",prop:"domain"},{default:y(()=>[b(i,{modelValue:ce.domain,"onUpdate:modelValue":n[4]||(n[4]=e=>ce.domain=e),placeholder:"请输入SIP域名"},null,8,["modelValue"])]),_:1})]),_:1}),b(p,{span:12},{default:y(()=>[b(m,{label:"传输协议",prop:"transport"},{default:y(()=>[b(Ie,{modelValue:ce.transport,"onUpdate:modelValue":n[5]||(n[5]=e=>ce.transport=e),style:{width:"100%"}},{default:y(()=>[b(Pe,{label:"UDP",value:"udp"}),b(Pe,{label:"TCP",value:"tcp"}),b(Pe,{label:"TLS",value:"tls"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),b(m,{label:"启用注册"},{default:y(()=>[b(Se,{modelValue:ce.enableRegister,"onUpdate:modelValue":n[6]||(n[6]=e=>ce.enableRegister=e)},null,8,["modelValue"]),n[47]||(n[47]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动向SIP服务器注册 ",-1))]),_:1}),b(m,{label:"注册间隔"},{default:y(()=>[b(P,{modelValue:ce.registerInterval,"onUpdate:modelValue":n[7]||(n[7]=e=>ce.registerInterval=e),min:60,max:3600,disabled:!ce.enableRegister},null,8,["modelValue","disabled"]),n[48]||(n[48]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),b(qe,{label:"录音配置",name:"recording"},{default:y(()=>[V("div",F,[n[55]||(n[55]=V("div",{class:"section-header"},[V("h3",null,"录音设置"),V("p",null,"配置通话录音相关参数")],-1)),b(Re,{model:fe,rules:he,ref_key:"recordingFormRef",ref:re,"label-width":"120px"},{default:y(()=>[b(m,{label:"启用录音"},{default:y(()=>[b(Se,{modelValue:fe.enabled,"onUpdate:modelValue":n[8]||(n[8]=e=>fe.enabled=e)},null,8,["modelValue"]),n[50]||(n[50]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后所有通话将自动录音 ",-1))]),_:1}),b(m,{label:"录音格式",prop:"format"},{default:y(()=>[b(Ie,{modelValue:fe.format,"onUpdate:modelValue":n[9]||(n[9]=e=>fe.format=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"MP3",value:"mp3"}),b(Pe,{label:"WAV",value:"wav"}),b(Pe,{label:"AAC",value:"aac"}),b(Pe,{label:"OGG",value:"ogg"})]),_:1},8,["modelValue"])]),_:1}),b(m,{label:"音频质量",prop:"quality"},{default:y(()=>[b(Ie,{modelValue:fe.quality,"onUpdate:modelValue":n[10]||(n[10]=e=>fe.quality=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"低质量 (64kbps)",value:"low"}),b(Pe,{label:"中等质量 (128kbps)",value:"medium"}),b(Pe,{label:"高质量 (256kbps)",value:"high"}),b(Pe,{label:"无损质量 (320kbps)",value:"lossless"})]),_:1},8,["modelValue"])]),_:1}),b(m,{label:"采样率",prop:"sampleRate"},{default:y(()=>[b(Ie,{modelValue:fe.sampleRate,"onUpdate:modelValue":n[11]||(n[11]=e=>fe.sampleRate=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"8kHz",value:"8000"}),b(Pe,{label:"16kHz",value:"16000"}),b(Pe,{label:"22.05kHz",value:"22050"}),b(Pe,{label:"44.1kHz",value:"44100"}),b(Pe,{label:"48kHz",value:"48000"})]),_:1},8,["modelValue"])]),_:1}),b(m,{label:"存储路径",prop:"storagePath"},{default:y(()=>[b(i,{modelValue:fe.storagePath,"onUpdate:modelValue":n[12]||(n[12]=e=>fe.storagePath=e),placeholder:"请输入录音存储路径"},{append:y(()=>[b(r,{onClick:Ue},{default:y(()=>[b(d,null,{default:y(()=>[b(_(o))]),_:1}),n[51]||(n[51]=v(" 选择 ",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),b(m,{label:"自动删除"},{default:y(()=>[b(Se,{modelValue:fe.autoDelete,"onUpdate:modelValue":n[13]||(n[13]=e=>fe.autoDelete=e)},null,8,["modelValue"]),n[52]||(n[52]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动删除过期录音 ",-1))]),_:1}),fe.autoDelete?(g(),h(m,{key:0,label:"保留天数"},{default:y(()=>[b(P,{modelValue:fe.retentionDays,"onUpdate:modelValue":n[14]||(n[14]=e=>fe.retentionDays=e),min:1,max:365},null,8,["modelValue"]),n[53]||(n[53]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"天",-1))]),_:1})):x("",!0),b(m,{label:"压缩录音"},{default:y(()=>[b(Se,{modelValue:fe.compress,"onUpdate:modelValue":n[15]||(n[15]=e=>fe.compress=e)},null,8,["modelValue"]),n[54]||(n[54]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将压缩录音文件以节省存储空间 ",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),b(qe,{label:"通话质量",name:"quality"},{default:y(()=>[V("div",L,[n[61]||(n[61]=V("div",{class:"section-header"},[V("h3",null,"通话质量控制"),V("p",null,"配置通话质量监控和优化参数")],-1)),b(Re,{model:ge,ref_key:"qualityFormRef",ref:ie,"label-width":"120px"},{default:y(()=>[b(m,{label:"质量监控"},{default:y(()=>[b(Se,{modelValue:ge.enabled,"onUpdate:modelValue":n[16]||(n[16]=e=>ge.enabled=e)},null,8,["modelValue"]),n[56]||(n[56]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将实时监控通话质量 ",-1))]),_:1}),b(m,{label:"延迟阈值"},{default:y(()=>[b(P,{modelValue:ge.latencyThreshold,"onUpdate:modelValue":n[17]||(n[17]=e=>ge.latencyThreshold=e),min:50,max:1e3},null,8,["modelValue"]),n[57]||(n[57]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"毫秒",-1))]),_:1}),b(m,{label:"丢包率阈值"},{default:y(()=>[b(P,{modelValue:ge.packetLossThreshold,"onUpdate:modelValue":n[18]||(n[18]=e=>ge.packetLossThreshold=e),min:0,max:10,precision:1,step:.1},null,8,["modelValue"]),n[58]||(n[58]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"%",-1))]),_:1}),b(m,{label:"抖动阈值"},{default:y(()=>[b(P,{modelValue:ge.jitterThreshold,"onUpdate:modelValue":n[19]||(n[19]=e=>ge.jitterThreshold=e),min:10,max:100},null,8,["modelValue"]),n[59]||(n[59]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"毫秒",-1))]),_:1}),b(m,{label:"自动优化"},{default:y(()=>[b(Se,{modelValue:ge.autoOptimize,"onUpdate:modelValue":n[20]||(n[20]=e=>ge.autoOptimize=e)},null,8,["modelValue"]),n[60]||(n[60]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动调整参数以优化通话质量 ",-1))]),_:1}),b(m,{label:"回声消除"},{default:y(()=>[b(Se,{modelValue:ge.echoCancellation,"onUpdate:modelValue":n[21]||(n[21]=e=>ge.echoCancellation=e)},null,8,["modelValue"])]),_:1}),b(m,{label:"噪音抑制"},{default:y(()=>[b(Se,{modelValue:ge.noiseSuppression,"onUpdate:modelValue":n[22]||(n[22]=e=>ge.noiseSuppression=e)},null,8,["modelValue"])]),_:1}),b(m,{label:"自动增益"},{default:y(()=>[b(Se,{modelValue:ge.autoGainControl,"onUpdate:modelValue":n[23]||(n[23]=e=>ge.autoGainControl=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1}),b(qe,{label:"呼叫设置",name:"calling"},{default:y(()=>[V("div",O,[n[68]||(n[68]=V("div",{class:"section-header"},[V("h3",null,"呼叫行为配置"),V("p",null,"配置呼叫相关的行为和限制")],-1)),b(Re,{model:Ve,ref_key:"callingFormRef",ref:me,"label-width":"120px"},{default:y(()=>[b(m,{label:"最大通话时长"},{default:y(()=>[b(P,{modelValue:Ve.maxCallDuration,"onUpdate:modelValue":n[24]||(n[24]=e=>Ve.maxCallDuration=e),min:60,max:7200},null,8,["modelValue"]),n[62]||(n[62]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),b(m,{label:"呼叫超时"},{default:y(()=>[b(P,{modelValue:Ve.callTimeout,"onUpdate:modelValue":n[25]||(n[25]=e=>Ve.callTimeout=e),min:10,max:120},null,8,["modelValue"]),n[63]||(n[63]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),b(m,{label:"重拨次数"},{default:y(()=>[b(P,{modelValue:Ve.maxRetries,"onUpdate:modelValue":n[26]||(n[26]=e=>Ve.maxRetries=e),min:0,max:5},null,8,["modelValue"])]),_:1}),b(m,{label:"重拨间隔"},{default:y(()=>[b(P,{modelValue:Ve.retryInterval,"onUpdate:modelValue":n[27]||(n[27]=e=>Ve.retryInterval=e),min:30,max:300},null,8,["modelValue"]),n[64]||(n[64]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1}),b(m,{label:"自动应答"},{default:y(()=>[b(Se,{modelValue:Ve.autoAnswer,"onUpdate:modelValue":n[28]||(n[28]=e=>Ve.autoAnswer=e)},null,8,["modelValue"]),n[65]||(n[65]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动接听来电 ",-1))]),_:1}),Ve.autoAnswer?(g(),h(m,{key:0,label:"应答延迟"},{default:y(()=>[b(P,{modelValue:Ve.autoAnswerDelay,"onUpdate:modelValue":n[29]||(n[29]=e=>Ve.autoAnswerDelay=e),min:0,max:10},null,8,["modelValue"]),n[66]||(n[66]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"秒",-1))]),_:1})):x("",!0),b(m,{label:"呼叫转移"},{default:y(()=>[b(Se,{modelValue:Ve.callForwarding,"onUpdate:modelValue":n[30]||(n[30]=e=>Ve.callForwarding=e)},null,8,["modelValue"])]),_:1}),Ve.callForwarding?(g(),h(m,{key:1,label:"转移号码"},{default:y(()=>[b(i,{modelValue:Ve.forwardingNumber,"onUpdate:modelValue":n[31]||(n[31]=e=>Ve.forwardingNumber=e),placeholder:"请输入转移号码"},null,8,["modelValue"])]),_:1})):x("",!0),b(m,{label:"黑名单过滤"},{default:y(()=>[b(Se,{modelValue:Ve.blacklistFilter,"onUpdate:modelValue":n[32]||(n[32]=e=>Ve.blacklistFilter=e)},null,8,["modelValue"]),n[67]||(n[67]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动拒绝黑名单号码 ",-1))]),_:1})]),_:1},8,["model"])])]),_:1}),b(qe,{label:"系统设置",name:"system"},{default:y(()=>[V("div",j,[n[73]||(n[73]=V("div",{class:"section-header"},[V("h3",null,"系统配置"),V("p",null,"配置系统级别的参数和行为")],-1)),b(Re,{model:be,ref_key:"systemFormRef",ref:pe,"label-width":"120px"},{default:y(()=>[b(m,{label:"日志级别"},{default:y(()=>[b(Ie,{modelValue:be.logLevel,"onUpdate:modelValue":n[33]||(n[33]=e=>be.logLevel=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"调试 (Debug)",value:"debug"}),b(Pe,{label:"信息 (Info)",value:"info"}),b(Pe,{label:"警告 (Warning)",value:"warning"}),b(Pe,{label:"错误 (Error)",value:"error"})]),_:1},8,["modelValue"])]),_:1}),b(m,{label:"日志保留"},{default:y(()=>[b(P,{modelValue:be.logRetentionDays,"onUpdate:modelValue":n[34]||(n[34]=e=>be.logRetentionDays=e),min:1,max:90},null,8,["modelValue"]),n[69]||(n[69]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"天",-1))]),_:1}),b(m,{label:"性能监控"},{default:y(()=>[b(Se,{modelValue:be.performanceMonitoring,"onUpdate:modelValue":n[35]||(n[35]=e=>be.performanceMonitoring=e)},null,8,["modelValue"])]),_:1}),b(m,{label:"统计报告"},{default:y(()=>[b(Se,{modelValue:be.statisticsReporting,"onUpdate:modelValue":n[36]||(n[36]=e=>be.statisticsReporting=e)},null,8,["modelValue"]),n[70]||(n[70]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将定期生成统计报告 ",-1))]),_:1}),be.statisticsReporting?(g(),h(m,{key:0,label:"报告频率"},{default:y(()=>[b(Ie,{modelValue:be.reportFrequency,"onUpdate:modelValue":n[37]||(n[37]=e=>be.reportFrequency=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"每日",value:"daily"}),b(Pe,{label:"每周",value:"weekly"}),b(Pe,{label:"每月",value:"monthly"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),b(m,{label:"备份配置"},{default:y(()=>[b(Se,{modelValue:be.autoBackup,"onUpdate:modelValue":n[38]||(n[38]=e=>be.autoBackup=e)},null,8,["modelValue"]),n[71]||(n[71]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}}," 启用后将自动备份配置文件 ",-1))]),_:1}),be.autoBackup?(g(),h(m,{key:1,label:"备份间隔"},{default:y(()=>[b(Ie,{modelValue:be.backupInterval,"onUpdate:modelValue":n[39]||(n[39]=e=>be.backupInterval=e),style:{width:"200px"}},{default:y(()=>[b(Pe,{label:"每小时",value:"hourly"}),b(Pe,{label:"每日",value:"daily"}),b(Pe,{label:"每周",value:"weekly"})]),_:1},8,["modelValue"])]),_:1})):x("",!0),b(m,{label:"API限流"},{default:y(()=>[b(Se,{modelValue:be.apiRateLimit,"onUpdate:modelValue":n[40]||(n[40]=e=>be.apiRateLimit=e)},null,8,["modelValue"])]),_:1}),be.apiRateLimit?(g(),h(m,{key:2,label:"限流阈值"},{default:y(()=>[b(P,{modelValue:be.rateLimitThreshold,"onUpdate:modelValue":n[41]||(n[41]=e=>be.rateLimitThreshold=e),min:10,max:1e3},null,8,["modelValue"]),n[72]||(n[72]=V("span",{style:{"margin-left":"8px",color:"#909399","font-size":"12px"}},"请求/分钟",-1))]),_:1})):x("",!0)]),_:1},8,["model"])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),V("div",A,[b(Ce,null,{header:y(()=>[...n[74]||(n[74]=[V("span",null,"连接状态",-1)])]),default:y(()=>[b(ke,{gutter:20},{default:y(()=>[b(p,{span:8},{default:y(()=>[V("div",H,[V("div",{class:w(["status-icon",ve.sip?"connected":"disconnected"])},[b(d,null,{default:y(()=>[b(_(a))]),_:1})],2),V("div",B,[n[75]||(n[75]=V("div",{class:"status-label"},"SIP服务器",-1)),V("div",G,U(ve.sip?"已连接":"未连接"),1),V("div",M,U(ce.server)+":"+U(ce.port),1)])])]),_:1}),b(p,{span:8},{default:y(()=>[V("div",N,[V("div",{class:w(["status-icon",ve.recording?"connected":"disconnected"])},[b(d,null,{default:y(()=>[b(_(s))]),_:1})],2),V("div",E,[n[76]||(n[76]=V("div",{class:"status-label"},"录音服务",-1)),V("div",W,U(ve.recording?"正常":"异常"),1),V("div",$,U(fe.enabled?"已启用":"已禁用"),1)])])]),_:1}),b(p,{span:8},{default:y(()=>[V("div",J,[V("div",{class:w(["status-icon",ve.quality?"connected":"disconnected"])},[b(d,null,{default:y(()=>[b(_(u))]),_:1})],2),V("div",Q,[n[77]||(n[77]=V("div",{class:"status-label"},"质量监控",-1)),V("div",Z,U(ve.quality?"正常":"异常"),1),V("div",K,U(ge.enabled?"已启用":"已禁用"),1)])])]),_:1})]),_:1})]),_:1})]),V("div",X,[b(Ce,null,{header:y(()=>[V("div",Y,[n[79]||(n[79]=V("span",null,"操作日志",-1)),b(r,{size:"small",onClick:ze},{default:y(()=>[...n[78]||(n[78]=[v("清空日志",-1)])]),_:1})])]),default:y(()=>[V("div",ee,[(g(!0),f(k,null,z(ye.value,(e,l)=>{return g(),f("div",{key:l,class:w(["log-item",e.level])},[V("div",le,U((a=e.timestamp,new Date(a).toLocaleString("zh-CN"))),1),V("div",ae,U(e.level.toUpperCase()),1),V("div",te,U(e.message),1)],2);var a}),128)),ye.value.length?x("",!0):(g(),f("div",oe,[b(Te,{description:"暂无日志记录","image-size":80})]))])]),_:1})])])}}}),[["__scopeId","data-v-b07d72c8"]]);export{se as default};
