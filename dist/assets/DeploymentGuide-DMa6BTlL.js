import{l as a,r as d,m as t,q as e,az as s,p as v,Q as i}from"./vendor-BtukhyiH.js";import{_ as n}from"./index-DkAJPKqn.js";import"./elementPlus-DxaqjplL.js";import"./utils-DfI7e5Rl.js";const c={class:"help-content"},o={class:"content-section"},l={class:"deployment-tabs"},f={class:"tab-header"},r={class:"tab-content"},p={key:0,class:"tab-panel"},m={key:1,class:"tab-panel"},h={key:2,class:"tab-panel"},u=n(a({__name:"DeploymentGuide",setup(a){const n=d("docker");return(a,d)=>(e(),t("div",c,[d[7]||(d[7]=s('<h1 data-v-3278405f>éƒ¨ç½²è¯¦ç»†æ­¥éª¤</h1><section class="content-section" data-v-3278405f><h2 data-v-3278405f>ç¯å¢ƒè¦æ±‚</h2><div class="requirements-grid" data-v-3278405f><div class="requirement-card" data-v-3278405f><h3 data-v-3278405f>å‰ç«¯ç¯å¢ƒ</h3><ul data-v-3278405f><li data-v-3278405f>Node.js &gt;= 16.0.0</li><li data-v-3278405f>npm &gt;= 8.0.0 æˆ– yarn &gt;= 1.22.0</li><li data-v-3278405f>Vue 3.x</li><li data-v-3278405f>Vite 4.x</li></ul></div><div class="requirement-card" data-v-3278405f><h3 data-v-3278405f>åç«¯ç¯å¢ƒ</h3><ul data-v-3278405f><li data-v-3278405f>Node.js &gt;= 16.0.0</li><li data-v-3278405f>Express.js 4.x</li><li data-v-3278405f>MySQL &gt;= 8.0</li><li data-v-3278405f>Redis &gt;= 6.0ï¼ˆå¯é€‰ï¼‰</li></ul></div><div class="requirement-card" data-v-3278405f><h3 data-v-3278405f>æœåŠ¡å™¨ç¯å¢ƒ</h3><ul data-v-3278405f><li data-v-3278405f>Linux/Windows Server</li><li data-v-3278405f>Nginx &gt;= 1.18</li><li data-v-3278405f>PM2ï¼ˆè¿›ç¨‹ç®¡ç†ï¼‰</li><li data-v-3278405f>SSLè¯ä¹¦ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</li></ul></div></div></section><section class="content-section" data-v-3278405f><h2 data-v-3278405f>æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º</h2><div class="step-container" data-v-3278405f><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>1</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>å…‹éš†é¡¹ç›®ä»£ç </h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f>git clone https://github.com/your-repo/crm-system.git\ncd crm-system</code></pre></div></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>2</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>å®‰è£…å‰ç«¯ä¾èµ–</h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># è¿›å…¥å‰ç«¯ç›®å½•\ncd frontend\n\n# å®‰è£…ä¾èµ–\nnpm install\n\n# æˆ–ä½¿ç”¨ yarn\nyarn install</code></pre></div></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>3</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>å®‰è£…åç«¯ä¾èµ–</h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># è¿›å…¥åç«¯ç›®å½•\ncd ../backend\n\n# å®‰è£…ä¾èµ–\nnpm install</code></pre></div></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>4</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>é…ç½®æ•°æ®åº“</h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># åˆ›å»ºæ•°æ®åº“\nCREATE DATABASE crm_system;\n\n# å¯¼å…¥æ•°æ®åº“ç»“æ„\nmysql -u root -p crm_system &lt; database/schema.sql\n\n# å¯¼å…¥åˆå§‹æ•°æ®ï¼ˆå¯é€‰ï¼‰\nmysql -u root -p crm_system &lt; database/data.sql</code></pre></div></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>5</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>é…ç½®ç¯å¢ƒå˜é‡</h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶\ncp .env.example .env\n\n# ç¼–è¾‘é…ç½®æ–‡ä»¶\nvim .env</code></pre></div><div class="config-example" data-v-3278405f><h4 data-v-3278405f>ç¯å¢ƒå˜é‡ç¤ºä¾‹ï¼š</h4><pre data-v-3278405f><code data-v-3278405f>DB_HOST=localhost\nDB_PORT=3306\nDB_USER=root\nDB_PASSWORD=your_password\nDB_NAME=crm_system\nJWT_SECRET=your_jwt_secret\nPORT=3000</code></pre></div></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>6</div><div class="step-content" data-v-3278405f><h3 data-v-3278405f>å¯åŠ¨å¼€å‘æœåŠ¡å™¨</h3><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># å¯åŠ¨åç«¯æœåŠ¡\ncd backend\nnpm run dev\n\n# æ–°å¼€ç»ˆç«¯ï¼Œå¯åŠ¨å‰ç«¯æœåŠ¡\ncd frontend\nnpm run dev</code></pre></div><div class="note" data-v-3278405f><p data-v-3278405f><strong data-v-3278405f>æ³¨æ„ï¼š</strong>å‰ç«¯æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ http://localhost:5173ï¼Œåç«¯æœåŠ¡è¿è¡Œåœ¨ http://localhost:3001</p></div></div></div></div></section>',3)),v("section",o,[d[6]||(d[6]=v("h2",null,"ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²",-1)),v("div",l,[v("div",f,[v("button",{class:"tab-btn active",onClick:d[0]||(d[0]=a=>n.value="docker")},"Docker éƒ¨ç½²"),v("button",{class:"tab-btn",onClick:d[1]||(d[1]=a=>n.value="manual")},"æ‰‹åŠ¨éƒ¨ç½²"),v("button",{class:"tab-btn",onClick:d[2]||(d[2]=a=>n.value="nginx")},"Nginx é…ç½®")]),v("div",r,["docker"===n.value?(e(),t("div",p,[...d[3]||(d[3]=[s('<div class="deployment-section" data-v-3278405f><h3 data-v-3278405f>ğŸ³ Docker éƒ¨ç½²</h3><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>1. å‡†å¤‡ Docker ç¯å¢ƒ</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># å®‰è£… Docker\ncurl -fsSL https://get.docker.com | bash\n\n# å®‰è£… Docker Compose\nsudo curl -L &quot;https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose</code></pre></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>2. æ„å»ºå’Œè¿è¡Œ</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># å…‹éš†é¡¹ç›®\ngit clone https://github.com/your-repo/crm-system.git\ncd crm-system\n\n# æ„å»ºå¹¶å¯åŠ¨æœåŠ¡\ndocker-compose up -d\n\n# æŸ¥çœ‹æœåŠ¡çŠ¶æ€\ndocker-compose ps</code></pre></div></div></div><div class="deployment-section" data-v-3278405f><h3 data-v-3278405f>ğŸ—ï¸ å®å¡”é¢æ¿éƒ¨ç½²</h3><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>1. å®‰è£…å®å¡”é¢æ¿</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># CentOS/RHEL ç³»ç»Ÿ\nyum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh\n\n# Ubuntu/Debian ç³»ç»Ÿ\nwget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh\n\n# å®‰è£…å®Œæˆåè®¿é—®é¢æ¿åœ°å€\n# é»˜è®¤ç«¯å£ï¼š8888\n# é»˜è®¤ç”¨æˆ·åå’Œå¯†ç ä¼šåœ¨å®‰è£…å®Œæˆåæ˜¾ç¤º</code></pre></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>2. ç¯å¢ƒé…ç½®</h4><div class="step-list" data-v-3278405f><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>1</div><div class="step-content" data-v-3278405f><h5 data-v-3278405f>å®‰è£…è¿è¡Œç¯å¢ƒ</h5><p data-v-3278405f>åœ¨å®å¡”é¢æ¿ä¸­å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š</p><ul data-v-3278405f><li data-v-3278405f>Nginx 1.20+</li><li data-v-3278405f>MySQL 8.0+</li><li data-v-3278405f>Node.js 18+</li><li data-v-3278405f>PM2 ç®¡ç†å™¨</li></ul></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>2</div><div class="step-content" data-v-3278405f><h5 data-v-3278405f>åˆ›å»ºç½‘ç«™</h5><p data-v-3278405f>åœ¨å®å¡”é¢æ¿ä¸­åˆ›å»ºæ–°ç½‘ç«™ï¼Œè®¾ç½®åŸŸåå’Œæ ¹ç›®å½•</p></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>3</div><div class="step-content" data-v-3278405f><h5 data-v-3278405f>é…ç½®æ•°æ®åº“</h5><p data-v-3278405f>åˆ›å»º MySQL æ•°æ®åº“å’Œç”¨æˆ·ï¼Œè®°å½•è¿æ¥ä¿¡æ¯</p></div></div></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>3. éƒ¨ç½²å‰ç«¯</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># åœ¨æœ¬åœ°æ„å»ºå‰ç«¯é¡¹ç›®\nnpm install\nnpm run build\n\n# å°† dist ç›®å½•ä¸Šä¼ åˆ°ç½‘ç«™æ ¹ç›®å½•\n# æˆ–ä½¿ç”¨å®å¡”é¢æ¿çš„æ–‡ä»¶ç®¡ç†å™¨ä¸Šä¼ </code></pre></div><div class="tip-item" data-v-3278405f><div class="tip-icon" data-v-3278405f>ğŸ’¡</div><div class="tip-content" data-v-3278405f><p data-v-3278405f>å»ºè®®ä½¿ç”¨å®å¡”é¢æ¿çš„&quot;ä¸€é”®éƒ¨ç½²&quot;åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ä» Git ä»“åº“æ‹‰å–ä»£ç å¹¶è‡ªåŠ¨æ„å»º</p></div></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>4. éƒ¨ç½²åç«¯</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># ä¸Šä¼ åç«¯ä»£ç åˆ°æœåŠ¡å™¨\n# è¿›å…¥åç«¯ç›®å½•\ncd /www/wwwroot/your-domain/backend\n\n# å®‰è£…ä¾èµ–\nnpm install\n\n# é…ç½®ç¯å¢ƒå˜é‡\ncp .env.example .env\n# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯\n\n# è¿è¡Œæ•°æ®åº“è¿ç§»\nnpm run migration:run\n\n# ä½¿ç”¨ PM2 å¯åŠ¨åº”ç”¨\npm2 start npm --name &quot;crm-backend&quot; -- run start\npm2 save\npm2 startup</code></pre></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>5. Nginx é…ç½®</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># åœ¨å®å¡”é¢æ¿ä¸­é…ç½®ç½‘ç«™çš„ Nginx é…ç½®\nserver {\n    listen 80;\n    server_name your-domain.com;\n    root /www/wwwroot/your-domain/dist;\n    index index.html;\n\n    # å‰ç«¯è·¯ç”±é…ç½®\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # API ä»£ç†é…ç½®\n    location /api/ {\n        proxy_pass http://localhost:3001/;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    # é™æ€èµ„æºç¼“å­˜\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$ {\n        expires 1y;\n        add_header Cache-Control &quot;public, immutable&quot;;\n    }\n}</code></pre></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>6. SSL è¯ä¹¦é…ç½®</h4><div class="step-list" data-v-3278405f><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>1</div><div class="step-content" data-v-3278405f><h5 data-v-3278405f>ç”³è¯· SSL è¯ä¹¦</h5><p data-v-3278405f>åœ¨å®å¡”é¢æ¿ä¸­ä½¿ç”¨ Let&#39;s Encrypt å…è´¹ç”³è¯· SSL è¯ä¹¦</p></div></div><div class="step-item" data-v-3278405f><div class="step-number" data-v-3278405f>2</div><div class="step-content" data-v-3278405f><h5 data-v-3278405f>å¼ºåˆ¶ HTTPS</h5><p data-v-3278405f>å¼€å¯å¼ºåˆ¶ HTTPS é‡å®šå‘ï¼Œç¡®ä¿ç½‘ç«™å®‰å…¨</p></div></div></div></div><div class="deployment-card" data-v-3278405f><h4 data-v-3278405f>7. ç›‘æ§å’Œç»´æŠ¤</h4><div class="feature-grid" data-v-3278405f><div class="feature-item" data-v-3278405f><div class="feature-icon" data-v-3278405f>ğŸ“Š</div><div class="feature-content" data-v-3278405f><h5 data-v-3278405f>ç³»ç»Ÿç›‘æ§</h5><p data-v-3278405f>ä½¿ç”¨å®å¡”é¢æ¿ç›‘æ§æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µ</p></div></div><div class="feature-item" data-v-3278405f><div class="feature-icon" data-v-3278405f>ğŸ”„</div><div class="feature-content" data-v-3278405f><h5 data-v-3278405f>è‡ªåŠ¨å¤‡ä»½</h5><p data-v-3278405f>é…ç½®æ•°æ®åº“å’Œæ–‡ä»¶çš„å®šæ—¶å¤‡ä»½</p></div></div><div class="feature-item" data-v-3278405f><div class="feature-icon" data-v-3278405f>ğŸ›¡ï¸</div><div class="feature-content" data-v-3278405f><h5 data-v-3278405f>å®‰å…¨é˜²æŠ¤</h5><p data-v-3278405f>å¼€å¯é˜²ç«å¢™å’Œå®‰å…¨è§„åˆ™</p></div></div><div class="feature-item" data-v-3278405f><div class="feature-icon" data-v-3278405f>ğŸ“</div><div class="feature-content" data-v-3278405f><h5 data-v-3278405f>æ—¥å¿—ç®¡ç†</h5><p data-v-3278405f>æŸ¥çœ‹å’Œç®¡ç†åº”ç”¨æ—¥å¿—</p></div></div></div></div></div>',2)])])):i("",!0),"manual"===n.value?(e(),t("div",m,[...d[4]||(d[4]=[s('<h3 data-v-3278405f>æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤</h3><div class="step-item" data-v-3278405f><h4 data-v-3278405f>1. æ„å»ºå‰ç«¯é¡¹ç›®</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f>cd frontend\nnpm run build</code></pre></div></div><div class="step-item" data-v-3278405f><h4 data-v-3278405f>2. éƒ¨ç½²å‰ç«¯æ–‡ä»¶</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># å°† dist ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨\nscp -r dist/ user@server:/var/www/crm</code></pre></div></div><div class="step-item" data-v-3278405f><h4 data-v-3278405f>3. éƒ¨ç½²åç«¯æœåŠ¡</h4><div class="code-block" data-v-3278405f><pre data-v-3278405f><code data-v-3278405f># ä¸Šä¼ åç«¯ä»£ç \nscp -r backend/ user@server:/opt/crm-backend\n\n# å®‰è£…ä¾èµ–å¹¶å¯åŠ¨\ncd /opt/crm-backend\nnpm install --production\npm2 start ecosystem.config.js</code></pre></div></div>',4)])])):i("",!0),"nginx"===n.value?(e(),t("div",h,[...d[5]||(d[5]=[v("h3",null,"Nginx é…ç½®",-1),v("div",{class:"code-block"},[v("pre",null,[v("code",null,'server {\n    listen 80;\n    server_name your-domain.com;\n    \n    # å‰ç«¯é™æ€æ–‡ä»¶\n    location / {\n        root /var/www/crm;\n        index index.html;\n        try_files $uri $uri/ /index.html;\n    }\n    \n    # API ä»£ç†\n    location /api {\n        proxy_pass http://localhost:3001;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n    \n    # é™æ€èµ„æºç¼“å­˜\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg)$ {\n        expires 1y;\n        add_header Cache-Control "public, immutable";\n    }\n}')])],-1)])])):i("",!0)])])]),d[8]||(d[8]=s('<section class="content-section" data-v-3278405f><h2 data-v-3278405f>å¸¸è§éƒ¨ç½²é—®é¢˜</h2><div class="faq-list" data-v-3278405f><div class="faq-item" data-v-3278405f><h3 data-v-3278405f>Q: å‰ç«¯æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ</h3><p data-v-3278405f>A: æ£€æŸ¥ Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œæ¸…é™¤ node_modules é‡æ–°å®‰è£…ä¾èµ–ï¼Œç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸ã€‚</p></div><div class="faq-item" data-v-3278405f><h3 data-v-3278405f>Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ</h3><p data-v-3278405f>A: æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦å¯åŠ¨ï¼Œç¡®è®¤è¿æ¥å‚æ•°æ­£ç¡®ï¼Œæ£€æŸ¥é˜²ç«å¢™è®¾ç½®ã€‚</p></div><div class="faq-item" data-v-3278405f><h3 data-v-3278405f>Q: å‰ç«¯é¡µé¢ç©ºç™½ï¼Ÿ</h3><p data-v-3278405f>A: æ£€æŸ¥ Nginx é…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®è®¤é™æ€æ–‡ä»¶è·¯å¾„ï¼ŒæŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ã€‚</p></div><div class="faq-item" data-v-3278405f><h3 data-v-3278405f>Q: API è¯·æ±‚å¤±è´¥ï¼Ÿ</h3><p data-v-3278405f>A: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼Œç¡®è®¤ API ä»£ç†é…ç½®ï¼Œæ£€æŸ¥è·¨åŸŸè®¾ç½®ã€‚</p></div></div></section>',1))]))}}),[["__scopeId","data-v-3278405f"]]);export{u as default};
