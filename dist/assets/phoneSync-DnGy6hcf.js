class e{static async syncCustomerPhone(e,t){try{console.log("同步客户手机号:",{customerId:e,phoneRecord:t}),await new Promise(e=>setTimeout(e,500));const s={success:!0,data:{id:Date.now(),customerId:e,phone:t.phone,remark:t.remark,createTime:(new Date).toISOString(),operator:"系统自动同步"}};if(s.success)return this.notifyCustomerDetailUpdate(e),{success:!0,message:"客户手机号同步成功",data:s.data}}catch(s){return console.error("同步客户手机号失败:",s),{success:!1,message:"同步失败，网络错误"}}}static async syncContactPhone(e,t){try{console.log("同步联系人手机号:",{contactId:e,phoneRecord:t}),await new Promise(e=>setTimeout(e,500));const s={success:!0,data:{id:Date.now(),contactId:e,phone:t.phone,remark:t.remark,createTime:(new Date).toISOString(),operator:"系统自动同步"}};if(s.success)return{success:!0,message:"联系人手机号同步成功",data:s.data}}catch(s){return console.error("同步联系人手机号失败:",s),{success:!1,message:"同步失败，网络错误"}}}static async batchSyncPhones(e){const t=[];for(const s of e)if("customer"===s.type){const e=await this.syncCustomerPhone(s.id,s.phoneRecord);t.push(e)}else if("contact"===s.type){const e=await this.syncContactPhone(s.id,s.phoneRecord);t.push(e)}return t}static notifyCustomerDetailUpdate(e){console.log("通知客户详情页更新数据:",e),window.dispatchEvent(new CustomEvent("customer-phone-updated",{detail:{customerId:e}}))}static validatePhone(e){return/^1[3-9]\d{9}$/.test(e)}static checkPhoneDuplicate(e,t){return t.includes(e)}}export{e as P};
