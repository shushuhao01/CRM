# 客户详情页表格列宽和时间格式优化说明

## 更新时间
2025-02-25

## 问题描述
客户详情页面底部的订单历史、售后历史、通话记录、跟进记录等表格存在以下问题：
1. 部分表格字段标题换行显示，影响美观
2. 时间字段未统一使用北京时间格式显示

## 修改内容

### 1. 导入时间格式化工具
在 `src/views/Customer/Detail.vue` 中导入 `formatDateTime` 函数：
```typescript
import { formatDateTime } from '@/utils/date'
```

### 2. 订单历史表格优化
- **订单号**：列宽 160 → 180
- **订单金额**：列宽 110 → 120
- **订单状态**：列宽 90 → 100
- **下单时间**：列宽 160 → 180，使用 `formatDateTime` 格式化

### 3. 售后历史表格优化
- **售后单号**：列宽 160 → 180
- **关联订单**：列宽 160 → 180
- **售后类型**：列宽 90 → 100
- **退款金额**：列宽 100 → 110
- **处理状态**：列宽 90 → 100
- **申请时间**：列宽 160 → 180，使用 `formatDateTime` 格式化

### 4. 通话记录表格优化
- **通话类型**：列宽 90 → 100
- **电话号码**：列宽 130 → 140
- **通话时长**：列宽 100 → 110
- **通话状态**：列宽 90 → 100
- **通话时间**：列宽 160 → 180，使用 `formatDateTime` 格式化

### 5. 跟进记录优化
- **时间戳显示**：使用 `formatDateTime` 格式化 `createTime` 字段

## 时间格式统一
所有时间字段现在统一使用 `formatDateTime` 函数，显示格式为：
- 格式：`YYYY-MM-DD HH:mm:ss`
- 示例：`2025-02-25 14:30:00`

## 技术细节

### formatDateTime 函数
位于 `src/utils/date.ts`，功能：
- 接受 Date 对象、ISO 字符串、普通日期字符串
- 自动转换为北京时间格式
- 处理空值和无效日期，返回 `-`

### 列宽调整原则
- 确保字段标题不换行
- 为内容留出足够显示空间
- 保持表格整体美观协调

## 影响范围
- 文件：`src/views/Customer/Detail.vue`
- 功能：客户详情页面的所有历史记录表格
- 用户体验：表格更整洁，时间显示更统一

## 测试建议
1. 进入客户详情页面
2. 检查订单历史、售后历史、通话记录、跟进记录各标签页
3. 验证字段标题是否单行显示
4. 验证时间字段是否显示为北京时间格式
5. 测试不同数据量下的表格显示效果
